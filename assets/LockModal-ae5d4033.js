var _=(d,t,o)=>new Promise((i,m)=>{var p=a=>{try{r(o.next(a))}catch(n){m(n)}},u=a=>{try{r(o.throw(a))}catch(n){m(n)}},r=a=>a.done?i(a.value):Promise.resolve(a.value).then(p,u);r((o=o.apply(d,t)).next())});import{f as S,am as $,u as I}from"./index.js";import{a as L,B as C}from"./index-470a7b7c.js";import{u as M,_ as R}from"./componentMap-a91d4bed.js";import{u as b}from"./lock-b1b3ff91.js";import{h as x}from"./header-3a7411b4.js";import{d as N,c as f,Z as P,a5 as F,a6 as h,aa as U,u as e,a7 as V,$ as c,a1 as l,a0 as k,k as g,G as D}from"./vue-ae6a2213.js";import"./antd-8e9c6fb8.js";import"./useWindowSizeFn-be729167.js";import"./useFormItem-e445be9f.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-e84e3d3d.js";import"./useSortable-1cd8f8b5.js";import"./index-949a3570.js";import"./onMountedOrActivated-d6e0a436.js";import"./index-81505b2a.js";import"./copyTextToClipboard-6d09c6e8.js";import"./index-58c143a0.js";import"./index-ca06cd68.js";import"./sortable.esm-9a942543.js";const G=["src"],re=N({name:"LockModal",__name:"LockModal",setup(d){const{t}=I(),{prefixCls:o}=S("header-lock-modal"),i=$(),m=b(),p=f(()=>{var s;return(s=i.getUserInfo)==null?void 0:s.realName}),[u,{closeModal:r}]=L(),[a,{validate:n,resetFields:v}]=M({showActionButtonGroup:!1,showSubmitButton:!1,showResetButton:!1,schemas:[{field:"password",label:t("layout.header.lockScreenPassword"),colProps:{span:24},component:"InputPassword",required:!0}]}),w=()=>_(this,null,function*(){const{password:s=""}=yield n();r(),m.setLockInfo({isLock:!0,pwd:s}),yield v()}),y=f(()=>{const{avatar:s}=i.getUserInfo;return s||x});return(s,q)=>{const B=V("a-button");return P(),F(e(C),U({footer:null,title:e(t)("layout.header.lockScreen")},s.$attrs,{class:e(o),onRegister:e(u)}),{default:h(()=>[c("div",{class:l(`${e(o)}__entry`)},[c("div",{class:l(`${e(o)}__header`)},[c("img",{src:y.value,class:l(`${e(o)}__header-img`)},null,10,G),c("p",{class:l(`${e(o)}__header-name`)},k(p.value),3)],2),g(e(R),{onRegister:e(a)},null,8,["onRegister"]),c("div",{class:l(`${e(o)}__footer`)},[g(B,{type:"primary",block:"",class:"mt-2",onClick:w},{default:h(()=>[D(k(e(t)("layout.header.lockScreenBtn")),1)]),_:1})],2)],2)]),_:1},16,["title","class","onRegister"])}}});export{re as default};
