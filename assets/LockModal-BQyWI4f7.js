var _=(d,t,o)=>new Promise((i,m)=>{var p=a=>{try{r(o.next(a))}catch(n){m(n)}},u=a=>{try{r(o.throw(a))}catch(n){m(n)}},r=a=>a.done?i(a.value):Promise.resolve(a.value).then(p,u);r((o=o.apply(d,t)).next())});import{f as y,am as $,u as I}from"./index.js";import{a as C,B as L}from"./index-Ct8wWWt8.js";import{u as R,_ as b}from"./useForm-CXmX13n8.js";import{u as M}from"./lock-9rzsJSPp.js";import{h as N}from"./header-7M7o_qvT.js";import{d as x,c as f,Z as P,a5 as F,a6 as h,aa as U,u as e,a7 as V,$ as c,a1 as l,a0 as k,k as g,G as D}from"./vue-C-fXn5x4.js";import"./antd-Dxxf6MN8.js";import"./useWindowSizeFn-B-ZcP_zC.js";import"./useFormItem-Djb2ixBi.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-Dg46GCSa.js";import"./useSortable-CgitHRn_.js";import"./index-sb4rP5N6.js";import"./onMountedOrActivated-C8ZkvEWz.js";import"./index-CYD2Ni35.js";import"./sortable.esm-CXi5ODBW.js";import"./index-1ocsCaln.js";import"./copyTextToClipboard-C3IjWpoG.js";import"./index-Cb7zAOWj.js";const G=["src"],re=x({name:"LockModal",__name:"LockModal",setup(d){const{t}=I(),{prefixCls:o}=y("header-lock-modal"),i=$(),m=M(),p=f(()=>{var s;return(s=i.getUserInfo)==null?void 0:s.realName}),[u,{closeModal:r}]=C(),[a,{validate:n,resetFields:w}]=R({showActionButtonGroup:!1,showSubmitButton:!1,showResetButton:!1,schemas:[{field:"password",label:t("layout.header.lockScreenPassword"),colProps:{span:24},component:"InputPassword",required:!0}]}),v=()=>_(this,null,function*(){const{password:s=""}=yield n();r(),m.setLockInfo({isLock:!0,pwd:s}),yield w()}),B=f(()=>{const{avatar:s}=i.getUserInfo;return s||N});return(s,q)=>{const S=V("a-button");return P(),F(e(L),U({footer:null,title:e(t)("layout.header.lockScreen")},s.$attrs,{class:e(o),onRegister:e(u)}),{default:h(()=>[c("div",{class:l(`${e(o)}__entry`)},[c("div",{class:l(`${e(o)}__header`)},[c("img",{src:B.value,class:l(`${e(o)}__header-img`)},null,10,G),c("p",{class:l(`${e(o)}__header-name`)},k(p.value),3)],2),g(e(b),{onRegister:e(a)},null,8,["onRegister"]),c("div",{class:l(`${e(o)}__footer`)},[g(S,{type:"primary",block:"",class:"mt-2",onClick:v},{default:h(()=>[D(k(e(t)("layout.header.lockScreenBtn")),1)]),_:1})],2)],2)]),_:1},16,["title","class","onRegister"])}}});export{re as default};
