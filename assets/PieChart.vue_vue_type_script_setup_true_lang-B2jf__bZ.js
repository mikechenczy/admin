import{u as m}from"./useECharts-BdBfX4B5.js";import{d,f as a,r as f,a as v,o as _,Z as C,_ as g,ae as y}from"./vue-C-fXn5x4.js";const w=d({__name:"PieChart",props:{valueFetch:{type:Function,default:()=>""},anChartField:{type:Object}},setup(r){const t=a(),{setOptions:i}=m(t),c=a("300px"),u=a("100%"),n=r,h=n.anChartField,o=a([{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]),p=f({tooltip:{trigger:"item"},legend:{top:0,left:"center"},series:[{name:h.name,type:"pie",data:o,radius:"60%",label:{show:!1},emphasis:{label:{show:!1}},labelLine:{show:!1}}]});function s(){n.valueFetch().then(l=>{o.value=l.value.map(e=>({value:e.itemCount||e.ITEMCOUNT||e.itemcount,name:e.item||e.ITEM})),i(p)})}return v(()=>{s()}),_(()=>{s()}),(l,e)=>(C(),g("div",{ref_key:"chartRef",ref:t,style:y({height:c.value,width:u.value})},null,4))}});export{w as _};
