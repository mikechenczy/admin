var yq=Object.defineProperty,wq=Object.defineProperties;var Cq=Object.getOwnPropertyDescriptors;var F$=Object.getOwnPropertySymbols;var Sq=Object.prototype.hasOwnProperty,xq=Object.prototype.propertyIsEnumerable;var H$=(g,w,C)=>w in g?yq(g,w,{enumerable:!0,configurable:!0,writable:!0,value:C}):g[w]=C,ca=(g,w)=>{for(var C in w||(w={}))Sq.call(w,C)&&H$(g,C,w[C]);if(F$)for(var C of F$(w))xq.call(w,C)&&H$(g,C,w[C]);return g},Pu=(g,w)=>wq(g,Cq(w));var ro=(g,w,C)=>new Promise((x,He)=>{var Ge=We=>{try{ze(C.next(We))}catch(at){He(at)}},Xe=We=>{try{ze(C.throw(We))}catch(at){He(at)}},ze=We=>We.done?x(We.value):Promise.resolve(We.value).then(Ge,Xe);ze((C=C.apply(g,w)).next())});import{f as ref,c as computed,u as unref,d as defineComponent,h as watchEffect,w as watch,Z as openBlock,a5 as createBlock,a6 as withCtx,ae as normalizeStyle,a1 as normalizeClass,k as createVNode,$ as createBaseVNode,_ as createElementBlock,F as Fragment,a8 as renderList,a9 as createCommentVNode,B as withModifiers,a0 as toDisplayString,q as Transition,an as withKeys,E as Teleport,o as onMounted,b as onUnmounted,a7 as resolveComponent,e as inject,y as nextTick,p as provide,j as onBeforeUnmount,J as toRaw,aa as mergeProps,H as isRef,G as createTextVNode,ab as createSlots,ac as renderSlot,ah as normalizeProps,ai as guardReactiveProps,K as useAttrs$1,I as toRefs,Q as onDeactivated,i as isVNode,l as h,m as withDirectives,A as vShow,n as resolveDirective,r as reactive,af as useSlots,ao as shallowReactive,g as getCurrentInstance}from"./vue-C-fXn5x4.js";import{u as useRuleFormItem}from"./useFormItem-VVsaXeGc.js";import{f as useDesign,u as useI18n,S as ScrollContainer,aV as SvgIcon,m as _sfc_main$G,A as useDebounceFn,p as propTypes,a6 as useAttrs,aK as isArray,aW as componentSetting,aX as usePermission,a2 as Dropdown,aY as PopConfirmButton,aZ as isDef,ay as useMessage,a_ as warn,x as isObject$1,aa as withInstall,k as useRootSetting,D as useAppInject,a$ as toJSON,b0 as uploadApi,aQ as getDict,b1 as _sfc_main$I,a0 as ClickOutside,aM as treeToList,b2 as formatToDate,o as useTimeoutFn,b3 as findNodeAll,aA as getViewportOffset,b4 as getPopupContainer,N as useFullscreen,a5 as BasicTitle,aP as getSlot,b5 as useEventListener,aB as PageWrapperFixedHeightKey,a8 as isProdMode,b6 as getDynamicProps,a9 as error,aq as getEntity,ar as getTableData,b7 as transOne,Y as useGlobSetting,_ as _export_sfc,i as useAppStore,O as useLocale,av as getToken,b8 as Api,b9 as BasicHelp,ba as dateUtil,bb as useBreakpoint,d as deepMerge,t as createContext}from"./index.js";import{E as Input,aq as Pagination,am as Empty,Z as Popover,ar as Radio,o as omit,e as isFunction$1,an as get,as as Select,at as LoadingOutlined,ae as Tree,au as TreeSelect,av as Cascader,af as Transfer,T as Tooltip,aa as Divider,aw as MoreOutlined,Y as isBoolean,l as isString,w as Image$1,ax as Progress,U as Tag,ay as Alert,az as Upload,aA as Space,M as Modal,aB as PlusOutlined,c as commonjsGlobal,b as getDefaultExportFromCjs,aC as RadioButton,aD as RadioGroup,v as isEmpty,aE as FormOutlined,aF as LeftOutlined,aG as RightOutlined,aH as InputNumber,aI as AutoComplete,aJ as Switch,ap as Checkbox,aK as DatePicker,aL as TimePicker,aM as CloseOutlined,aN as CheckOutlined,G as Spin,a9 as isNumber$1,s as set,p as pick,f as cloneDeep,a as isEqual,aO as isMap,aP as merge,d as isNil,aQ as DragOutlined,aR as SettingOutlined,x as Menu,aS as ColumnHeightOutlined,D as Dropdown$1,a7 as RedoOutlined,a3 as FullscreenOutlined,a4 as FullscreenExitOutlined,aT as Table,aU as Badge,aV as Avatar,aW as Slider,aX as Rate,ab as Col,ao as Form,r as isNull,aY as upperFirst,aZ as unset,a5 as uniqBy,ac as Row,B as Button}from"./antd-DKzFhik5.js";import{_ as _sfc_main$J}from"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-CtlAS_ob.js";import{b as useModalContext,a as useModalInner,B as BasicModal,u as useModal}from"./index-DvkF7Q6a.js";import{u as useSortable}from"./useSortable-D2T5agEp.js";import{d as downloadByUrl,Q as QrCode}from"./index-v3sEGQWw.js";import{o as onMountedOrActivated}from"./onMountedOrActivated-C8ZkvEWz.js";import{_ as _sfc_main$H,C as CodeEditor}from"./index-BhRH-QtU.js";import{u as useWindowSizeFn}from"./useWindowSizeFn-B-ZcP_zC.js";import Sortable from"./sortable.esm-CXi5ODBW.js";import{S as StrengthMeter}from"./index-Cc12sqIO.js";import{c as copyText}from"./copyTextToClipboard-famn5D2C.js";import{C as CountdownInput}from"./index-DB8tzANU.js";const iconsData={prefix:"ant-design",icons:["account-book-filled","account-book-outlined","account-book-twotone","aim-outlined","alert-filled","alert-outlined","alert-twotone","alibaba-outlined","align-center-outlined","align-left-outlined","align-right-outlined","alipay-circle-filled","alipay-circle-outlined","alipay-outlined","alipay-square-filled","aliwangwang-filled","aliwangwang-outlined","aliyun-outlined","amazon-circle-filled","amazon-outlined","amazon-square-filled","android-filled","android-outlined","ant-cloud-outlined","ant-design-outlined","apartment-outlined","api-filled","api-outlined","api-twotone","apple-filled","apple-outlined","appstore-add-outlined","appstore-filled","appstore-outlined","appstore-twotone","area-chart-outlined","arrow-down-outlined","arrow-left-outlined","arrow-right-outlined","arrow-up-outlined","arrows-alt-outlined","audio-filled","audio-muted-outlined","audio-outlined","audio-twotone","audit-outlined","backward-filled","backward-outlined","bank-filled","bank-outlined","bank-twotone","bar-chart-outlined","barcode-outlined","bars-outlined","behance-circle-filled","behance-outlined","behance-square-filled","behance-square-outlined","bell-filled","bell-outlined","bell-twotone","bg-colors-outlined","block-outlined","bold-outlined","book-filled","book-outlined","book-twotone","border-bottom-outlined","border-horizontal-outlined","border-inner-outlined","border-left-outlined","border-outer-outlined","border-outlined","border-right-outlined","border-top-outlined","border-verticle-outlined","borderless-table-outlined","box-plot-filled","box-plot-outlined","box-plot-twotone","branches-outlined","bug-filled","bug-outlined","bug-twotone","build-filled","build-outlined","build-twotone","bulb-filled","bulb-outlined","bulb-twotone","calculator-filled","calculator-outlined","calculator-twotone","calendar-filled","calendar-outlined","calendar-twotone","camera-filled","camera-outlined","camera-twotone","car-filled","car-outlined","car-twotone","caret-down-filled","caret-down-outlined","caret-left-filled","caret-left-outlined","caret-right-filled","caret-right-outlined","caret-up-filled","caret-up-outlined","carry-out-filled","carry-out-outlined","carry-out-twotone","check-circle-filled","check-circle-outlined","check-circle-twotone","check-outlined","check-square-filled","check-square-outlined","check-square-twotone","chrome-filled","chrome-outlined","ci-circle-filled","ci-circle-outlined","ci-circle-twotone","ci-outlined","ci-twotone","clear-outlined","clock-circle-filled","clock-circle-outlined","clock-circle-twotone","close-circle-filled","close-circle-outlined","close-circle-twotone","close-outlined","close-square-filled","close-square-outlined","close-square-twotone","cloud-download-outlined","cloud-filled","cloud-outlined","cloud-server-outlined","cloud-sync-outlined","cloud-twotone","cloud-upload-outlined","cluster-outlined","code-filled","code-outlined","code-sandbox-circle-filled","code-sandbox-outlined","code-sandbox-square-filled","code-twotone","codepen-circle-filled","codepen-circle-outlined","codepen-outlined","codepen-square-filled","coffee-outlined","column-height-outlined","column-width-outlined","comment-outlined","compass-filled","compass-outlined","compass-twotone","compress-outlined","console-sql-outlined","contacts-filled","contacts-outlined","contacts-twotone","container-filled","container-outlined","container-twotone","control-filled","control-outlined","control-twotone","copy-filled","copy-outlined","copy-twotone","copyright-circle-filled","copyright-circle-outlined","copyright-circle-twotone","copyright-outlined","copyright-twotone","credit-card-filled","credit-card-outlined","credit-card-twotone","crown-filled","crown-outlined","crown-twotone","customer-service-filled","customer-service-outlined","customer-service-twotone","dash-outlined","dashboard-filled","dashboard-outlined","dashboard-twotone","database-filled","database-outlined","database-twotone","delete-column-outlined","delete-filled","delete-outlined","delete-row-outlined","delete-twotone","delivered-procedure-outlined","deployment-unit-outlined","desktop-outlined","diff-filled","diff-outlined","diff-twotone","dingding-outlined","dingtalk-circle-filled","dingtalk-outlined","dingtalk-square-filled","disconnect-outlined","dislike-filled","dislike-outlined","dislike-twotone","dollar-circle-filled","dollar-circle-outlined","dollar-circle-twotone","dollar-outlined","dollar-twotone","dot-chart-outlined","double-left-outlined","double-right-outlined","down-circle-filled","down-circle-outlined","down-circle-twotone","down-outlined","down-square-filled","down-square-outlined","down-square-twotone","download-outlined","drag-outlined","dribbble-circle-filled","dribbble-outlined","dribbble-square-filled","dribbble-square-outlined","dropbox-circle-filled","dropbox-outlined","dropbox-square-filled","edit-filled","edit-outlined","edit-twotone","ellipsis-outlined","enter-outlined","environment-filled","environment-outlined","environment-twotone","euro-circle-filled","euro-circle-outlined","euro-circle-twotone","euro-outlined","euro-twotone","exception-outlined","exclamation-circle-filled","exclamation-circle-outlined","exclamation-circle-twotone","exclamation-outlined","expand-alt-outlined","expand-outlined","experiment-filled","experiment-outlined","experiment-twotone","export-outlined","eye-filled","eye-invisible-filled","eye-invisible-outlined","eye-invisible-twotone","eye-outlined","eye-twotone","facebook-filled","facebook-outlined","fall-outlined","fast-backward-filled","fast-backward-outlined","fast-forward-filled","fast-forward-outlined","field-binary-outlined","field-number-outlined","field-string-outlined","field-time-outlined","file-add-filled","file-add-outlined","file-add-twotone","file-done-outlined","file-excel-filled","file-excel-outlined","file-excel-twotone","file-exclamation-filled","file-exclamation-outlined","file-exclamation-twotone","file-filled","file-gif-outlined","file-image-filled","file-image-outlined","file-image-twotone","file-jpg-outlined","file-markdown-filled","file-markdown-outlined","file-markdown-twotone","file-outlined","file-pdf-filled","file-pdf-outlined","file-pdf-twotone","file-ppt-filled","file-ppt-outlined","file-ppt-twotone","file-protect-outlined","file-search-outlined","file-sync-outlined","file-text-filled","file-text-outlined","file-text-twotone","file-twotone","file-unknown-filled","file-unknown-outlined","file-unknown-twotone","file-word-filled","file-word-outlined","file-word-twotone","file-zip-filled","file-zip-outlined","file-zip-twotone","filter-filled","filter-outlined","filter-twotone","fire-filled","fire-outlined","fire-twotone","flag-filled","flag-outlined","flag-twotone","folder-add-filled","folder-add-outlined","folder-add-twotone","folder-filled","folder-open-filled","folder-open-outlined","folder-open-twotone","folder-outlined","folder-twotone","folder-view-outlined","font-colors-outlined","font-size-outlined","fork-outlined","form-outlined","format-painter-filled","format-painter-outlined","forward-filled","forward-outlined","frown-filled","frown-outlined","frown-twotone","fullscreen-exit-outlined","fullscreen-outlined","function-outlined","fund-filled","fund-outlined","fund-projection-screen-outlined","fund-twotone","fund-view-outlined","funnel-plot-filled","funnel-plot-outlined","funnel-plot-twotone","gateway-outlined","gif-outlined","gift-filled","gift-outlined","gift-twotone","github-filled","github-outlined","gitlab-filled","gitlab-outlined","global-outlined","gold-filled","gold-outlined","gold-twotone","golden-filled","google-circle-filled","google-outlined","google-plus-circle-filled","google-plus-outlined","google-plus-square-filled","google-square-filled","group-outlined","hdd-filled","hdd-outlined","hdd-twotone","heart-filled","heart-outlined","heart-twotone","heat-map-outlined","highlight-filled","highlight-outlined","highlight-twotone","history-outlined","home-filled","home-outlined","home-twotone","hourglass-filled","hourglass-outlined","hourglass-twotone","html5-filled","html5-outlined","html5-twotone","idcard-filled","idcard-outlined","idcard-twotone","ie-circle-filled","ie-outlined","ie-square-filled","import-outlined","inbox-outlined","info-circle-filled","info-circle-outlined","info-circle-twotone","info-outlined","insert-row-above-outlined","insert-row-below-outlined","insert-row-left-outlined","insert-row-right-outlined","instagram-filled","instagram-outlined","insurance-filled","insurance-outlined","insurance-twotone","interaction-filled","interaction-outlined","interaction-twotone","issues-close-outlined","italic-outlined","key-outlined","laptop-outlined","layout-filled","layout-outlined","layout-twotone","left-circle-filled","left-circle-outlined","left-circle-twotone","left-outlined","left-square-filled","left-square-outlined","left-square-twotone","like-filled","like-outlined","like-twotone","line-chart-outlined","line-height-outlined","line-outlined","link-outlined","linkedin-filled","linkedin-outlined","loading-3-quarters-outlined","loading-outlined","lock-filled","lock-outlined","lock-twotone","login-outlined","logout-outlined","mac-command-filled","mac-command-outlined","mail-filled","mail-outlined","mail-twotone","man-outlined","medicine-box-filled","medicine-box-outlined","medicine-box-twotone","medium-circle-filled","medium-outlined","medium-square-filled","medium-workmark-outlined","meh-filled","meh-outlined","meh-twotone","menu-fold-outlined","menu-outlined","menu-unfold-outlined","merge-cells-outlined","message-filled","message-outlined","message-twotone","minus-circle-filled","minus-circle-outlined","minus-circle-twotone","minus-outlined","minus-square-filled","minus-square-outlined","minus-square-twotone","mobile-filled","mobile-outlined","mobile-twotone","money-collect-filled","money-collect-outlined","money-collect-twotone","monitor-outlined","more-outlined","node-collapse-outlined","node-expand-outlined","node-index-outlined","notification-filled","notification-outlined","notification-twotone","number-outlined","one-to-one-outlined","ordered-list-outlined","paper-clip-outlined","partition-outlined","pause-circle-filled","pause-circle-outlined","pause-circle-twotone","pause-outlined","pay-circle-filled","pay-circle-outlined","percentage-outlined","phone-filled","phone-outlined","phone-twotone","pic-center-outlined","pic-left-outlined","pic-right-outlined","picture-filled","picture-outlined","picture-twotone","pie-chart-filled","pie-chart-outlined","pie-chart-twotone","play-circle-filled","play-circle-outlined","play-circle-twotone","play-square-filled","play-square-outlined","play-square-twotone","plus-circle-filled","plus-circle-outlined","plus-circle-twotone","plus-outlined","plus-square-filled","plus-square-outlined","plus-square-twotone","pound-circle-filled","pound-circle-outlined","pound-circle-twotone","pound-outlined","poweroff-outlined","printer-filled","printer-outlined","printer-twotone","profile-filled","profile-outlined","profile-twotone","project-filled","project-outlined","project-twotone","property-safety-filled","property-safety-outlined","property-safety-twotone","pull-request-outlined","pushpin-filled","pushpin-outlined","pushpin-twotone","qq-circle-filled","qq-outlined","qq-square-filled","qrcode-outlined","question-circle-filled","question-circle-outlined","question-circle-twotone","question-outlined","radar-chart-outlined","radius-bottomleft-outlined","radius-bottomright-outlined","radius-setting-outlined","radius-upleft-outlined","radius-upright-outlined","read-filled","read-outlined","reconciliation-filled","reconciliation-outlined","reconciliation-twotone","red-envelope-filled","red-envelope-outlined","red-envelope-twotone","reddit-circle-filled","reddit-outlined","reddit-square-filled","redo-outlined","reload-outlined","rest-filled","rest-outlined","rest-twotone","retweet-outlined","right-circle-filled","right-circle-outlined","right-circle-twotone","right-outlined","right-square-filled","right-square-outlined","right-square-twotone","rise-outlined","robot-filled","robot-outlined","rocket-filled","rocket-outlined","rocket-twotone","rollback-outlined","rotate-left-outlined","rotate-right-outlined","safety-certificate-filled","safety-certificate-outlined","safety-certificate-twotone","safety-outlined","save-filled","save-outlined","save-twotone","scan-outlined","schedule-filled","schedule-outlined","schedule-twotone","scissor-outlined","search-outlined","security-scan-filled","security-scan-outlined","security-scan-twotone","select-outlined","send-outlined","setting-filled","setting-outlined","setting-twotone","shake-outlined","share-alt-outlined","shop-filled","shop-outlined","shop-twotone","shopping-cart-outlined","shopping-filled","shopping-outlined","shopping-twotone","shrink-outlined","signal-filled","sisternode-outlined","sketch-circle-filled","sketch-outlined","sketch-square-filled","skin-filled","skin-outlined","skin-twotone","skype-filled","skype-outlined","slack-circle-filled","slack-outlined","slack-square-filled","slack-square-outlined","sliders-filled","sliders-outlined","sliders-twotone","small-dash-outlined","smile-filled","smile-outlined","smile-twotone","snippets-filled","snippets-outlined","snippets-twotone","solution-outlined","sort-ascending-outlined","sort-descending-outlined","sound-filled","sound-outlined","sound-twotone","split-cells-outlined","star-filled","star-outlined","star-twotone","step-backward-filled","step-backward-outlined","step-forward-filled","step-forward-outlined","stock-outlined","stop-filled","stop-outlined","stop-twotone","strikethrough-outlined","subnode-outlined","swap-left-outlined","swap-outlined","swap-right-outlined","switcher-filled","switcher-outlined","switcher-twotone","sync-outlined","table-outlined","tablet-filled","tablet-outlined","tablet-twotone","tag-filled","tag-outlined","tag-twotone","tags-filled","tags-outlined","tags-twotone","taobao-circle-filled","taobao-circle-outlined","taobao-outlined","taobao-square-filled","team-outlined","thunderbolt-filled","thunderbolt-outlined","thunderbolt-twotone","to-top-outlined","tool-filled","tool-outlined","tool-twotone","trademark-circle-filled","trademark-circle-outlined","trademark-circle-twotone","trademark-outlined","transaction-outlined","translation-outlined","trophy-filled","trophy-outlined","trophy-twotone","twitter-circle-filled","twitter-outlined","twitter-square-filled","underline-outlined","undo-outlined","ungroup-outlined","unlock-filled","unlock-outlined","unlock-twotone","unordered-list-outlined","up-circle-filled","up-circle-outlined","up-circle-twotone","up-outlined","up-square-filled","up-square-outlined","up-square-twotone","upload-outlined","usb-filled","usb-outlined","usb-twotone","user-add-outlined","user-delete-outlined","user-outlined","user-switch-outlined","usergroup-add-outlined","usergroup-delete-outlined","verified-outlined","vertical-align-bottom-outlined","vertical-align-middle-outlined","vertical-align-top-outlined","vertical-left-outlined","vertical-right-outlined","video-camera-add-outlined","video-camera-filled","video-camera-outlined","video-camera-twotone","wallet-filled","wallet-outlined","wallet-twotone","warning-filled","warning-outlined","warning-twotone","wechat-filled","wechat-outlined","weibo-circle-filled","weibo-circle-outlined","weibo-outlined","weibo-square-filled","weibo-square-outlined","whats-app-outlined","wifi-outlined","windows-filled","windows-outlined","woman-outlined","yahoo-filled","yahoo-outlined","youtube-filled","youtube-outlined","yuque-filled","yuque-outlined","zhihu-circle-filled","zhihu-outlined","zhihu-square-filled","zoom-in-outlined","zoom-out-outlined"]};function pagination(g,w,C){const x=(w-1)*Number(C);return x+Number(C)>=g.length?g.slice(x,g.length):g.slice(x,x+Number(C))}function usePagination$1(g,w){const C=ref(1),x=ref(w),He=computed(()=>pagination(unref(g),unref(C),unref(x))),Ge=computed(()=>unref(g).length);function Xe(We){C.value=We}function ze(We){x.value=We}return{setCurrentPage:Xe,getTotal:Ge,setPageSize:ze,getPaginationList:He}}const svgIcons=["icon-download-count","icon-dynamic-avatar-1","icon-dynamic-avatar-2","icon-dynamic-avatar-3","icon-dynamic-avatar-4","icon-dynamic-avatar-5","icon-dynamic-avatar-6","icon-moon","icon-sun","icon-test","icon-total-sales","icon-transaction","icon-visit-count"],_hoisted_1$d={class:"flex justify-between"},_hoisted_2$3={key:0},_hoisted_3$3={class:"flex flex-wrap px-2"},_hoisted_4$1=["onClick","title"],_hoisted_5={key:0,class:"flex py-2 items-center justify-center"},_hoisted_6={key:1,class:"p-5"},_hoisted_7={key:0,class:"cursor-pointer px-2 py-1 flex items-center"},_sfc_main$F=defineComponent({inheritAttrs:!1,__name:"IconPicker",props:{value:{default:""},width:{default:"100%"},pageSize:{default:140},copy:{type:Boolean,default:!1},mode:{default:"iconify"}},emits:["change","update:value"],setup(g,{emit:w}){function C(){const pt=iconsData.prefix;return iconsData.icons.map(It=>`${pt}:${It}`)}function x(){return svgIcons.map(pt=>pt.replace("icon-",""))}const He=g,Ge=w,Xe=He.mode==="svg",ze=Xe?x():C(),We=ref(""),at=ref(!1),nt=ref(ze),A=ref(),Te=()=>{A.value&&A.value.click()},{t:et}=useI18n(),{prefixCls:Qe}=useDesign("icon-picker"),$e=useDebounceFn(Ue,100),{getPaginationList:Ye,getTotal:ut,setCurrentPage:ct}=usePagination$1(nt,He.pageSize);watchEffect(()=>{We.value=He.value}),watch(()=>We.value,pt=>{Ge("update:value",pt),Ge("change",pt)});function qe(pt){ct(pt)}function lt(pt){We.value=pt,He.copy&&copyText(pt,et("component.icon.copy"))}function Ue(pt){const It=pt.target.value;if(!It){ct(1),nt.value=ze;return}nt.value=ze.filter(Tt=>Tt.includes(It))}return(pt,It)=>(openBlock(),createBlock(unref(Input),{readonly:"",style:normalizeStyle({width:pt.width}),placeholder:unref(et)("component.icon.placeholder"),class:normalizeClass(unref(Qe)),value:We.value,"onUpdate:value":It[1]||(It[1]=Tt=>We.value=Tt),onClick:Te},{addonAfter:withCtx(()=>[createVNode(unref(Popover),{placement:"bottomLeft",trigger:"click",modelValue:at.value,"onUpdate:modelValue":It[0]||(It[0]=Tt=>at.value=Tt),overlayClassName:`${unref(Qe)}-popover`},{title:withCtx(()=>[createBaseVNode("div",_hoisted_1$d,[createVNode(unref(Input),{placeholder:unref(et)("component.icon.search"),onChange:unref($e),allowClear:""},null,8,["placeholder","onChange"])])]),content:withCtx(()=>[unref(Ye).length?(openBlock(),createElementBlock("div",_hoisted_2$3,[createVNode(unref(ScrollContainer),{class:"border border-solid border-t-0"},{default:withCtx(()=>[createBaseVNode("ul",_hoisted_3$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Ye),Tt=>(openBlock(),createElementBlock("li",{key:Tt,class:normalizeClass([We.value===Tt?"border border-primary":"","p-2 w-1/8 cursor-pointer mr-1 mt-1 flex justify-center items-center border border-solid hover:border-primary"]),onClick:mt=>lt(Tt),title:Tt},[Xe?(openBlock(),createBlock(SvgIcon,{key:0,name:Tt},null,8,["name"])):(openBlock(),createBlock(_sfc_main$G,{key:1,icon:Tt},null,8,["icon"]))],10,_hoisted_4$1))),128))])]),_:1}),unref(ut)>=pt.pageSize?(openBlock(),createElementBlock("div",_hoisted_5,[createVNode(unref(Pagination),{showLessItems:"",size:"small",pageSize:pt.pageSize,total:unref(ut),onChange:qe},null,8,["pageSize","total"])])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_6,[createVNode(unref(Empty))]))]),default:withCtx(()=>[createBaseVNode("div",{ref_key:"trigger",ref:A},[Xe&&We.value?(openBlock(),createElementBlock("span",_hoisted_7,[createVNode(SvgIcon,{name:We.value},null,8,["name"])])):(openBlock(),createBlock(_sfc_main$G,{key:1,icon:We.value||"ion:apps-outline",class:"cursor-pointer px-2 py-1"},null,8,["icon"]))],512)]),_:1},8,["modelValue","overlayClassName"])]),_:1},8,["style","placeholder","class","value"]))}});function isSlotFormSchema(g){return"slot"in g}function isComponentFormSchema(g){return!isSlotFormSchema(g)}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(g,w){return g.concat([w+"-"+start,w+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(g,w){return g.concat([w,w+"-"+start,w+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(g){return g?(g.nodeName||"").toLowerCase():null}function getWindow(g){if(g==null)return window;if(g.toString()!=="[object Window]"){var w=g.ownerDocument;return w&&w.defaultView||window}return g}function isElement(g){var w=getWindow(g).Element;return g instanceof w||g instanceof Element}function isHTMLElement(g){var w=getWindow(g).HTMLElement;return g instanceof w||g instanceof HTMLElement}function isShadowRoot(g){if(typeof ShadowRoot=="undefined")return!1;var w=getWindow(g).ShadowRoot;return g instanceof w||g instanceof ShadowRoot}function applyStyles(g){var w=g.state;Object.keys(w.elements).forEach(function(C){var x=w.styles[C]||{},He=w.attributes[C]||{},Ge=w.elements[C];!isHTMLElement(Ge)||!getNodeName(Ge)||(Object.assign(Ge.style,x),Object.keys(He).forEach(function(Xe){var ze=He[Xe];ze===!1?Ge.removeAttribute(Xe):Ge.setAttribute(Xe,ze===!0?"":ze)}))})}function effect$2(g){var w=g.state,C={popper:{position:w.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(w.elements.popper.style,C.popper),w.styles=C,w.elements.arrow&&Object.assign(w.elements.arrow.style,C.arrow),function(){Object.keys(w.elements).forEach(function(x){var He=w.elements[x],Ge=w.attributes[x]||{},Xe=Object.keys(w.styles.hasOwnProperty(x)?w.styles[x]:C[x]),ze=Xe.reduce(function(We,at){return We[at]="",We},{});!isHTMLElement(He)||!getNodeName(He)||(Object.assign(He.style,ze),Object.keys(Ge).forEach(function(We){He.removeAttribute(We)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(g){return g.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var g=navigator.userAgentData;return g!=null&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(w){return w.brand+"/"+w.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(g,w,C){w===void 0&&(w=!1),C===void 0&&(C=!1);var x=g.getBoundingClientRect(),He=1,Ge=1;w&&isHTMLElement(g)&&(He=g.offsetWidth>0&&round(x.width)/g.offsetWidth||1,Ge=g.offsetHeight>0&&round(x.height)/g.offsetHeight||1);var Xe=isElement(g)?getWindow(g):window,ze=Xe.visualViewport,We=!isLayoutViewport()&&C,at=(x.left+(We&&ze?ze.offsetLeft:0))/He,nt=(x.top+(We&&ze?ze.offsetTop:0))/Ge,A=x.width/He,Te=x.height/Ge;return{width:A,height:Te,top:nt,right:at+A,bottom:nt+Te,left:at,x:at,y:nt}}function getLayoutRect(g){var w=getBoundingClientRect(g),C=g.offsetWidth,x=g.offsetHeight;return Math.abs(w.width-C)<=1&&(C=w.width),Math.abs(w.height-x)<=1&&(x=w.height),{x:g.offsetLeft,y:g.offsetTop,width:C,height:x}}function contains(g,w){var C=w.getRootNode&&w.getRootNode();if(g.contains(w))return!0;if(C&&isShadowRoot(C)){var x=w;do{if(x&&g.isSameNode(x))return!0;x=x.parentNode||x.host}while(x)}return!1}function getComputedStyle$1(g){return getWindow(g).getComputedStyle(g)}function isTableElement(g){return["table","td","th"].indexOf(getNodeName(g))>=0}function getDocumentElement(g){return((isElement(g)?g.ownerDocument:g.document)||window.document).documentElement}function getParentNode(g){return getNodeName(g)==="html"?g:g.assignedSlot||g.parentNode||(isShadowRoot(g)?g.host:null)||getDocumentElement(g)}function getTrueOffsetParent(g){return!isHTMLElement(g)||getComputedStyle$1(g).position==="fixed"?null:g.offsetParent}function getContainingBlock(g){var w=/firefox/i.test(getUAString()),C=/Trident/i.test(getUAString());if(C&&isHTMLElement(g)){var x=getComputedStyle$1(g);if(x.position==="fixed")return null}var He=getParentNode(g);for(isShadowRoot(He)&&(He=He.host);isHTMLElement(He)&&["html","body"].indexOf(getNodeName(He))<0;){var Ge=getComputedStyle$1(He);if(Ge.transform!=="none"||Ge.perspective!=="none"||Ge.contain==="paint"||["transform","perspective"].indexOf(Ge.willChange)!==-1||w&&Ge.willChange==="filter"||w&&Ge.filter&&Ge.filter!=="none")return He;He=He.parentNode}return null}function getOffsetParent(g){for(var w=getWindow(g),C=getTrueOffsetParent(g);C&&isTableElement(C)&&getComputedStyle$1(C).position==="static";)C=getTrueOffsetParent(C);return C&&(getNodeName(C)==="html"||getNodeName(C)==="body"&&getComputedStyle$1(C).position==="static")?w:C||getContainingBlock(g)||w}function getMainAxisFromPlacement(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function within(g,w,C){return max(g,min(w,C))}function withinMaxClamp(g,w,C){var x=within(g,w,C);return x>C?C:x}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(g){return Object.assign({},getFreshSideObject(),g)}function expandToHashMap(g,w){return w.reduce(function(C,x){return C[x]=g,C},{})}var toPaddingObject=function(w,C){return w=typeof w=="function"?w(Object.assign({},C.rects,{placement:C.placement})):w,mergePaddingObject(typeof w!="number"?w:expandToHashMap(w,basePlacements))};function arrow(g){var w,C=g.state,x=g.name,He=g.options,Ge=C.elements.arrow,Xe=C.modifiersData.popperOffsets,ze=getBasePlacement(C.placement),We=getMainAxisFromPlacement(ze),at=[left,right].indexOf(ze)>=0,nt=at?"height":"width";if(!(!Ge||!Xe)){var A=toPaddingObject(He.padding,C),Te=getLayoutRect(Ge),et=We==="y"?top:left,Qe=We==="y"?bottom:right,$e=C.rects.reference[nt]+C.rects.reference[We]-Xe[We]-C.rects.popper[nt],Ye=Xe[We]-C.rects.reference[We],ut=getOffsetParent(Ge),ct=ut?We==="y"?ut.clientHeight||0:ut.clientWidth||0:0,qe=$e/2-Ye/2,lt=A[et],Ue=ct-Te[nt]-A[Qe],pt=ct/2-Te[nt]/2+qe,It=within(lt,pt,Ue),Tt=We;C.modifiersData[x]=(w={},w[Tt]=It,w.centerOffset=It-pt,w)}}function effect$1(g){var w=g.state,C=g.options,x=C.element,He=x===void 0?"[data-popper-arrow]":x;He!=null&&(typeof He=="string"&&(He=w.elements.popper.querySelector(He),!He)||contains(w.elements.popper,He)&&(w.elements.arrow=He))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(g){return g.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(g,w){var C=g.x,x=g.y,He=w.devicePixelRatio||1;return{x:round(C*He)/He||0,y:round(x*He)/He||0}}function mapToStyles(g){var w,C=g.popper,x=g.popperRect,He=g.placement,Ge=g.variation,Xe=g.offsets,ze=g.position,We=g.gpuAcceleration,at=g.adaptive,nt=g.roundOffsets,A=g.isFixed,Te=Xe.x,et=Te===void 0?0:Te,Qe=Xe.y,$e=Qe===void 0?0:Qe,Ye=typeof nt=="function"?nt({x:et,y:$e}):{x:et,y:$e};et=Ye.x,$e=Ye.y;var ut=Xe.hasOwnProperty("x"),ct=Xe.hasOwnProperty("y"),qe=left,lt=top,Ue=window;if(at){var pt=getOffsetParent(C),It="clientHeight",Tt="clientWidth";if(pt===getWindow(C)&&(pt=getDocumentElement(C),getComputedStyle$1(pt).position!=="static"&&ze==="absolute"&&(It="scrollHeight",Tt="scrollWidth")),pt=pt,He===top||(He===left||He===right)&&Ge===end){lt=bottom;var mt=A&&pt===Ue&&Ue.visualViewport?Ue.visualViewport.height:pt[It];$e-=mt-x.height,$e*=We?1:-1}if(He===left||(He===top||He===bottom)&&Ge===end){qe=right;var vt=A&&pt===Ue&&Ue.visualViewport?Ue.visualViewport.width:pt[Tt];et-=vt-x.width,et*=We?1:-1}}var Et=Object.assign({position:ze},at&&unsetSides),st=nt===!0?roundOffsetsByDPR({x:et,y:$e},getWindow(C)):{x:et,y:$e};if(et=st.x,$e=st.y,We){var At;return Object.assign({},Et,(At={},At[lt]=ct?"0":"",At[qe]=ut?"0":"",At.transform=(Ue.devicePixelRatio||1)<=1?"translate("+et+"px, "+$e+"px)":"translate3d("+et+"px, "+$e+"px, 0)",At))}return Object.assign({},Et,(w={},w[lt]=ct?$e+"px":"",w[qe]=ut?et+"px":"",w.transform="",w))}function computeStyles(g){var w=g.state,C=g.options,x=C.gpuAcceleration,He=x===void 0?!0:x,Ge=C.adaptive,Xe=Ge===void 0?!0:Ge,ze=C.roundOffsets,We=ze===void 0?!0:ze,at={placement:getBasePlacement(w.placement),variation:getVariation(w.placement),popper:w.elements.popper,popperRect:w.rects.popper,gpuAcceleration:He,isFixed:w.options.strategy==="fixed"};w.modifiersData.popperOffsets!=null&&(w.styles.popper=Object.assign({},w.styles.popper,mapToStyles(Object.assign({},at,{offsets:w.modifiersData.popperOffsets,position:w.options.strategy,adaptive:Xe,roundOffsets:We})))),w.modifiersData.arrow!=null&&(w.styles.arrow=Object.assign({},w.styles.arrow,mapToStyles(Object.assign({},at,{offsets:w.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:We})))),w.attributes.popper=Object.assign({},w.attributes.popper,{"data-popper-placement":w.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(g){var w=g.state,C=g.instance,x=g.options,He=x.scroll,Ge=He===void 0?!0:He,Xe=x.resize,ze=Xe===void 0?!0:Xe,We=getWindow(w.elements.popper),at=[].concat(w.scrollParents.reference,w.scrollParents.popper);return Ge&&at.forEach(function(nt){nt.addEventListener("scroll",C.update,passive)}),ze&&We.addEventListener("resize",C.update,passive),function(){Ge&&at.forEach(function(nt){nt.removeEventListener("scroll",C.update,passive)}),ze&&We.removeEventListener("resize",C.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(g){return g.replace(/left|right|bottom|top/g,function(w){return hash$1[w]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(g){return g.replace(/start|end/g,function(w){return hash[w]})}function getWindowScroll(g){var w=getWindow(g),C=w.pageXOffset,x=w.pageYOffset;return{scrollLeft:C,scrollTop:x}}function getWindowScrollBarX(g){return getBoundingClientRect(getDocumentElement(g)).left+getWindowScroll(g).scrollLeft}function getViewportRect(g,w){var C=getWindow(g),x=getDocumentElement(g),He=C.visualViewport,Ge=x.clientWidth,Xe=x.clientHeight,ze=0,We=0;if(He){Ge=He.width,Xe=He.height;var at=isLayoutViewport();(at||!at&&w==="fixed")&&(ze=He.offsetLeft,We=He.offsetTop)}return{width:Ge,height:Xe,x:ze+getWindowScrollBarX(g),y:We}}function getDocumentRect(g){var w,C=getDocumentElement(g),x=getWindowScroll(g),He=(w=g.ownerDocument)==null?void 0:w.body,Ge=max(C.scrollWidth,C.clientWidth,He?He.scrollWidth:0,He?He.clientWidth:0),Xe=max(C.scrollHeight,C.clientHeight,He?He.scrollHeight:0,He?He.clientHeight:0),ze=-x.scrollLeft+getWindowScrollBarX(g),We=-x.scrollTop;return getComputedStyle$1(He||C).direction==="rtl"&&(ze+=max(C.clientWidth,He?He.clientWidth:0)-Ge),{width:Ge,height:Xe,x:ze,y:We}}function isScrollParent(g){var w=getComputedStyle$1(g),C=w.overflow,x=w.overflowX,He=w.overflowY;return/auto|scroll|overlay|hidden/.test(C+He+x)}function getScrollParent(g){return["html","body","#document"].indexOf(getNodeName(g))>=0?g.ownerDocument.body:isHTMLElement(g)&&isScrollParent(g)?g:getScrollParent(getParentNode(g))}function listScrollParents(g,w){var C;w===void 0&&(w=[]);var x=getScrollParent(g),He=x===((C=g.ownerDocument)==null?void 0:C.body),Ge=getWindow(x),Xe=He?[Ge].concat(Ge.visualViewport||[],isScrollParent(x)?x:[]):x,ze=w.concat(Xe);return He?ze:ze.concat(listScrollParents(getParentNode(Xe)))}function rectToClientRect(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function getInnerBoundingClientRect(g,w){var C=getBoundingClientRect(g,!1,w==="fixed");return C.top=C.top+g.clientTop,C.left=C.left+g.clientLeft,C.bottom=C.top+g.clientHeight,C.right=C.left+g.clientWidth,C.width=g.clientWidth,C.height=g.clientHeight,C.x=C.left,C.y=C.top,C}function getClientRectFromMixedType(g,w,C){return w===viewport?rectToClientRect(getViewportRect(g,C)):isElement(w)?getInnerBoundingClientRect(w,C):rectToClientRect(getDocumentRect(getDocumentElement(g)))}function getClippingParents(g){var w=listScrollParents(getParentNode(g)),C=["absolute","fixed"].indexOf(getComputedStyle$1(g).position)>=0,x=C&&isHTMLElement(g)?getOffsetParent(g):g;return isElement(x)?w.filter(function(He){return isElement(He)&&contains(He,x)&&getNodeName(He)!=="body"}):[]}function getClippingRect(g,w,C,x){var He=w==="clippingParents"?getClippingParents(g):[].concat(w),Ge=[].concat(He,[C]),Xe=Ge[0],ze=Ge.reduce(function(We,at){var nt=getClientRectFromMixedType(g,at,x);return We.top=max(nt.top,We.top),We.right=min(nt.right,We.right),We.bottom=min(nt.bottom,We.bottom),We.left=max(nt.left,We.left),We},getClientRectFromMixedType(g,Xe,x));return ze.width=ze.right-ze.left,ze.height=ze.bottom-ze.top,ze.x=ze.left,ze.y=ze.top,ze}function computeOffsets(g){var w=g.reference,C=g.element,x=g.placement,He=x?getBasePlacement(x):null,Ge=x?getVariation(x):null,Xe=w.x+w.width/2-C.width/2,ze=w.y+w.height/2-C.height/2,We;switch(He){case top:We={x:Xe,y:w.y-C.height};break;case bottom:We={x:Xe,y:w.y+w.height};break;case right:We={x:w.x+w.width,y:ze};break;case left:We={x:w.x-C.width,y:ze};break;default:We={x:w.x,y:w.y}}var at=He?getMainAxisFromPlacement(He):null;if(at!=null){var nt=at==="y"?"height":"width";switch(Ge){case start:We[at]=We[at]-(w[nt]/2-C[nt]/2);break;case end:We[at]=We[at]+(w[nt]/2-C[nt]/2);break}}return We}function detectOverflow(g,w){w===void 0&&(w={});var C=w,x=C.placement,He=x===void 0?g.placement:x,Ge=C.strategy,Xe=Ge===void 0?g.strategy:Ge,ze=C.boundary,We=ze===void 0?clippingParents:ze,at=C.rootBoundary,nt=at===void 0?viewport:at,A=C.elementContext,Te=A===void 0?popper:A,et=C.altBoundary,Qe=et===void 0?!1:et,$e=C.padding,Ye=$e===void 0?0:$e,ut=mergePaddingObject(typeof Ye!="number"?Ye:expandToHashMap(Ye,basePlacements)),ct=Te===popper?reference:popper,qe=g.rects.popper,lt=g.elements[Qe?ct:Te],Ue=getClippingRect(isElement(lt)?lt:lt.contextElement||getDocumentElement(g.elements.popper),We,nt,Xe),pt=getBoundingClientRect(g.elements.reference),It=computeOffsets({reference:pt,element:qe,strategy:"absolute",placement:He}),Tt=rectToClientRect(Object.assign({},qe,It)),mt=Te===popper?Tt:pt,vt={top:Ue.top-mt.top+ut.top,bottom:mt.bottom-Ue.bottom+ut.bottom,left:Ue.left-mt.left+ut.left,right:mt.right-Ue.right+ut.right},Et=g.modifiersData.offset;if(Te===popper&&Et){var st=Et[He];Object.keys(vt).forEach(function(At){var nn=[right,bottom].indexOf(At)>=0?1:-1,wn=[top,bottom].indexOf(At)>=0?"y":"x";vt[At]+=st[wn]*nn})}return vt}function computeAutoPlacement(g,w){w===void 0&&(w={});var C=w,x=C.placement,He=C.boundary,Ge=C.rootBoundary,Xe=C.padding,ze=C.flipVariations,We=C.allowedAutoPlacements,at=We===void 0?placements:We,nt=getVariation(x),A=nt?ze?variationPlacements:variationPlacements.filter(function(Qe){return getVariation(Qe)===nt}):basePlacements,Te=A.filter(function(Qe){return at.indexOf(Qe)>=0});Te.length===0&&(Te=A);var et=Te.reduce(function(Qe,$e){return Qe[$e]=detectOverflow(g,{placement:$e,boundary:He,rootBoundary:Ge,padding:Xe})[getBasePlacement($e)],Qe},{});return Object.keys(et).sort(function(Qe,$e){return et[Qe]-et[$e]})}function getExpandedFallbackPlacements(g){if(getBasePlacement(g)===auto)return[];var w=getOppositePlacement(g);return[getOppositeVariationPlacement(g),w,getOppositeVariationPlacement(w)]}function flip(g){var w=g.state,C=g.options,x=g.name;if(!w.modifiersData[x]._skip){for(var He=C.mainAxis,Ge=He===void 0?!0:He,Xe=C.altAxis,ze=Xe===void 0?!0:Xe,We=C.fallbackPlacements,at=C.padding,nt=C.boundary,A=C.rootBoundary,Te=C.altBoundary,et=C.flipVariations,Qe=et===void 0?!0:et,$e=C.allowedAutoPlacements,Ye=w.options.placement,ut=getBasePlacement(Ye),ct=ut===Ye,qe=We||(ct||!Qe?[getOppositePlacement(Ye)]:getExpandedFallbackPlacements(Ye)),lt=[Ye].concat(qe).reduce(function(Lt,qt){return Lt.concat(getBasePlacement(qt)===auto?computeAutoPlacement(w,{placement:qt,boundary:nt,rootBoundary:A,padding:at,flipVariations:Qe,allowedAutoPlacements:$e}):qt)},[]),Ue=w.rects.reference,pt=w.rects.popper,It=new Map,Tt=!0,mt=lt[0],vt=0;vt<lt.length;vt++){var Et=lt[vt],st=getBasePlacement(Et),At=getVariation(Et)===start,nn=[top,bottom].indexOf(st)>=0,wn=nn?"width":"height",Ht=detectOverflow(w,{placement:Et,boundary:nt,rootBoundary:A,altBoundary:Te,padding:at}),Sn=nn?At?right:left:At?bottom:top;Ue[wn]>pt[wn]&&(Sn=getOppositePlacement(Sn));var lr=getOppositePlacement(Sn),Ve=[];if(Ge&&Ve.push(Ht[st]<=0),ze&&Ve.push(Ht[Sn]<=0,Ht[lr]<=0),Ve.every(function(Lt){return Lt})){mt=Et,Tt=!1;break}It.set(Et,Ve)}if(Tt)for(var jt=Qe?3:1,cn=function(qt){var an=lt.find(function(ot){var En=It.get(ot);if(En)return En.slice(0,qt).every(function(Pt){return Pt})});if(an)return mt=an,"break"},yt=jt;yt>0;yt--){var Mt=cn(yt);if(Mt==="break")break}w.placement!==mt&&(w.modifiersData[x]._skip=!0,w.placement=mt,w.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(g,w,C){return C===void 0&&(C={x:0,y:0}),{top:g.top-w.height-C.y,right:g.right-w.width+C.x,bottom:g.bottom-w.height+C.y,left:g.left-w.width-C.x}}function isAnySideFullyClipped(g){return[top,right,bottom,left].some(function(w){return g[w]>=0})}function hide(g){var w=g.state,C=g.name,x=w.rects.reference,He=w.rects.popper,Ge=w.modifiersData.preventOverflow,Xe=detectOverflow(w,{elementContext:"reference"}),ze=detectOverflow(w,{altBoundary:!0}),We=getSideOffsets(Xe,x),at=getSideOffsets(ze,He,Ge),nt=isAnySideFullyClipped(We),A=isAnySideFullyClipped(at);w.modifiersData[C]={referenceClippingOffsets:We,popperEscapeOffsets:at,isReferenceHidden:nt,hasPopperEscaped:A},w.attributes.popper=Object.assign({},w.attributes.popper,{"data-popper-reference-hidden":nt,"data-popper-escaped":A})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(g,w,C){var x=getBasePlacement(g),He=[left,top].indexOf(x)>=0?-1:1,Ge=typeof C=="function"?C(Object.assign({},w,{placement:g})):C,Xe=Ge[0],ze=Ge[1];return Xe=Xe||0,ze=(ze||0)*He,[left,right].indexOf(x)>=0?{x:ze,y:Xe}:{x:Xe,y:ze}}function offset(g){var w=g.state,C=g.options,x=g.name,He=C.offset,Ge=He===void 0?[0,0]:He,Xe=placements.reduce(function(nt,A){return nt[A]=distanceAndSkiddingToXY(A,w.rects,Ge),nt},{}),ze=Xe[w.placement],We=ze.x,at=ze.y;w.modifiersData.popperOffsets!=null&&(w.modifiersData.popperOffsets.x+=We,w.modifiersData.popperOffsets.y+=at),w.modifiersData[x]=Xe}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(g){var w=g.state,C=g.name;w.modifiersData[C]=computeOffsets({reference:w.rects.reference,element:w.rects.popper,strategy:"absolute",placement:w.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(g){return g==="x"?"y":"x"}function preventOverflow(g){var w=g.state,C=g.options,x=g.name,He=C.mainAxis,Ge=He===void 0?!0:He,Xe=C.altAxis,ze=Xe===void 0?!1:Xe,We=C.boundary,at=C.rootBoundary,nt=C.altBoundary,A=C.padding,Te=C.tether,et=Te===void 0?!0:Te,Qe=C.tetherOffset,$e=Qe===void 0?0:Qe,Ye=detectOverflow(w,{boundary:We,rootBoundary:at,padding:A,altBoundary:nt}),ut=getBasePlacement(w.placement),ct=getVariation(w.placement),qe=!ct,lt=getMainAxisFromPlacement(ut),Ue=getAltAxis(lt),pt=w.modifiersData.popperOffsets,It=w.rects.reference,Tt=w.rects.popper,mt=typeof $e=="function"?$e(Object.assign({},w.rects,{placement:w.placement})):$e,vt=typeof mt=="number"?{mainAxis:mt,altAxis:mt}:Object.assign({mainAxis:0,altAxis:0},mt),Et=w.modifiersData.offset?w.modifiersData.offset[w.placement]:null,st={x:0,y:0};if(pt){if(Ge){var At,nn=lt==="y"?top:left,wn=lt==="y"?bottom:right,Ht=lt==="y"?"height":"width",Sn=pt[lt],lr=Sn+Ye[nn],Ve=Sn-Ye[wn],jt=et?-Tt[Ht]/2:0,cn=ct===start?It[Ht]:Tt[Ht],yt=ct===start?-Tt[Ht]:-It[Ht],Mt=w.elements.arrow,Lt=et&&Mt?getLayoutRect(Mt):{width:0,height:0},qt=w.modifiersData["arrow#persistent"]?w.modifiersData["arrow#persistent"].padding:getFreshSideObject(),an=qt[nn],ot=qt[wn],En=within(0,It[Ht],Lt[Ht]),Pt=qe?It[Ht]/2-jt-En-an-vt.mainAxis:cn-En-an-vt.mainAxis,xt=qe?-It[Ht]/2+jt+En+ot+vt.mainAxis:yt+En+ot+vt.mainAxis,vn=w.elements.arrow&&getOffsetParent(w.elements.arrow),Ot=vn?lt==="y"?vn.clientTop||0:vn.clientLeft||0:0,Zt=(At=Et==null?void 0:Et[lt])!=null?At:0,mn=Sn+Pt-Zt-Ot,ln=Sn+xt-Zt,Ft=within(et?min(lr,mn):lr,Sn,et?max(Ve,ln):Ve);pt[lt]=Ft,st[lt]=Ft-Sn}if(ze){var bn,Kn=lt==="x"?top:left,Jt=lt==="x"?bottom:right,Rn=pt[Ue],rr=Ue==="y"?"height":"width",Vn=Rn+Ye[Kn],Br=Rn-Ye[Jt],la=[top,left].indexOf(ut)!==-1,fa=(bn=Et==null?void 0:Et[Ue])!=null?bn:0,co=la?Vn:Rn-It[rr]-Tt[rr]-fa+vt.altAxis,Eo=la?Rn+It[rr]+Tt[rr]-fa-vt.altAxis:Br,hr=et&&la?withinMaxClamp(co,Rn,Eo):within(et?co:Vn,Rn,et?Eo:Br);pt[Ue]=hr,st[Ue]=hr-Rn}w.modifiersData[x]=st}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}}function getNodeScroll(g){return g===getWindow(g)||!isHTMLElement(g)?getWindowScroll(g):getHTMLElementScroll(g)}function isElementScaled(g){var w=g.getBoundingClientRect(),C=round(w.width)/g.offsetWidth||1,x=round(w.height)/g.offsetHeight||1;return C!==1||x!==1}function getCompositeRect(g,w,C){C===void 0&&(C=!1);var x=isHTMLElement(w),He=isHTMLElement(w)&&isElementScaled(w),Ge=getDocumentElement(w),Xe=getBoundingClientRect(g,He,C),ze={scrollLeft:0,scrollTop:0},We={x:0,y:0};return(x||!x&&!C)&&((getNodeName(w)!=="body"||isScrollParent(Ge))&&(ze=getNodeScroll(w)),isHTMLElement(w)?(We=getBoundingClientRect(w,!0),We.x+=w.clientLeft,We.y+=w.clientTop):Ge&&(We.x=getWindowScrollBarX(Ge))),{x:Xe.left+ze.scrollLeft-We.x,y:Xe.top+ze.scrollTop-We.y,width:Xe.width,height:Xe.height}}function order(g){var w=new Map,C=new Set,x=[];g.forEach(function(Ge){w.set(Ge.name,Ge)});function He(Ge){C.add(Ge.name);var Xe=[].concat(Ge.requires||[],Ge.requiresIfExists||[]);Xe.forEach(function(ze){if(!C.has(ze)){var We=w.get(ze);We&&He(We)}}),x.push(Ge)}return g.forEach(function(Ge){C.has(Ge.name)||He(Ge)}),x}function orderModifiers(g){var w=order(g);return modifierPhases.reduce(function(C,x){return C.concat(w.filter(function(He){return He.phase===x}))},[])}function debounce(g){var w;return function(){return w||(w=new Promise(function(C){Promise.resolve().then(function(){w=void 0,C(g())})})),w}}function mergeByName(g){var w=g.reduce(function(C,x){var He=C[x.name];return C[x.name]=He?Object.assign({},He,x,{options:Object.assign({},He.options,x.options),data:Object.assign({},He.data,x.data)}):x,C},{});return Object.keys(w).map(function(C){return w[C]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var g=arguments.length,w=new Array(g),C=0;C<g;C++)w[C]=arguments[C];return!w.some(function(x){return!(x&&typeof x.getBoundingClientRect=="function")})}function popperGenerator(g){g===void 0&&(g={});var w=g,C=w.defaultModifiers,x=C===void 0?[]:C,He=w.defaultOptions,Ge=He===void 0?DEFAULT_OPTIONS:He;return function(ze,We,at){at===void 0&&(at=Ge);var nt={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,Ge),modifiersData:{},elements:{reference:ze,popper:We},attributes:{},styles:{}},A=[],Te=!1,et={state:nt,setOptions:function(ut){var ct=typeof ut=="function"?ut(nt.options):ut;$e(),nt.options=Object.assign({},Ge,nt.options,ct),nt.scrollParents={reference:isElement(ze)?listScrollParents(ze):ze.contextElement?listScrollParents(ze.contextElement):[],popper:listScrollParents(We)};var qe=orderModifiers(mergeByName([].concat(x,nt.options.modifiers)));return nt.orderedModifiers=qe.filter(function(lt){return lt.enabled}),Qe(),et.update()},forceUpdate:function(){if(!Te){var ut=nt.elements,ct=ut.reference,qe=ut.popper;if(areValidElements(ct,qe)){nt.rects={reference:getCompositeRect(ct,getOffsetParent(qe),nt.options.strategy==="fixed"),popper:getLayoutRect(qe)},nt.reset=!1,nt.placement=nt.options.placement,nt.orderedModifiers.forEach(function(vt){return nt.modifiersData[vt.name]=Object.assign({},vt.data)});for(var lt=0;lt<nt.orderedModifiers.length;lt++){if(nt.reset===!0){nt.reset=!1,lt=-1;continue}var Ue=nt.orderedModifiers[lt],pt=Ue.fn,It=Ue.options,Tt=It===void 0?{}:It,mt=Ue.name;typeof pt=="function"&&(nt=pt({state:nt,options:Tt,name:mt,instance:et})||nt)}}}},update:debounce(function(){return new Promise(function(Ye){et.forceUpdate(),Ye(nt)})}),destroy:function(){$e(),Te=!0}};if(!areValidElements(ze,We))return et;et.setOptions(at).then(function(Ye){!Te&&at.onFirstUpdate&&at.onFirstUpdate(Ye)});function Qe(){nt.orderedModifiers.forEach(function(Ye){var ut=Ye.name,ct=Ye.options,qe=ct===void 0?{}:ct,lt=Ye.effect;if(typeof lt=="function"){var Ue=lt({state:nt,name:ut,instance:et,options:qe}),pt=function(){};A.push(Ue||pt)}})}function $e(){A.forEach(function(Ye){return Ye()}),A=[]}return et}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function I(g,w){(w==null||w>g.length)&&(w=g.length);for(var C=0,x=Array(w);C<w;C++)x[C]=g[C];return x}function F(g,w){if(g){if(typeof g=="string")return I(g,w);var C={}.toString.call(g).slice(8,-1);return C==="Object"&&g.constructor&&(C=g.constructor.name),C==="Map"||C==="Set"?Array.from(g):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?I(g,w):void 0}}function _(g){return function(w){if(Array.isArray(w))return I(w)}(g)||function(w){if(typeof Symbol!="undefined"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}(g)||F(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(g){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},L(g)}function P(g,w,C,x,He,Ge,Xe){try{var ze=g[Ge](Xe),We=ze.value}catch(at){return void C(at)}ze.done?w(We):Promise.resolve(We).then(x,He)}function j(g){return function(){var w=this,C=arguments;return new Promise(function(x,He){var Ge=g.apply(w,C);function Xe(We){P(Ge,x,He,Xe,ze,"next",We)}function ze(We){P(Ge,x,He,Xe,ze,"throw",We)}Xe(void 0)})}}var M={exports:{}},B={exports:{}};(function(g){function w(C){return g.exports=w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},g.exports.__esModule=!0,g.exports.default=g.exports,w(C)}g.exports=w,g.exports.__esModule=!0,g.exports.default=g.exports})(B),function(g){var w=B.exports.default;function C(){g.exports=C=function(){return He},g.exports.__esModule=!0,g.exports.default=g.exports;var x,He={},Ge=Object.prototype,Xe=Ge.hasOwnProperty,ze=Object.defineProperty||function(Ve,jt,cn){Ve[jt]=cn.value},We=typeof Symbol=="function"?Symbol:{},at=We.iterator||"@@iterator",nt=We.asyncIterator||"@@asyncIterator",A=We.toStringTag||"@@toStringTag";function Te(Ve,jt,cn){return Object.defineProperty(Ve,jt,{value:cn,enumerable:!0,configurable:!0,writable:!0}),Ve[jt]}try{Te({},"")}catch(Ve){Te=function(jt,cn,yt){return jt[cn]=yt}}function et(Ve,jt,cn,yt){var Mt=jt&&jt.prototype instanceof lt?jt:lt,Lt=Object.create(Mt.prototype),qt=new Sn(yt||[]);return ze(Lt,"_invoke",{value:At(Ve,cn,qt)}),Lt}function Qe(Ve,jt,cn){try{return{type:"normal",arg:Ve.call(jt,cn)}}catch(yt){return{type:"throw",arg:yt}}}He.wrap=et;var $e="suspendedStart",Ye="suspendedYield",ut="executing",ct="completed",qe={};function lt(){}function Ue(){}function pt(){}var It={};Te(It,at,function(){return this});var Tt=Object.getPrototypeOf,mt=Tt&&Tt(Tt(lr([])));mt&&mt!==Ge&&Xe.call(mt,at)&&(It=mt);var vt=pt.prototype=lt.prototype=Object.create(It);function Et(Ve){["next","throw","return"].forEach(function(jt){Te(Ve,jt,function(cn){return this._invoke(jt,cn)})})}function st(Ve,jt){function cn(Mt,Lt,qt,an){var ot=Qe(Ve[Mt],Ve,Lt);if(ot.type!=="throw"){var En=ot.arg,Pt=En.value;return Pt&&w(Pt)=="object"&&Xe.call(Pt,"__await")?jt.resolve(Pt.__await).then(function(xt){cn("next",xt,qt,an)},function(xt){cn("throw",xt,qt,an)}):jt.resolve(Pt).then(function(xt){En.value=xt,qt(En)},function(xt){return cn("throw",xt,qt,an)})}an(ot.arg)}var yt;ze(this,"_invoke",{value:function(Mt,Lt){function qt(){return new jt(function(an,ot){cn(Mt,Lt,an,ot)})}return yt=yt?yt.then(qt,qt):qt()}})}function At(Ve,jt,cn){var yt=$e;return function(Mt,Lt){if(yt===ut)throw Error("Generator is already running");if(yt===ct){if(Mt==="throw")throw Lt;return{value:x,done:!0}}for(cn.method=Mt,cn.arg=Lt;;){var qt=cn.delegate;if(qt){var an=nn(qt,cn);if(an){if(an===qe)continue;return an}}if(cn.method==="next")cn.sent=cn._sent=cn.arg;else if(cn.method==="throw"){if(yt===$e)throw yt=ct,cn.arg;cn.dispatchException(cn.arg)}else cn.method==="return"&&cn.abrupt("return",cn.arg);yt=ut;var ot=Qe(Ve,jt,cn);if(ot.type==="normal"){if(yt=cn.done?ct:Ye,ot.arg===qe)continue;return{value:ot.arg,done:cn.done}}ot.type==="throw"&&(yt=ct,cn.method="throw",cn.arg=ot.arg)}}}function nn(Ve,jt){var cn=jt.method,yt=Ve.iterator[cn];if(yt===x)return jt.delegate=null,cn==="throw"&&Ve.iterator.return&&(jt.method="return",jt.arg=x,nn(Ve,jt),jt.method==="throw")||cn!=="return"&&(jt.method="throw",jt.arg=new TypeError("The iterator does not provide a '"+cn+"' method")),qe;var Mt=Qe(yt,Ve.iterator,jt.arg);if(Mt.type==="throw")return jt.method="throw",jt.arg=Mt.arg,jt.delegate=null,qe;var Lt=Mt.arg;return Lt?Lt.done?(jt[Ve.resultName]=Lt.value,jt.next=Ve.nextLoc,jt.method!=="return"&&(jt.method="next",jt.arg=x),jt.delegate=null,qe):Lt:(jt.method="throw",jt.arg=new TypeError("iterator result is not an object"),jt.delegate=null,qe)}function wn(Ve){var jt={tryLoc:Ve[0]};1 in Ve&&(jt.catchLoc=Ve[1]),2 in Ve&&(jt.finallyLoc=Ve[2],jt.afterLoc=Ve[3]),this.tryEntries.push(jt)}function Ht(Ve){var jt=Ve.completion||{};jt.type="normal",delete jt.arg,Ve.completion=jt}function Sn(Ve){this.tryEntries=[{tryLoc:"root"}],Ve.forEach(wn,this),this.reset(!0)}function lr(Ve){if(Ve||Ve===""){var jt=Ve[at];if(jt)return jt.call(Ve);if(typeof Ve.next=="function")return Ve;if(!isNaN(Ve.length)){var cn=-1,yt=function Mt(){for(;++cn<Ve.length;)if(Xe.call(Ve,cn))return Mt.value=Ve[cn],Mt.done=!1,Mt;return Mt.value=x,Mt.done=!0,Mt};return yt.next=yt}}throw new TypeError(w(Ve)+" is not iterable")}return Ue.prototype=pt,ze(vt,"constructor",{value:pt,configurable:!0}),ze(pt,"constructor",{value:Ue,configurable:!0}),Ue.displayName=Te(pt,A,"GeneratorFunction"),He.isGeneratorFunction=function(Ve){var jt=typeof Ve=="function"&&Ve.constructor;return!!jt&&(jt===Ue||(jt.displayName||jt.name)==="GeneratorFunction")},He.mark=function(Ve){return Object.setPrototypeOf?Object.setPrototypeOf(Ve,pt):(Ve.__proto__=pt,Te(Ve,A,"GeneratorFunction")),Ve.prototype=Object.create(vt),Ve},He.awrap=function(Ve){return{__await:Ve}},Et(st.prototype),Te(st.prototype,nt,function(){return this}),He.AsyncIterator=st,He.async=function(Ve,jt,cn,yt,Mt){Mt===void 0&&(Mt=Promise);var Lt=new st(et(Ve,jt,cn,yt),Mt);return He.isGeneratorFunction(jt)?Lt:Lt.next().then(function(qt){return qt.done?qt.value:Lt.next()})},Et(vt),Te(vt,A,"Generator"),Te(vt,at,function(){return this}),Te(vt,"toString",function(){return"[object Generator]"}),He.keys=function(Ve){var jt=Object(Ve),cn=[];for(var yt in jt)cn.push(yt);return cn.reverse(),function Mt(){for(;cn.length;){var Lt=cn.pop();if(Lt in jt)return Mt.value=Lt,Mt.done=!1,Mt}return Mt.done=!0,Mt}},He.values=lr,Sn.prototype={constructor:Sn,reset:function(Ve){if(this.prev=0,this.next=0,this.sent=this._sent=x,this.done=!1,this.delegate=null,this.method="next",this.arg=x,this.tryEntries.forEach(Ht),!Ve)for(var jt in this)jt.charAt(0)==="t"&&Xe.call(this,jt)&&!isNaN(+jt.slice(1))&&(this[jt]=x)},stop:function(){this.done=!0;var Ve=this.tryEntries[0].completion;if(Ve.type==="throw")throw Ve.arg;return this.rval},dispatchException:function(Ve){if(this.done)throw Ve;var jt=this;function cn(ot,En){return Lt.type="throw",Lt.arg=Ve,jt.next=ot,En&&(jt.method="next",jt.arg=x),!!En}for(var yt=this.tryEntries.length-1;yt>=0;--yt){var Mt=this.tryEntries[yt],Lt=Mt.completion;if(Mt.tryLoc==="root")return cn("end");if(Mt.tryLoc<=this.prev){var qt=Xe.call(Mt,"catchLoc"),an=Xe.call(Mt,"finallyLoc");if(qt&&an){if(this.prev<Mt.catchLoc)return cn(Mt.catchLoc,!0);if(this.prev<Mt.finallyLoc)return cn(Mt.finallyLoc)}else if(qt){if(this.prev<Mt.catchLoc)return cn(Mt.catchLoc,!0)}else{if(!an)throw Error("try statement without catch or finally");if(this.prev<Mt.finallyLoc)return cn(Mt.finallyLoc)}}}},abrupt:function(Ve,jt){for(var cn=this.tryEntries.length-1;cn>=0;--cn){var yt=this.tryEntries[cn];if(yt.tryLoc<=this.prev&&Xe.call(yt,"finallyLoc")&&this.prev<yt.finallyLoc){var Mt=yt;break}}Mt&&(Ve==="break"||Ve==="continue")&&Mt.tryLoc<=jt&&jt<=Mt.finallyLoc&&(Mt=null);var Lt=Mt?Mt.completion:{};return Lt.type=Ve,Lt.arg=jt,Mt?(this.method="next",this.next=Mt.finallyLoc,qe):this.complete(Lt)},complete:function(Ve,jt){if(Ve.type==="throw")throw Ve.arg;return Ve.type==="break"||Ve.type==="continue"?this.next=Ve.arg:Ve.type==="return"?(this.rval=this.arg=Ve.arg,this.method="return",this.next="end"):Ve.type==="normal"&&jt&&(this.next=jt),qe},finish:function(Ve){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var cn=this.tryEntries[jt];if(cn.finallyLoc===Ve)return this.complete(cn.completion,cn.afterLoc),Ht(cn),qe}},catch:function(Ve){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var cn=this.tryEntries[jt];if(cn.tryLoc===Ve){var yt=cn.completion;if(yt.type==="throw"){var Mt=yt.arg;Ht(cn)}return Mt}}throw Error("illegal catch attempt")},delegateYield:function(Ve,jt,cn){return this.delegate={iterator:lr(Ve),resultName:jt,nextLoc:cn},this.method==="next"&&(this.arg=x),qe}},He}g.exports=C,g.exports.__esModule=!0,g.exports.default=g.exports}(M);var R=M.exports(),z=R;try{regeneratorRuntime=R}catch(g){typeof globalThis=="object"?globalThis.regeneratorRuntime=R:Function("r","regeneratorRuntime = r")(R)}function T(g,w){return function(C){if(Array.isArray(C))return C}(g)||function(C,x){var He=C==null?null:typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(He!=null){var Ge,Xe,ze,We,at=[],nt=!0,A=!1;try{if(ze=(He=He.call(C)).next,x===0){if(Object(He)!==He)return;nt=!1}else for(;!(nt=(Ge=ze.call(He)).done)&&(at.push(Ge.value),at.length!==x);nt=!0);}catch(Te){A=!0,Xe=Te}finally{try{if(!nt&&He.return!=null&&(We=He.return(),Object(We)!==We))return}finally{if(A)throw Xe}}return at}}(g,w)||F(g,w)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(g){var w=function(C,x){if(L(C)!="object"||!C)return C;var He=C[Symbol.toPrimitive];if(He!==void 0){var Ge=He.call(C,x||"default");if(L(Ge)!="object")return Ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(C)}(g,"string");return L(w)=="symbol"?w:w+""}function H(g,w,C){return(w=D(w))in g?Object.defineProperty(g,w,{value:C,enumerable:!0,configurable:!0,writable:!0}):g[w]=C,g}var G=defineComponent({name:"Saturation",props:{size:{type:Number,default:160},hue:{type:Number,default:0},saturation:{type:Number,default:0},value:{type:Number,default:0}},emits:["change"],setup:function(g,w){var C=w.emit,x=computed(function(){return{width:"".concat(g.size,"px"),height:"".concat(g.size,"px"),background:"hsl(".concat(g.hue,", 100%, 50%)")}});return{saturationStyle:x,sliderStyle:computed(function(){return{top:"".concat((100-g.value)/100*g.size-5,"px"),left:"".concat(g.saturation*g.size/100-5,"px"),width:"".concat(10,"px"),height:"".concat(10,"px")}}),onSelect:function(He){var Ge=He.target.getBoundingClientRect(),Xe=Ge.left,ze=Ge.top,We=function(nt){var A,Te;nt instanceof MouseEvent?(A=nt.clientX,Te=nt.clientY):nt instanceof TouchEvent&&(A=nt.touches[0].clientX,Te=nt.touches[0].clientY);var et=A-Xe,Qe=Te-ze;et<0&&(et=0),Qe<0&&(Qe=0),et>g.size&&(et=g.size),Qe>g.size&&(Qe=g.size);var $e=et/g.size*100,Ye=100-Qe/g.size*100;C("change",$e,Ye)};We(He);var at=function(){document.removeEventListener("mousemove",We),document.removeEventListener("mouseup",at),document.removeEventListener("touchmove",We),document.removeEventListener("touchend",at)};We(He),He instanceof MouseEvent&&(document.addEventListener("mousemove",We),document.addEventListener("mouseup",at)),He instanceof TouchEvent&&(He.preventDefault(),document.addEventListener("touchmove",We,{passive:!1}),document.addEventListener("touchend",at))}}}});function V(g,w){w===void 0&&(w={});var C=w.insertAt;if(g&&typeof document!="undefined"){var x=document.head||document.getElementsByTagName("head")[0],He=document.createElement("style");He.type="text/css",C==="top"&&x.firstChild?x.insertBefore(He,x.firstChild):x.appendChild(He),He.styleSheet?He.styleSheet.cssText=g:He.appendChild(document.createTextNode(g))}}V(".saturation[data-v-24517fec]{position:relative}.saturation-black[data-v-24517fec],.saturation-white[data-v-24517fec]{cursor:pointer;height:100%;left:0;position:absolute;top:0;width:100%}.saturation-white[data-v-24517fec]{background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.saturation-black[data-v-24517fec]{background:linear-gradient(0deg,#000,transparent)}.slider[data-v-24517fec]{border:1px solid #fff;border-radius:50%;box-shadow:0 0 1px 1px rgba(0,0,0,.3);left:0;pointer-events:none;position:absolute;top:0;z-index:1}"),G.render=function(g,w,C,x,He,Ge){return openBlock(),createElementBlock("div",{class:"saturation",style:normalizeStyle(g.saturationStyle),onMousedown:w[0]||(w[0]=withModifiers(function(){return g.onSelect&&g.onSelect.apply(g,arguments)},["prevent","stop"])),onTouchstart:w[1]||(w[1]=withModifiers(function(){return g.onSelect&&g.onSelect.apply(g,arguments)},["prevent","stop"]))},[w[2]||(w[2]=createBaseVNode("div",{class:"saturation-white"},null,-1)),w[3]||(w[3]=createBaseVNode("div",{class:"saturation-black"},null,-1)),createBaseVNode("div",{class:"slider",style:normalizeStyle(g.sliderStyle)},null,4)],36)},G.__scopeId="data-v-24517fec",G.__file="src/picker/Saturation.vue";var Y=defineComponent({name:"Hue",props:{width:{type:Number,default:15},height:{type:Number,default:160},hue:{type:Number,default:0}},emits:["change"],setup:function(g,w){var C=w.emit,x=computed(function(){return{top:"".concat((1-g.hue/360)*g.height-2,"px"),height:"".concat(4,"px")}}),He=ref();return onMounted(function(){(function(){if(He.value){He.value.width=g.width,He.value.height=g.height;var Ge=He.value.getContext("2d");if(Ge){var Xe=Ge.createLinearGradient(0,0,0,g.height);Xe.addColorStop(0,"#FF0000"),Xe.addColorStop(.17,"#FF00FF"),Xe.addColorStop(.34,"#0000FF"),Xe.addColorStop(.51,"#00FFFF"),Xe.addColorStop(.68,"#00FF00"),Xe.addColorStop(.17*5,"#FFFF00"),Xe.addColorStop(1,"#FF0000"),Ge.fillStyle=Xe,Ge.fillRect(0,0,g.width,g.height)}}})()}),{canvas:He,sliderStyle:x,onSelect:function(Ge){var Xe=Ge.target.getBoundingClientRect().top,ze=function(at){var nt;at instanceof MouseEvent?nt=at.clientY:at instanceof TouchEvent&&(nt=at.touches[0].clientY);var A=nt-Xe;A<0&&(A=0),A>g.height&&(A=g.height);var Te=-100*A/g.height+100;C("change",360*Te/100)},We=function(){document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",We),document.removeEventListener("touchmove",ze),document.removeEventListener("touchend",We)};ze(Ge),Ge instanceof MouseEvent&&(document.addEventListener("mousemove",ze),document.addEventListener("mouseup",We)),Ge instanceof TouchEvent&&(Ge.preventDefault(),document.addEventListener("touchmove",ze,{passive:!1}),document.addEventListener("touchend",We))}}}}),$={ref:"canvas"};V(".hue[data-v-78b9f4f0]{position:relative;touch-action:none}.slider[data-v-78b9f4f0]{background:#fff;box-shadow:0 0 1px 0 rgba(0,0,0,.3);left:0;pointer-events:none;position:absolute;width:100%;z-index:1}"),Y.render=function(g,w,C,x,He,Ge){return openBlock(),createElementBlock("div",{class:"hue",onMousedown:w[0]||(w[0]=withModifiers(function(){return g.onSelect&&g.onSelect.apply(g,arguments)},["prevent","stop"])),onTouchstart:w[1]||(w[1]=withModifiers(function(){return g.onSelect&&g.onSelect.apply(g,arguments)},["prevent","stop"]))},[createBaseVNode("canvas",$,null,512),createBaseVNode("div",{class:"slider",style:normalizeStyle(g.sliderStyle)},null,4)],32)},Y.__scopeId="data-v-78b9f4f0",Y.__file="src/picker/Hue.vue";var X=defineComponent({name:"Alpha",props:{width:{type:Number,default:15},height:{type:Number,default:160},color:{type:String,default:"#000000"},alpha:{type:Number,default:1}},setup:function(g,w){var C=w.emit,x=computed(function(){return{top:"".concat(g.alpha*g.height-2,"px"),height:"".concat(4,"px")}}),He=ref(),Ge=function(){var Xe=He.value.getContext("2d");He.value.width=g.width,He.value.height=g.height;var ze=function(at){var nt=document.createElement("canvas"),A=nt.getContext("2d"),Te=2*at;return nt.width=Te,nt.height=Te,A.fillStyle="#ffffff",A.fillRect(0,0,Te,Te),A.fillStyle="#ccd5db",A.fillRect(0,0,at,at),A.fillRect(at,at,at,at),nt}(5);Xe.fillStyle=Xe.createPattern(ze,"repeat"),Xe.fillRect(0,0,g.width,g.height);var We=Xe.createLinearGradient(0,0,0,g.height);We.addColorStop(.01,"rgba(255,255,255,0)"),We.addColorStop(.99,g.color),Xe.fillStyle=We,Xe.fillRect(0,0,g.width,g.height)};return watch(function(){return g.color},function(){Ge()}),onMounted(function(){Ge()}),{canvas:He,sliderStyle:x,onSelect:function(Xe){var ze=Xe.target.getBoundingClientRect().top,We=function(nt){var A;nt instanceof MouseEvent?A=nt.clientY:nt instanceof TouchEvent&&(A=nt.touches[0].clientY);var Te=A-ze;Te<0&&(Te=0),Te>g.height&&(Te=g.height);var et=parseFloat((Te/g.height).toFixed(2));C("change",et)},at=function(){document.removeEventListener("mousemove",We),document.removeEventListener("mouseup",at),document.removeEventListener("touchmove",We),document.removeEventListener("touchend",at)};We(Xe),Xe instanceof MouseEvent&&(document.addEventListener("mousemove",We),document.addEventListener("mouseup",at)),Xe instanceof TouchEvent&&(Xe.preventDefault(),document.addEventListener("touchmove",We,{passive:!1}),document.addEventListener("touchend",at))}}}}),J={ref:"canvas"};V(".alpha[data-v-24dc9656]{position:relative;touch-action:none}.slider[data-v-24dc9656]{background:#fff;box-shadow:0 0 1px 0 rgba(0,0,0,.3);left:0;pointer-events:none;position:absolute;width:100%;z-index:1}"),X.render=function(g,w,C,x,He,Ge){return openBlock(),createElementBlock("div",{class:"alpha",onMousedown:w[0]||(w[0]=withModifiers(function(){return g.onSelect&&g.onSelect.apply(g,arguments)},["prevent","stop"])),onTouchstart:w[1]||(w[1]=withModifiers(function(){return g.onSelect&&g.onSelect.apply(g,arguments)},["prevent","stop"]))},[createBaseVNode("canvas",J,null,512),createBaseVNode("div",{class:"slider",style:normalizeStyle(g.sliderStyle)},null,4)],32)},X.__scopeId="data-v-24dc9656",X.__file="src/picker/Alpha.vue";var q={rgb:"RGBA",hex:"HEX",hsl:"HSLA",hsv:"HSVA"},U={rgb:"RGB",hex:"HEX",hsl:"HSL",hsv:"HSV"},W={RGB:"rgb",RGBA:"rgb",HEX:"hex",HSL:"hsl",HSLA:"hsl",HSV:"hsv",HSVA:"hsv"};function K(g,w){var C=Object.keys(g);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);w&&(x=x.filter(function(He){return Object.getOwnPropertyDescriptor(g,He).enumerable})),C.push.apply(C,x)}return C}function Q(g){for(var w=1;w<arguments.length;w++){var C=arguments[w]!=null?arguments[w]:{};w%2?K(Object(C),!0).forEach(function(x){H(g,x,C[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(C)):K(Object(C)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(C,x))})}return g}var Z=null,ee=function(g,w,C){var x=ref({}),He=C||{},Ge=He.placement,Xe=He.defaultStyle,ze={strategy:He.strategy||"absolute",placement:Ge||"auto",onFirstUpdate:function(){Z.update()},modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"computeStyles",options:{gpuAcceleration:!1,adaptive:!0}},{name:"flip",options:{allowedAutoPlacements:["top","bottom"]}},{name:"applyStyles",enabled:!1},{name:"updateState",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(We){var at=We.state,nt=at.styles,A=at.placement,Te=nt.popper;x.value=Q(Q(Q({},Te),Xe),{},{transformOrigin:A==="top"?"center bottom":"center top"})}}]};return watch(function(){return[unref(g),unref(w)]},function(We,at){var nt,A=T(We,2),Te=A[0],et=A[1],Qe=T(at,2),$e=Qe[0],Ye=Qe[1];if(Te&&et&&($e!==Te||Ye!==$e)){(nt=Z)===null||nt===void 0||nt.destroy();var ut=Te.$el||Te,ct=et.$el||et;nextTick(function(){Z=createPopper(ut,ct,ze)})}}),onBeforeUnmount(function(){var We;Z&&((We=Z)===null||We===void 0||We.destroy(),Z=null)}),{instance:Z,style:x}},te=defineComponent({props:{value:{type:String,default:"RGBA"},showAlpha:{type:Boolean},options:{type:[Boolean,Array]}},emits:["change"],setup:function(g,w){var C=w.emit,x=ref(null),He=ref(null),Ge=ref(!1),Xe=ee(x,He,{strategy:"fixed",defaultStyle:{zIndex:2}}).style,ze=computed(function(){return Array.isArray(g.options)&&g.options.length>1}),We=computed(function(){var nt=g.options,A=g.showAlpha,Te=g.value;return Array.isArray(nt)?A?nt.map(function(et){return q[et]}).filter(function(et){return!et.includes(Te)}):nt.map(function(et){return U[et]}).filter(function(et){return!et.includes(Te)}):[]}),at=function(nt){var A,Te,et=nt.target;!((A=unref(x))!==null&&A!==void 0&&A.isEqualNode(et))&&(!((Te=unref(x))===null||Te===void 0)&&Te.contains(et))||(Ge.value=!1)};return onMounted(function(){document.addEventListener("mouseup",at,!1)}),onUnmounted(function(){document.removeEventListener("mouseup",at,!1)}),{targetRef:x,selectorRef:He,selectorStyle:Xe,isShowSelector:Ge,isNeedSelect:ze,formatOptions:We,onShow:function(){ze.value&&(Ge.value=!0)},onFormatChange:function(nt){C("change",W[nt])}}}}),re={class:"format"},ne={key:0,class:"arrow"},oe=["onClick"];V(".format[data-v-5f6e8f5e]{position:relative}.label[data-v-5f6e8f5e]{align-items:center;background:#e7e8e9;color:#999;display:flex;float:left;font-weight:500;height:30px;justify-content:center;position:relative;width:60px}[pick-colors-theme=dark] .label[data-v-5f6e8f5e]{background:#252930;color:#999}.arrow[data-v-5f6e8f5e]{height:6px;margin-bottom:4px;margin-left:5px;transform:rotate(135deg);width:6px}.arrow[data-v-5f6e8f5e],[pick-colors-theme=dark] .arrow[data-v-5f6e8f5e]{border-right:1px solid #999;border-top:1px solid #999}.selector[data-v-5f6e8f5e]{align-items:center;background:#f7f8f9;border-radius:5px;box-shadow:0 0 16px 0 rgba(0,0,0,.16);cursor:pointer;display:flex;flex-direction:column;font-weight:400;justify-content:center;padding:4px}[pick-colors-theme=dark] .selector[data-v-5f6e8f5e]{background:#252930;color:#999}.selector-item[data-v-5f6e8f5e]{align-items:center;display:flex;height:30px;justify-content:center;width:60px}.selector-item[data-v-5f6e8f5e]:hover{background:#e1f2fe}[pick-colors-theme=dark] .selector-item[data-v-5f6e8f5e]{color:#fff}[pick-colors-theme=dark] .selector-item[data-v-5f6e8f5e]:hover{background:#0087fa}.active-selector-item[data-v-5f6e8f5e]{background:#e1f2fe}[pick-colors-theme=dark] .active-selector-item[data-v-5f6e8f5e]{background:#0087fa}.v-enter-active[data-v-5f6e8f5e],.v-leave-active[data-v-5f6e8f5e]{opacity:1;transform:scaleY(1);transform-origin:center top;transition:opacity .2s ease-in-out,transform .2s ease-in-out}.v-enter-from[data-v-5f6e8f5e],.v-leave-to[data-v-5f6e8f5e]{opacity:0;transform:scaleY(0)}"),te.render=function(g,w,C,x,He,Ge){return openBlock(),createElementBlock("div",re,[createBaseVNode("div",{class:"label",ref:"targetRef",onClick:w[0]||(w[0]=function(){return g.onShow&&g.onShow.apply(g,arguments)})},[createBaseVNode("span",null,toDisplayString(g.value),1),g.isNeedSelect?(openBlock(),createElementBlock("div",ne)):createCommentVNode("v-if",!0)],512),createVNode(Transition,null,{default:withCtx(function(){return[g.isShowSelector?(openBlock(),createElementBlock("div",{key:0,class:"selector",ref:"selectorRef",style:normalizeStyle(g.selectorStyle)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.formatOptions,function(Xe){return openBlock(),createElementBlock("div",{class:"selector-item",key:Xe,onClick:function(ze){return g.onFormatChange(Xe)}},toDisplayString(Xe),9,oe)}),128))],4)):createCommentVNode("v-if",!0)]}),_:1})])},te.__scopeId="data-v-5f6e8f5e",te.__file="src/picker/input-value/FormatValue.vue";var ae=defineComponent({name:"Input",components:{FormatValue:te},props:{format:{type:String,default:"RGBA"},value:{type:String,default:""},width:{type:Number},showAlpha:{type:Boolean},formatOptions:{type:[Boolean,Array]}},emits:["change","focus","blur","enter","formatChange"],setup:function(g,w){var C=w.emit;return{onInput:function(x){var He;C("change",(He=x.target)===null||He===void 0?void 0:He.value)},valueStyle:computed(function(){return{minWidth:"".concat(g.width,"px"),maxWidth:"".concat(g.width,"px"),width:"".concat(g.width,"px")}}),onFocus:function(){C("focus")},onBlur:function(){C("blur")},onEnter:function(){C("enter")},onFormatChange:function(x){C("formatChange",x)}}}}),ie={class:"input"},ce=[".value"];function le(g,w){var C=Object.keys(g);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);w&&(x=x.filter(function(He){return Object.getOwnPropertyDescriptor(g,He).enumerable})),C.push.apply(C,x)}return C}function ue(g){for(var w=1;w<arguments.length;w++){var C=arguments[w]!=null?arguments[w]:{};w%2?le(Object(C),!0).forEach(function(x){H(g,x,C[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(C)):le(Object(C)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(C,x))})}return g}V(".input[data-v-2c454c00]{display:flex;font-size:12px}.value[data-v-2c454c00]{background:#eceef0;border:1px solid #eceef0;box-sizing:border-box;color:#666;flex:1;height:30px;text-align:center}[pick-colors-theme=dark] .value[data-v-2c454c00]{background:#2e333a;border:1px solid #2e333a;color:#fff}.value[data-v-2c454c00]:focus{border:1px solid #1890ff;outline:none}"),ae.render=function(g,w,C,x,He,Ge){var Xe=resolveComponent("FormatValue");return openBlock(),createElementBlock("div",ie,[createVNode(Xe,{value:g.format,showAlpha:g.showAlpha,options:g.formatOptions,onChange:g.onFormatChange},null,8,["value","showAlpha","options","onChange"]),createBaseVNode("input",{class:"value",style:normalizeStyle(g.valueStyle),".value":g.value,onFocus:w[0]||(w[0]=function(){return g.onFocus&&g.onFocus.apply(g,arguments)}),onInput:w[1]||(w[1]=function(){return g.onInput&&g.onInput.apply(g,arguments)}),onBlur:w[2]||(w[2]=function(){return g.onBlur&&g.onBlur.apply(g,arguments)}),onKeydown:w[3]||(w[3]=withKeys(function(){return g.onEnter&&g.onEnter.apply(g,arguments)},["enter"]))},null,44,ce)])},ae.__scopeId="data-v-2c454c00",ae.__file="src/picker/input-value/InputValue.vue";var se=function(g,w,C){return[g,w*C/((g=(2-w)*C)<1?g:2-g)||0,g/2]},fe={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},de=function(g){g=Math.min(Math.round(g),255);var w=Math.floor(g/16),C=g%16;return"".concat(fe[w]||w).concat(fe[C]||C)},pe=function(g){var w=g.r,C=g.g,x=g.b;return isNaN(w)||isNaN(C)||isNaN(x)?"":"#".concat(de(w)).concat(de(C)).concat(de(x))},ve=function(g,w){var C;typeof(C=g)=="string"&&C.indexOf(".")!==-1&&parseFloat(C)===1&&(g="100%");var x=function(He){return typeof He=="string"&&He.indexOf("%")!==-1}(g);return g=Math.min(w,Math.max(0,parseFloat("".concat(g)))),x&&(g=parseInt("".concat(g*w),10)/100),Math.abs(g-w)<1e-6?1:g%w/parseFloat(w)},he=function(g,w,C){g=6*ve(g,360),w=ve(w,100),C=ve(C,100);var x=Math.floor(g),He=g-x,Ge=C*(1-w),Xe=C*(1-He*w),ze=C*(1-(1-He)*w),We=x%6,at=[C,Xe,Ge,Ge,ze,C][We],nt=[ze,C,C,Xe,Ge,Ge][We],A=[Ge,Ge,ze,C,C,Xe][We];return{r:Math.round(255*at),g:Math.round(255*nt),b:Math.round(255*A)}},me=function(g,w,C){var x,He,Ge=g.h,Xe=g.s,ze=g.v,We=g.a;if(C)switch(["hsl","hsv","rga"].includes(w)&&(We=(He=(x=We).toString().match(/\.(\d{1,2})(\d*)/))&&He[2].length>0?parseFloat(x.toFixed(2)):x),w){case"hsl":var at=se(Ge,Xe/100,ze/100);return"hsla(".concat(Ge.toFixed(0),", ").concat(Math.round(100*at[1]),"%, ").concat(Math.round(100*at[2]),"%, ").concat(We,")");case"hsv":return"hsva(".concat(Ge.toFixed(0),", ").concat(Math.round(Xe),"%, ").concat(Math.round(ze),"%, ").concat(We,")");case"rgb":var nt=he(Ge,Xe,ze),A=nt.r,Te=nt.g,et=nt.b;return"rgba(".concat(A,", ").concat(Te,", ").concat(et,", ").concat(We,")");default:return"".concat(pe(he(Ge,Xe,ze))).concat(de(255*We))}else switch(w){case"hsl":var Qe=se(Ge,Xe/100,ze/100);return"hsl(".concat(Ge.toFixed(0),", ").concat(Math.round(100*Qe[1]),"%, ").concat(Math.round(100*Qe[2]),"%)");case"hsv":return"hsv(".concat(Ge.toFixed(0),", ").concat(Math.round(Xe),"%, ").concat(Math.round(ze),"%)");case"rgb":var $e=he(Ge,Xe,ze),Ye=$e.r,ut=$e.g,ct=$e.b;return"rgb(".concat(Ye,", ").concat(ut,", ").concat(ct,")");default:return pe(he(Ge,Xe,ze))}},ge=function(g){var w=g.r,C=g.g,x=g.b;w=ve(w,255),C=ve(C,255),x=ve(x,255);var He,Ge=Math.max(w,C,x),Xe=Math.min(w,C,x),ze=Ge,We=Ge-Xe,at=Ge===0?0:We/Ge;if(Ge===Xe)He=0;else{switch(Ge){case w:He=(C-x)/We+(C<x?6:0);break;case C:He=(x-w)/We+2;break;case x:He=(w-C)/We+4}He/=6}return{h:360*He,s:100*at,v:100*ze}},ye=function(g){var w=g.h,C=g.s,x=g.l;x/=100;var He=C/=100,Ge=Math.max(x,.01);return C*=(x*=2)<=1?x:2-x,He*=Ge<=1?Ge:2-Ge,{h:+w,s:100*(x===0?2*He/(Ge+He):2*C/(x+C)),v:100*((x+C)/2)}},be=function(g){var w=[];if(g.match(/^#([0-9a-fA-f]{3,4})$/g))for(var C=1;C<g.length;C++)w.push(parseInt("0x"+g[C].repeat(2)));else if(g.match(/^#([0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/g))for(var x=1;x<g.length;x+=2)w.push(parseInt("0x"+g.slice(x,x+2)));return{r:w[0],g:w[1],b:w[2],a:w[3]}},xe=function(g,w,C){if(typeof g=="string"&&g!==""){var x=Ce(g,Oe(g),C),He=Ee(x);return He==null?"":me(He,w,C)}return""},we=function(g){var w=T(g.match(/(\d(\.\d+)?)+/g),4);return{r:w[0],g:w[1],b:w[2],a:w[3]}},Se=function(g){var w=T(g.match(/(\d(\.\d+)?)+/g),4),C=w[0],x=w[1],He=w[2],Ge=w[3];return{h:C,s:parseFloat(x),l:parseFloat(He),a:Ge}},ke=function(g){var w=T(g.match(/(\d(\.\d+)?)+/g),4),C=w[0],x=w[1],He=w[2],Ge=w[3];return{h:parseFloat(C),s:parseFloat(x),v:parseFloat(He),a:parseFloat(Ge)}},Ce=function(g,w){if(!(arguments.length>2&&arguments[2]!==void 0)||arguments[2])switch(w){case"rgb":var C=we(g),x=C.r,He=C.g,Ge=C.b,Xe=C.a;return ue(ue({},ge({r:x,g:He,b:Ge})),{},{a:+Xe});case"hsv":var ze=ke(g);return{h:ze.h,s:ze.s,v:ze.v,a:ze.a};case"hsl":var We=Se(g),at=We.h,nt=We.s,A=We.l,Te=We.a;return ue(ue({},ye({h:at,s:nt,l:A})),{},{a:+Te});default:var et=be(g),Qe=et.r,$e=et.g,Ye=et.b,ut=et.a;return ue(ue({},ge({r:Qe,g:$e,b:Ye})),{},{a:ut/255})}else switch(w){case"rgb":return ue(ue({},ge(we(g))),{},{a:1});case"hsv":var ct=ke(g);return{h:ct.h,s:ct.s,v:ct.v,a:1};case"hsl":return ue(ue({},ye(Se(g))),{},{a:1});default:return ue(ue({},ge(be(g))),{},{a:1})}},Oe=function(g){return g.match(/^#/)?"hex":g.match(/^rgb/)?"rgb":g.match(/^hsl/)?"hsl":g.match(/^hsv/)?"hsv":"hex"},Ee=function(g){var w=g.h,C=g.s,x=g.v,He=g.a;return isNaN(w)&&isNaN(C)&&isNaN(x)?null:(isNaN(w)&&(w=0),isNaN(C)&&(C=0),isNaN(x)&&(x=0),isNaN(He)&&(He=1),{h:w,s:C,v:x,a:He})},Ae=defineComponent({name:"ColorItem",props:{size:{type:[Number,String],default:20},width:{type:[Number,String]},height:{type:[Number,String]},value:{type:String,default:""},border:{type:Boolean,default:!0},borderRadius:{type:Number,default:5},selected:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}},emits:["select"],setup:function(g){var w=ref(),C=inject("theme",{theme:"light"}).theme,x=computed(function(){return parseFloat((g.width||g.size)+"")}),He=computed(function(){return parseFloat((g.height||g.size)+"")}),Ge=computed(function(){return{width:"".concat(unref(x),"px"),height:"".concat(unref(He),"px"),border:g.border?"1px solid ".concat(unref(C)==="dark"?"#434345":"#d9d9d9"):"",borderRadius:"".concat(g.borderRadius,"px"),boxShadow:g.selected?"0 0 3px 2px ".concat(unref(C)==="dark"?"#2681ff":"#1890ff"):""}}),Xe=function(){var ze=w.value.getContext("2d");w.value.width=unref(x),w.value.height=unref(He);var We=function(at){var nt=document.createElement("canvas"),A=nt.getContext("2d"),Te=2*at;return nt.width=Te,nt.height=Te,A.fillStyle="#ffffff",A.fillRect(0,0,Te,Te),A.fillStyle="#ccd5db",A.fillRect(0,0,at,at),A.fillRect(at,at,at,at),nt}(5);ze.fillStyle=ze.createPattern(We,"repeat"),ze.fillRect(0,0,unref(x),unref(He)),ze.fillStyle=g.value,ze.fillRect(0,0,unref(x),unref(He))};return watch(function(){return g.value},function(){Xe()}),onMounted(function(){Xe()}),{canvas:w,colorItemStyle:Ge}}}),Ne=["draggable"];V(".color-item[data-v-02da71fd]{display:inline-block;vertical-align:top}"),Ae.render=function(g,w,C,x,He,Ge){return openBlock(),createElementBlock("canvas",{class:"color-item",style:normalizeStyle(g.colorItemStyle),ref:"canvas",draggable:g.draggable},null,12,Ne)},Ae.__scopeId="data-v-02da71fd",Ae.__file="src/color-item/ColorItem.vue";var Ie=defineComponent({name:"Colors",components:{ColorItem:Ae},props:{colors:{type:Array,default:function(){return[]}},selectedIndex:{type:Number,default:-1}},emits:["change"],setup:function(g,w){var C=w.emit;return{onSelectColor:function(x,He){C("change",x,He)},useColors:computed(function(){return g.colors.map(function(x){return xe(x,"hex",!0)})})}}}),Fe={class:"colors"};function _e(g,w){var C=Object.keys(g);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);w&&(x=x.filter(function(He){return Object.getOwnPropertyDescriptor(g,He).enumerable})),C.push.apply(C,x)}return C}function Le(g){for(var w=1;w<arguments.length;w++){var C=arguments[w]!=null?arguments[w]:{};w%2?_e(Object(C),!0).forEach(function(x){H(g,x,C[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(C)):_e(Object(C)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(C,x))})}return g}V(".colors[data-v-0f8b52a8]{align-items:center;display:flex;flex-wrap:wrap;margin-top:5px}.color-item[data-v-0f8b52a8]{margin:5px}"),Ie.render=function(g,w,C,x,He,Ge){var Xe=resolveComponent("color-item");return openBlock(),createElementBlock("div",Fe,[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.useColors,function(ze,We){return openBlock(),createBlock(Xe,{key:We,class:"color-item",size:16,value:ze,border:!1,"border-radius":3,selected:g.selectedIndex===We,onClick:withModifiers(function(at){return g.onSelectColor(ze,+We)},["stop","prevent"])},null,8,["value","selected","onClick"])}),128))])},Ie.__scopeId="data-v-0f8b52a8",Ie.__file="src/picker/Colors.vue";var Pe=defineComponent({name:"Picker",components:{Colors:Ie,Saturation:G,Hue:Y,Alpha:X,InputValue:ae},props:{format:{type:String,default:"hex"},showAlpha:{type:Boolean,default:!1},value:{type:String,default:""},colors:{type:Array,default:function(){return[]}},style:{type:Object,default:function(){return{}}},formatOptions:{type:[Boolean,Array]}},emits:["change","formatChange"],setup:function(g,w){var C=w.emit,x=computed(function(){return Le(Le({},g.style),{},{width:g.showAlpha?"230px":"205px"})}),He=ref(),Ge=ref(),Xe=ref(),ze=function(){var $e,Ye=($e=g.value)===null||$e===void 0?void 0:$e.trim();if(Ye!=null&&Ye!==""){var ut=Oe(Ye);return Ee(Ce(Ye,ut,g.showAlpha))}return null};watch(function(){return g.value},function(){g.value!==unref(Xe)&&(He.value=ze())},{immediate:!0}),watch(function(){return[unref(He),g.format]},function($e){var Ye=T($e,2),ut=Ye[0],ct=Ye[1],qe="";ut!=null?(qe=me(Le({},ut),g.format,g.showAlpha),Ge.value=Le({},ut)):Ge.value=null,Xe.value=qe;var lt=ze();JSON.stringify(ut)!==JSON.stringify(lt)&&JSON.stringify(ut)!==JSON.stringify(ct)&&C("change",qe)},{immediate:!0});var We=computed(function(){var $e;return(($e=unref(He))===null||$e===void 0?void 0:$e.h)||0}),at=computed(function(){var $e;return(($e=unref(He))===null||$e===void 0?void 0:$e.s)||0}),nt=computed(function(){var $e;return(($e=unref(He))===null||$e===void 0?void 0:$e.v)||0}),A=computed(function(){var $e,Ye;return(($e=unref(He))===null||$e===void 0?void 0:$e.a)!=null?(Ye=unref(He))===null||Ye===void 0?void 0:Ye.a:1}),Te=computed(function(){return he(unref(We),unref(at),unref(nt))}),et=computed(function(){return"rgb(".concat(unref(Te).r,", ").concat(unref(Te).g,", ").concat(unref(Te).b,")")}),Qe=ref(-1);return{h:We,s:at,v:nt,a:A,rgbStr:et,onSelectSaturation:function($e,Ye){Qe.value=-1,unref(He)==null?He.value={h:unref(We),s:$e,v:Ye,a:unref(A)}:He.value=Le(Le({},unref(He)),{},{s:$e,v:Ye})},onSelectHue:function($e){Qe.value=-1,unref(He)==null&&(He.value={h:$e,s:unref(at),v:unref(nt),a:unref(A)}),He.value=Le(Le({},unref(He)),{},{h:$e})},onSelectAlpha:function($e){Qe.value=-1,unref(He)==null?He.value={h:unref(We),s:unref(at),v:unref(nt),a:$e}:He.value=Le(Le({},unref(He)),{},{a:$e})},handleInputFormat:function($e){return g.showAlpha?q[$e]:U[$e]},colorValue:Xe,pickerStyle:x,onInputChange:function($e){Qe.value=-1,Xe.value=$e},handleChange:function(){var $e,Ye=($e=unref(Xe))===null||$e===void 0?void 0:$e.trim();if(Ye!==""){var ut=g.showAlpha,ct=Oe(Ye),qe=Ee(Ce(Ye,ct,ut)),lt=function(Ue){if(!Ue)return!1;var pt=Ue.h,It=Ue.s,Tt=Ue.v,mt=Ue.a;return!(isNaN(pt)||isNaN(It)||isNaN(Tt)||isNaN(mt))}(qe);lt?He.value=qe:unref(Ge)!=null?He.value=unref(Ge):Xe.value=""}else He.value=null},selectColorIndex:Qe,onSelectColor:function($e,Ye){if(Qe.value=Ye,($e=$e.trim())==="")He.value=null;else{var ut=Oe($e);ut?function(ct,qe,lt){if(ct.length!==0){var Ue=Ce(ct,qe,lt),pt=Ue.h,It=Ue.s,Tt=Ue.v;if(!(isNaN(pt)||isNaN(It)||isNaN(Tt))){var mt=1,vt=Ue.a;isNaN(vt)||(mt=vt),He.value={h:pt,s:It,v:Tt,a:mt}}}}($e,ut,!0):He.value=null}},onFormatChange:function($e){C("formatChange",$e)}}}}),je={class:"picker-inner"},Me={class:"picker-header"};V(".picker[data-v-6ceadec6]{background:#f7f8f9;border-radius:4px;box-shadow:0 0 16px 0 rgba(0,0,0,.16)}.picker-inner[data-v-6ceadec6]{padding:10px}[pick-colors-theme=dark] .picker-inner[data-v-6ceadec6]{background:#1d2024;box-shadow:0 0 16px 0 rgba(0,0,0,.16)}.picker-header[data-v-6ceadec6]{display:flex;margin-bottom:5px}.alpha[data-v-6ceadec6],.hue[data-v-6ceadec6]{margin-left:10px}.colors[data-v-6ceadec6]{margin-top:5px}"),Pe.render=function(g,w,C,x,He,Ge){var Xe=resolveComponent("saturation"),ze=resolveComponent("hue"),We=resolveComponent("alpha"),at=resolveComponent("input-value"),nt=resolveComponent("Colors");return openBlock(),createElementBlock("div",{class:"picker",style:normalizeStyle(g.pickerStyle)},[createBaseVNode("div",je,[createBaseVNode("div",Me,[createVNode(Xe,{class:"saturation",hue:g.h,saturation:g.s,value:g.v,onChange:g.onSelectSaturation},null,8,["hue","saturation","value","onChange"]),createVNode(ze,{class:"hue",hue:g.h,onChange:g.onSelectHue},null,8,["hue","onChange"]),g.showAlpha?(openBlock(),createBlock(We,{key:0,class:"alpha",alpha:g.a,color:g.rgbStr,onChange:g.onSelectAlpha},null,8,["alpha","color","onChange"])):createCommentVNode("v-if",!0)]),createVNode(at,{format:g.handleInputFormat(g.format),value:g.colorValue,showAlpha:g.showAlpha,width:g.showAlpha?150:125,formatOptions:g.formatOptions,onChange:g.onInputChange,onBlur:g.handleChange,onEnter:g.handleChange,onFormatChange:g.onFormatChange},null,8,["format","value","showAlpha","width","formatOptions","onChange","onBlur","onEnter","onFormatChange"]),g.colors.length>0?(openBlock(),createBlock(nt,{key:0,class:"colors",colors:g.colors,"selected-index":g.selectColorIndex,onChange:g.onSelectColor},null,8,["colors","selected-index","onChange"])):createCommentVNode("v-if",!0)])],4)},Pe.__scopeId="data-v-6ceadec6",Pe.__file="src/picker/Picker.vue";var Be=defineComponent({name:"AddColorItem",props:{size:{type:Number,default:20},selected:{type:Boolean,default:!1}},setup:function(g){var w=inject("theme",{theme:"light"}).theme;return{addColorItemStyle:computed(function(){return{width:"".concat(g.size,"px"),height:"".concat(g.size,"px"),lineHeight:"".concat(g.size,"px"),boxShadow:g.selected?"0 0 3px 2px ".concat(unref(w)==="dark"?"#2681ff":"#1890ff"):""}})}}});V(".add-color-item[data-v-ceb1719c]{background:#fff;border:1px solid #d9d9d9;border-radius:5px;vertical-align:top}.container[data-v-ceb1719c]{pointer-events:none;transform:scale(.9);transform-origin:center}[pick-colors-theme=dark] .add-color-item[data-v-ceb1719c]{background:#141414;border:1px solid #434343}path[data-v-ceb1719c]{fill:#000}[pick-colors-theme=dark] path[data-v-ceb1719c]{fill:#fff}"),Be.render=function(g,w,C,x,He,Ge){return openBlock(),createElementBlock("svg",{class:"add-color-item",style:normalizeStyle(g.addColorItemStyle),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},w[0]||(w[0]=[createBaseVNode("g",{class:"container"},[createBaseVNode("path",{d:"M544 464V160h-80v304H160v80h304v304h80V544h304v-80z"})],-1)]),4)},Be.__scopeId="data-v-ceb1719c",Be.__file="src/add-color-item/AddColorItem.vue";var Re=defineComponent({name:"ColorPicker",components:{ColorItem:Ae,Picker:Pe,AddColorItem:Be},props:{value:{type:[String,Array]},theme:{type:String,default:"light"},size:{type:[Number,String],default:20},width:{type:[Number,String]},height:{type:[Number,String]},format:{type:String},showPicker:{type:Boolean,default:void 0},showAlpha:{type:Boolean,default:!1},addColor:{type:Boolean,default:!1},deleteColor:{type:Boolean,default:!0},max:{type:Number,default:13},popupContainer:{type:[String,Object,Boolean],default:"body"},zIndex:{type:Number,default:1e3},colors:{type:Array,default:function(){return["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","#ff4500","#ff7d4d","#00babd","#1f93ff","#fa64c3"]}},position:{type:String},placement:{type:String},formatOptions:{type:[Boolean,Array],default:!1}},emits:["change","update:value","update:showPicker","overflowMax","closePicker","formatChange"],setup:function(g,w){var C=w.emit,x=ref([]),He=computed(function(){return unref(x).map(function(mt){return xe(mt,"hex",g.showAlpha)})}),Ge=ref("hex");watch(function(){return g.format},function(){Ge.value=g.format},{immediate:!0}),watch(function(){return g.value},function(){var mt=g.value||"",vt=Array.isArray(mt)?mt:[mt];x.value=vt.map(function(Et){return xe(Et,unref(Ge),g.showAlpha)})},{immediate:!0});var Xe=ref(void 0),ze=computed(function(){return unref(x)[unref(Xe)]}),We=ref(!1);watch(function(){return g.showPicker},function(){We.value=g.showPicker},{immediate:!0});var at,nt,A=ref(null),Te=ref(null),et=ee(A,Te,{defaultStyle:{zIndex:g.zIndex},strategy:g.position,placement:g.placement}).style,Qe=function(){unref(A)==null&&(A.value=unref(Tt)[0]),unref(Xe)==null&&(Xe.value=0),g.showPicker===void 0?We.value=!0:C("update:showPicker",!0)},$e=function(){Xe.value=void 0,g.showPicker===void 0?We.value=!1:C("update:showPicker",!1),C("closePicker",toRaw(Array.isArray(g.value)||g.addColor?unref(x):unref(x)[0]))},Ye=ref(),ut=function(){var mt=j(z.mark(function vt(Et){var st,At,nn,wn;return z.wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:if(At=Et.target,(nn=(st=At.dataset)===null||st===void 0?void 0:st.index)!=null&&nn!==""){Ht.next=4;break}return Ht.abrupt("return");case 4:if(wn=+nn,unref(Xe)!==wn){Ht.next=7;break}return Ht.abrupt("return");case 7:unref(Xe)!=null&&unref(Xe)!==wn?($e(),at&&clearTimeout(at),at=setTimeout(function(){Qe(),clearTimeout(at)},100)):Qe(),Xe.value=wn,A.value=At;case 10:case"end":return Ht.stop()}},vt)}));return function(vt){return mt.apply(this,arguments)}}(),ct=function(){var mt=j(z.mark(function vt(Et){var st,At,nn,wn,Ht;return z.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:if(wn=Et.target,!(!((st=unref(Ye))!==null&&st!==void 0&&st.isEqualNode(wn))&&(!((At=unref(Ye))===null||At===void 0)&&At.contains(wn)))){Sn.next=4;break}return Sn.abrupt("return");case 4:if(Ht=(nn=unref(Te))===null||nn===void 0?void 0:nn.$el,!(Ht!=null&&Ht.contains(wn))){Sn.next=8;break}return Sn.abrupt("return");case 8:nt&&clearTimeout(nt),nt=setTimeout(function(){unref(We)&&$e()},0);case 10:case"end":return Sn.stop()}},vt)}));return function(vt){return mt.apply(this,arguments)}}();watch(We,function(){unref(We)&&(Qe(),clearTimeout(nt))});var qe,lt=ref(g.max>unref(x).length),Ue=computed(function(){return typeof g.popupContainer=="string"||L(g.popupContainer)==="object"&&g.popupContainer!=null?g.popupContainer:"body"}),pt=computed(function(){return typeof g.popupContainer=="boolean"&&g.popupContainer===!1}),It=computed(function(){return g.theme});watch(function(){return[g.theme,unref(Te)]},function(){nextTick(function(){var mt,vt;(mt=unref(Ye))===null||mt===void 0||mt.setAttribute("pick-colors-theme",unref(It)),(vt=unref(Te))===null||vt===void 0||(vt=vt.$el)===null||vt===void 0||vt.setAttribute("pick-colors-theme",unref(It))})},{immediate:!0}),provide("theme",{theme:It});var Tt=ref([]);return onMounted(function(){document.addEventListener("mouseup",ct,!1),g.showPicker&&Qe()}),onUnmounted(function(){document.removeEventListener("mouseup",ct,!1),at&&(clearTimeout(at),at=null),nt&&(clearTimeout(nt),nt=null)}),{valueList:x,colorItemSelected:function(mt){return(g.addColor?unref(x).length>0:unref(x).length>1)&&unref(Xe)===mt},selectedColor:ze,selectedIndex:Xe,isShowPicker:We,addColorItemShow:lt,onPickerChange:function(mt){var vt=unref(Xe),Et=unref(x).slice(),st=unref(x).length;if(vt!=null){vt>=0?Et[vt]=mt:(Xe.value=st,Et.push(mt));var At="";At=Array.isArray(g.value)||g.addColor?Et:mt,x.value=Array.isArray(At)?At:[At],C("update:value",At),C("change",At,mt,vt),g.addColor&&st>=g.max&&(lt.value=!1,C("overflowMax"))}},colorPicker:Ye,onColorClick:ut,pickerRef:Te,onColorItemDragStart:function(mt){mt.dataTransfer.effectAllowed="move";var vt=mt.target;qe=+vt.dataset.index},onColorItemDragOver:function(mt){},onColorItemDrop:function(mt){var vt=+mt.target.dataset.index,Et=_(unref(x)),st=Et[qe];Et.splice(qe,1);var At=Et.slice(0,vt),nn=Et.splice(vt),wn=At.concat([st]).concat(nn);C("update:value",wn),C("change",wn,wn[qe],qe)},colorItemsRef:Tt,pickerStyle:et,values:He,teleportDisabled:pt,toPopupContainer:Ue,formatValue:Ge,onFormatChange:function(mt){Ge.value=mt,C("formatChange",mt)}}}});V(".color-picker[data-v-3c43ade8]{display:inline-block}.color-item[data-v-3c43ade8]{margin:5px}.add-color-item[data-v-3c43ade8]{display:inline-block;margin:5px}.picker[data-v-3c43ade8]{overflow:hidden}.v-enter-active[data-v-3c43ade8],.v-leave-active[data-v-3c43ade8]{opacity:1;transform:scaleY(1);transform-origin:center top;transition:opacity .2s ease-in-out,transform .2s ease-in-out}.v-enter-from[data-v-3c43ade8],.v-leave-to[data-v-3c43ade8]{opacity:0;transform:scaleY(0)}"),Re.render=function(g,w,C,x,He,Ge){var Xe=resolveComponent("color-item"),ze=resolveComponent("add-color-item"),We=resolveComponent("picker");return openBlock(),createElementBlock("div",{class:"color-picker",ref:"colorPicker",onDragstart:w[0]||(w[0]=withModifiers(function(){return g.onColorItemDragStart&&g.onColorItemDragStart.apply(g,arguments)},["stop"])),onDragover:w[1]||(w[1]=withModifiers(function(){return g.onColorItemDragOver&&g.onColorItemDragOver.apply(g,arguments)},["prevent","stop"])),onDrop:w[2]||(w[2]=withModifiers(function(){return g.onColorItemDrop&&g.onColorItemDrop.apply(g,arguments)},["prevent","stop"])),onClick:w[3]||(w[3]=withModifiers(function(){return g.onColorClick&&g.onColorClick.apply(g,arguments)},["stop"]))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.values,function(at,nt){return openBlock(),createBlock(Xe,{class:"color-item",key:nt,ref_for:!0,ref:function(A){return g.colorItemsRef[nt]=A},size:g.size,width:g.width,height:g.height,value:at,selected:g.colorItemSelected(nt),"data-index":nt,draggable:g.valueList.length>1,format:g.formatValue},null,8,["size","width","height","value","selected","data-index","draggable","format"])}),128)),g.addColor&&g.addColorItemShow?(openBlock(),createBlock(ze,{key:0,class:"add-color-item",ref:"addColorItem",selected:g.colorItemSelected(-1),"data-index":-1},null,8,["selected"])):createCommentVNode("v-if",!0),(openBlock(),createBlock(Teleport,{to:g.toPopupContainer,disabled:g.teleportDisabled},[createVNode(Transition,null,{default:withCtx(function(){return[g.isShowPicker?(openBlock(),createBlock(We,{key:0,class:"picker",style:normalizeStyle(g.pickerStyle),ref:"pickerRef",value:g.selectedColor,format:g.formatValue,"show-alpha":g.showAlpha,colors:g.colors,formatOptions:g.formatOptions,onChange:g.onPickerChange,onFormatChange:g.onFormatChange},null,8,["style","value","format","show-alpha","colors","formatOptions","onChange","onFormatChange"])):createCommentVNode("v-if",!0)]}),_:1})],8,["to","disabled"]))],544)},Re.__scopeId="data-v-3c43ade8",Re.__file="src/ColorPicker.vue";const _sfc_main$E=defineComponent({name:"ApiRadioGroup",__name:"ApiRadioGroup",props:{api:{type:Function,default:null},params:{type:[Object,String],default:()=>({})},value:{type:[String,Number,Boolean]},isBtn:{type:[Boolean],default:!1},numberToString:propTypes.bool,resultField:propTypes.string.def(""),labelField:propTypes.string.def("label"),valueField:propTypes.string.def("value"),immediate:propTypes.bool.def(!0)},emits:["options-change","change"],setup(g,{emit:w}){const C=g,x=w,He=ref([]),Ge=ref(!1),Xe=ref(!0),ze=ref([]),We=useAttrs(),[at]=useRuleFormItem(C,"value","change",ze),nt=computed(()=>{const{labelField:Qe,valueField:$e,numberToString:Ye}=C;return unref(He).reduce((ut,ct)=>{if(ct){const qe=ct[$e];ut.push(ca({label:ct[Qe],value:Ye?`${qe}`:qe},omit(ct,[Qe,$e])))}return ut},[])});watchEffect(()=>{C.immediate&&A()}),watch(()=>C.params,()=>{!unref(Xe)&&A()},{deep:!0});function A(){return ro(this,null,function*(){const Qe=C.api;if(!(!Qe||!isFunction$1(Qe))){He.value=[];try{Ge.value=!0;const $e=yield Qe(C.params);if(Array.isArray($e)){He.value=$e,Te();return}C.resultField&&(He.value=get($e,C.resultField)||[]),Te()}catch($e){}finally{Ge.value=!1}}})}function Te(){x("options-change",unref(nt))}function et(...Qe){ze.value=Qe}return(Qe,$e)=>(openBlock(),createBlock(unref(Radio).Group,mergeProps(unref(We),{value:unref(at),"onUpdate:value":$e[0]||($e[0]=Ye=>isRef(at)?at.value=Ye:null),"button-style":"solid"}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(nt.value,Ye=>(openBlock(),createElementBlock(Fragment,{key:`${Ye.value}`},[C.isBtn?(openBlock(),createBlock(unref(Radio).Button,{key:0,value:Ye.value,disabled:Ye.disabled,onClick:ut=>et(Ye)},{default:withCtx(()=>[createTextVNode(toDisplayString(Ye.label),1)]),_:2},1032,["value","disabled","onClick"])):(openBlock(),createBlock(unref(Radio),{key:1,value:Ye.value,disabled:Ye.disabled,onClick:ut=>et(Ye)},{default:withCtx(()=>[createTextVNode(toDisplayString(Ye.label),1)]),_:2},1032,["value","disabled","onClick"]))],64))),128))]),_:1},16,["value"]))}}),_sfc_main$D=defineComponent({name:"ApiSelect",inheritAttrs:!1,__name:"ApiSelect",props:{value:{type:[Array,Object,String,Number]},numberToString:propTypes.bool,api:{type:Function,default:null},params:propTypes.any.def({}),resultField:propTypes.string.def(""),labelField:propTypes.string.def("label"),valueField:propTypes.string.def("value"),immediate:propTypes.bool.def(!0),alwaysLoad:propTypes.bool.def(!1),options:{type:Array,default:[]}},emits:["options-change","change","update:value"],setup(g,{emit:w}){const C=g,x=w,He=ref([]),Ge=ref(!1),Xe=ref(!1),ze=ref([]),{t:We}=useI18n(),[at]=useRuleFormItem(C,"value","change",ze),nt=computed(()=>{const{labelField:Ye,valueField:ut,numberToString:ct}=C;let qe=unref(He).reduce((lt,Ue)=>{if(Ue){const pt=get(Ue,ut);lt.push(Pu(ca({},omit(Ue,[Ye,ut])),{label:get(Ue,Ye),value:ct?`${pt}`:pt}))}return lt},[]);return qe.length>0?qe:C.options}),A=(Ye,ut)=>ut.label.toLowerCase().indexOf(Ye.toLowerCase())>=0;watch(()=>at.value,Ye=>{x("update:value",Ye)}),watch(()=>C.params,()=>{!unref(Xe)&&Te()},{deep:!0,immediate:C.immediate});function Te(){return ro(this,null,function*(){const Ye=C.api;if(!(!Ye||!isFunction$1(Ye)||Ge.value)){He.value=[];try{Ge.value=!0;const ut=yield Ye(C.params);if(Xe.value=!0,Array.isArray(ut)){He.value=ut,Qe();return}C.resultField&&(He.value=get(ut,C.resultField)||[]),Qe()}catch(ut){}finally{Ge.value=!1,Xe.value=!1}}})}function et(Ye){return ro(this,null,function*(){Ye&&(C.alwaysLoad?yield Te():!C.immediate&&!unref(Xe)&&(yield Te()))})}function Qe(){x("options-change",unref(nt))}function $e(Ye,...ut){ze.value=ut}return(Ye,ut)=>(openBlock(),createBlock(unref(Select),mergeProps({onDropdownVisibleChange:et},Ye.$attrs,{"show-search":"","filter-option":A,onChange:$e,options:nt.value,value:unref(at),"onUpdate:value":ut[0]||(ut[0]=ct=>isRef(at)?at.value=ct:null)}),createSlots({_:2},[renderList(Object.keys(Ye.$slots),ct=>({name:ct,fn:withCtx(qe=>[renderSlot(Ye.$slots,ct,normalizeProps(guardReactiveProps(qe||{})))])})),Ge.value?{name:"suffixIcon",fn:withCtx(()=>[createVNode(unref(LoadingOutlined),{spin:""})]),key:"0"}:void 0,Ge.value?{name:"notFoundContent",fn:withCtx(()=>[createBaseVNode("span",null,[createVNode(unref(LoadingOutlined),{spin:"",class:"mr-1"}),createTextVNode(" "+toDisplayString(unref(We)("component.form.apiSelectNotFound")),1)])]),key:"1"}:void 0]),1040,["options","value"]))}}),_sfc_main$C=defineComponent({name:"ApiTree",__name:"ApiTree",props:{api:{type:Function},params:{type:Object},immediate:{type:Boolean,default:!0},resultField:{type:String,default:""},afterFetch:{type:Function},value:{type:Array}},emits:["options-change","change","update:value"],setup(g,{emit:w}){const C=g,x=w,He=useAttrs$1(),Ge=ref([]),Xe=ref(!1),ze=ref(!1),We=ref([]),[at]=useRuleFormItem(C,"value","change",We),nt=computed(()=>ca(ca({},C.api?{treeData:unref(Ge)}:{}),He));watch(()=>at.value,Te=>{x("update:value",Te)}),watch(()=>C.params,()=>{!unref(Xe)&&A()},{deep:!0}),watch(()=>C.immediate,Te=>{Te&&!Xe.value&&A()}),onMounted(()=>{C.immediate&&A()});function A(){return ro(this,null,function*(){const{api:Te,afterFetch:et}=C;if(!Te||!isFunction$1(Te))return;ze.value=!0,Ge.value=[];let Qe;try{Qe=yield Te(C.params)}catch($e){}et&&isFunction$1(et)&&(Qe=et(Qe)),ze.value=!1,Qe&&(isArray(Qe)||(Qe=get(Qe,C.resultField)),Ge.value=Qe||[],Xe.value=!0,x("options-change",Ge.value))})}return(Te,et)=>(openBlock(),createBlock(unref(Tree),mergeProps(nt.value,{selectedKeys:unref(at),"onUpdate:selectedKeys":et[0]||(et[0]=Qe=>isRef(at)?at.value=Qe:null)}),createSlots({_:2},[renderList(Object.keys(Te.$slots),Qe=>({name:Qe,fn:withCtx($e=>[renderSlot(Te.$slots,Qe,normalizeProps(guardReactiveProps($e||{})))])}))]),1040,["selectedKeys"]))}}),_sfc_main$B=defineComponent({name:"ApiTreeSelect",__name:"ApiTreeSelect",props:{api:{type:Function},params:{type:Object},immediate:{type:Boolean,default:!0},async:{type:Boolean,default:!1},resultField:propTypes.string.def(""),labelField:propTypes.string.def("title"),valueField:propTypes.string.def("value"),childrenField:propTypes.string.def("children")},emits:["options-change","change","load-data"],setup(g,{emit:w}){const C=g,x=w,He=useAttrs$1(),Ge=ref([]),Xe=ref(!1),ze=ref(!1),We=computed(()=>ca(ca({},C.api?{treeData:unref(Ge)}:{}),He)),at={children:C.childrenField,value:C.valueField,label:C.labelField};function nt(...et){x("change",...et)}watch(()=>C.params,()=>{!unref(Xe)&&Te()},{deep:!0}),watch(()=>C.immediate,et=>{et&&!Xe.value&&Te()}),onMounted(()=>{C.immediate&&Te()});function A(et){return new Promise(Qe=>{if(isArray(et.children)&&et.children.length>0){Qe();return}x("load-data",{treeData:Ge,treeNode:et,resolve:Qe})})}function Te(){return ro(this,null,function*(){const{api:et}=C;if(!et||!isFunction$1(et)||ze.value)return;ze.value=!0,Ge.value=[];let Qe;try{Qe=yield et(C.params)}catch($e){}ze.value=!1,Qe&&(isArray(Qe)||(Qe=get(Qe,C.resultField)),Ge.value=Qe||[],Xe.value=!0,x("options-change",Ge.value))})}return(et,Qe)=>(openBlock(),createBlock(unref(TreeSelect),mergeProps(We.value,{"show-search":"","tree-node-filter-prop":at==null?void 0:at.label,onChange:nt,"field-names":at,"load-data":g.async?A:void 0}),createSlots({_:2},[renderList(Object.keys(et.$slots),$e=>({name:$e,fn:withCtx(Ye=>[renderSlot(et.$slots,$e,normalizeProps(guardReactiveProps(Ye||{})))])})),ze.value?{name:"suffixIcon",fn:withCtx(()=>[createVNode(unref(LoadingOutlined),{spin:""})]),key:"0"}:void 0]),1040,["tree-node-filter-prop","load-data"]))}}),_sfc_main$A=defineComponent({name:"ApiCascader",__name:"ApiCascader",props:{value:{type:Array},api:{type:Function,default:null},numberToString:propTypes.bool,resultField:propTypes.string.def(""),labelField:propTypes.string.def("label"),valueField:propTypes.string.def("value"),childrenField:propTypes.string.def("children"),apiParamKey:propTypes.string.def("parentCode"),immediate:propTypes.bool.def(!0),initFetchParams:{type:Object,default:()=>({})},isLeaf:{type:Function,default:null},displayRenderArray:{type:Array}},emits:["change","defaultChange"],setup(g,{emit:w}){const C=g,x=w,He=ref([]),Ge=ref([]),Xe=ref(!1),ze=ref([]),We=ref(!0),{t:at}=useI18n(),[nt]=useRuleFormItem(C,"value","change",ze);watch(He,Ye=>{const ut=A(Ye);Ge.value=ut},{deep:!0});function A(Ye){const{labelField:ut,valueField:ct,numberToString:qe,childrenField:lt,isLeaf:Ue}=C;return Ye.reduce((pt,It)=>{if(It){const Tt=It[ct],mt=Pu(ca({},omit(It,[ut,ct])),{label:It[ut],value:qe?`${Tt}`:Tt,isLeaf:Ue&&typeof Ue=="function"?Ue(It):!1}),vt=Reflect.get(It,lt);vt&&Reflect.set(mt,lt,A(vt)),pt.push(mt)}return pt},[])}function Te(){return ro(this,null,function*(){const Ye=C.api;if(!(!Ye||!isFunction$1(Ye))){He.value=[],Xe.value=!0;try{const ut=yield Ye(C.initFetchParams);if(Array.isArray(ut)){He.value=ut;return}C.resultField&&(He.value=get(ut,C.resultField)||[])}catch(ut){}finally{Xe.value=!1}}})}const et=Ye=>ro(this,null,function*(){const ut=Ye[Ye.length-1];ut.loading=!0;const ct=C.api;if(!(!ct||!isFunction$1(ct)))try{const qe=yield ct({[C.apiParamKey]:Reflect.get(ut,"value")});if(Array.isArray(qe)){const lt=A(qe);ut.children=lt;return}if(C.resultField){const lt=A(get(qe,C.resultField)||[]);ut.children=lt}}catch(qe){}finally{ut.loading=!1}});watchEffect(()=>{C.immediate&&Te()}),watch(()=>C.initFetchParams,()=>{!unref(We)&&Te()},{deep:!0});function Qe(Ye,ut){ze.value=ut,x("defaultChange",Ye,ut)}const $e=({labels:Ye,selectedOptions:ut})=>unref(ze).length===(ut==null?void 0:ut.length)?Ye.join(" / "):C.displayRenderArray?C.displayRenderArray.join(" / "):"";return(Ye,ut)=>(openBlock(),createBlock(unref(Cascader),{value:unref(nt),"onUpdate:value":ut[0]||(ut[0]=ct=>isRef(nt)?nt.value=ct:null),options:Ge.value,"load-data":et,"change-on-select":"",onChange:Qe,displayRender:$e},createSlots({_:2},[Xe.value?{name:"suffixIcon",fn:withCtx(()=>[createVNode(unref(LoadingOutlined),{spin:""})]),key:"0"}:void 0,Xe.value?{name:"notFoundContent",fn:withCtx(()=>[createBaseVNode("span",null,[createVNode(unref(LoadingOutlined),{spin:"",class:"mr-1"}),createTextVNode(" "+toDisplayString(unref(at)("component.form.apiSelectNotFound")),1)])]),key:"1"}:void 0]),1032,["value","options"]))}}),_sfc_main$z=defineComponent({name:"ApiTransfer",__name:"ApiTransfer",props:{value:{type:Array},api:{type:Function,default:null},params:{type:Object},dataSource:{type:Array},immediate:propTypes.bool.def(!0),alwaysLoad:propTypes.bool.def(!1),afterFetch:{type:Function},resultField:propTypes.string.def(""),labelField:propTypes.string.def("title"),valueField:propTypes.string.def("key"),showSearch:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},filterOption:{type:Function},selectedKeys:{type:Array},showSelectAll:{type:Boolean,default:!1},targetKeys:{type:Array}},emits:["options-change","change"],setup(g,{emit:w}){const C=g,x=w,He=ref([]),Ge=ref([]),Xe=computed(()=>{const{labelField:A,valueField:Te}=C;return unref(He).reduce((et,Qe)=>(Qe&&et.push(Pu(ca({},omit(Qe,[A,Te])),{title:Qe[A],key:Qe[Te]})),et),[])}),ze=computed(()=>Array.isArray(C.value)?C.value:Array.isArray(C.targetKeys)?C.targetKeys:[]);function We(A,Te,et){Ge.value=A,x("change",A)}watchEffect(()=>{C.immediate&&!C.alwaysLoad&&at()}),watch(()=>C.params,()=>{at()},{deep:!0});function at(){return ro(this,null,function*(){const A=C.api;if(!A||!isFunction$1(A)){Array.isArray(C.dataSource)&&(He.value=C.dataSource);return}He.value=[];try{const Te=yield A(C.params);if(Array.isArray(Te)){He.value=Te,nt();return}C.resultField&&(He.value=get(Te,C.resultField)||[]),nt()}catch(Te){}})}function nt(){x("options-change",unref(Xe))}return(A,Te)=>(openBlock(),createBlock(unref(Transfer),{"data-source":Xe.value,"filter-option":g.filterOption,render:et=>et.title,showSelectAll:g.showSelectAll,selectedKeys:g.selectedKeys,targetKeys:ze.value,showSearch:g.showSearch,disabled:g.disabled,onChange:We},null,8,["data-source","filter-option","render","showSelectAll","selectedKeys","targetKeys","showSearch","disabled"]))}}),basicProps$2={listType:{type:String,default:"picture-card"},helpText:{type:String,default:""},maxSize:{type:Number,default:2},maxNumber:{type:Number,default:1},accept:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},uploadParams:{type:Object,default:()=>({})},api:{type:Function,default:null,required:!0},name:{type:String,default:"file"},filename:{type:String,default:null},fileListOpenDrag:{type:Boolean,default:!0},fileListDragOptions:{type:Object,default:()=>({})}},uploadContainerProps=Pu(ca({value:{type:[String,Array],default:()=>[]}},basicProps$2),{showPreviewNumber:{type:Boolean,default:!0},emptyHidePreview:{type:Boolean,default:!1}}),previewProps={value:{type:Array,default:()=>[]}},fileListProps={columns:{type:Array,default:null},actionColumn:{type:Object,default:null},dataSource:{type:Array,default:null},openDrag:{type:Boolean,default:!1},dragOptions:{type:Object,default:()=>({})}},{t:t$3}=useI18n();function useUploadType({acceptRef:g,helpTextRef:w,maxNumberRef:C,maxSizeRef:x}){const He=computed(()=>{const ze=unref(g);return ze&&ze.length>0?ze:[]}),Ge=computed(()=>unref(He).map(ze=>ze.indexOf("/")>0||ze.startsWith(".")?ze:`.${ze}`).join(",")),Xe=computed(()=>{const ze=unref(w);if(ze)return ze;const We=[],at=unref(g);at.length>0&&We.push(t$3("component.upload.accept",[at.join(",")]));const nt=unref(x);nt&&We.push(t$3("component.upload.maxSize",[nt]));const A=unref(C);return A&&A!==1/0&&We.push(t$3("component.upload.maxNumber",[A])),We.join("，")});return{getAccept:He,getStringAccept:Ge,getHelpText:Xe}}var UploadResultStatus=(g=>(g.DONE="done",g.SUCCESS="success",g.ERROR="error",g.UPLOADING="uploading",g))(UploadResultStatus||{});function checkImgType(g){return isImgTypeByName(g.name)}function isImgTypeByName(g){return/\.(jpg|jpeg|png|gif|webp)$/i.test(g)}function isAudioTypeByName(g){return/\.(mp3|acc|ogg|wav|wma|ape|flac)$/i.test(g)}function getBase64WithFile(g){return new Promise((w,C)=>{const x=new FileReader;x.readAsDataURL(g),x.onload=()=>w({result:x.result,file:g}),x.onerror=He=>C(He)})}const key$1=Symbol("basic-table");function createTableContext(g){provide(key$1,g)}function useTableContext(){return inject(key$1)}const{table}=componentSetting,{pageSizeOptions,defaultPageSize,fetchSetting,defaultSize,defaultSortFn,defaultFilterFn}=table,ROW_KEY="key",PAGE_SIZE_OPTIONS=pageSizeOptions,PAGE_SIZE=defaultPageSize,FETCH_SETTING=fetchSetting,DEFAULT_SIZE=defaultSize,DEFAULT_SORT_FN=defaultSortFn,DEFAULT_FILTER_FN=defaultFilterFn,DEFAULT_ALIGN="center",INDEX_COLUMN_FLAG="INDEX",ACTION_COLUMN_FLAG="ACTION",_sfc_main$y=defineComponent({name:"TableAction",__name:"TableAction",props:{actions:{type:Array,default:null},dropDownActions:{type:Array,default:null},divider:propTypes.bool.def(!0),outside:propTypes.bool,stopButtonPropagation:propTypes.bool.def(!1)},setup(g){const w=g,{prefixCls:C}=useDesign("basic-table-action");let x={};w.outside||(x=useTableContext());const{hasPermission:He}=usePermission();function Ge(A){const Te=A.ifShow;let et=!0;return isBoolean(Te)&&(et=Te),isFunction$1(Te)&&(et=Te(A)),et}const Xe=computed(()=>(toRaw(w.actions)||[]).filter(A=>He(A.auth)&&Ge(A)).map(A=>{const{popConfirm:Te}=A;return Pu(ca(ca({getPopupContainer:()=>{var et;return(et=unref(x==null?void 0:x.wrapRef))!=null?et:document.body},type:"link",size:"small"},A),Te||{}),{onConfirm:Te==null?void 0:Te.confirm,onCancel:Te==null?void 0:Te.cancel,enable:!!Te})})),ze=computed(()=>{const A=(toRaw(w.dropDownActions)||[]).filter(Te=>He(Te.auth)&&Ge(Te));return A.map((Te,et)=>{const{label:Qe,popConfirm:$e}=Te;return Pu(ca(ca({},Te),$e),{onConfirm:$e==null?void 0:$e.confirm,onCancel:$e==null?void 0:$e.cancel,text:Qe,divider:et<A.length-1?w.divider:!1})})}),We=computed(()=>{var et,Qe;const Te=(((et=x==null?void 0:x.getColumns)==null?void 0:et.call(x))||[]).find($e=>$e.flag===ACTION_COLUMN_FLAG);return(Qe=Te==null?void 0:Te.align)!=null?Qe:"left"});function at(A){return ca({getPopupContainer:()=>{var Te;return(Te=unref(x==null?void 0:x.wrapRef))!=null?Te:document.body},placement:"bottom"},isString(A)?{title:A}:A)}function nt(A){if(!w.stopButtonPropagation)return;A.composedPath().find(Qe=>{var $e;return(($e=Qe.tagName)==null?void 0:$e.toUpperCase())==="BUTTON"})&&A.stopPropagation()}return(A,Te)=>{const et=resolveComponent("a-button");return openBlock(),createElementBlock("div",{class:normalizeClass([unref(C),We.value]),onClick:nt},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Xe.value,(Qe,$e)=>(openBlock(),createElementBlock(Fragment,{key:`${$e}-${Qe.label}`},[Qe.tooltip?(openBlock(),createBlock(unref(Tooltip),mergeProps({key:0,ref_for:!0},at(Qe.tooltip)),{default:withCtx(()=>[createVNode(unref(PopConfirmButton),mergeProps({ref_for:!0},Qe),{default:withCtx(()=>[Qe.icon?(openBlock(),createBlock(_sfc_main$G,{key:0,icon:Qe.icon,class:normalizeClass({"mr-1":!!Qe.label})},null,8,["icon","class"])):createCommentVNode("",!0),Qe.label?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(Qe.label),1)],64)):createCommentVNode("",!0)]),_:2},1040)]),_:2},1040)):(openBlock(),createBlock(unref(PopConfirmButton),mergeProps({key:1,ref_for:!0},Qe),{default:withCtx(()=>[Qe.icon?(openBlock(),createBlock(_sfc_main$G,{key:0,icon:Qe.icon,class:normalizeClass({"mr-1":!!Qe.label})},null,8,["icon","class"])):createCommentVNode("",!0),Qe.label?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(Qe.label),1)],64)):createCommentVNode("",!0)]),_:2},1040)),g.divider&&$e<Xe.value.length-1?(openBlock(),createBlock(unref(Divider),{key:2,type:"vertical",class:"action-divider"})):createCommentVNode("",!0)],64))),128)),g.dropDownActions&&ze.value.length>0?(openBlock(),createBlock(unref(Dropdown),{key:0,trigger:["hover"],dropMenuList:ze.value,popconfirm:""},{default:withCtx(()=>[renderSlot(A.$slots,"more"),A.$slots.more?createCommentVNode("",!0):(openBlock(),createBlock(et,{key:0,type:"link",size:"small"},{default:withCtx(()=>[createVNode(unref(MoreOutlined),{class:"icon-more"})]),_:1}))]),_:3},8,["dropMenuList"])):createCommentVNode("",!0)],2)}}}),_hoisted_1$c={class:"thumb"},_sfc_main$x=defineComponent({__name:"ThumbUrl",props:{fileUrl:propTypes.string.def(""),fileName:propTypes.string.def("")},setup(g){return(w,C)=>(openBlock(),createElementBlock("span",_hoisted_1$c,[g.fileUrl?(openBlock(),createBlock(unref(Image$1),{key:0,src:g.fileUrl,width:104},null,8,["src"])):createCommentVNode("",!0)]))}}),{t:t$2}=useI18n();function createTableColumns(){return[{dataIndex:"thumbUrl",title:t$2("component.upload.legend"),width:100,customRender:({record:g})=>{const{thumbUrl:w}=g||{};return w&&createVNode(_sfc_main$x,{fileUrl:w},null)}},{dataIndex:"name",title:t$2("component.upload.fileName"),align:"left",customRender:({text:g,record:w})=>{const{percent:C,status:x}=w||{};let He="normal";return x===UploadResultStatus.ERROR?He="exception":x===UploadResultStatus.UPLOADING?He="active":x===UploadResultStatus.SUCCESS&&(He="success"),createVNode("div",null,[createVNode("p",{class:"truncate mb-1 max-w-[280px]",title:g},[g]),createVNode(Progress,{percent:C,size:"small",status:He},null)])}},{dataIndex:"size",title:t$2("component.upload.fileSize"),width:100,customRender:({text:g=0})=>g&&(g/1024).toFixed(2)+"KB"},{dataIndex:"status",title:t$2("component.upload.fileStatue"),width:100,customRender:({text:g})=>g===UploadResultStatus.SUCCESS?createVNode(Tag,{color:"green"},{default:()=>t$2("component.upload.uploadSuccess")}):g===UploadResultStatus.ERROR?createVNode(Tag,{color:"red"},{default:()=>t$2("component.upload.uploadError")}):g===UploadResultStatus.UPLOADING?createVNode(Tag,{color:"blue"},{default:()=>t$2("component.upload.uploading")}):g||t$2("component.upload.pending")}]}function createActionColumn(g){return{width:120,title:t$2("component.upload.operating"),dataIndex:"action",fixed:!1,customRender:({record:w})=>{const C=[{label:t$2("component.upload.del"),color:"error",onClick:g.bind(null,w)}];return createVNode(_sfc_main$y,{actions:C,outside:!0},null)}}}function createPreviewColumns(){return[{dataIndex:"url",title:"缩略",width:100,customRender:({record:g})=>{const{url:w}=g||{};if(isImgTypeByName(w))return createVNode(_sfc_main$x,{fileUrl:w},null);if(isAudioTypeByName(w))return createVNode("audio",{controls:!0,src:w},null)}},{dataIndex:"name",title:t$2("component.upload.fileName"),align:"left"}]}function createPreviewActionColumn({handleRemove:g,handleDownload:w}){return{width:160,title:t$2("component.upload.operating"),dataIndex:"action",fixed:!1,customRender:({record:C})=>{const x=[{label:t$2("component.upload.del"),color:"error",onClick:g.bind(null,C)},{label:t$2("component.upload.download"),onClick:w.bind(null,C)}];return createVNode(_sfc_main$y,{actions:x,outside:!0},null)}}}const hexList=[];for(let g=0;g<=15;g++)hexList[g]=g.toString(16);function buildUUID(){let g="";for(let w=1;w<=36;w++)w===9||w===14||w===19||w===24?g+="-":w===15?g+=4:w===20?g+=hexList[Math.random()*4|8]:g+=hexList[Math.random()*16|0];return g.replace(/-/g,"")}let unique=0;function buildShortUUID(g=""){const w=Date.now(),C=Math.floor(Math.random()*1e9);return unique++,g+"_"+C+unique+String(w)}const _sfc_main$w=defineComponent({name:"FileList",props:fileListProps,setup(g,{emit:w}){const C=useModalContext(),x=ref();return watch(()=>g.dataSource,()=>{nextTick(()=>{var He;(He=C==null?void 0:C.redoModalHeight)==null||He.call(C)})}),g.openDrag&&onMounted(()=>useSortable(x,Pu(ca({},g.dragOptions),{onEnd:({oldIndex:He,newIndex:Ge})=>{if(He===Ge)return;const{onAfterEnd:Xe}=g.dragOptions;if(isDef(He)&&isDef(Ge)){const ze=[...g.dataSource],[We]=ze.splice(He,1);ze.splice(Ge,0,We),nextTick(()=>{w("update:dataSource",ze),isFunction$1(Xe)&&Xe(ze)})}}})).initSortable()),()=>{const{columns:He,actionColumn:Ge,dataSource:Xe}=g,ze=[...He,Ge];return createVNode("div",{class:"overflow-x-auto"},[createVNode("table",{class:"file-table"},[createVNode("colgroup",null,[ze.map(We=>{const{width:at=0,dataIndex:nt}=We,A={width:`${at}px`,minWidth:`${at}px`};return createVNode("col",{style:at?A:{},key:nt},null)})]),createVNode("thead",null,[createVNode("tr",{class:"file-table-tr"},[ze.map(We=>{const{title:at="",align:nt="center",dataIndex:A}=We;return createVNode("th",{class:["file-table-th",nt],key:A},[at])})])]),createVNode("tbody",{ref:x},[Xe.map((We={},at)=>createVNode("tr",{class:"file-table-tr",key:`${at+We.name||""}`},[ze.map(nt=>{const{dataIndex:A="",customRender:Te,align:et="center"}=nt,Qe=Te&&isFunction$1(Te);return createVNode("td",{class:["file-table-td break-all",et],key:A},[Qe?Te==null?void 0:Te({text:We[A],record:We}):We[A]])})]))])])])}}}),_hoisted_1$b={class:"upload-modal-toolbar"},_sfc_main$v=defineComponent({__name:"UploadModal",props:Pu(ca({},basicProps$2),{previewFileList:{type:Array,default:()=>[]}}),emits:["change","register","delete"],setup(g,{emit:w}){const C=g,x=w,He=createTableColumns(),Ge=createActionColumn(pt),Xe=ref(!1),ze=ref([]),{accept:We,helpText:at,maxNumber:nt,maxSize:A}=toRefs(C),{t:Te}=useI18n(),[et,{closeModal:Qe}]=useModalInner(),{getStringAccept:$e,getHelpText:Ye}=useUploadType({acceptRef:We,helpTextRef:at,maxNumberRef:nt,maxSizeRef:A}),{createMessage:ut}=useMessage(),ct=computed(()=>ze.value.length>0&&!ze.value.every(Et=>Et.status===UploadResultStatus.SUCCESS)),qe=computed(()=>{const Et=ze.value.some(st=>st.status===UploadResultStatus.SUCCESS);return{disabled:Xe.value||ze.value.length===0||!Et}}),lt=computed(()=>{const Et=ze.value.some(st=>st.status===UploadResultStatus.ERROR);return Xe.value?Te("component.upload.uploading"):Te(Et?"component.upload.reUploadFailed":"component.upload.startUpload")});function Ue(Et){const{size:st,name:At}=Et,{maxSize:nn}=C;if(nn&&Et.size/1024/1024>=nn)return ut.error(Te("component.upload.maxSizeMultiple",[nn])),!1;const wn={uuid:buildUUID(),file:Et,size:st,name:At,percent:0,type:At.split(".").pop()};return checkImgType(Et)?getBase64WithFile(Et).then(({result:Ht})=>{ze.value=[...unref(ze),ca({thumbUrl:Ht},wn)]}):ze.value=[...unref(ze),wn],!1}function pt(Et){const st=ze.value.findIndex(At=>At.uuid===Et.uuid);st!==-1&&ze.value.splice(st,1),x("delete",Et)}function It(Et){return ro(this,null,function*(){var At;const{api:st}=C;if(!st||!isFunction$1(st))return warn();try{Et.status=UploadResultStatus.UPLOADING;const nn=yield(At=C.api)==null?void 0:At.call(C,{data:ca({},C.uploadParams||{}),file:Et.file,name:C.name,filename:C.filename},function(Ht){const Sn=Ht.loaded/Ht.total*100|0;Et.percent=Sn});return Et.status=UploadResultStatus.SUCCESS,Et.response={url:nn},{success:!0,error:null}}catch(nn){return Et.status=UploadResultStatus.ERROR,{success:!1,error:nn}}})}function Tt(){return ro(this,null,function*(){var st;const{maxNumber:Et}=C;if(ze.value.length+((st=C.previewFileList)==null?void 0:st.length)>Et)return ut.warning(Te("component.upload.maxNumber",[Et]));try{Xe.value=!0;const At=ze.value.filter(Ht=>Ht.status!==UploadResultStatus.SUCCESS)||[],nn=yield Promise.all(At.map(Ht=>It(Ht)));Xe.value=!1;const wn=nn.filter(Ht=>!Ht.success);if(wn.length>0)throw wn}catch(At){throw Xe.value=!1,At}})}function mt(){const{maxNumber:Et}=C;if(ze.value.length>Et)return ut.warning(Te("component.upload.maxNumber",[Et]));if(Xe.value)return ut.warning(Te("component.upload.saveWarn"));const st=[];for(const At of ze.value){const{status:nn,response:wn}=At;if(nn===UploadResultStatus.SUCCESS&&wn){const Ht=(wn==null?void 0:wn.url)||(wn==null?void 0:wn.data);st.push(Ht)}}if(st.length<=0)return ut.warning(Te("component.upload.saveError"));ze.value=[],Qe(),x("change",st)}function vt(){return ro(this,null,function*(){return Xe.value?(ut.warning(Te("component.upload.uploadWait")),!1):(ze.value=[],!0)})}return(Et,st)=>{const At=resolveComponent("a-button");return openBlock(),createBlock(unref(BasicModal),mergeProps({width:"800px",title:unref(Te)("component.upload.upload"),okText:unref(Te)("component.upload.save")},Et.$attrs,{onRegister:unref(et),onOk:mt,closeFunc:vt,maskClosable:!1,keyboard:!1,class:"upload-modal",okButtonProps:qe.value,cancelButtonProps:{disabled:Xe.value}}),{centerFooter:withCtx(()=>[createVNode(At,{onClick:Tt,color:"success",disabled:!ct.value,loading:Xe.value},{default:withCtx(()=>[createTextVNode(toDisplayString(lt.value),1)]),_:1},8,["disabled","loading"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$b,[createVNode(unref(Alert),{message:unref(Ye),type:"info",banner:"",class:"upload-modal-toolbar__text"},null,8,["message"]),createVNode(unref(Upload),{accept:unref($e),multiple:Et.multiple,"before-upload":Ue,"show-upload-list":!1,class:"upload-modal-toolbar__btn"},{default:withCtx(()=>[createVNode(At,{type:"primary"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Te)("component.upload.choose")),1)]),_:1})]),_:1},8,["accept","multiple"])]),createVNode(_sfc_main$w,{dataSource:ze.value,"onUpdate:dataSource":st[0]||(st[0]=nn=>ze.value=nn),columns:unref(He),actionColumn:unref(Ge),openDrag:Et.fileListOpenDrag,dragOptions:Et.fileListDragOptions},null,8,["dataSource","columns","actionColumn","openDrag","dragOptions"])]),_:1},16,["title","okText","onRegister","okButtonProps","cancelButtonProps"])}}});function dataURLtoBlob(g){const w=g.split(","),x=w[0].match(/:(.*?);/)[1],He=window.atob(w[1]);let Ge=He.length;const Xe=new Uint8Array(Ge);for(;Ge--;)Xe[Ge]=He.charCodeAt(Ge);return new Blob([Xe],{type:x})}const _sfc_main$u=defineComponent({__name:"UploadPreviewModal",props:previewProps,emits:["list-change","register","delete"],setup(g,{emit:w}){const C=g,x=w,He=createPreviewColumns(),Ge=createPreviewActionColumn({handleRemove:at,handleDownload:nt}),[Xe]=useModalInner(),{t:ze}=useI18n(),We=ref([]);watch(()=>C.value,A=>{isArray(A)||(A=[]),We.value=A.filter(Te=>!!Te).map(Te=>({url:Te,type:Te.split(".").pop()||"",name:Te.split("/").pop()||""}))},{immediate:!0});function at(A){const Te=We.value.findIndex(et=>et.url===A.url);if(Te!==-1){const et=We.value.splice(Te,1);x("delete",et[0].url),x("list-change",We.value.map(Qe=>Qe.url))}}function nt(A){const{url:Te=""}=A;downloadByUrl({url:Te})}return(A,Te)=>(openBlock(),createBlock(unref(BasicModal),mergeProps({width:"800px",title:unref(ze)("component.upload.preview"),class:"upload-preview-modal"},A.$attrs,{onRegister:unref(Xe),showOkBtn:!1}),{default:withCtx(()=>[createVNode(_sfc_main$w,{dataSource:We.value,columns:unref(He),actionColumn:unref(Ge)},null,8,["dataSource","columns","actionColumn"])]),_:1},16,["title","onRegister"]))}}),_sfc_main$t=defineComponent({name:"BasicUpload",__name:"BasicUpload",props:uploadContainerProps,emits:["change","delete","preview-delete","update:value"],setup(g,{emit:w}){const C=g,x=w,He=useAttrs$1(),{t:Ge}=useI18n(),[Xe,{openModal:ze}]=useModal(),[We,{openModal:at}]=useModal(),nt=ref([]),A=computed(()=>{const{emptyHidePreview:ct}=C;return ct&&ct?nt.value.length>0:!0}),Te=computed(()=>{const ct=ca(ca({},He),C);return omit(ct,"onChange")});watch(()=>C.value,(ct=[])=>{nt.value=isArray(ct)?ct:[ct]},{immediate:!0});function et(ct){nt.value=[...unref(nt),...ct||[]],x("update:value",ut()),x("change",ut())}function Qe(ct){nt.value=[...ct||[]],x("update:value",ut()),x("change",ut())}function $e(ct){x("delete",ct)}function Ye(ct){x("preview-delete",ct)}function ut(){return C.maxNumber==1&&nt.value.length==1?nt.value[0]:nt.value}return(ct,qe)=>{const lt=resolveComponent("a-button");return openBlock(),createElementBlock("div",null,[createVNode(unref(Space),null,{default:withCtx(()=>[createVNode(lt,{type:"primary",onClick:unref(ze),preIcon:"carbon:cloud-upload"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Ge)("component.upload.upload")),1)]),_:1},8,["onClick"]),A.value?(openBlock(),createBlock(unref(Tooltip),{key:0,placement:"bottom"},{title:withCtx(()=>[createTextVNode(toDisplayString(unref(Ge)("component.upload.uploaded"))+" ",1),nt.value.length?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(nt.value.length),1)],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(lt,{onClick:unref(at)},{default:withCtx(()=>[createVNode(_sfc_main$G,{icon:"bi:eye"}),nt.value.length&&ct.showPreviewNumber?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(nt.value.length),1)],64)):createCommentVNode("",!0)]),_:1},8,["onClick"])]),_:1})):createCommentVNode("",!0)]),_:1}),createVNode(_sfc_main$v,mergeProps(Te.value,{previewFileList:nt.value,fileListOpenDrag:ct.fileListOpenDrag,fileListDragOptions:ct.fileListDragOptions,onRegister:unref(Xe),onChange:et,onDelete:$e}),null,16,["previewFileList","fileListOpenDrag","fileListDragOptions","onRegister"]),createVNode(_sfc_main$u,{value:nt.value,onRegister:unref(We),onListChange:Qe,onDelete:Ye},null,8,["value","onRegister"])])}}}),_hoisted_1$a={key:0},_hoisted_2$2={style:{"margin-top":"8px"}},_hoisted_3$2=["src"],_sfc_main$s=defineComponent({name:"ImageUpload",__name:"ImageUpload",props:ca({},uploadContainerProps),emits:["change","update:value","delete"],setup(g,{emit:w}){const C=w,x=g,{t:He}=useI18n(),{createMessage:Ge}=useMessage(),{accept:Xe,helpText:ze,maxNumber:We,maxSize:at}=toRefs(x),nt=ref(!1),{getStringAccept:A}=useUploadType({acceptRef:Xe,helpTextRef:ze,maxNumberRef:We,maxSizeRef:at}),Te=ref(!1),et=ref(""),Qe=ref(""),$e=ref([]),Ye=ref(!0),ut=ref(!0);watch(()=>x.value,mt=>{if(nt.value){nt.value=!1;return}if(mt){let vt=[];isArray(mt)?vt=mt:vt.push(mt),$e.value=vt.map((Et,st)=>Et&&isString(Et)?{uid:-st+"",name:Et.substring(Et.lastIndexOf("/")+1),status:"done",url:Et}:Et&&isObject$1(Et)?Et:void 0)}});function ct(mt){return new Promise((vt,Et)=>{const st=new FileReader;st.readAsDataURL(mt),st.onload=()=>{vt(st.result)},st.onerror=At=>Et(At)})}const qe=mt=>ro(this,null,function*(){!mt.url&&!mt.preview&&(mt.preview=yield ct(mt.originFileObj)),et.value=mt.url||mt.preview||"",Te.value=!0,Qe.value=mt.name||et.value.substring(et.value.lastIndexOf("/")+1)}),lt=mt=>ro(this,null,function*(){if($e.value){const vt=$e.value.findIndex(st=>st.uid===mt.uid);vt!==-1&&$e.value.splice(vt,1);const Et=Tt();nt.value=!0,C("change",Et),C("delete",mt)}}),Ue=()=>{Te.value=!1,Qe.value=""},pt=mt=>{const{maxSize:vt,accept:Et}=x,{name:st}=mt,At=isImgTypeByName(st);At||(Ge.error(He("component.upload.acceptUpload",[Et])),ut.value=!1,setTimeout(()=>ut.value=!0,1e3));const nn=mt.size/1024/1024>vt;return nn&&(Ge.error(He("component.upload.maxSizeMultiple",[vt])),Ye.value=!1,setTimeout(()=>Ye.value=!0,1e3)),At&&!nn||Upload.LIST_IGNORE};function It(mt){return ro(this,null,function*(){var Et;const{api:vt}=x;if(!vt||!isFunction$1(vt))return warn();try{const st=yield(Et=x.api)==null?void 0:Et.call(x,{data:ca({},x.uploadParams||{}),file:mt.file,name:x.name,filename:x.filename});mt.onSuccess({data:st,url:st});const At=Tt();nt.value=!0,C("change",At)}catch(st){mt.onError(st)}})}function Tt(){const mt=($e.value||[]).filter(vt=>(vt==null?void 0:vt.status)===UploadResultStatus.DONE).map(vt=>{var Et,st;return(vt==null?void 0:vt.url)||((Et=vt==null?void 0:vt.response)==null?void 0:Et.url)||((st=vt==null?void 0:vt.response)==null?void 0:st.data)});return x.multiple?mt:mt.length>0?mt[0]:""}return(mt,vt)=>(openBlock(),createElementBlock("div",null,[createVNode(unref(Upload),mergeProps(mt.$attrs,{"file-list":$e.value,"onUpdate:fileList":vt[0]||(vt[0]=Et=>$e.value=Et),"list-type":mt.listType,accept:unref(A),multiple:mt.multiple,maxCount:unref(We),"before-upload":pt,"custom-request":It,onPreview:qe,onRemove:lt}),{default:withCtx(()=>[$e.value&&$e.value.length<unref(We)?(openBlock(),createElementBlock("div",_hoisted_1$a,[createVNode(unref(PlusOutlined)),createBaseVNode("div",_hoisted_2$2,toDisplayString(unref(He)("component.upload.upload")),1)])):createCommentVNode("",!0)]),_:1},16,["file-list","list-type","accept","multiple","maxCount"]),createVNode(unref(Modal),{open:Te.value,title:Qe.value,footer:null,onCancel:Ue},{default:withCtx(()=>[createBaseVNode("img",{alt:"",style:{width:"100%"},src:et.value},null,8,_hoisted_3$2)]),_:1},8,["open","title"])]))}}),ImageUpload=withInstall(_sfc_main$s),BasicUpload=withInstall(_sfc_main$t);var method_min={exports:{}};(function(g,w){(function(C,x){g.exports=x()})(commonjsGlobal,()=>(()=>{var C={913:(yt,Mt,Lt)=>{Lt.d(Mt,{Y:()=>qt});var qt=function(){function an(){}return an.ZWSP="​",an.DROP_EDITOR="application/editor",an.MOBILE_WIDTH=520,an.CLASS_MENU_DISABLED="vditor-menu--disabled",an.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],an.CODE_THEME=["a11y-dark","agate","an-old-hope","androidstudio","arta","atom-one-dark","atom-one-dark-reasonable","base16/3024","base16/apathy","base16/apprentice","base16/ashes","base16/atelier-cave","base16/atelier-dune","base16/atelier-estuary","base16/atelier-forest","base16/atelier-heath","base16/atelier-lakeside","base16/atelier-plateau","base16/atelier-savanna","base16/atelier-seaside","base16/atelier-sulphurpool","base16/atlas","base16/bespin","base16/black-metal","base16/black-metal-bathory","base16/black-metal-burzum","base16/black-metal-dark-funeral","base16/black-metal-gorgoroth","base16/black-metal-immortal","base16/black-metal-khold","base16/black-metal-marduk","base16/black-metal-mayhem","base16/black-metal-nile","base16/black-metal-venom","base16/brewer","base16/bright","base16/brogrammer","base16/brush-trees-dark","base16/chalk","base16/circus","base16/classic-dark","base16/codeschool","base16/colors","base16/danqing","base16/darcula","base16/dark-violet","base16/darkmoss","base16/darktooth","base16/decaf","base16/default-dark","base16/dracula","base16/edge-dark","base16/eighties","base16/embers","base16/equilibrium-dark","base16/equilibrium-gray-dark","base16/espresso","base16/eva","base16/eva-dim","base16/flat","base16/framer","base16/gigavolt","base16/google-dark","base16/grayscale-dark","base16/green-screen","base16/gruvbox-dark-hard","base16/gruvbox-dark-medium","base16/gruvbox-dark-pale","base16/gruvbox-dark-soft","base16/hardcore","base16/harmonic16-dark","base16/heetch-dark","base16/helios","base16/hopscotch","base16/horizon-dark","base16/humanoid-dark","base16/ia-dark","base16/icy-dark","base16/ir-black","base16/isotope","base16/kimber","base16/london-tube","base16/macintosh","base16/marrakesh","base16/materia","base16/material","base16/material-darker","base16/material-palenight","base16/material-vivid","base16/mellow-purple","base16/mocha","base16/monokai","base16/nebula","base16/nord","base16/nova","base16/ocean","base16/oceanicnext","base16/onedark","base16/outrun-dark","base16/papercolor-dark","base16/paraiso","base16/pasque","base16/phd","base16/pico","base16/pop","base16/porple","base16/qualia","base16/railscasts","base16/rebecca","base16/ros-pine","base16/ros-pine-moon","base16/sandcastle","base16/seti-ui","base16/silk-dark","base16/snazzy","base16/solar-flare","base16/solarized-dark","base16/spacemacs","base16/summercamp","base16/summerfruit-dark","base16/synth-midnight-terminal-dark","base16/tango","base16/tender","base16/tomorrow-night","base16/twilight","base16/unikitty-dark","base16/vulcan","base16/windows-10","base16/windows-95","base16/windows-high-contrast","base16/windows-nt","base16/woodland","base16/xcode-dusk","base16/zenburn","codepen-embed","dark","devibeans","far","felipec","github-dark","github-dark-dimmed","gml","gradient-dark","hybrid","ir-black","isbl-editor-dark","kimbie-dark","lioshi","monokai","monokai-sublime","night-owl","nnfx-dark","nord","obsidian","panda-syntax-dark","paraiso-dark","pojoaque","qtcreator-dark","rainbow","shades-of-purple","srcery","stackoverflow-dark","sunburst","tomorrow-night-blue","tomorrow-night-bright","tokyo-night-dark","vs2015","xt256","ant-design","a11y-light","arduino-light","ascetic","atom-one-light","base16/atelier-cave-light","base16/atelier-dune-light","base16/atelier-estuary-light","base16/atelier-forest-light","base16/atelier-heath-light","base16/atelier-lakeside-light","base16/atelier-plateau-light","base16/atelier-savanna-light","base16/atelier-seaside-light","base16/atelier-sulphurpool-light","base16/brush-trees","base16/classic-light","base16/cupcake","base16/cupertino","base16/default-light","base16/dirtysea","base16/edge-light","base16/equilibrium-gray-light","base16/equilibrium-light","base16/fruit-soda","base16/github","base16/google-light","base16/grayscale-light","base16/gruvbox-light-hard","base16/gruvbox-light-medium","base16/gruvbox-light-soft","base16/harmonic16-light","base16/heetch-light","base16/humanoid-light","base16/horizon-light","base16/ia-light","base16/material-lighter","base16/mexico-light","base16/one-light","base16/papercolor-light","base16/ros-pine-dawn","base16/sagelight","base16/shapeshifter","base16/silk-light","base16/solar-flare-light","base16/solarized-light","base16/summerfruit-light","base16/synth-midnight-terminal-light","base16/tomorrow","base16/unikitty-light","base16/windows-10-light","base16/windows-95-light","base16/windows-high-contrast-light","brown-paper","base16/windows-nt-light","color-brewer","docco","foundation","github","googlecode","gradient-light","grayscale","idea","intellij-light","isbl-editor-light","kimbie-light","lightfair","magula","mono-blue","nnfx-light","panda-syntax-light","paraiso-light","purebasic","qtcreator-light","routeros","school-book","stackoverflow-light","tokyo-night-light","vs","xcode","default"],an.ALIAS_CODE_LANGUAGES=["abc","plantuml","mermaid","flowchart","echarts","mindmap","graphviz","math","markmap","smiles","js","ts","html","toml","c#","bat"],an.CDN="https://unpkg.com/vditor@".concat("3.10.8"),an.MARKDOWN_OPTIONS={autoSpace:!1,gfmAutoLink:!0,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},an.HLJS_OPTIONS={enable:!0,lineNumber:!1,defaultLang:"",style:"github"},an.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},an.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:"".concat(an.CDN,"/dist/css/content-theme")},an}()},931:(yt,Mt,Lt)=>{Lt.d(Mt,{Y:()=>Pt});var qt=Lt(913),an=Lt(161),ot=Lt(59),En=Lt(933),Pt=function(xt,vn,Ot){xt===void 0&&(xt=document),vn===void 0&&(vn=qt.Y.CDN);var Zt=ot.SMILESRenderAdapter.getElements(xt);Zt.length>0&&(0,an.Z)("".concat(vn,"/dist/js/smiles-drawer/smiles-drawer.min.js?v=2.1.7"),"vditorAbcjsScript").then(function(){var mn=new SmiDrawer({},{});Zt.forEach(function(ln){var Ft=ot.SMILESRenderAdapter.getCode(ln).trim();if(ln.getAttribute("data-processed")!=="true"&&Ft.trim()!==""){var bn="smiles"+(0,En.Ee)();ln.innerHTML='<svg id="'.concat(bn,'"></svg>'),mn.draw(Ft,"#"+bn,Ot==="dark"?"dark":void 0),ln.setAttribute("data-processed","true")}})})}},288:(yt,Mt,Lt)=>{Lt.d(Mt,{$:()=>En});var qt=Lt(913),an=Lt(161),ot=Lt(59),En=function(Pt,xt){Pt===void 0&&(Pt=document),xt===void 0&&(xt=qt.Y.CDN);var vn=ot.abcRenderAdapter.getElements(Pt);vn.length>0&&(0,an.Z)("".concat(xt,"/dist/js/abcjs/abcjs_basic.min.js"),"vditorAbcjsScript").then(function(){vn.forEach(function(Ot){Ot.parentElement.classList.contains("vditor-wysiwyg__pre")||Ot.parentElement.classList.contains("vditor-ir__marker--pre")||Ot.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(Ot,ot.abcRenderAdapter.getCode(Ot).trim()),Ot.style.overflowX="auto",Ot.setAttribute("data-processed","true"))})})}},59:(yt,Mt,Lt)=>{Lt.r(Mt),Lt.d(Mt,{SMILESRenderAdapter:()=>an,abcRenderAdapter:()=>vn,chartRenderAdapter:()=>xt,flowchartRenderAdapter:()=>Zt,graphvizRenderAdapter:()=>Ot,markmapRenderAdapter:()=>En,mathRenderAdapter:()=>qt,mermaidRenderAdapter:()=>ot,mindmapRenderAdapter:()=>Pt,plantumlRenderAdapter:()=>mn});var qt={getCode:function(ln){return ln.textContent},getElements:function(ln){return ln.querySelectorAll(".language-math")}},an={getCode:function(ln){return ln.textContent},getElements:function(ln){return ln.querySelectorAll(".language-smiles")}},ot={getCode:function(ln){return ln.textContent},getElements:function(ln){return ln.querySelectorAll(".language-mermaid")}},En={getCode:function(ln){return ln.textContent},getElements:function(ln){return ln.querySelectorAll(".language-markmap")}},Pt={getCode:function(ln){return ln.getAttribute("data-code")},getElements:function(ln){return ln.querySelectorAll(".language-mindmap")}},xt={getCode:function(ln){return ln.innerText},getElements:function(ln){return ln.querySelectorAll(".language-echarts")}},vn={getCode:function(ln){return ln.textContent},getElements:function(ln){return ln.querySelectorAll(".language-abc")}},Ot={getCode:function(ln){return ln.textContent},getElements:function(ln){return ln.querySelectorAll(".language-graphviz")}},Zt={getCode:function(ln){return ln.textContent},getElements:function(ln){return ln.querySelectorAll(".language-flowchart")}},mn={getCode:function(ln){return ln.textContent},getElements:function(ln){return ln.querySelectorAll(".language-plantuml")}}},784:(yt,Mt,Lt)=>{Lt.d(Mt,{v:()=>vn});var qt=Lt(913),an=Lt(161),ot=Lt(59),En=Lt(933),Pt=function(Ot,Zt,mn,ln){return new(mn||(mn=Promise))(function(Ft,bn){function Kn(rr){try{Rn(ln.next(rr))}catch(Vn){bn(Vn)}}function Jt(rr){try{Rn(ln.throw(rr))}catch(Vn){bn(Vn)}}function Rn(rr){var Vn;rr.done?Ft(rr.value):(Vn=rr.value,Vn instanceof mn?Vn:new mn(function(Br){Br(Vn)})).then(Kn,Jt)}Rn((ln=ln.apply(Ot,[])).next())})},xt=function(Ot,Zt){var mn,ln,Ft,bn,Kn={label:0,sent:function(){if(1&Ft[0])throw Ft[1];return Ft[1]},trys:[],ops:[]};return bn={next:Jt(0),throw:Jt(1),return:Jt(2)},typeof Symbol=="function"&&(bn[Symbol.iterator]=function(){return this}),bn;function Jt(Rn){return function(rr){return function(Vn){if(mn)throw new TypeError("Generator is already executing.");for(;bn&&(bn=0,Vn[0]&&(Kn=0)),Kn;)try{if(mn=1,ln&&(Ft=2&Vn[0]?ln.return:Vn[0]?ln.throw||((Ft=ln.return)&&Ft.call(ln),0):ln.next)&&!(Ft=Ft.call(ln,Vn[1])).done)return Ft;switch(ln=0,Ft&&(Vn=[2&Vn[0],Ft.value]),Vn[0]){case 0:case 1:Ft=Vn;break;case 4:return Kn.label++,{value:Vn[1],done:!1};case 5:Kn.label++,ln=Vn[1],Vn=[0];continue;case 7:Vn=Kn.ops.pop(),Kn.trys.pop();continue;default:if(Ft=Kn.trys,!((Ft=Ft.length>0&&Ft[Ft.length-1])||Vn[0]!==6&&Vn[0]!==2)){Kn=0;continue}if(Vn[0]===3&&(!Ft||Vn[1]>Ft[0]&&Vn[1]<Ft[3])){Kn.label=Vn[1];break}if(Vn[0]===6&&Kn.label<Ft[1]){Kn.label=Ft[1],Ft=Vn;break}if(Ft&&Kn.label<Ft[2]){Kn.label=Ft[2],Kn.ops.push(Vn);break}Ft[2]&&Kn.ops.pop(),Kn.trys.pop();continue}Vn=Zt.call(Ot,Kn)}catch(Br){Vn=[6,Br],ln=0}finally{mn=Ft=0}if(5&Vn[0])throw Vn[1];return{value:Vn[0]?Vn[1]:void 0,done:!0}}([Rn,rr])}}},vn=function(Ot,Zt,mn){Ot===void 0&&(Ot=document),Zt===void 0&&(Zt=qt.Y.CDN);var ln=ot.chartRenderAdapter.getElements(Ot);ln.length>0&&(0,an.Z)("".concat(Zt,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){ln.forEach(function(Ft){return Pt(void 0,void 0,void 0,function(){var bn,Kn,Jt;return xt(this,function(Rn){switch(Rn.label){case 0:if(Ft.parentElement.classList.contains("vditor-wysiwyg__pre")||Ft.parentElement.classList.contains("vditor-ir__marker--pre"))return[2];if(!(bn=ot.chartRenderAdapter.getCode(Ft).trim()))return[2];Rn.label=1;case 1:return Rn.trys.push([1,3,,4]),Ft.getAttribute("data-processed")==="true"?[2]:[4,(0,En.kY)(bn)];case 2:return Kn=Rn.sent(),echarts.init(Ft,mn==="dark"?"dark":void 0).setOption(Kn),Ft.setAttribute("data-processed","true"),[3,4];case 3:return Jt=Rn.sent(),Ft.className="vditor-reset--error",Ft.innerHTML="echarts render error: <br>".concat(Jt),[3,4];case 4:return[2]}})})})})}},51:(yt,Mt,Lt)=>{Lt.d(Mt,{o:()=>ot});var qt=Lt(695),an=Lt(913),ot=function(En,Pt){Array.from(En.querySelectorAll("pre > code")).filter(function(xt,vn){return!xt.parentElement.classList.contains("vditor-wysiwyg__pre")&&!xt.parentElement.classList.contains("vditor-ir__marker--pre")&&!(xt.classList.contains("language-mermaid")||xt.classList.contains("language-flowchart")||xt.classList.contains("language-echarts")||xt.classList.contains("language-mindmap")||xt.classList.contains("language-plantuml")||xt.classList.contains("language-markmap")||xt.classList.contains("language-abc")||xt.classList.contains("language-graphviz")||xt.classList.contains("language-math")||xt.classList.contains("language-smiles"))&&!(xt.style.maxHeight.indexOf("px")>-1)&&!(En.classList.contains("vditor-preview")&&vn>5)}).forEach(function(xt){var vn,Ot,Zt,mn=xt.innerText;if(xt.classList.contains("highlight-chroma")){var ln=xt.cloneNode(!0);ln.querySelectorAll(".highlight-ln").forEach(function(Jt){Jt.remove()}),mn=ln.innerText}else mn.endsWith(`
`)&&(mn=mn.substr(0,mn.length-1));var Ft='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(Ft='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var bn=document.createElement("div");bn.className="vditor-copy",bn.innerHTML='<span aria-label="'.concat(((vn=window.VditorI18n)===null||vn===void 0?void 0:vn.copy)||"复制",`"
onmouseover="this.setAttribute('aria-label', '`).concat(((Ot=window.VditorI18n)===null||Ot===void 0?void 0:Ot.copy)||"复制",`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`).concat(((Zt=window.VditorI18n)===null||Zt===void 0?void 0:Zt.copied)||"已复制",`');this.previousElementSibling.blur()">`).concat(Ft,"</span>");var Kn=document.createElement("textarea");Kn.value=(0,qt.p)(mn),bn.insertAdjacentElement("afterbegin",Kn),Pt&&Pt.renderMenu&&Pt.renderMenu(xt,bn),xt.before(bn),xt.style.maxHeight=window.outerHeight-40+"px",xt.insertAdjacentHTML("afterend",'<span style="position: absolute">'.concat(an.Y.ZWSP,"</span>"))})}},500:(yt,Mt,Lt)=>{Lt.d(Mt,{D:()=>En});var qt=Lt(913),an=Lt(161),ot=Lt(59),En=function(Pt,xt){xt===void 0&&(xt=qt.Y.CDN);var vn=ot.flowchartRenderAdapter.getElements(Pt);vn.length!==0&&(0,an.Z)("".concat(xt,"/dist/js/flowchart.js/flowchart.min.js"),"vditorFlowchartScript").then(function(){vn.forEach(function(Ot){if(Ot.getAttribute("data-processed")!=="true"){var Zt=flowchart.parse(ot.flowchartRenderAdapter.getCode(Ot));Ot.innerHTML="",Zt.drawSVG(Ot),Ot.setAttribute("data-processed","true")}})})}},339:(yt,Mt,Lt)=>{Lt.d(Mt,{m:()=>En});var qt=Lt(913),an=Lt(161),ot=Lt(59),En=function(Pt,xt){xt===void 0&&(xt=qt.Y.CDN);var vn=ot.graphvizRenderAdapter.getElements(Pt);vn.length!==0&&(0,an.Z)("".concat(xt,"/dist/js/graphviz/viz.js"),"vditorGraphVizScript").then(function(){vn.forEach(function(Ot){var Zt=ot.graphvizRenderAdapter.getCode(Ot);if(!Ot.parentElement.classList.contains("vditor-wysiwyg__pre")&&!Ot.parentElement.classList.contains("vditor-ir__marker--pre")&&Ot.getAttribute("data-processed")!=="true"&&Zt.trim()!==""){try{var mn=new Blob(["importScripts('".concat(document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js"),"');")],{type:"application/javascript"}),ln=(window.URL||window.webkitURL).createObjectURL(mn),Ft=new Worker(ln);new Viz({worker:Ft}).renderSVGElement(Zt).then(function(bn){Ot.innerHTML=bn.outerHTML}).catch(function(bn){Ot.innerHTML="graphviz render error: <br>".concat(bn),Ot.className="vditor-reset--error"})}catch(bn){}Ot.setAttribute("data-processed","true")}})})}},108:(yt,Mt,Lt)=>{Lt.d(Mt,{$:()=>En});var qt=Lt(913),an=Lt(161),ot=Lt(505),En=function(Pt,xt,vn){xt===void 0&&(xt=document),vn===void 0&&(vn=qt.Y.CDN);var Ot=Pt.style;qt.Y.CODE_THEME.includes(Ot)||(Ot="github");var Zt=document.getElementById("vditorHljsStyle"),mn="".concat(vn,"/dist/js/highlight.js/styles/").concat(Ot,".min.css");Zt&&Zt.getAttribute("href")!==mn&&Zt.remove(),(0,ot.T)("".concat(vn,"/dist/js/highlight.js/styles/").concat(Ot,".min.css"),"vditorHljsStyle"),Pt.enable!==!1&&xt.querySelectorAll("pre > code").length!==0&&(0,an.Z)("".concat(vn,"/dist/js/highlight.js/highlight.min.js?v=11.7.0"),"vditorHljsScript").then(function(){(0,an.Z)("".concat(vn,"/dist/js/highlight.js/third-languages.js?v=1.0.1"),"vditorHljsThirdScript").then(function(){xt.querySelectorAll("pre > code").forEach(function(ln){if(!ln.parentElement.classList.contains("vditor-ir__marker--pre")&&!ln.parentElement.classList.contains("vditor-wysiwyg__pre")&&!(ln.classList.contains("language-mermaid")||ln.classList.contains("language-flowchart")||ln.classList.contains("language-echarts")||ln.classList.contains("language-mindmap")||ln.classList.contains("language-plantuml")||ln.classList.contains("language-smiles")||ln.classList.contains("language-abc")||ln.classList.contains("language-graphviz")||ln.classList.contains("language-math"))){Pt.defaultLang!==""&&ln.className.indexOf("language-")===-1&&ln.classList.add("language-"+Pt.defaultLang);var Ft=Pt.defaultLang||ln.className.replace("language-","");if(window.hljs.getLanguage(Ft)||(Ft="plaintext"),ln.innerHTML=window.hljs.highlight(ln.textContent,{language:Ft,ignoreIllegals:!0}).value,ln.classList.add("hljs"),Pt.lineNumber){ln.classList.add("vditor-linenumber");var bn=ln.querySelector(".vditor-linenumber__temp");bn||((bn=document.createElement("div")).className="vditor-linenumber__temp",ln.insertAdjacentElement("beforeend",bn));var Kn=getComputedStyle(ln).whiteSpace,Jt=!1;Kn!=="pre-wrap"&&Kn!=="pre-line"||(Jt=!0);var Rn="",rr=ln.textContent.split(/\r\n|\r|\n/g);rr.pop(),rr.map(function(Vn){var Br="";Jt&&(bn.textContent=Vn||`
`,Br=' style="height:'.concat(bn.getBoundingClientRect().height,'px"')),Rn+="<span".concat(Br,"></span>")}),bn.style.display="none",Rn='<span class="vditor-linenumber__rows">'.concat(Rn,"</span>"),ln.insertAdjacentHTML("beforeend",Rn)}}})})})}},597:(yt,Mt,Lt)=>{Lt.d(Mt,{K:()=>xt});var qt=Lt(913),an=Lt(161),ot=Lt(59),En={},Pt=function(vn,Ot){var Zt=window.markmap,mn=Zt.Transformer,ln=Zt.Markmap,Ft=Zt.deriveOptions,bn=(Zt.globalCSS,new mn);vn.innerHTML='<svg style="width:100%"></svg>';var Kn=vn.firstChild,Jt=ln.create(Kn,null),Rn=function(la,fa){var co=la.transform(fa),Eo=Object.keys(co.features).filter(function(zn){return!En[zn]});Eo.forEach(function(zn){En[zn]=!0});var hr=la.getAssets(Eo),yr=hr.styles,mr=hr.scripts,Pn=window.markmap;return yr&&Pn.loadCSS(yr),mr&&Pn.loadJS(mr),co}(bn,Ot),rr=Rn.root,Vn=Rn.frontmatter,Br=Ft(Vn==null?void 0:Vn.markmap);Jt.setData(rr,Br),Jt.fit()},xt=function(vn,Ot){vn===void 0&&(vn=document),Ot===void 0&&(Ot=qt.Y.CDN);var Zt=ot.markmapRenderAdapter.getElements(vn);Zt.length!==0&&(0,an.Z)("".concat(Ot,"/dist/js/markmap/markmap.min.js"),"vditorMarkerScript").then(function(){Zt.forEach(function(mn){var ln=ot.markmapRenderAdapter.getCode(mn);if(mn.getAttribute("data-processed")!=="true"&&ln.trim()!==""){var Ft=document.createElement("div");Ft.className="language-markmap",mn.parentNode.appendChild(Ft),Pt(Ft,ln),mn.parentNode.childNodes[0].nodeName=="CODE"&&mn.parentNode.removeChild(mn.parentNode.childNodes[0])}})})}},960:(yt,Mt,Lt)=>{Lt.d(Mt,{T:()=>xt});var qt=Lt(913),an=Lt(161),ot=Lt(505),En=Lt(695),Pt=Lt(59),xt=function(vn,Ot){vn===void 0&&(vn=document);var Zt=Pt.mathRenderAdapter.getElements(vn);if(Zt.length!==0){var mn={cdn:qt.Y.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(Ot&&Ot.math&&(Ot.math=Object.assign({},mn.math,Ot.math)),(Ot=Object.assign({},mn,Ot)).math.engine==="KaTeX")(0,ot.T)("".concat(Ot.cdn,"/dist/js/katex/katex.min.css?v=0.16.9"),"vditorKatexStyle"),(0,an.Z)("".concat(Ot.cdn,"/dist/js/katex/katex.min.js?v=0.16.9"),"vditorKatexScript").then(function(){(0,an.Z)("".concat(Ot.cdn,"/dist/js/katex/mhchem.min.js?v=0.16.9"),"vditorKatexChemScript").then(function(){Zt.forEach(function(Ft){if(!Ft.parentElement.classList.contains("vditor-wysiwyg__pre")&&!Ft.parentElement.classList.contains("vditor-ir__marker--pre")&&!Ft.getAttribute("data-math")){var bn=(0,En.p)(Pt.mathRenderAdapter.getCode(Ft));Ft.setAttribute("data-math",bn);try{Ft.innerHTML=katex.renderToString(bn,{displayMode:Ft.tagName==="DIV",output:"html",macros:Ot.math.macros})}catch(Kn){Ft.innerHTML=Kn.message,Ft.className="language-math vditor-reset--error"}Ft.addEventListener("copy",function(Kn){Kn.stopPropagation(),Kn.preventDefault();var Jt=Kn.currentTarget.closest(".language-math");Kn.clipboardData.setData("text/html",Jt.innerHTML),Kn.clipboardData.setData("text/plain",Jt.getAttribute("data-math"))})}})})});else if(Ot.math.engine==="MathJax"){window.MathJax||(window.MathJax={loader:{paths:{mathjax:"".concat(Ot.cdn,"/dist/js/mathjax")}},startup:{typeset:!1},tex:{macros:Ot.math.macros}},Object.assign(window.MathJax,Ot.math.mathJaxOptions)),(0,an.U)("".concat(Ot.cdn,"/dist/js/mathjax/tex-svg-full.js"),"protyleMathJaxScript");var ln=function(Ft,bn){var Kn=(0,En.p)(Ft.textContent).trim(),Jt=window.MathJax.getMetricsFor(Ft);Jt.display=Ft.tagName==="DIV",window.MathJax.tex2svgPromise(Kn,Jt).then(function(Rn){Ft.innerHTML="",Ft.setAttribute("data-math",Kn),Ft.append(Rn),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var rr=Rn.querySelector('[data-mml-node="merror"]');rr&&rr.textContent.trim()!==""&&(Ft.innerHTML=rr.textContent.trim(),Ft.className="vditor-reset--error"),bn&&bn()})};window.MathJax.startup.promise.then(function(){for(var Ft=[],bn=function(Jt){var Rn=Zt[Jt];Rn.parentElement.classList.contains("vditor-wysiwyg__pre")||Rn.parentElement.classList.contains("vditor-ir__marker--pre")||Rn.getAttribute("data-math")||!(0,En.p)(Rn.textContent).trim()||Ft.push(function(rr){Jt===Zt.length-1?ln(Rn):ln(Rn,rr)})},Kn=0;Kn<Zt.length;Kn++)bn(Kn);(function(Jt){if(Jt.length!==0){var Rn=0,rr=Jt[Jt.length-1],Vn=function(){var Br=Jt[Rn++];Br===rr?Br():Br(Vn)};Vn()}})(Ft)})}}}},0:(yt,Mt,Lt)=>{Lt.d(Mt,{l:()=>an});var qt=Lt(933),an=function(ot){ot&&ot.querySelectorAll("a").forEach(function(En){var Pt=En.getAttribute("href");Pt&&(Pt.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?function(xt,vn){xt.insertAdjacentHTML("afterend",'<video controls="controls" src="'.concat(vn,'"></video>')),xt.remove()}(En,Pt):Pt.match(/^.+.(mp3|wav|flac)$/)?function(xt,vn){xt.insertAdjacentHTML("afterend",'<audio controls="controls" src="'.concat(vn,'"></audio>')),xt.remove()}(En,Pt):function(xt,vn){var Ot=vn.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),Zt=vn.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),mn=vn.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),ln=vn.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),Ft=vn.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),bn=vn.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),Kn=vn.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),Jt=vn.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);if(Ot&&Ot[1].length===11)xt.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'.concat(Ot[1]+(Ot[2]?"?start="+Ot[2]:""),'"></iframe>')),xt.remove();else if(Zt&&Zt[1])xt.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'.concat(Zt[1],'"></iframe>')),xt.remove();else if(mn&&mn[1])xt.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='.concat(mn[1],'"></iframe>')),xt.remove();else if(ln&&ln[1])xt.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`.concat(ln[1],'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>')),xt.remove();else if(Ft&&Ft[0])xt.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`.concat(encodeURIComponent(Ft[0]),'"></iframe>')),xt.remove();else if(bn&&bn[2])xt.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`.concat(bn[2],'"></iframe>')),xt.remove();else if(vn.indexOf("bilibili.com")>-1&&(vn.indexOf("bvid=")>-1||Kn&&Kn[1])){var Rn={bvid:(0,qt.TK)("bvid",vn)||Kn&&Kn[1],page:"1",high_quality:"1",as_wide:"1",allowfullscreen:"true",autoplay:"0"};new URL(vn.startsWith("http")?vn:"https:"+vn).search.split("&").forEach(function(Br,la){if(Br){la===0&&(Br=Br.substr(1));var fa=Br.split("=");Rn[fa[0]]=fa[1]}});var rr="https://player.bilibili.com/player.html?",Vn=Object.keys(Rn);Vn.forEach(function(Br,la){rr+="".concat(Br,"=").concat(Rn[Br]),la<Vn.length-1&&(rr+="&")}),xt.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="'.concat(rr,'"></iframe>')),xt.remove()}else Jt&&Jt[1]&&(xt.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'.concat(Jt[1],'"></iframe>')),xt.remove())}(En,Pt))})}},975:(yt,Mt,Lt)=>{Lt.d(Mt,{e:()=>vn});var qt=Lt(913),an=Lt(161),ot=Lt(59),En=Lt(933),Pt=function(Ot,Zt,mn,ln){return new(mn||(mn=Promise))(function(Ft,bn){function Kn(rr){try{Rn(ln.next(rr))}catch(Vn){bn(Vn)}}function Jt(rr){try{Rn(ln.throw(rr))}catch(Vn){bn(Vn)}}function Rn(rr){var Vn;rr.done?Ft(rr.value):(Vn=rr.value,Vn instanceof mn?Vn:new mn(function(Br){Br(Vn)})).then(Kn,Jt)}Rn((ln=ln.apply(Ot,[])).next())})},xt=function(Ot,Zt){var mn,ln,Ft,bn,Kn={label:0,sent:function(){if(1&Ft[0])throw Ft[1];return Ft[1]},trys:[],ops:[]};return bn={next:Jt(0),throw:Jt(1),return:Jt(2)},typeof Symbol=="function"&&(bn[Symbol.iterator]=function(){return this}),bn;function Jt(Rn){return function(rr){return function(Vn){if(mn)throw new TypeError("Generator is already executing.");for(;bn&&(bn=0,Vn[0]&&(Kn=0)),Kn;)try{if(mn=1,ln&&(Ft=2&Vn[0]?ln.return:Vn[0]?ln.throw||((Ft=ln.return)&&Ft.call(ln),0):ln.next)&&!(Ft=Ft.call(ln,Vn[1])).done)return Ft;switch(ln=0,Ft&&(Vn=[2&Vn[0],Ft.value]),Vn[0]){case 0:case 1:Ft=Vn;break;case 4:return Kn.label++,{value:Vn[1],done:!1};case 5:Kn.label++,ln=Vn[1],Vn=[0];continue;case 7:Vn=Kn.ops.pop(),Kn.trys.pop();continue;default:if(Ft=Kn.trys,!((Ft=Ft.length>0&&Ft[Ft.length-1])||Vn[0]!==6&&Vn[0]!==2)){Kn=0;continue}if(Vn[0]===3&&(!Ft||Vn[1]>Ft[0]&&Vn[1]<Ft[3])){Kn.label=Vn[1];break}if(Vn[0]===6&&Kn.label<Ft[1]){Kn.label=Ft[1],Ft=Vn;break}if(Ft&&Kn.label<Ft[2]){Kn.label=Ft[2],Kn.ops.push(Vn);break}Ft[2]&&Kn.ops.pop(),Kn.trys.pop();continue}Vn=Zt.call(Ot,Kn)}catch(Br){Vn=[6,Br],ln=0}finally{mn=Ft=0}if(5&Vn[0])throw Vn[1];return{value:Vn[0]?Vn[1]:void 0,done:!0}}([Rn,rr])}}},vn=function(Ot,Zt,mn){Ot===void 0&&(Ot=document),Zt===void 0&&(Zt=qt.Y.CDN);var ln=ot.mermaidRenderAdapter.getElements(Ot);ln.length!==0&&(0,an.Z)("".concat(Zt,"/dist/js/mermaid/mermaid.min.js"),"vditorMermaidScript").then(function(){var Ft={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8,showSequenceNumbers:!0},gantt:{leftPadding:75,rightPadding:20}};mn==="dark"&&(Ft.theme="dark"),mermaid.initialize(Ft),ln.forEach(function(bn){return Pt(void 0,void 0,void 0,function(){var Kn,Jt,Rn,rr,Vn;return xt(this,function(Br){switch(Br.label){case 0:if(Kn=ot.mermaidRenderAdapter.getCode(bn),bn.getAttribute("data-processed")==="true"||Kn.trim()==="")return[2];Jt="mermaid"+(0,En.Ee)(),Br.label=1;case 1:return Br.trys.push([1,3,,4]),[4,mermaid.render(Jt,bn.textContent)];case 2:return Rn=Br.sent(),bn.innerHTML=Rn.svg,[3,4];case 3:return rr=Br.sent(),Vn=document.querySelector("#"+Jt),bn.innerHTML="".concat(Vn.outerHTML,`<br>
<div style="text-align: left"><small>`).concat(rr.message.replace(/\n/,"<br>"),"</small></div>"),Vn.parentElement.remove(),[3,4];case 4:return bn.setAttribute("data-processed","true"),[2]}})})})})}},162:(yt,Mt,Lt)=>{Lt.d(Mt,{l:()=>En});var qt=Lt(913),an=Lt(161),ot=Lt(59),En=function(Pt,xt,vn){Pt===void 0&&(Pt=document),xt===void 0&&(xt=qt.Y.CDN);var Ot=ot.mindmapRenderAdapter.getElements(Pt);Ot.length>0&&(0,an.Z)("".concat(xt,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){Ot.forEach(function(Zt){if(!Zt.parentElement.classList.contains("vditor-wysiwyg__pre")&&!Zt.parentElement.classList.contains("vditor-ir__marker--pre")){var mn=ot.mindmapRenderAdapter.getCode(Zt);if(mn)try{if(Zt.getAttribute("data-processed")==="true")return;echarts.init(Zt,vn==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(mn))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(ln,Ft){var bn;return!((bn=Ft==null?void 0:Ft.data)===null||bn===void 0)&&bn.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),Zt.setAttribute("data-processed","true")}catch(ln){Zt.className="vditor-reset--error",Zt.innerHTML="mindmap render error: <br>".concat(ln)}}})})}},70:(yt,Mt,Lt)=>{Lt.d(Mt,{N:()=>ot});var qt=Lt(164),an=Lt(960),ot=function(En,Pt,xt){var vn="",Ot=[];if(Array.from(En.children).forEach(function(Ft,bn){if((0,qt.c)(Ft)){if(xt){var Kn=Ft.id.lastIndexOf("_");Ft.id=Ft.id.substring(0,Kn===-1?void 0:Kn)+"_"+bn}Ot.push(Ft.id),vn+=Ft.outerHTML.replace("<wbr>","")}}),vn==="")return Pt.innerHTML="","";var Zt=document.createElement("div");if(xt)xt.lute.SetToC(!0),xt.currentMode!=="wysiwyg"||xt.preview.element.contains(En)?xt.currentMode!=="ir"||xt.preview.element.contains(En)?Zt.innerHTML=xt.lute.HTML2VditorDOM("<p>[ToC]</p>"+vn):Zt.innerHTML=xt.lute.SpinVditorIRDOM("<p>[ToC]</p>"+vn):Zt.innerHTML=xt.lute.SpinVditorDOM("<p>[ToC]</p>"+vn),xt.lute.SetToC(xt.options.preview.markdown.toc);else{Pt.classList.add("vditor-outline");var mn=Lute.New();mn.SetToC(!0),Zt.innerHTML=mn.HTML2VditorDOM("<p>[ToC]</p>"+vn)}var ln=Zt.firstElementChild.querySelectorAll("li > span[data-target-id]");return ln.forEach(function(Ft,bn){if(Ft.nextElementSibling&&Ft.nextElementSibling.tagName==="UL"){var Kn="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(Kn='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),Ft.innerHTML="".concat(Kn,"<span>").concat(Ft.innerHTML,"</span>")}else Ft.innerHTML="<svg></svg><span>".concat(Ft.innerHTML,"</span>");Ft.setAttribute("data-target-id",Ot[bn])}),vn=Zt.firstElementChild.innerHTML,ln.length===0?(Pt.innerHTML="",vn):(Pt.innerHTML=vn,xt&&(0,an.T)(Pt,{cdn:xt.options.cdn,math:xt.options.preview.math}),Pt.firstElementChild.addEventListener("click",function(Ft){for(var bn=Ft.target;bn&&!bn.isEqualNode(Pt);){if(bn.classList.contains("vditor-outline__action")){bn.classList.contains("vditor-outline__action--close")?(bn.classList.remove("vditor-outline__action--close"),bn.parentElement.nextElementSibling.setAttribute("style","display:block")):(bn.classList.add("vditor-outline__action--close"),bn.parentElement.nextElementSibling.setAttribute("style","display:none")),Ft.preventDefault(),Ft.stopPropagation();break}if(bn.getAttribute("data-target-id")){Ft.preventDefault(),Ft.stopPropagation();var Kn=document.getElementById(bn.getAttribute("data-target-id"));if(!Kn)return;if(xt)if(xt.options.height==="auto"){var Jt=Kn.offsetTop+xt.element.offsetTop;xt.options.toolbarConfig.pin||(Jt+=xt.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,Jt)}else xt.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,xt.element.offsetTop),xt.preview.element.contains(En)?En.parentElement.scrollTop=Kn.offsetTop:En.scrollTop=Kn.offsetTop;else window.scrollTo(window.scrollX,Kn.offsetTop);break}bn=bn.parentElement}}),vn)}},591:(yt,Mt,Lt)=>{Lt.d(Mt,{M:()=>En});var qt=Lt(913),an=Lt(161),ot=Lt(59),En=function(Pt,xt){Pt===void 0&&(Pt=document),xt===void 0&&(xt=qt.Y.CDN);var vn=ot.plantumlRenderAdapter.getElements(Pt);vn.length!==0&&(0,an.Z)("".concat(xt,"/dist/js/plantuml/plantuml-encoder.min.js"),"vditorPlantumlScript").then(function(){vn.forEach(function(Ot){if(!Ot.parentElement.classList.contains("vditor-wysiwyg__pre")&&!Ot.parentElement.classList.contains("vditor-ir__marker--pre")){var Zt=ot.plantumlRenderAdapter.getCode(Ot).trim();if(Zt)try{Ot.innerHTML='<object type="image/svg+xml" data="https://www.plantuml.com/plantuml/svg/~1'.concat(plantumlEncoder.encode(Zt),'"/>')}catch(mn){Ot.className="vditor-reset--error",Ot.innerHTML="plantuml render error: <br>".concat(mn)}}})})}},796:(yt,Mt,Lt)=>{Lt.d(Mt,{X:()=>qt});var qt=function(an){var ot=Lute.New();return ot.PutEmojis(an.emojis),ot.SetEmojiSite(an.emojiSite),ot.SetHeadingAnchor(an.headingAnchor),ot.SetInlineMathAllowDigitAfterOpenMarker(an.inlineMathDigit),ot.SetAutoSpace(an.autoSpace),ot.SetToC(an.toc),ot.SetFootnotes(an.footnotes),ot.SetFixTermTypo(an.fixTermTypo),ot.SetVditorCodeBlockPreview(an.codeBlockPreview),ot.SetVditorMathBlockPreview(an.mathBlockPreview),ot.SetSanitize(an.sanitize),ot.SetChineseParagraphBeginningSpace(an.paragraphBeginningSpace),ot.SetRenderListStyle(an.listStyle),ot.SetLinkBase(an.linkBase),ot.SetLinkPrefix(an.linkPrefix),ot.SetMark(an.mark),ot.SetGFMAutoLink(an.gfmAutoLink),an.lazyLoadImage&&ot.SetImageLazyLoading(an.lazyLoadImage),ot}},726:(yt,Mt,Lt)=>{Lt.d(Mt,{o:()=>qt});var qt=function(an,ot,En){En===void 0&&(En="classic");var Pt=an.getBoundingClientRect();document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'.concat(En==="dark"?" vditor--dark":"",`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `).concat(window.VditorI18n.spin,`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`).concat(window.VditorI18n.close,`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `).concat(an.width,"px;height:").concat(an.height,"px;transform: translate3d(").concat(Pt.left,"px, ").concat(Pt.top-36,'px, 0)" src="').concat(an.getAttribute("src"),`">
    </div>
</div>`)),document.body.style.overflow="hidden";var xt=document.querySelector(".vditor-img img"),vn="translate3d(".concat(Math.max(0,window.innerWidth-an.naturalWidth)/2,"px, ").concat(Math.max(0,window.innerHeight-36-an.naturalHeight)/2,"px, 0)");setTimeout(function(){xt.setAttribute("style","transition: transform .3s ease-in-out;transform: ".concat(vn)),setTimeout(function(){xt.parentElement.scrollTo((xt.parentElement.scrollWidth-xt.parentElement.clientWidth)/2,(xt.parentElement.scrollHeight-xt.parentElement.clientHeight)/2)},400)});var Ot=document.querySelector(".vditor-img__btn");Ot.addEventListener("click",function(){var Zt=parseInt(Ot.getAttribute("data-deg"),10)+90;Zt/90%2==1&&an.naturalWidth>xt.parentElement.clientHeight?xt.style.transform="translate3d(".concat(Math.max(0,window.innerWidth-an.naturalWidth)/2,"px, ").concat(an.naturalWidth/2-an.naturalHeight/2,"px, 0) rotateZ(").concat(Zt,"deg)"):xt.style.transform="".concat(vn," rotateZ(").concat(Zt,"deg)"),Ot.setAttribute("data-deg",Zt.toString()),setTimeout(function(){xt.parentElement.scrollTo((xt.parentElement.scrollWidth-xt.parentElement.clientWidth)/2,(xt.parentElement.scrollHeight-xt.parentElement.clientHeight)/2)},400)})}},13:(yt,Mt,Lt)=>{Lt.d(Mt,{h:()=>ot});var qt=Lt(913),an=Lt(505),ot=function(En,Pt){Pt===void 0&&(Pt=qt.Y.CDN),qt.Y.CODE_THEME.includes(En)||(En="github");var xt=document.getElementById("vditorHljsStyle"),vn="".concat(Pt,"/dist/js/highlight.js/styles/").concat(En,".min.css");xt?xt.getAttribute("href")!==vn&&(xt.remove(),(0,an.T)(vn,"vditorHljsStyle")):(0,an.T)(vn,"vditorHljsStyle")}},873:(yt,Mt,Lt)=>{Lt.d(Mt,{H:()=>an});var qt=Lt(505),an=function(ot,En){if(ot&&En){var Pt=document.getElementById("vditorContentTheme"),xt="".concat(En,"/").concat(ot,".css");Pt?Pt.getAttribute("href")!==xt&&(Pt.remove(),(0,qt.T)(xt,"vditorContentTheme")):(0,qt.T)(xt,"vditorContentTheme")}}},161:(yt,Mt,Lt)=>{Lt.d(Mt,{U:()=>qt,Z:()=>an});var qt=function(ot,En){if(document.getElementById(En))return!1;var Pt=new XMLHttpRequest;Pt.open("GET",ot,!1),Pt.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),Pt.send("");var xt=document.createElement("script");xt.type="text/javascript",xt.text=Pt.responseText,xt.id=En,document.head.appendChild(xt)},an=function(ot,En){return new Promise(function(Pt,xt){if(document.getElementById(En))return Pt(!0),!1;var vn=document.createElement("script");vn.src=ot,vn.async=!0,document.head.appendChild(vn),vn.onerror=function(Ot){xt(Ot)},vn.onload=function(){if(document.getElementById(En))return vn.remove(),Pt(!0),!1;vn.id=En,Pt(!0)}})}},505:(yt,Mt,Lt)=>{Lt.d(Mt,{T:()=>qt});var qt=function(an,ot){if(!document.getElementById(ot)){var En=document.createElement("link");En.id=ot,En.rel="stylesheet",En.type="text/css",En.href=an,document.getElementsByTagName("head")[0].appendChild(En)}}},695:(yt,Mt,Lt)=>{Lt.d(Mt,{p:()=>qt});var qt=function(an){return an.replace(/\u00a0/g," ")}},933:(yt,Mt,Lt)=>{Lt.d(Mt,{Ee:()=>qt,TK:()=>an,kY:()=>ot});var qt=function(){return([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(En){return(parseInt(En,10)^window.crypto.getRandomValues(new Uint32Array(1))[0]&15>>parseInt(En,10)/4).toString(16)})},an=function(En,Pt){Pt===void 0&&(Pt=window.location.search);var xt=Pt.substring(Pt.indexOf("?")),vn=xt.indexOf("#");return new URLSearchParams(xt.substring(0,vn>=0?vn:void 0)).get(En)},ot=function(En){return Function('"use strict";return ('.concat(En,")"))()}},598:(yt,Mt,Lt)=>{Lt.d(Mt,{KJ:()=>an,_Y:()=>qt});var qt=function(ot,En){if(!ot)return!1;ot.nodeType===3&&(ot=ot.parentElement);for(var Pt=ot,xt=!1;Pt&&!xt&&!Pt.classList.contains("vditor-reset");)Pt.nodeName===En?xt=!0:Pt=Pt.parentElement;return xt&&Pt},an=function(ot,En){if(!ot)return!1;ot.nodeType===3&&(ot=ot.parentElement);for(var Pt=ot,xt=!1;Pt&&!xt&&!Pt.classList.contains("vditor-reset");)Pt.classList.contains(En)?xt=!0:Pt=Pt.parentElement;return xt&&Pt}},164:(yt,Mt,Lt)=>{Lt.d(Mt,{c:()=>qt});var qt=function(an){var ot=function(En,Pt){if(!En)return!1;En.nodeType===3&&(En=En.parentElement);for(var xt=En,vn=!1;xt&&!vn&&!xt.classList.contains("vditor-reset");)xt.nodeName.indexOf(Pt)===0?vn=!0:xt=xt.parentElement;return vn&&xt}(an,"H");return!(!ot||ot.tagName.length!==2||ot.tagName==="HR")&&ot}},905:(yt,Mt,Lt)=>{Lt.d(Mt,{h:()=>qt});var qt=function(){for(var an=[],ot=0;ot<arguments.length;ot++)an[ot]=arguments[ot];for(var En={},Pt=function(vn){for(var Ot in vn)vn.hasOwnProperty(Ot)&&(Object.prototype.toString.call(vn[Ot])==="[object Object]"?En[Ot]=qt(En[Ot],vn[Ot]):En[Ot]=vn[Ot])},xt=0;xt<an.length;xt++)Pt(an[xt]);return En}},827:(yt,Mt,Lt)=>{Lt.d(Mt,{jl:()=>qt}),Lt(913);var qt=function(an){var ot=window.getSelection();ot.removeAllRanges(),ot.addRange(an)}}},x={};function He(yt){var Mt=x[yt];if(Mt!==void 0)return Mt.exports;var Lt=x[yt]={exports:{}};return C[yt](Lt,Lt.exports,He),Lt.exports}He.d=(yt,Mt)=>{for(var Lt in Mt)He.o(Mt,Lt)&&!He.o(yt,Lt)&&Object.defineProperty(yt,Lt,{enumerable:!0,get:Mt[Lt]})},He.o=(yt,Mt)=>Object.prototype.hasOwnProperty.call(yt,Mt),He.r=yt=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(yt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(yt,"__esModule",{value:!0})};var Ge={};He.d(Ge,{default:()=>cn});var Xe=He(288),ze=He(59),We=He(784),at=He(51),nt=He(500),A=He(339),Te=He(108),et=function(yt){yt===void 0&&(yt=document);var Mt=function(Lt){var qt=document.createElement("img");qt.src=Lt.getAttribute("data-src"),qt.addEventListener("load",function(){Lt.getAttribute("style")||Lt.getAttribute("class")||Lt.getAttribute("width")||Lt.getAttribute("height")||qt.naturalHeight>qt.naturalWidth&&qt.naturalWidth/qt.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&qt.naturalHeight>window.innerHeight-40&&(Lt.style.height=window.innerHeight-40+"px"),Lt.src=qt.src}),Lt.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return yt.querySelectorAll("img").forEach(function(Lt){Lt.getAttribute("data-src")&&Mt(Lt)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),yt.querySelectorAll("img").forEach(function(Lt){window.vditorImageIntersectionObserver.observe(Lt)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(Lt){Lt.forEach(function(qt){(qt.isIntersecting===void 0?qt.intersectionRatio!==0:qt.isIntersecting)&&qt.target.getAttribute("data-src")&&Mt(qt.target)})}),yt.querySelectorAll("img").forEach(function(Lt){window.vditorImageIntersectionObserver.observe(Lt)}))},Qe=He(960),$e=He(0),Ye=He(975),ut=He(931),ct=He(597),qe=He(162),lt=He(70),Ue=He(591),pt=He(913),It=He(873),Tt=He(161),mt=He(598),vt=He(905),Et=He(796),st=He(827),At=function(yt,Mt){if(Mt===void 0&&(Mt="zh_CN"),typeof speechSynthesis!="undefined"&&typeof SpeechSynthesisUtterance!="undefined"){var Lt=function(){var xt,vn;return speechSynthesis.getVoices().forEach(function(Ot){Ot.lang===Mt.replace("_","-")&&(xt=Ot),Ot.default&&(vn=Ot)}),xt||(xt=vn),xt},qt='<svg><use xlink:href="#vditor-icon-play"></use></svg>',an='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(qt='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',an='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var ot=document.querySelector(".vditor-speech");ot||((ot=document.createElement("button")).className="vditor-speech",yt.insertAdjacentElement("beforeend",ot),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=Lt));var En=Lt(),Pt=new SpeechSynthesisUtterance;Pt.voice=En,Pt.onend=Pt.onerror=function(){ot.style.display="none",speechSynthesis.cancel(),ot.classList.remove("vditor-speech--current"),ot.innerHTML=qt},yt.addEventListener(window.ontouchstart!==void 0?"touchend":"click",function(xt){var vn=xt.target;if(vn.classList.contains("vditor-speech")||vn.parentElement.classList.contains("vditor-speech"))return ot.classList.contains("vditor-speech--current")?speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),ot.innerHTML=an):(speechSynthesis.pause(),ot.innerHTML=qt)):(Pt.text=ot.getAttribute("data-text"),speechSynthesis.speak(Pt),ot.classList.add("vditor-speech--current"),ot.innerHTML=an),(0,st.jl)(window.vditorSpeechRange),void yt.focus();if(ot.style.display="none",speechSynthesis.cancel(),ot.classList.remove("vditor-speech--current"),ot.innerHTML=qt,getSelection().rangeCount!==0){var Ot=getSelection().getRangeAt(0),Zt=Ot.toString().trim();if(Zt){window.vditorSpeechRange=Ot.cloneRange();var mn=Ot.getBoundingClientRect();ot.innerHTML=qt,ot.style.display="block",ot.style.top=mn.top+mn.height+document.querySelector("html").scrollTop-20+"px",window.ontouchstart!==void 0?ot.style.left=xt.changedTouches[xt.changedTouches.length-1].pageX+2+"px":ot.style.left=xt.clientX+2+"px",ot.setAttribute("data-text",Zt)}}})}},nn=function(yt,Mt,Lt,qt){return new(Lt||(Lt=Promise))(function(an,ot){function En(vn){try{xt(qt.next(vn))}catch(Ot){ot(Ot)}}function Pt(vn){try{xt(qt.throw(vn))}catch(Ot){ot(Ot)}}function xt(vn){var Ot;vn.done?an(vn.value):(Ot=vn.value,Ot instanceof Lt?Ot:new Lt(function(Zt){Zt(Ot)})).then(En,Pt)}xt((qt=qt.apply(yt,[])).next())})},wn=function(yt,Mt){var Lt,qt,an,ot,En={label:0,sent:function(){if(1&an[0])throw an[1];return an[1]},trys:[],ops:[]};return ot={next:Pt(0),throw:Pt(1),return:Pt(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function Pt(xt){return function(vn){return function(Ot){if(Lt)throw new TypeError("Generator is already executing.");for(;ot&&(ot=0,Ot[0]&&(En=0)),En;)try{if(Lt=1,qt&&(an=2&Ot[0]?qt.return:Ot[0]?qt.throw||((an=qt.return)&&an.call(qt),0):qt.next)&&!(an=an.call(qt,Ot[1])).done)return an;switch(qt=0,an&&(Ot=[2&Ot[0],an.value]),Ot[0]){case 0:case 1:an=Ot;break;case 4:return En.label++,{value:Ot[1],done:!1};case 5:En.label++,qt=Ot[1],Ot=[0];continue;case 7:Ot=En.ops.pop(),En.trys.pop();continue;default:if(an=En.trys,!((an=an.length>0&&an[an.length-1])||Ot[0]!==6&&Ot[0]!==2)){En=0;continue}if(Ot[0]===3&&(!an||Ot[1]>an[0]&&Ot[1]<an[3])){En.label=Ot[1];break}if(Ot[0]===6&&En.label<an[1]){En.label=an[1],an=Ot;break}if(an&&En.label<an[2]){En.label=an[2],En.ops.push(Ot);break}an[2]&&En.ops.pop(),En.trys.pop();continue}Ot=Mt.call(yt,En)}catch(Zt){Ot=[6,Zt],qt=0}finally{Lt=an=0}if(5&Ot[0])throw Ot[1];return{value:Ot[0]?Ot[1]:void 0,done:!0}}([xt,vn])}}},Ht=function(yt){var Mt,Lt={anchor:0,cdn:pt.Y.CDN,customEmoji:{},emojiPath:"".concat(pt.Y.CDN,"/dist/images/emoji"),hljs:pt.Y.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:pt.Y.MARKDOWN_OPTIONS,math:pt.Y.MATH_OPTIONS,mode:"light",speech:{enable:!1},render:{media:{enable:!0}},theme:pt.Y.THEME_OPTIONS};return yt.cdn&&(!((Mt=yt.theme)===null||Mt===void 0)&&Mt.path||(Lt.theme.path="".concat(yt.cdn,"/dist/css/content-theme")),yt.emojiPath||(Lt.emojiPath="".concat(yt.cdn,"/dist/images/emoji"))),(0,vt.h)(Lt,yt)},Sn=function(yt,Mt){var Lt=Ht(Mt);return(0,Tt.Z)("".concat(Lt.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){var qt=(0,Et.X)({autoSpace:Lt.markdown.autoSpace,gfmAutoLink:Lt.markdown.gfmAutoLink,codeBlockPreview:Lt.markdown.codeBlockPreview,emojiSite:Lt.emojiPath,emojis:Lt.customEmoji,fixTermTypo:Lt.markdown.fixTermTypo,footnotes:Lt.markdown.footnotes,headingAnchor:Lt.anchor!==0,inlineMathDigit:Lt.math.inlineDigit,lazyLoadImage:Lt.lazyLoadImage,linkBase:Lt.markdown.linkBase,linkPrefix:Lt.markdown.linkPrefix,listStyle:Lt.markdown.listStyle,mark:Lt.markdown.mark,mathBlockPreview:Lt.markdown.mathBlockPreview,paragraphBeginningSpace:Lt.markdown.paragraphBeginningSpace,sanitize:Lt.markdown.sanitize,toc:Lt.markdown.toc});return Mt!=null&&Mt.renderers&&qt.SetJSRenderers({renderers:{Md2HTML:Mt.renderers}}),qt.SetHeadingID(!0),qt.Md2HTML(yt)})},lr=function(yt,Mt,Lt){return nn(void 0,void 0,void 0,function(){var qt,an,ot,En;return wn(this,function(Pt){switch(Pt.label){case 0:return qt=Ht(Lt),[4,Sn(Mt,qt)];case 1:if(an=Pt.sent(),qt.transform&&(an=qt.transform(an)),yt.innerHTML=an,yt.classList.add("vditor-reset"),qt.i18n)return[3,5];if(["en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(qt.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return En=(ot="vditorI18nScript")+qt.lang,document.querySelectorAll('head script[id^="'.concat(ot,'"]')).forEach(function(vn){vn.id!==En&&document.head.removeChild(vn)}),[4,(0,Tt.Z)("".concat(qt.cdn,"/dist/js/i18n/").concat(qt.lang,".js"),En)];case 3:Pt.sent(),Pt.label=4;case 4:return[3,6];case 5:window.VditorI18n=qt.i18n,Pt.label=6;case 6:return qt.icon?[4,(0,Tt.Z)("".concat(qt.cdn,"/dist/js/icons/").concat(qt.icon,".js"),"vditorIconScript")]:[3,8];case 7:Pt.sent(),Pt.label=8;case 8:return(0,It.H)(qt.theme.current,qt.theme.path),qt.anchor===1&&yt.classList.add("vditor-reset--anchor"),(0,at.o)(yt,qt.hljs),(0,Te.$)(qt.hljs,yt,qt.cdn),(0,Qe.T)(yt,{cdn:qt.cdn,math:qt.math}),(0,Ye.e)(yt,qt.cdn,qt.mode),(0,ut.Y)(yt,qt.cdn,qt.mode),(0,ct.K)(yt,qt.cdn),(0,nt.D)(yt,qt.cdn),(0,A.m)(yt,qt.cdn),(0,We.v)(yt,qt.cdn,qt.mode),(0,qe.l)(yt,qt.cdn,qt.mode),(0,Ue.M)(yt,qt.cdn),(0,Xe.$)(yt,qt.cdn),qt.render.media.enable&&(0,$e.l)(yt),qt.speech.enable&&At(yt),qt.anchor!==0&&(xt=qt.anchor,document.querySelectorAll(".vditor-anchor").forEach(function(vn){xt===1&&vn.classList.add("vditor-anchor--left"),vn.onclick=function(){var Ot=vn.getAttribute("href").substr(1),Zt=document.getElementById("vditorAnchor-"+Ot).offsetTop;document.querySelector("html").scrollTop=Zt}}),window.onhashchange=function(){var vn=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));vn&&(document.querySelector("html").scrollTop=vn.offsetTop)}),qt.after&&qt.after(),qt.lazyLoadImage&&et(yt),yt.addEventListener("click",function(vn){var Ot=(0,mt._Y)(vn.target,"SPAN");if(Ot&&(0,mt.KJ)(Ot,"vditor-toc")){var Zt=yt.querySelector("#"+Ot.getAttribute("data-target-id"));Zt&&window.scrollTo(window.scrollX,Zt.offsetTop)}}),[2]}var xt})})},Ve=He(726),jt=He(13);const cn=function(){function yt(){}return yt.adapterRender=ze,yt.previewImage=Ve.o,yt.codeRender=at.o,yt.graphvizRender=A.m,yt.highlightRender=Te.$,yt.mathRender=Qe.T,yt.mermaidRender=Ye.e,yt.SMILESRender=ut.Y,yt.markmapRender=ct.K,yt.flowchartRender=nt.D,yt.chartRender=We.v,yt.abcRender=Xe.$,yt.mindmapRender=qe.l,yt.plantumlRender=Ue.M,yt.outlineRender=lt.N,yt.mediaRender=$e.l,yt.speechRender=At,yt.lazyLoadImageRender=et,yt.md2html=Sn,yt.preview=lr,yt.setCodeTheme=jt.h,yt.setContentTheme=It.H,yt}();return Ge=Ge.default})())})(method_min);var method_minExports=method_min.exports;const VditorPreview=getDefaultExportFromCjs(method_minExports),getTheme=(g,w="default")=>{const C=g==="dark";switch(w){case"default":return C?"dark":"classic";case"content":return C?"dark":"light";case"code":return C?"dracula":"github"}},_sfc_main$r=defineComponent({__name:"MarkdownViewer",props:{value:{type:String},class:{type:String}},setup(g){const w=g,C=ref(null),x=ref(null),{getDarkMode:He}=useRootSetting();function Ge(){const ze=unref(C);x.value=VditorPreview.preview(ze,w.value,{mode:getTheme(He.value,"content"),theme:{current:getTheme(He.value,"content")},hljs:{style:getTheme(He.value,"code")}})}watch(()=>He.value,ze=>{VditorPreview.setContentTheme(getTheme(ze,"content")),VditorPreview.setCodeTheme(getTheme(ze,"code")),Ge()}),watch(()=>w.value,(ze,We)=>{ze!==We&&Ge()});function Xe(){var We;const ze=unref(x);if(ze){try{(We=ze==null?void 0:ze.destroy)==null||We.call(ze)}catch(at){}x.value=null}}return onMountedOrActivated(Ge),onBeforeUnmount(Xe),onDeactivated(Xe),(ze,We)=>(openBlock(),createElementBlock("div",{ref_key:"viewerRef",ref:C,id:"markdownViewer",class:normalizeClass(ze.$props.class)},null,2))}}),_hoisted_1$9={key:0,class:"h-full"},_hoisted_2$1=["src","srcdoc"],_hoisted_3$1={key:1,class:"h-full"},_hoisted_4={key:2,class:"h-full"},_sfc_main$q=defineComponent({__name:"index",setup(g){const{getIsMobile:w}=useAppInject(),[C,{setModalProps:x,closeModal:He}]=useModalInner(ut=>ro(this,null,function*(){var ct;Ge.value=toRaw(ut.modalTitle),Xe.value=(ct=String(toRaw(ut.modalHeight)|""))==null?void 0:ct.replace("px",""),Qe.value=toRaw(ut.fullScreen),ze.value=toRaw(ut.modalWidth),We.value=toRaw(ut.iframeSrc),at.value=toRaw(ut.iframeSrcDoc),nt.value=toRaw(ut.markdownDoc),A.value=toRaw(ut.codeDoc),Te.value=toRaw(ut.codeMode),et.value=toRaw(ut.codeTheme),x({confirmLoading:!1,title:Ge.value,width:ze.value,height:Xe.value==0?600:Xe.value,minHeight:Xe.value,defaultFullscreen:Qe.value||w.value,useWrapper:!0,showOkBtn:!1,cancelText:"关闭"})})),Ge=ref("Iframe Modal"),Xe=ref("500px"),ze=ref("800px"),We=ref(""),at=ref(),nt=ref(),A=ref(),Te=ref("javascript"),et=ref("github"),Qe=ref(!1);function $e(){He()}function Ye(){return ro(this,null,function*(){x({confirmLoading:!1}),He()})}return(ut,ct)=>(openBlock(),createBlock(unref(BasicModal),mergeProps(ut.$attrs,{onRegister:unref(C),title:"测试",destroyOnClose:!0,onOk:Ye,onCancel:$e}),{default:withCtx(()=>[at.value||We.value?(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("iframe",{src:We.value,srcdoc:at.value,style:{width:"100%",height:"100%",border:"none"}},null,8,_hoisted_2$1)])):createCommentVNode("",!0),nt.value?(openBlock(),createElementBlock("div",_hoisted_3$1,[createVNode(_sfc_main$r,{value:nt.value,style:{width:"100%",height:"100%",border:"none"}},null,8,["value"])])):createCommentVNode("",!0),A.value?(openBlock(),createElementBlock("div",_hoisted_4,[createVNode(_sfc_main$H,{value:A.value,readonly:!0,"cm-options":{mode:Te.value,theme:et.value},style:{width:"100%",height:"100%",border:"none"}},null,8,["value","cm-options"])])):createCommentVNode("",!0)]),_:1},16,["onRegister"]))}}),_sfc_main$p=defineComponent({__name:"index",props:{fullScreen:{type:Boolean,default:!1},doc:{type:Object,default:null},link:{type:Object,default:null},markdownDoc:{type:Object,default:null},codeDoc:{type:Object,default:null},codeMode:{type:String,default:"javascript"},codeTheme:{type:String,default:"github"}},setup(g){const[w,{openModal:C}]=useModal(),x=g,He=()=>{C(!0,{modalTitle:"预览",modalWidth:900,modalMinHeight:600,fullScreen:x.fullScreen,iframeSrcDoc:x.doc,iframeSrc:x.link,markdownDoc:x.markdownDoc,codeDoc:x.codeDoc,codeMode:x.codeMode,codeTheme:x.codeTheme})},Ge=()=>{window.open(x.link)};return(Xe,ze)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(unref(RadioGroup),{size:"small"},{default:withCtx(()=>[createVNode(unref(RadioButton),{disabled:!g.doc&&!g.link&&!g.markdownDoc&&!g.codeDoc,onClick:He},{default:withCtx(()=>ze[0]||(ze[0]=[createTextVNode(" 预览 ")])),_:1},8,["disabled"]),createVNode(unref(RadioButton),{disabled:!g.link,onClick:Ge},{default:withCtx(()=>ze[1]||(ze[1]=[createTextVNode(" 跳转 ")])),_:1},8,["disabled"])]),_:1}),createVNode(_sfc_main$q,{onRegister:unref(w)},null,8,["onRegister"])],64))}}),_sfc_main$o=defineComponent({name:"BasicUpload",__name:"BasicPreview",props:uploadContainerProps,emits:["change","delete","preview-delete","update:value"],setup(g,{emit:w}){const C=g,x=w,{t:He}=useI18n(),[Ge,{openModal:Xe}]=useModal(),ze=ref([]),We=computed(()=>{const{emptyHidePreview:A}=C;return A&&A?ze.value.length>0:!0});function at(A){ze.value=[...A||[]],x("update:value",ze.value),x("change",ze.value)}function nt(A){x("preview-delete",A)}return(A,Te)=>{const et=resolveComponent("a-button");return openBlock(),createElementBlock("div",null,[createVNode(unref(Space),null,{default:withCtx(()=>[We.value?(openBlock(),createBlock(unref(Tooltip),{key:0,placement:"bottom"},{title:withCtx(()=>[createTextVNode(toDisplayString(unref(He)("component.upload.uploaded"))+" ",1),C.value.length?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(C.value.length),1)],64)):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(et,{onClick:unref(Xe)},{default:withCtx(()=>[createVNode(_sfc_main$G,{icon:"bi:eye"}),C.value.length&&A.showPreviewNumber?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(C.value.length),1)],64)):createCommentVNode("",!0)]),_:1},8,["onClick"])]),_:1})):createCommentVNode("",!0)]),_:1}),createVNode(_sfc_main$u,{value:C.value,onRegister:unref(Ge),onListChange:at,onDelete:nt},null,8,["value","onRegister"])])}}});function _isSlot$1(g){return typeof g=="function"||Object.prototype.toString.call(g)==="[object Object]"&&!isVNode(g)}const ImageType=["IMAGE","AVATAR"],IconType=["ICON"],FilesType=["FILE"],TransType=["PICKER","OPTIONS","TREE","RADIO","CLASS_OPTIONS"];function getColumns(g){return g&&g.length>0?g.map(w=>{let C={title:w.title,width:120,annoType:w.dataType};return C.dataIndex=w.javaName,C.defaultHidden=!w.show,C.sorter={multiple:1},TransType.includes(w.dataType)&&(C.customRender=({value:x,record:He})=>{let Ge=He.joinResMap[`${w.javaName.toLowerCase()}_label`];Ge||(Ge=x);let Xe=createVNode("div",null,[Ge]);return Ge instanceof Object&&(Ge.color?Xe=createVNode(Tag,{color:Ge.color},{default:()=>[createTextVNode(" "),Ge.value]}):Xe=createVNode("div",null,[toJSON(Ge)])),x?createVNode(Popover,{title:x},_isSlot$1(Xe)?Xe:{default:()=>[Xe]}):""}),ImageType.includes(w.dataType)&&(C.customRender=({value:x,record:He})=>{let Ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==";return createVNode(Image$1,{style:{width:w.imageType.width+"px",height:w.imageType.height+"px"},preview:x?w.imageType.enlargeAble:!1,src:x||Ge,fallback:Ge},null)}),w.dataType=="COLOR"&&(C.customRender=({value:x,record:He})=>createVNode(Re,{"show-picker":!1,showAlpha:!0,width:80,height:20,value:x},null)),w.dataType=="RICH_TEXT"&&(C.customRender=({value:x,record:He})=>createVNode(_sfc_main$p,{doc:x},null)),w.dataType=="MARK_DOWN"&&(C.customRender=({value:x,record:He})=>createVNode(_sfc_main$p,{markdownDoc:x},null)),w.dataType=="CODE_EDITOR"&&(C.customRender=({value:x,record:He})=>createVNode(_sfc_main$p,{codeDoc:x,codeMode:w.codeType.mode,codeTheme:w.codeType.theme},null)),w.dataType=="LINK"&&(C.customRender=({value:x,record:He})=>createVNode(_sfc_main$p,{link:x},null)),w.dataType=="QR_CODE"&&(C.customRender=({value:x,record:He})=>createVNode(QrCode,{value:x,previewWidth:"60px",width:"600"},null)),IconType.includes(w.dataType)&&(C.customRender=({value:x,record:He})=>createVNode(_sfc_main$G,{icon:x},null)),FilesType.includes(w.dataType)&&(C.customRender=({value:x,record:He})=>x instanceof Array?createVNode(_sfc_main$o,{value:x},{default:()=>[createTextVNode(" ")]}):x?createVNode(_sfc_main$o,{value:[x]},null):createVNode(_sfc_main$o,null,null)),C}):[]}const SearchFormItemDict={STRING:"Input",LINK:"Input",NUMBER:"InputNumber",DATE:"DatePicker",DATETIME:"DatePicker",OPTIONS:"ApiSelect",PICKER:"ApiSelect",TREE:"ApiTreeSelect",RADIO:"ApiSelect",QR_CODE:"Input",TEXT_AREA:"Input",MarkDown:"Input",CLASS_OPTIONS:"ExpertInput"},EditFormItemDict={STRING:"Input",NUMBER:"InputNumber",FILE:"Upload",DATE:"DatePicker",DATETIME:"DatePicker",OPTIONS:"ApiSelect",PICKER:"ApiSelect",TREE:"ApiTreeSelect",IMAGE:"ImageUpload",AVATAR:"CropperAvatar",ICON:"IconPicker",RICH_TEXT:"Tinymce",CODE_EDITOR:"CodeEditor",RADIO:"ApiRadioGroup",COLOR:"ColorPicker",LINK:"Input",QR_CODE:"Input",TEXT_AREA:"InputTextArea",MARK_DOWN:"MarkDown",CLASS_OPTIONS:"ExpertInput"},fieldsName={resultfield:"data",labelfield:"label",valuefield:"value"},labelAlign="left",formatterDictKey=g=>g?g.map(w=>{let C=w.label;return C instanceof Object&&(C=C.value||toJSON(C)),{label:C,value:(w.value||w.id).toString(),key:w.value||w.id,children:formatterDictKey(w.children)}}):[];function getAnnoAddForm(g){const w=g.filter(C=>C.edit.addEnable&&EditFormItemDict[C.dataType]);return getFields(w,"add")}function getAnnoEditForm(g){const w=g.filter(C=>C.edit.editEnable&&EditFormItemDict[C.dataType]);return getFields(w,"edit")}function getAnnoDescriptionForm(g){return getColumns(g).map(C=>({label:C.title,field:C.dataIndex,span:getDescriptionCmpSpan(C),render:(x,He)=>C.customRender==null?x:C.customRender({value:x,record:He,column:void 0,index:void 0,renderIndex:void 0,text:void 0})}))}function getAnnoSearchForm(g,w){return w==null&&(w=ref(!1)),getFields(g,"search",w)}const getFields=(fields,type,getIsMobile)=>fields.map(item=>ca({field:item.javaName,label:item.title,component:getFormItemDict(type,item),defaultValue:getDefaultValue$1(item,type),labelWidth:getCmpWidth(item),colProps:{span:getCmpSpan(item,type,getIsMobile)},show:formData=>item.edit.showBy.enable?eval(item.edit.showBy.expr.replace("annoDataForm","formData.model")):type=="search"?item.search.enable&&SearchFormItemDict[item.dataType]:!0,required:type=="search"?item.search.notNull:item.edit.notNull},getDictComponentProps(item,type)));function getFormItemDict(g,w){return g=="search"?SearchFormItemDict[w.dataType]:EditFormItemDict[w.dataType]}const getDefaultValue$1=(g,w)=>{var C;if(w=="search")return((C=g.search)==null?void 0:C.defaultValue)==""?void 0:g.search.defaultValue},getCmpWidth=(g,w)=>g.title.length>6?"auto":100,getDescriptionCmpSpan=g=>{let w=1;return["IMAGE","FILE","CODE_EDITOR","RICH_TEXT","TEXT_AREA","AVATAR","MARK_DOWN"].includes(g.annoType)&&(w=3),w},getCmpSpan=(g,w,C)=>{let x=12;return w=="search"&&(C.value?x=12:x=8),["IMAGE","FILE","CODE_EDITOR","RICH_TEXT","TEXT_AREA","AVATAR","MARK_DOWN"].includes(g.dataType)&&(x=24),g.edit.span&&w!="search"&&(x=g.edit.span),x},getDictComponentProps=(g,w)=>{let C=null,x=null;switch(g.dataType){case"DATE":C=!1,x="YYYY-MM-DD";break;case"DATETIME":C=!0,x="YYYY-MM-DD HH:mm:ss";break}if(["OPTIONS","PICKER","TREE","RADIO"].includes(g.dataType))return getPickDictComponentProps(g,w);if(["CLASS_OPTIONS"].includes(g.dataType))return{componentProps:{api:uploadApi,valueKey:g.optionType.optionAnno.idKey,labelKey:g.optionType.optionAnno.labelKey,annoClass:g.optionType.optionAnno.annoClass}};if(g.dataType==="COLOR")return{defaultValue:"",componentProps:{width:100,height:30,showAlpha:!0}};if(g.dataType==="CODE_EDITOR")return{componentProps:{cmOptions:{mode:g.codeType.mode,theme:g.codeType.theme,readOnly:!1,lineNumbers:!0,lineWiseCopyCut:!0,gutters:["CodeMirror-lint-markers"],lint:!0},height:"300px"}};if(["IMAGE","FILE","AVATAR"].includes(g.dataType)){if(g.dataType=="IMAGE")return{componentProps:{api:uploadApi,accept:["png","jpeg","jpg"],maxNumber:1}};if(g.dataType=="FILE"){const He=g.fileType.fileType.split(","),Ge={api:uploadApi,maxNumber:g.fileType.fileMaxCount,maxSize:g.fileType.fileMaxSize};return He.length==1&&He[0]=="*"||(Ge.accept=He),{componentProps:Ge}}else if(g.dataType=="AVATAR")return{componentProps:{uploadApi,width:"100px"}}}return{componentProps:{showTime:C,valueFormat:x,labelAlign,placeholder:g[`${w}PlaceHolder`]}}},getPickDictComponentProps=(g,w)=>{let C=null,x=null,He=null;g.optionType.value&&!isEmpty(g.optionType.value)?(x=formatterDictKey(g.optionType.value),He=g.optionType.isMultiple):g.treeType.value&&!isEmpty(g.treeType.value)?(x=formatterDictKey(g.treeType.value),He=g.treeType.isMultiple):g.optionType.sqlKey?(C=()=>getDict({sqlKey:g.optionType.sqlKey}),He=g.optionType.isMultiple):g.optionType.supplier&&g.optionType.supplier!="OptionDataSupplier"?(C=()=>getDict({optionAnnoClazz:g.optionType.supplier}),He=g.optionType.isMultiple):g.treeType.sqlKey?(C=()=>getDict({sqlKey:g.treeType.sqlKey}),He=g.treeType.isMultiple):g.treeType.treeAnno&&g.treeType.treeAnno.annoClass!="Object"?(C=()=>getDict(Pu(ca({},g.treeType.treeAnno),{annoClazz:g.treeType.treeAnno.annoClass})),He=g.treeType.isMultiple):g.treeType.supplier&&g.treeType.supplier!="TreeDataSupplier"?(C=()=>getDict({treeAnnoClazz:g.treeType.supplier}),He=g.treeType.isMultiple):g.optionType.optionAnno&&g.optionType.optionAnno.annoClass!="Object"?(C=()=>getDict(Pu(ca({},g.optionType.optionAnno),{annoClazz:g.optionType.optionAnno.annoClass})),He=g.optionType.isMultiple):g.treeType.onlineDictKey?C=()=>getDict({onlineDictKey:g.treeType.onlineDictKey}):g.optionType.onlineDictKey&&(C=()=>getDict({onlineDictKey:g.optionType.onlineDictKey}));const Ge={componentProps:Pu(ca({placeholder:g[`${w}PlaceHolder`]},fieldsName),{immediate:!0,multiple:He,showCheckedStrategy:He?"SHOW_ALL":null,mode:He?"multiple":null})};return C&&(Ge.componentProps.api=C),x&&(Ge.componentProps.options=x),Ge},_hoisted_1$8={class:"edit-header-cell"},_sfc_main$n=defineComponent({name:"EditTableHeaderIcon",__name:"EditTableHeaderIcon",props:{title:{type:String,default:""}},setup(g){return(w,C)=>(openBlock(),createElementBlock("span",_hoisted_1$8,[renderSlot(w.$slots,"default"),createTextVNode(" "+toDisplayString(g.title)+" ",1),createVNode(unref(FormOutlined))]))}}),_sfc_main$m=defineComponent({name:"TableHeaderCell",components:{EditTableHeaderCell:_sfc_main$n,BasicHelp:_sfc_main$I},props:{column:{type:Object,default:()=>({})}},setup(g){const{prefixCls:w}=useDesign("basic-table-header-cell"),C=computed(()=>{var Ge;return!!((Ge=g.column)!=null&&Ge.edit)}),x=computed(()=>{var Xe;const Ge=g.column;return typeof Ge.customHeaderRender=="function"?Ge.customHeaderRender(Ge):(Ge==null?void 0:Ge.customTitle)||((Xe=g.column)==null?void 0:Xe.title)}),He=computed(()=>{var Ge;return(Ge=g.column)==null?void 0:Ge.helpMessage});return()=>createVNode("div",null,[C.value?createVNode(_sfc_main$n,null,{default:()=>[x.value]}):createVNode("span",{class:"default-header-cell"},[x.value]),He.value&&createVNode(_sfc_main$I,{text:He.value,class:`${w}__help`},null)])}});function itemRender({page:g,type:w,originalElement:C}){return w==="prev"?g===0?null:createVNode(LeftOutlined,null,null):w==="next"?g===1?null:createVNode(RightOutlined,null,null):C}function usePagination(g){const{t:w}=useI18n(),C=ref({}),x=ref(!0);watch(()=>unref(g).pagination,at=>{!isBoolean(at)&&at&&(C.value=ca(ca({},unref(C)),at!=null?at:{}))});const He=computed(()=>{const{pagination:at}=unref(g);return!unref(x)||isBoolean(at)&&!at?!1:ca(ca({current:1,size:"small",defaultPageSize:PAGE_SIZE,showTotal:nt=>w("component.table.total",{total:nt}),showSizeChanger:!0,pageSizeOptions:PAGE_SIZE_OPTIONS,itemRender,showQuickJumper:!0},isBoolean(at)?{}:at),unref(C))});function Ge(at){const nt=unref(He);C.value=ca(ca({},isBoolean(nt)?{}:nt),at)}function Xe(){return unref(He)}function ze(){return unref(x)}function We(at){return ro(this,null,function*(){x.value=at})}return{getPagination:Xe,getPaginationInfo:He,setShowPagination:We,getShowPagination:ze,setPagination:Ge}}const componentMap$1=new Map;componentMap$1.set("Input",Input);componentMap$1.set("InputNumber",InputNumber);componentMap$1.set("Select",Select);componentMap$1.set("ApiSelect",_sfc_main$D);componentMap$1.set("AutoComplete",AutoComplete);componentMap$1.set("ApiTreeSelect",_sfc_main$B);componentMap$1.set("Switch",Switch);componentMap$1.set("Checkbox",Checkbox);componentMap$1.set("DatePicker",DatePicker);componentMap$1.set("TimePicker",TimePicker);componentMap$1.set("RadioGroup",Radio.Group);componentMap$1.set("RadioButtonGroup",_sfc_main$J);componentMap$1.set("ApiRadioGroup",_sfc_main$E);const CellComponent=({component:g="Input",rule:w=!0,ruleMessage:C,popoverVisible:x,getPopupContainer:He},{attrs:Ge})=>{const Xe=componentMap$1.get(g),ze=h(Xe,Ge);return w?h(Popover,ca({overlayClassName:"edit-cell-rule-popover",open:!!x},He?{getPopupContainer:He}:{}),{default:()=>ze,content:()=>C}):ze},{t:t$1}=useI18n();function createPlaceholderMessage$1(g){return g.includes("Input")||g.includes("AutoComplete")?t$1("common.inputText"):g.includes("Picker")||g.includes("Select")||g.includes("Checkbox")||g.includes("Radio")||g.includes("Switch")||g.includes("DatePicker")||g.includes("TimePicker")?t$1("common.chooseText"):""}const _sfc_main$l=defineComponent({name:"EditableCell",components:{FormOutlined,CloseOutlined,CheckOutlined,CellComponent,Spin},directives:{clickOutside:ClickOutside},props:{value:{type:[String,Number,Boolean,Object],default:""},record:{type:Object},column:{type:Object,default:()=>({})},index:propTypes.number},setup(g){const w=useTableContext(),C=ref(!1),x=ref(),He=ref(!1),Ge=ref(""),Xe=ref([]),ze=ref(g.value),We=ref(g.value),at=ref(!1),{prefixCls:nt}=useDesign("editable-cell"),A=computed(()=>{var Ht;return((Ht=g.column)==null?void 0:Ht.editComponent)||"Input"}),Te=computed(()=>{var Ht;return(Ht=g.column)==null?void 0:Ht.editRule}),et=computed(()=>unref(Ge)&&unref(He)),Qe=computed(()=>{const Ht=unref(A);return["Checkbox","Switch"].includes(Ht)}),$e=computed(()=>{var an,ot,En;const Ht=unref(Qe),Sn=Ht?"checked":"value",lr=unref(ze),Ve=Ht?isNumber$1(lr)||isBoolean(lr)?lr:!!lr:lr;let jt=(ot=(an=g.column)==null?void 0:an.editComponentProps)!=null?ot:{};const{record:cn,column:yt,index:Mt}=g;isFunction$1(jt)&&(jt=(En=jt({text:lr,record:cn,column:yt,index:Mt}))!=null?En:{}),jt.onChangeTemp=jt.onChange,delete jt.onChange;const Lt=unref(A),qt={};return Lt==="ApiSelect"&&(qt.cache=!0),Ye(cn,yt,Ve),Pu(ca(ca({size:"small",getPopupContainer:()=>{var Pt;return(Pt=unref(w==null?void 0:w.wrapRef.value))!=null?Pt:document.body},placeholder:createPlaceholderMessage$1(unref(A))},qt),jt),{[Sn]:Ve,disabled:unref(ut)})});function Ye(Ht,Sn,lr){if(!Ht)return!1;const{key:Ve,dataIndex:jt}=Sn;if(!Ve&&!jt)return;set(Ht,jt||Ve,lr)}const ut=computed(()=>{const{editDynamicDisabled:Ht}=g.column;let Sn=!1;if(isBoolean(Ht)&&(Sn=Ht),isFunction$1(Ht)){const{record:lr}=g;Sn=Ht({record:lr})}return Sn}),ct=computed(()=>{var cn,yt,Mt;const{editValueMap:Ht}=g.column,Sn=unref(ze);if(Ht&&isFunction$1(Ht))return Ht(Sn);const lr=unref(A);if(!lr.includes("Select")&&!lr.includes("Radio"))return Sn;const jt=((yt=(cn=unref($e))==null?void 0:cn.options)!=null?yt:unref(Xe)||[]).find(Lt=>`${Lt.value}`==`${Sn}`);return(Mt=jt==null?void 0:jt.label)!=null?Mt:Sn}),qe=computed(()=>unref(Qe)||unref(Ue)?{}:{width:"calc(100% - 48px)"}),lt=computed(()=>{const{align:Ht="center"}=g.column;return`edit-cell-align-${Ht}`}),Ue=computed(()=>{const{editable:Ht}=g.record||{};return!!Ht});watchEffect(()=>{ze.value=g.value}),watchEffect(()=>{const{editable:Ht}=g.column;(isBoolean(Ht)||isBoolean(unref(Ue)))&&(C.value=!!Ht||unref(Ue))});function pt(){var Ht;unref(Ue)||unref((Ht=g.column)==null?void 0:Ht.editRow)||(Ge.value="",C.value=!0,nextTick(()=>{var lr;const Sn=unref(x);(lr=Sn==null?void 0:Sn.focus)==null||lr.call(Sn)}))}function It(Sn){return ro(this,arguments,function*(Ht){var jt,cn;const lr=unref(A);Ht?lr==="Checkbox"?ze.value=Ht.target.checked:lr==="Switch"?ze.value=Ht:Ht!=null&&Ht.target&&Reflect.has(Ht.target,"value")?ze.value=Ht.target.value:(isString(Ht)||isBoolean(Ht)||isNumber$1(Ht)||isArray(Ht))&&(ze.value=Ht):ze.value=Ht;const Ve=(jt=unref($e))==null?void 0:jt.onChangeTemp;Ve&&isFunction$1(Ve)&&Ve(...arguments),(cn=w.emit)==null||cn.call(w,"edit-change",{column:g.column,value:unref(ze),record:toRaw(g.record)}),Tt()})}function Tt(){return ro(this,null,function*(){const{column:Ht,record:Sn}=g,{editRule:lr}=Ht,Ve=unref(ze);if(lr){if(isBoolean(lr)&&!Ve&&!isNumber$1(Ve)){He.value=!0;const jt=unref(A);return Ge.value=createPlaceholderMessage$1(jt),!1}if(isFunction$1(lr)){const jt=yield lr(Ve,Sn);return jt?(Ge.value=jt,He.value=!0,!1):(Ge.value="",!0)}}return Ge.value="",!0})}function mt(Ht=!0,Sn=!0){return ro(this,null,function*(){var qt;if(Sn&&!(yield Tt()))return!1;const{column:lr,index:Ve,record:jt}=g;if(!jt)return!1;const{key:cn,dataIndex:yt}=lr,Mt=unref(ze);if(!cn&&!yt)return;const Lt=yt||cn;if(!jt.editable){const{getBindValues:an}=w,{beforeEditSubmit:ot,columns:En}=unref(an);if(ot&&isFunction$1(ot)){at.value=!0;const Pt=En.map(vn=>vn.dataIndex).filter(vn=>!!vn);let xt=!0;try{xt=yield ot({record:pick(jt,Pt),index:Ve,key:Lt,value:Mt})}catch(vn){xt=!1}finally{at.value=!1}if(xt===!1)return}}set(jt,Lt,Mt),We.value=Mt,Ht&&((qt=w.emit)==null||qt.call(w,"edit-end",{record:jt,index:Ve,key:Lt,value:Mt})),C.value=!1})}function vt(){return ro(this,null,function*(){var Ht;(Ht=g.column)!=null&&Ht.editRow||mt()})}function Et(){mt()}function st(){var cn;C.value=!1,ze.value=We.value;const{column:Ht,index:Sn,record:lr}=g,{key:Ve,dataIndex:jt}=Ht;(cn=w.emit)==null||cn.call(w,"edit-cancel",{record:lr,index:Sn,key:jt||Ve,value:unref(ze)})}function At(){var Sn;if((Sn=g.column)!=null&&Sn.editable||unref(Ue))return;unref(A).includes("Input")&&st()}function nn(Ht){const{replaceFields:Sn}=unref($e);if(unref(A)==="ApiTreeSelect"){const{title:Ve="title",value:jt="value",children:cn="children"}=Sn||{};let yt=treeToList(Ht,{children:cn});yt=yt.map(Mt=>({label:Mt[Ve],value:Mt[jt]})),Xe.value=yt}else Xe.value=Ht}function wn(Ht,Sn){var lr;g.record&&(isArray(g.record[Ht])?(lr=g.record[Ht])==null||lr.push(Sn):g.record[Ht]=[Sn])}return g.record&&(wn("submitCbs",mt),wn("validCbs",Tt),wn("cancelCbs",st),g.column.dataIndex&&(g.record.editValueRefs||(g.record.editValueRefs={}),g.record.editValueRefs[g.column.dataIndex]=ze),g.record.onCancelEdit=()=>{var Ht,Sn;isArray((Ht=g.record)==null?void 0:Ht.cancelCbs)&&((Sn=g.record)==null||Sn.cancelCbs.forEach(lr=>lr()))},g.record.onSubmitEdit=()=>ro(this,null,function*(){var Ht,Sn,lr,Ve,jt;if(isArray((Ht=g.record)==null?void 0:Ht.submitCbs))return(lr=(Sn=g.record)==null?void 0:Sn.onValid)!=null&&lr.call(Sn)?((((Ve=g.record)==null?void 0:Ve.submitCbs)||[]).forEach(yt=>yt(!1,!1)),(jt=w.emit)==null||jt.call(w,"edit-row-end"),!0):void 0})),{isEdit:C,prefixCls:nt,handleEdit:pt,currentValueRef:ze,handleSubmit:mt,handleChange:It,handleCancel:st,elRef:x,getComponent:A,getRule:Te,onClickOutside:At,ruleMessage:Ge,getRuleVisible:et,getComponentProps:$e,handleOptionsChange:nn,getWrapperStyle:qe,getWrapperClass:lt,getRowEditable:Ue,getValues:ct,handleEnter:vt,handleSubmitClick:Et,spinning:at}},render(){var g,w;return createVNode("div",{class:this.prefixCls},[withDirectives(createVNode("div",{class:{[`${this.prefixCls}__normal`]:!0,"ellipsis-cell":this.column.ellipsis},onClick:this.handleEdit},[createVNode("div",{class:"cell-content",title:this.column.ellipsis&&(g=this.getValues)!=null?g:""},[this.column.editRender?this.column.editRender({text:this.value,record:this.record,column:this.column,index:this.index}):(w=this.getValues)!=null?w:" "]),!this.column.editRow&&createVNode(FormOutlined,{class:`${this.prefixCls}__normal-icon`},null)]),[[vShow,!this.isEdit]]),this.isEdit&&createVNode(Spin,{spinning:this.spinning},{default:()=>[withDirectives(createVNode("div",{class:`${this.prefixCls}__wrapper`},[createVNode(CellComponent,mergeProps(this.getComponentProps,{component:this.getComponent,style:this.getWrapperStyle,popoverVisible:this.getRuleVisible,rule:this.getRule,ruleMessage:this.ruleMessage,class:this.getWrapperClass,ref:"elRef",onChange:this.handleChange,onOptionsChange:this.handleOptionsChange,onPressEnter:this.handleEnter}),null),!this.getRowEditable&&createVNode("div",{class:`${this.prefixCls}__action`},[createVNode(CheckOutlined,{class:[`${this.prefixCls}__icon`,"mx-2"],onClick:this.handleSubmitClick},null),createVNode(CloseOutlined,{class:`${this.prefixCls}__icon `,onClick:this.handleCancel},null)])]),[[resolveDirective("click-outside"),this.onClickOutside]])]})])}});function renderEditCell(g){return({text:w,record:C,index:x})=>(toRaw(C).onValid=()=>ro(this,null,function*(){if(isArray(C==null?void 0:C.validCbs)){const He=((C==null?void 0:C.validCbs)||[]).map(Xe=>Xe());return(yield Promise.all(He)).every(Xe=>!!Xe)}else return!1}),toRaw(C).onEdit=(He,Ge=!1)=>ro(this,null,function*(){var Xe,ze;return Ge||(C.editable=He),!He&&Ge?(yield C.onValid())&&(yield(Xe=C.onSubmitEdit)==null?void 0:Xe.call(C))?(C.editable=!1,!0):!1:(!He&&!Ge&&((ze=C.onCancelEdit)==null||ze.call(C)),!0)}),h(_sfc_main$l,{value:w,record:C,column:g,index:x}))}function handleItem(g,w){const{key:C,dataIndex:x,children:He}=g;g.align=g.align||DEFAULT_ALIGN,w&&(C||(g.key=typeof x=="object"?x.join("-"):x),isBoolean(g.ellipsis)||Object.assign(g,{ellipsis:w})),He&&He.length&&handleChildren(He,!!w)}function handleChildren(g,w){g&&g.forEach(C=>{const{children:x}=C;handleItem(C,w),handleChildren(x,w)})}function handleIndexColumn(g,w,C){const{t:x}=useI18n(),{showIndexColumn:He,indexColumnProps:Ge,isTreeTable:Xe}=unref(g);let ze=!1;if(unref(Xe)||(C.forEach(()=>{const at=C.findIndex(nt=>nt.flag===INDEX_COLUMN_FLAG);He?ze=at===-1:!He&&at!==-1&&C.splice(at,1)}),!ze))return;const We=C.some(at=>at.fixed==="left");C.unshift(ca(ca({flag:INDEX_COLUMN_FLAG,width:60,title:x("component.table.index"),align:"center",customRender:({index:at})=>{const nt=unref(w);if(isBoolean(nt))return`${at+1}`;const{current:A=1,pageSize:Te=PAGE_SIZE}=nt;return((A<1?1:A)-1)*Te+at+1}},We?{fixed:"left"}:{}),Ge))}function handleActionColumn(g,w){const{actionColumn:C}=unref(g);if(!C)return;const x=w.findIndex(He=>He.flag===ACTION_COLUMN_FLAG);x===-1&&w.push(Pu(ca(Pu(ca({},w[x]),{fixed:"right"}),C),{flag:ACTION_COLUMN_FLAG}))}function useColumns(g,w){const C=ref(unref(g).columns);let x=unref(g).columns;const He=computed(()=>{const Qe=cloneDeep(unref(C));if(handleIndexColumn(g,w,Qe),handleActionColumn(g,Qe),!Qe)return[];const{ellipsis:$e}=unref(g);return Qe.forEach(Ye=>{const{customRender:ut,slots:ct}=Ye;handleItem(Ye,Reflect.has(Ye,"ellipsis")?!!Ye.ellipsis:!!$e&&!ut&&!ct)}),Qe});function Ge(Qe){const $e=Qe.ifShow;let Ye=!0;return isBoolean($e)&&(Ye=$e),isFunction$1($e)&&(Ye=$e(Qe)),Ye}const{hasPermission:Xe}=usePermission(),ze=computed(()=>{const Qe=sortFixedColumn(unref(He)),$e=ut=>{const{slots:ct,customRender:qe,format:lt,edit:Ue,editRow:pt,flag:It}=ut;(!ct||!(ct!=null&&ct.title))&&(ut.customTitle=ut.title);const Tt=[INDEX_COLUMN_FLAG,ACTION_COLUMN_FLAG].includes(It);return!qe&&lt&&!Ue&&!Tt&&(ut.customRender=({text:mt,record:vt,index:Et})=>formatCell(mt,lt,vt,Et)),(Ue||pt)&&!Tt&&(ut.customRender=renderEditCell(ut)),reactive(ut)};return cloneDeep(Qe).filter(ut=>Xe(ut.auth)&&Ge(ut)).map(ut=>{var ct;return(ct=ut.children)!=null&&ct.length&&(ut.children=ut.children.map($e)),$e(ut)})});watch(()=>unref(g).columns,Qe=>{var $e;C.value=Qe,x=($e=Qe==null?void 0:Qe.filter(Ye=>!Ye.flag))!=null?$e:[]});function We(Qe,$e){!Qe||!$e||x.forEach(Ye=>{if(Ye.dataIndex===Qe){Object.assign(Ye,$e);return}})}function at(Qe){const $e=cloneDeep(Qe);if(!isArray($e))return;if($e.length<=0){C.value=[];return}const Ye=$e[0],ut=x.map(ct=>ct.dataIndex);if(!isString(Ye)&&!isArray(Ye))C.value=$e;else{const ct=$e.map(lt=>lt.toString()),qe=[];x.forEach(lt=>{var Ue;qe.push(Pu(ca({},lt),{defaultHidden:!ct.includes(((Ue=lt.dataIndex)==null?void 0:Ue.toString())||lt.key)}))}),isEqual(ut,$e)||qe.sort((lt,Ue)=>{var pt,It;return ct.indexOf((pt=lt.dataIndex)==null?void 0:pt.toString())-ct.indexOf((It=Ue.dataIndex)==null?void 0:It.toString())}),C.value=qe}}function nt(Qe){const{ignoreIndex:$e,ignoreAction:Ye,sort:ut}=Qe||{};let ct=toRaw(unref(He));return $e&&(ct=ct.filter(qe=>qe.flag!==INDEX_COLUMN_FLAG)),Ye&&(ct=ct.filter(qe=>qe.flag!==ACTION_COLUMN_FLAG)),ut&&(ct=sortFixedColumn(ct)),ct}function A(){return x}function Te(Qe){isArray(Qe)&&(x=Qe.filter($e=>!$e.flag))}function et(Qe,$e){$e.width=Qe}return{getColumnsRef:He,getCacheColumns:A,getColumns:nt,setColumns:at,setColumnWidth:et,getViewColumns:ze,setCacheColumnsByField:We,setCacheColumns:Te}}function sortFixedColumn(g){const w=[],C=[],x=[];for(const He of g){if(He.fixed==="left"){w.push(He);continue}if(He.fixed==="right"){C.push(He);continue}x.push(He)}return[...w,...x,...C].filter(He=>!He.defaultHidden)}function formatCell(g,w,C,x){if(!w)return g;if(isFunction$1(w))return w(g,C,x);try{const He="date|";if(isString(w)&&w.startsWith(He)&&g){const Ge=w.replace(He,"");return Ge?formatToDate(g,Ge):g}if(isMap(w))return w.get(g)}catch(He){return g}}function useDataSource(g,{getPaginationInfo:w,setPagination:C,setLoading:x,getFieldsValue:He,clearSelectedRowKeys:Ge,tableData:Xe},ze){const We=reactive({sortInfo:{},filterInfo:{}}),at=ref([]),nt=ref({});watchEffect(()=>{Xe.value=unref(at)}),watch(()=>unref(g).dataSource,()=>{const{dataSource:vt,api:Et}=unref(g);!Et&&vt&&(at.value=vt)},{immediate:!0});function A(vt,Et,st){const{clearSelectOnPageChange:At,sortFn:nn,filterFn:wn}=unref(g);At&&Ge(),C(vt);const Ht={};if(st&&isFunction$1(nn)){const Sn=nn(st);We.sortInfo=Sn,Ht.sortInfo=Sn}if(Et&&isFunction$1(wn)){const Sn=wn(Et);We.filterInfo=Sn,Ht.filterInfo=Sn}Ue(Ht)}function Te(vt){!vt||!Array.isArray(vt)||vt.forEach(Et=>{Et[ROW_KEY]||(Et[ROW_KEY]=buildUUID()),Et.children&&Et.children.length&&Te(Et.children)})}const et=computed(()=>unref(g).autoCreateKey&&!unref(g).rowKey),Qe=computed(()=>{const{rowKey:vt}=unref(g);return unref(et)?ROW_KEY:vt}),$e=computed(()=>{const vt=unref(at);if(!vt||vt.length===0)return unref(at);if(unref(et)){const Et=vt[0],st=vt[vt.length-1];if(Et&&st&&(!Et[ROW_KEY]||!st[ROW_KEY])){const At=cloneDeep(unref(at));At.forEach(nn=>{nn[ROW_KEY]||(nn[ROW_KEY]=buildUUID()),nn.children&&nn.children.length&&Te(nn.children)}),at.value=At}}return unref(at)});function Ye(vt,Et,st){return ro(this,null,function*(){return at.value[vt]&&(at.value[vt][Et]=st),at.value[vt]})}function ut(vt,Et){const st=lt(vt);if(st){for(const At in st)Reflect.has(Et,At)&&(st[At]=Et[At]);return st}}function ct(vt){var nn;if(!at.value||at.value.length==0)return;const Et=unref(Qe);if(!Et)return;const st=Array.isArray(vt)?vt:[vt];function At(wn,Ht){const Sn=lr(wn,Ht);if(Sn===null||Sn.index===-1)return;Sn.data.splice(Sn.index,1);function lr(Ve,jt){var cn;if(Ve==null)return null;for(let yt=0;yt<Ve.length;yt++){const Mt=Ve[yt];let Lt=Et;if(isFunction$1(Et)&&(Lt=Et(Mt)),Mt[Lt]===jt)return{index:yt,data:Ve};if(((cn=Mt.children)==null?void 0:cn.length)>0){const qt=lr(Mt.children,jt);if(qt!=null)return qt}}return null}}for(const wn of st)At(at.value,wn),At(unref(g).dataSource,wn);C({total:(nn=unref(g).dataSource)==null?void 0:nn.length})}function qe(vt,Et){var At;Et=Et!=null?Et:(At=at.value)==null?void 0:At.length;const st=isObject$1(vt)?[vt]:vt;return unref(at).splice(Et,0,...st),unref(at)}function lt(vt){if(!at.value||at.value.length==0)return;const Et=unref(Qe);if(!Et)return;const{childrenColumnName:st="children"}=unref(g);return(nn=>{let wn;return nn.some(function Ht(Sn){if(typeof Et=="function"){if(Et(Sn)===vt)return wn=Sn,!0}else if(Reflect.has(Sn,Et)&&Sn[Et]===vt)return wn=Sn,!0;return Sn[st]&&Sn[st].some(Ht)}),wn})(at.value)}function Ue(vt){return ro(this,null,function*(){var Ve,jt,cn;const{api:Et,searchInfo:st,defSort:At,fetchSetting:nn,beforeFetch:wn,afterFetch:Ht,useSearchForm:Sn,pagination:lr}=unref(g);if(!(!Et||!isFunction$1(Et)))try{x(!0);const{pageField:yt,sizeField:Mt,listField:Lt,totalField:qt}=Object.assign({},FETCH_SETTING,nn);let an={};const{current:ot=1,pageSize:En=PAGE_SIZE}=unref(w);isBoolean(lr)&&!lr||isBoolean(w)?an={}:(an[yt]=vt&&vt.page||ot,an[Mt]=En);const{sortInfo:Pt={},filterInfo:xt}=We;let vn=merge(an,Sn?He():{},st,(Ve=vt==null?void 0:vt.searchInfo)!=null?Ve:{},At,Pt,xt,(jt=vt==null?void 0:vt.sortInfo)!=null?jt:{},(cn=vt==null?void 0:vt.filterInfo)!=null?cn:{});wn&&isFunction$1(wn)&&(vn=(yield wn(vn))||vn);const Ot=yield Et(vn);nt.value=Ot;const Zt=Array.isArray(Ot);let mn=Zt?Ot:get(Ot,Lt);const ln=Zt?Ot.length:get(Ot,qt);if(Number(ln)){const Ft=Math.ceil(ln/En);if(ot>Ft)return C({current:Ft}),yield Ue(vt)}return Ht&&isFunction$1(Ht)&&(mn=(yield Ht(mn))||mn),at.value=mn,C({total:ln||0}),vt&&vt.page&&C({current:vt.page||1}),ze("fetch-success",{items:unref(mn),total:ln}),mn}catch(yt){ze("fetch-error",yt),at.value=[],C({total:0})}finally{x(!1)}})}function pt(vt){at.value=vt}function It(){return $e.value}function Tt(){return nt.value}function mt(vt){return ro(this,null,function*(){return yield Ue(vt)})}return onMounted(()=>{useTimeoutFn(()=>{unref(g).immediate&&Ue()},16)}),{getDataSourceRef:$e,getDataSource:It,getRawDataSource:Tt,getRowKey:Qe,setTableData:pt,getAutoCreateKey:et,fetch:Ue,reload:mt,updateTableData:Ye,updateTableDataRecord:ut,deleteTableDataRecord:ct,insertTableDataRecord:qe,findTableDataRecord:lt,handleTableChange:A}}function useLoading(g){const w=ref(unref(g).loading);watch(()=>unref(g).loading,He=>{w.value=He});const C=computed(()=>unref(w));function x(He){w.value=He}return{getLoading:C,setLoading:x}}function useRowSelection(g,w,C){const x=ref([]),He=ref([]),Ge=computed(()=>{const{rowSelection:$e}=unref(g);return $e?ca({selectedRowKeys:unref(x),onChange:Ye=>{We(Ye)}},omit($e,["onChange"])):null});watch(()=>{var $e;return($e=unref(g).rowSelection)==null?void 0:$e.selectedRowKeys},$e=>{We($e)}),watch(()=>unref(x),()=>{nextTick(()=>{const{rowSelection:$e}=unref(g);if($e){const{onChange:Ye}=$e;Ye&&isFunction$1(Ye)&&Ye(Te(),et())}C("selection-change",{keys:Te(),rows:et()})})},{deep:!0});const Xe=computed(()=>unref(g).autoCreateKey&&!unref(g).rowKey),ze=computed(()=>{const{rowKey:$e}=unref(g);return unref(Xe)?ROW_KEY:$e});function We($e){var ct;x.value=$e||[];const Ye=findNodeAll(toRaw(unref(w)).concat(toRaw(unref(He))),qe=>$e==null?void 0:$e.includes(qe[unref(ze)]),{children:(ct=g.value.childrenColumnName)!=null?ct:"children"}),ut=[];$e==null||$e.forEach(qe=>{const lt=Ye.find(Ue=>Ue[unref(ze)]===qe);lt&&ut.push(lt)}),He.value=ut}function at($e){He.value=$e}function nt(){He.value=[],x.value=[]}function A($e){const ut=unref(x).findIndex(ct=>ct===$e);ut!==-1&&unref(x).splice(ut,1)}function Te(){return unref(x)}function et(){return unref(He)}function Qe(){return unref(Ge)}return{getRowSelection:Qe,getRowSelectionRef:Ge,getSelectRows:et,getSelectRowKeys:Te,setSelectedRowKeys:We,clearSelectedRowKeys:nt,deleteSelectRowByKey:A,setSelectedRows:at}}function useTableScroll(g,w,C,x,He,Ge,Xe){const ze=ref(167),We=useModalContext(),at=useDebounceFn(A,100),nt=computed(()=>{const{canResize:Tt,scroll:mt}=unref(g);return Tt&&!(mt||{}).y});watch(()=>{var Tt;return[unref(nt),(Tt=unref(He))==null?void 0:Tt.length]},()=>{at()},{flush:"post"});function A(){nextTick(()=>{Ue()})}function Te(Tt){var mt;ze.value=Tt,(mt=We==null?void 0:We.redoModalHeight)==null||mt.call(We)}let et,Qe,$e;function Ye(Tt,mt){const vt=Tt.scrollHeight>Tt.clientHeight,Et=Tt.scrollWidth>Tt.clientWidth;vt?mt.classList.contains("hide-scrollbar-y")&&mt.classList.remove("hide-scrollbar-y"):!mt.classList.contains("hide-scrollbar-y")&&mt.classList.add("hide-scrollbar-y"),Et?mt.classList.contains("hide-scrollbar-x")&&mt.classList.remove("hide-scrollbar-x"):!mt.classList.contains("hide-scrollbar-x")&&mt.classList.add("hide-scrollbar-x")}function ut(Tt){const{pagination:mt}=unref(g);let vt=2;if(isBoolean(mt))vt=-8;else if(et=Tt.querySelector(".ant-pagination"),et){const Et=et.offsetHeight;vt+=Et||0}else vt+=24;return vt}function ct(Tt){const{pagination:mt}=unref(g);let vt=0;if(!isBoolean(mt))if(!Qe)Qe=Tt.querySelector(".ant-table-footer");else{const Et=Qe.offsetHeight;vt+=Et||0}return vt}function qe(Tt){let mt=0;return Tt&&(mt=Tt.offsetHeight),mt}function lt(Tt,mt){var wn,Ht,Sn,lr,Ve,jt;const{pagination:vt,isCanResizeParent:Et,useSearchForm:st}=unref(g);let At=30,nn=0;if(unref(Ge)&&Et){let Mt=10;const Lt=(Ht=(wn=unref(Ge))==null?void 0:wn.offsetHeight)!=null?Ht:0;let qt=(lr=(Sn=unref(Xe))==null?void 0:Sn.$el.offsetHeight)!=null?lr:0;qt&&(qt+=16),isBoolean(vt)&&!vt&&(Mt=0),isBoolean(st)&&!st&&(At=0);const an=(jt=(Ve=Tt.querySelector(".ant-table-title"))==null?void 0:Ve.offsetHeight)!=null?jt:0;nn=Lt-qt-an-12-Mt}else nn=getViewportOffset(mt).bottomIncludeBody;return{paddingHeight:At,bottomIncludeBody:nn}}function Ue(){return ro(this,null,function*(){var jt;const{resizeHeightOffset:Tt,maxHeight:mt}=unref(g),vt=unref(He),Et=unref(w);if(!Et)return;const st=Et.$el;if(!st||!$e&&($e=st.querySelector(".ant-table-body"),!$e)||(Ye($e,st),$e.style.height="unset",!unref(nt)||!unref(vt)||vt.length===0))return;yield nextTick();const At=st.querySelector(".ant-table-thead ");if(!At)return;const nn=ut(st),wn=ct(st),Ht=qe(At),{paddingHeight:Sn,bottomIncludeBody:lr}=lt(st,At);let Ve=lr-(Tt||0)-Sn-nn-wn-Ht;Ve=(jt=Ve>mt?mt:Ve)!=null?jt:Ve,Te(Ve),$e.style.height=`${Ve}px`})}useWindowSizeFn(Ue,{wait:280}),onMountedOrActivated(()=>{Ue(),nextTick(()=>{at()})});const pt=computed(()=>{var wn,Ht;let Tt=0;unref(x)&&(Tt+=60);const mt=150,vt=unref(C).filter(Sn=>!Sn.defaultHidden);vt.forEach(Sn=>{Tt+=Number.parseFloat(Sn.width)||0});const st=vt.filter(Sn=>!Reflect.has(Sn,"width")).length;st!==0&&(Tt+=st*mt);const At=unref(w);return((Ht=(wn=At==null?void 0:At.$el)==null?void 0:wn.offsetWidth)!=null?Ht:0)>Tt?"100%":Tt});return{getScrollRef:computed(()=>{const Tt=unref(ze),{canResize:mt,scroll:vt}=unref(g);return ca({x:unref(pt),y:mt?Tt:null,scrollToFirstRowOnChange:!1},vt)}),redoHeight:A}}function useTableScrollTo(g,w){let C;function x(Ge){return ro(this,null,function*(){var We;const{id:Xe}=Ge,ze=C==null?void 0:C.querySelector(`[data-row-key="${Xe}"]`);yield nextTick(),C==null||C.scrollTo({top:(We=ze==null?void 0:ze.offsetTop)!=null?We:0,behavior:"smooth"})})}function He(Ge){const Xe=unref(g);if(!Xe)return;const ze=Xe.$el;if(!ze||!C&&(C=ze.querySelector(".ant-table-body"),!C))return;const We=unref(w);if(We)if(Ge==="top")x(We[0]);else if(Ge==="bottom")x(We[We.length-1]);else{const at=We.find(nt=>nt.id===Ge);at&&x(at)}}return{scrollTo:He}}function getKey(g,w,C){return!w||C?g[ROW_KEY]:isString(w)?g[w]:isFunction$1(w)?g[w(g)]:null}function useCustomRow(g,{setSelectedRowKeys:w,getSelectRowKeys:C,getAutoCreateKey:x,clearSelectedRowKeys:He,emit:Ge}){return{customRow:(ze,We)=>({onClick:at=>{at==null||at.stopPropagation();function nt(){var ct;const{rowSelection:A,rowKey:Te,clickToRowSelect:et}=unref(g);if(!A||!et)return;const Qe=C()||[],$e=getKey(ze,Te,unref(x));if($e===null)return;if(A.type==="checkbox"){const qe=(ct=at.composedPath)==null?void 0:ct.call(at).find(pt=>pt.tagName==="TR");if(!qe)return;const lt=qe.querySelector("input[type=checkbox]");if(!lt||lt.hasAttribute("disabled"))return;if(!Qe.includes($e)){Qe.push($e),w(Qe);return}const Ue=Qe.findIndex(pt=>pt===$e);Qe.splice(Ue,1),w(Qe);return}if(A.type==="radio"){if(!Qe.includes($e)){Qe.length&&He(),w([$e]);return}He()}}nt(),Ge("row-click",ze,We,at)},onDblclick:at=>{Ge("row-dbClick",ze,We,at)},onContextmenu:at=>{Ge("row-contextmenu",ze,We,at)},onMouseenter:at=>{Ge("row-mouseenter",ze,We,at)},onMouseleave:at=>{Ge("row-mouseleave",ze,We,at)}})}}function useTableStyle(g,w){function C(x,He){const{striped:Ge,rowClassName:Xe}=unref(g),ze=[];return Ge&&ze.push((He||0)%2===1?`${w}-row__striped`:""),Xe&&isFunction$1(Xe)&&ze.push(Xe(x,He)),ze.filter(We=>!!We).join(" ")}return{getRowClassName:C}}const _sfc_main$k=defineComponent({name:"ColumnSetting",__name:"ColumnSetting",emits:["columns-change"],setup(g,{emit:w}){const C=w,x=useAttrs$1(),{t:He}=useI18n(),Ge=useTableContext(),Xe=omit(Ge.getRowSelection(),"selectedRowKeys");let ze=!1,We=!1,at=!1;const nt=ref([]),A=ref([]),Te=ref([]),et=ref(null),Qe=reactive({checkAll:!0,checkedList:[],defaultCheckList:[]});let $e={};const Ye=ref(!1),ut=ref(!1),{prefixCls:ct}=useDesign("basic-column-setting"),qe=computed(()=>unref(Ge==null?void 0:Ge.getBindValues)||{});watchEffect(()=>{const Ve=Ge.getColumns();setTimeout(()=>{We?We=!1:Ve.length&&Ue()},0)}),watchEffect(()=>{const Ve=unref(qe);at?at=!1:$e=cloneDeep(Ve),Ye.value=!!Ve.showIndexColumn,ut.value=!!Ve.rowSelection});function lt(){const Ve=[];return Ge.getColumns({ignoreIndex:!0,ignoreAction:!0}).forEach(jt=>{Ve.push(ca({label:jt.title||jt.customTitle,value:jt.dataIndex||jt.title},jt))}),Ve}function Ue(Ve=!1){return ro(this,null,function*(){var Mt;A.value=[];const jt=unref(et);if(jt&&jt.$el){const Lt=jt.$el;Array.from(Lt.children).forEach(qt=>Lt.removeChild(qt))}yield nextTick();const cn=Ve?cloneDeep(nt.value):lt(),yt=Ge.getColumns({ignoreAction:!0,ignoreIndex:!0}).map(Lt=>Lt.defaultHidden?"":Lt.dataIndex||Lt.title).filter(Boolean);A.value=cn,Te.value=cn,(Mt=Ge.setCacheColumns)==null||Mt.call(Ge,cn),!Ve&&(nt.value=cloneDeep(cn)),Qe.defaultCheckList=yt,Qe.checkedList=yt,Qe.checkAll=yt.length===cn.length,ze=!1,st()})}function pt(Ve){const jt=Te.value.map(cn=>cn.value);Te.value.forEach(cn=>cn.defaultHidden=!Ve.target.checked),Ve.target.checked?(Qe.checkedList=jt,Ht(jt)):(Qe.checkedList=[],Ht([]))}const It=computed(()=>{const Ve=A.value.length;let jt=Qe.checkedList.length;return jt>0&&jt<Ve});function Tt(Ve){const jt=Te.value.length;Qe.checkAll=Ve.length===jt;const cn=unref(Te).map(yt=>yt.value);Ve.sort((yt,Mt)=>cn.indexOf(String(yt))-cn.indexOf(String(Mt))),unref(Te).forEach(yt=>{yt.defaultHidden=!Ve.includes(yt.value)}),Ht(Ve)}let mt,vt=[];function Et(){Ht(nt.value),Ue(!0),Ye.value=!!$e.showIndexColumn,ut.value=!!$e.rowSelection,Ge.setProps({showIndexColumn:Ye.value,rowSelection:ut.value?Xe:void 0}),mt.sort(vt)}function st(){ze||nextTick(()=>{const Ve=unref(et);if(!Ve)return;const jt=Ve.$el;jt&&(mt=Sortable.create(unref(jt),{animation:500,delay:400,delayOnTouchOnly:!0,handle:".table-column-drag-icon ",onEnd:cn=>{const{oldIndex:yt,newIndex:Mt}=cn;if(isNil(yt)||isNil(Mt)||yt===Mt)return;const Lt=cloneDeep(Te.value);yt>Mt?(Lt.splice(Mt,0,Lt[yt]),Lt.splice(yt+1,1)):(Lt.splice(Mt+1,0,Lt[yt]),Lt.splice(yt,1)),Te.value=Lt,Ht(Lt.filter(qt=>Qe.checkedList.includes(qt.value)))}}),vt=mt.toArray(),ze=!0)})}function At(Ve){at=!0,We=!0,Ge.setProps({showIndexColumn:Ve.target.checked})}function nn(Ve){at=!0,We=!0,Ge.setProps({rowSelection:Ve.target.checked?Xe:void 0})}function wn(Ve,jt){var Lt;if(!Qe.checkedList.includes(Ve.dataIndex))return;const cn=lt().filter(qt=>Qe.checkedList.includes(qt.dataIndex)),yt=Ve.fixed===jt?!1:jt,Mt=cn.findIndex(qt=>qt.dataIndex===Ve.dataIndex);Mt!==-1&&(cn[Mt].fixed=yt),Ve.fixed=yt,yt&&!Ve.width&&(Ve.width=100),lr(Ve),(Lt=Ge.setCacheColumnsByField)==null||Lt.call(Ge,Ve.dataIndex,{fixed:yt}),Ht(cn)}function Ht(Ve){at=!0,We=!0,Ge.setColumns(Ve);const jt=unref(Te).map(cn=>{const yt=Ve.findIndex(Mt=>Mt===cn.value||typeof Mt!="string"&&Mt.dataIndex===cn.value)!==-1;return{dataIndex:cn.value,fixed:cn.fixed,visible:yt}});C("columns-change",jt)}function Sn(){return isFunction$1(x.getPopupContainer)?x.getPopupContainer():getPopupContainer()}function lr(Ve){Te.value.forEach(jt=>{jt.value===Ve.dataIndex&&Object.assign(jt,Ve)})}return(Ve,jt)=>{const cn=resolveComponent("a-button");return openBlock(),createBlock(unref(Tooltip),{placement:"top"},{title:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(He)("component.table.settingColumn")),1)]),default:withCtx(()=>[createVNode(unref(Popover),{placement:"bottomLeft",trigger:"click",onOpenChange:st,overlayClassName:`${unref(ct)}__column-list`,getPopupContainer:Sn},{title:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(`${unref(ct)}__popover-title`)},[createVNode(unref(Checkbox),{indeterminate:It.value,checked:Qe.checkAll,"onUpdate:checked":jt[0]||(jt[0]=yt=>Qe.checkAll=yt),onChange:pt},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(He)("component.table.settingColumnShow")),1)]),_:1},8,["indeterminate","checked"]),createVNode(unref(Checkbox),{checked:Ye.value,"onUpdate:checked":jt[1]||(jt[1]=yt=>Ye.value=yt),onChange:At},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(He)("component.table.settingIndexColumnShow")),1)]),_:1},8,["checked"]),createVNode(unref(Checkbox),{checked:ut.value,"onUpdate:checked":jt[2]||(jt[2]=yt=>ut.value=yt),onChange:nn,disabled:!unref(Xe)},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(He)("component.table.settingSelectColumnShow")),1)]),_:1},8,["checked","disabled"]),createVNode(cn,{size:"small",type:"link",onClick:Et},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(He)("common.resetText")),1)]),_:1})],2)]),content:withCtx(()=>[createVNode(unref(ScrollContainer),null,{default:withCtx(()=>[createVNode(unref(Checkbox).Group,{value:Qe.checkedList,"onUpdate:value":jt[3]||(jt[3]=yt=>Qe.checkedList=yt),onChange:Tt,ref_key:"columnListRef",ref:et},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(A.value,yt=>(openBlock(),createElementBlock(Fragment,{key:yt.value},["ifShow"in yt&&!yt.ifShow?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${unref(ct)}__check-item`)},[createVNode(unref(DragOutlined),{class:"table-column-drag-icon"}),createVNode(unref(Checkbox),{value:yt.value},{default:withCtx(()=>[createTextVNode(toDisplayString(yt.label),1)]),_:2},1032,["value"]),createVNode(unref(Tooltip),{placement:"bottomLeft",mouseLeaveDelay:.4,getPopupContainer:Sn},{title:withCtx(()=>[createTextVNode(toDisplayString(unref(He)("component.table.settingFixedLeft")),1)]),default:withCtx(()=>[createVNode(_sfc_main$G,{icon:"line-md:arrow-align-left",class:normalizeClass([`${unref(ct)}__fixed-left`,{active:yt.fixed==="left",disabled:!Qe.checkedList.includes(yt.value)}]),onClick:Mt=>wn(yt,"left")},null,8,["class","onClick"])]),_:2},1024),createVNode(unref(Divider),{type:"vertical"}),createVNode(unref(Tooltip),{placement:"bottomLeft",mouseLeaveDelay:.4,getPopupContainer:Sn},{title:withCtx(()=>[createTextVNode(toDisplayString(unref(He)("component.table.settingFixedRight")),1)]),default:withCtx(()=>[createVNode(_sfc_main$G,{icon:"line-md:arrow-align-left",class:normalizeClass([`${unref(ct)}__fixed-right`,{active:yt.fixed==="right",disabled:!Qe.checkedList.includes(yt.value)}]),onClick:Mt=>wn(yt,"right")},null,8,["class","onClick"])]),_:2},1024)],2))],64))),128))]),_:1},8,["value"])]),_:1})]),default:withCtx(()=>[createVNode(unref(SettingOutlined))]),_:1},8,["overlayClassName"])]),_:1})}}}),_sfc_main$j=defineComponent({name:"SizeSetting",__name:"SizeSetting",setup(g){const w=useTableContext(),{t:C}=useI18n(),x=ref([w.getSize()]),He=({key:Ge})=>{x.value=[Ge],w.setProps({size:Ge})};return(Ge,Xe)=>(openBlock(),createBlock(unref(Tooltip),{placement:"top"},{title:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(C)("component.table.settingDens")),1)]),default:withCtx(()=>[createVNode(unref(Dropdown$1),{placement:"bottom",trigger:["click"],getPopupContainer:unref(getPopupContainer)},{overlay:withCtx(()=>[createVNode(unref(Menu),{onClick:He,selectable:"",selectedKeys:x.value,"onUpdate:selectedKeys":Xe[0]||(Xe[0]=ze=>x.value=ze)},{default:withCtx(()=>[createVNode(unref(Menu).Item,{key:"default"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(C)("component.table.settingDensDefault")),1)]),_:1}),createVNode(unref(Menu).Item,{key:"middle"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(C)("component.table.settingDensMiddle")),1)]),_:1}),createVNode(unref(Menu).Item,{key:"small"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(C)("component.table.settingDensSmall")),1)]),_:1})]),_:1},8,["selectedKeys"])]),default:withCtx(()=>[createVNode(unref(ColumnHeightOutlined))]),_:1},8,["getPopupContainer"])]),_:1}))}}),_sfc_main$i=defineComponent({name:"RedoSetting",__name:"RedoSetting",setup(g){const w=useTableContext(),{t:C}=useI18n();function x(){w.reload()}return(He,Ge)=>(openBlock(),createBlock(unref(Tooltip),{placement:"top"},{title:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(C)("common.redo")),1)]),default:withCtx(()=>[createVNode(unref(RedoOutlined),{onClick:x})]),_:1}))}}),_sfc_main$h=defineComponent({name:"FullScreenSetting",__name:"FullScreenSetting",setup(g){const w=useTableContext(),{t:C}=useI18n(),{toggle:x,isFullscreen:He}=useFullscreen(w.wrapRef);return(Ge,Xe)=>(openBlock(),createBlock(unref(Tooltip),{placement:"top"},{title:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(C)("component.table.settingFullScreen")),1)]),default:withCtx(()=>[unref(He)?(openBlock(),createBlock(unref(FullscreenExitOutlined),{key:1,onClick:unref(x)},null,8,["onClick"])):(openBlock(),createBlock(unref(FullscreenOutlined),{key:0,onClick:unref(x)},null,8,["onClick"]))]),_:1}))}}),_hoisted_1$7={class:"table-settings"},_sfc_main$g=defineComponent({name:"TableSetting",__name:"index",props:{setting:{type:Object,default:()=>({})}},emits:["columns-change"],setup(g,{emit:w}){const C=g,x=w,He=useTableContext(),Ge=computed(()=>ca({redo:!0,size:!0,setting:!0,fullScreen:!1},C.setting));function Xe(We){x("columns-change",We)}function ze(){return He?unref(He.wrapRef):document.body}return(We,at)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[Ge.value.redo?(openBlock(),createBlock(_sfc_main$i,{key:0,getPopupContainer:ze})):createCommentVNode("",!0),Ge.value.size?(openBlock(),createBlock(_sfc_main$j,{key:1,getPopupContainer:ze})):createCommentVNode("",!0),Ge.value.setting?(openBlock(),createBlock(_sfc_main$k,{key:2,onColumnsChange:Xe,getPopupContainer:ze})):createCommentVNode("",!0),Ge.value.fullScreen?(openBlock(),createBlock(_sfc_main$h,{key:3,getPopupContainer:ze})):createCommentVNode("",!0)]))}}),_sfc_main$f=defineComponent({name:"BasicTableTitle",__name:"TableTitle",props:{title:{type:[Function,String]},getSelectRows:{type:Function},helpMessage:{type:[String,Array]}},setup(g){const w=g,{prefixCls:C}=useDesign("basic-table-title"),x=computed(()=>{const{title:He,getSelectRows:Ge=()=>{}}=w;let Xe=He;return isFunction$1(He)&&(Xe=He({selectRows:Ge()})),Xe});return(He,Ge)=>x.value?(openBlock(),createBlock(unref(BasicTitle),{key:0,class:normalizeClass(unref(C)),helpMessage:g.helpMessage},{default:withCtx(()=>[createTextVNode(toDisplayString(x.value),1)]),_:1},8,["class","helpMessage"])):createCommentVNode("",!0)}}),_hoisted_1$6={style:{width:"100%"}},_hoisted_2={key:0,style:{margin:"5px"}},_hoisted_3={class:"flex items-center"},_sfc_main$e=defineComponent({name:"BasicTableHeader",__name:"TableHeader",props:{title:{type:[Function,String]},tableSetting:{type:Object},showTableSetting:{type:Boolean},titleHelpMessage:{type:[String,Array],default:""}},emits:["columns-change"],setup(g,{emit:w}){const C=w,{prefixCls:x}=useDesign("basic-table-header");function He(Ge){C("columns-change",Ge)}return(Ge,Xe)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[Ge.$slots.headerTop?(openBlock(),createElementBlock("div",_hoisted_2,[renderSlot(Ge.$slots,"headerTop")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3,[Ge.$slots.tableTitle?renderSlot(Ge.$slots,"tableTitle",{key:0}):createCommentVNode("",!0),!Ge.$slots.tableTitle&&g.title?(openBlock(),createBlock(_sfc_main$f,{key:1,helpMessage:g.titleHelpMessage,title:g.title},null,8,["helpMessage","title"])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(`${unref(x)}__toolbar`)},[renderSlot(Ge.$slots,"toolbar"),Ge.$slots.toolbar&&g.showTableSetting?(openBlock(),createBlock(unref(Divider),{key:0,type:"vertical"})):createCommentVNode("",!0),g.showTableSetting?(openBlock(),createBlock(_sfc_main$g,{key:1,setting:g.tableSetting,onColumnsChange:He},null,8,["setting"])):createCommentVNode("",!0)],2)])]))}});function useTableHeader(g,w,C){return{getHeaderProps:computed(()=>{const{title:He,showTableSetting:Ge,titleHelpMessage:Xe,tableSetting:ze}=unref(g),We=!w.tableTitle&&!He&&!w.toolbar&&!Ge;return We&&!isString(He)?{}:{title:We?null:()=>h(_sfc_main$e,{title:He,titleHelpMessage:Xe,showTableSetting:Ge,tableSetting:ze,onColumnsChange:C.onColumnsChange},ca(ca(ca({},w.toolbar?{toolbar:()=>getSlot(w,"toolbar")}:{}),w.tableTitle?{tableTitle:()=>getSlot(w,"tableTitle")}:{}),w.headerTop?{headerTop:()=>getSlot(w,"headerTop")}:{}))}})}}function useTableExpand(g,w,C){const x=ref([]),He=computed(()=>unref(g).autoCreateKey&&!unref(g).rowKey),Ge=computed(()=>{const{rowKey:A}=unref(g);return unref(He)?ROW_KEY:A}),Xe=computed(()=>{const{isTreeTable:A}=unref(g);return A?{expandedRowKeys:unref(x),onExpandedRowsChange:Te=>{x.value=Te,C("expanded-rows-change",Te)}}:{}});function ze(){const A=at();x.value=A}function We(A){const{isTreeTable:Te}=unref(g);Te&&(x.value=[...x.value,...A])}function at(A){const Te=[],{childrenColumnName:et}=unref(g);return toRaw(A||unref(w)).forEach(Qe=>{Te.push(Qe[unref(Ge)]);const $e=Qe[et||"children"];$e!=null&&$e.length&&Te.push(...at($e))}),Te}function nt(){x.value=[]}return{getExpandOption:Xe,expandAll:ze,expandRows:We,collapseAll:nt}}const SUMMARY_ROW_KEY="_row",SUMMARY_INDEX_KEY="_index",_sfc_main$d=defineComponent({name:"BasicTableFooter",__name:"TableFooter",props:{summaryFunc:{type:Function},summaryData:{type:Array},scroll:{type:Object},rowKey:propTypes.string.def("key")},setup(g){const w=g,C=useTableContext(),x=computed(()=>{const{summaryFunc:Ge,summaryData:Xe}=w;if(Xe!=null&&Xe.length)return Xe.forEach((We,at)=>We[w.rowKey]=`${at}`),Xe;if(!isFunction$1(Ge))return[];let ze=toRaw(unref(C.getDataSource()));return ze=Ge(ze),ze.forEach((We,at)=>{We[w.rowKey]=`${at}`}),ze}),He=computed(()=>{const Ge=unref(x),Xe=cloneDeep(C.getColumns()),ze=Xe.findIndex(nt=>nt.flag===INDEX_COLUMN_FLAG),We=Ge.some(nt=>Reflect.has(nt,SUMMARY_ROW_KEY)),at=Ge.some(nt=>Reflect.has(nt,SUMMARY_INDEX_KEY));if(ze!==-1&&(at?(Xe[ze].customRender=({record:nt})=>nt[SUMMARY_INDEX_KEY],Xe[ze].ellipsis=!1):Reflect.deleteProperty(Xe[ze],"customRender")),C.getRowSelection()&&We){const nt=Xe.some(A=>A.fixed==="left");Xe.unshift(Pu(ca({width:60,title:"selection",key:"selectionKey",align:"center"},nt?{fixed:"left"}:{}),{customRender:({record:A})=>A[SUMMARY_ROW_KEY]}))}return Xe});return(Ge,Xe)=>g.summaryFunc||g.summaryData?(openBlock(),createBlock(unref(Table),{key:0,showHeader:!1,bordered:!1,pagination:!1,dataSource:x.value,rowKey:ze=>ze[g.rowKey],columns:He.value,tableLayout:"fixed",scroll:g.scroll},null,8,["dataSource","rowKey","columns","scroll"])):createCommentVNode("",!0)}});function useTableFooter(g,w,C,x){const He=computed(()=>(unref(x)||[]).length===0),Ge=computed(()=>{const{summaryFunc:ze,showSummary:We,summaryData:at}=unref(g);return We&&!unref(He)?()=>h(_sfc_main$d,{summaryFunc:ze,summaryData:at,scroll:unref(w)}):void 0});watchEffect(()=>{Xe()});function Xe(){const{showSummary:ze}=unref(g);!ze||unref(He)||nextTick(()=>{const We=unref(C);if(!We)return;const at=We.$el.querySelector(".ant-table-content");useEventListener({el:at,name:"scroll",listener:()=>{const nt=We.$el.querySelector(".ant-table-footer .ant-table-content");!nt||!at||(nt.scrollLeft=at.scrollLeft)},wait:0,options:!0})})}return{getFooterProps:Ge}}function useTableForm(g,w,C,x){const He=computed(()=>{const{formConfig:We}=unref(g),{submitButtonOptions:at}=We||{};return Pu(ca({showAdvancedButton:!0},We),{submitButtonOptions:ca({loading:unref(x)},at),compact:!0})}),Ge=computed(()=>Object.keys(w).map(at=>at.startsWith("form-")?at:null).filter(at=>!!at));function Xe(We){var at,nt;return We&&(nt=(at=We==null?void 0:We.replace)==null?void 0:at.call(We,/form-/,""))!=null?nt:""}function ze(We){const{handleSearchInfoFn:at}=unref(g);at&&isFunction$1(at)&&(We=at(We)||We),C({searchInfo:We,page:1})}return{getFormProps:He,replaceFormSlotKey:Xe,getFormSlotKeys:Ge,handleSearchInfoChange:ze}}const basicProps$1={clickToRowSelect:{type:Boolean,default:!0},isTreeTable:Boolean,tableSetting:propTypes.shape({}),inset:Boolean,sortFn:{type:Function,default:DEFAULT_SORT_FN},filterFn:{type:Function,default:DEFAULT_FILTER_FN},showTableSetting:Boolean,autoCreateKey:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},showSummary:Boolean,summaryFunc:{type:[Function,Array],default:null},summaryData:{type:Array,default:null},indentSize:propTypes.number.def(24),canColDrag:{type:Boolean,default:!0},api:{type:Function,default:null},beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null},handleSearchInfoFn:{type:Function,default:null},fetchSetting:{type:Object,default:()=>FETCH_SETTING},immediate:{type:Boolean,default:!0},emptyDataIsShowTable:{type:Boolean,default:!0},searchInfo:{type:Object,default:null},defSort:{type:Object,default:null},useSearchForm:propTypes.bool,formConfig:{type:Object,default:null},columns:{type:Array,default:()=>[]},showIndexColumn:{type:Boolean,default:!0},indexColumnProps:{type:Object,default:null},actionColumn:{type:Object,default:null},ellipsis:{type:Boolean,default:!0},isCanResizeParent:{type:Boolean,default:!1},canResize:{type:Boolean,default:!0},clearSelectOnPageChange:propTypes.bool,resizeHeightOffset:propTypes.number.def(0),rowSelection:{type:Object,default:null},title:{type:[String,Function],default:null},titleHelpMessage:{type:[String,Array]},maxHeight:propTypes.number,dataSource:{type:Array,default:null},rowKey:{type:[String,Function],default:""},bordered:propTypes.bool,pagination:{type:[Object,Boolean],default:null},loading:propTypes.bool,rowClassName:{type:Function},scroll:{type:Object,default:null},beforeEditSubmit:{type:Function},size:{type:String,default:DEFAULT_SIZE}},_sfc_main$c=defineComponent({name:"BasicTable",__name:"BasicTable",props:basicProps$1,emits:["fetch-success","fetch-error","selection-change","register","row-click","row-dbClick","row-contextmenu","row-mouseenter","row-mouseleave","edit-end","edit-cancel","edit-row-end","edit-change","expanded-rows-change","change","columns-change"],setup(g,{expose:w,emit:C}){const x=g,He=C,Ge=useAttrs$1(),Xe=useSlots(),ze=ref(null),We=ref([]),at=ref(null),nt=ref(null),A=ref(),{prefixCls:Te}=useDesign("basic-table"),[et,Qe]=useForm(),$e=computed(()=>ca(ca({},x),unref(A))),Ye=inject(PageWrapperFixedHeightKey,!1);watchEffect(()=>{unref(Ye)&&x.canResize&&warn()});const{getLoading:ut,setLoading:ct}=useLoading($e),{getPaginationInfo:qe,getPagination:lt,setPagination:Ue,setShowPagination:pt,getShowPagination:It}=usePagination($e),{getRowSelection:Tt,getRowSelectionRef:mt,getSelectRows:vt,setSelectedRows:Et,clearSelectedRowKeys:st,getSelectRowKeys:At,deleteSelectRowByKey:nn,setSelectedRowKeys:wn}=useRowSelection($e,We,He),{handleTableChange:Ht,getDataSourceRef:Sn,getDataSource:lr,getRawDataSource:Ve,setTableData:jt,updateTableDataRecord:cn,deleteTableDataRecord:yt,insertTableDataRecord:Mt,findTableDataRecord:Lt,fetch:qt,getRowKey:an,reload:ot,getAutoCreateKey:En,updateTableData:Pt}=useDataSource($e,{tableData:We,getPaginationInfo:qe,setLoading:ct,setPagination:Ue,getFieldsValue:Qe.getFieldsValue,clearSelectedRowKeys:st},He);function xt(jr,hn,Qn,jn){Ht(jr,hn,Qn),He("change",jr,hn,Qn);const{onChange:gr}=unref($e);gr&&isFunction$1(gr)&&gr(jr,hn,Qn,jn)}const{getViewColumns:vn,getColumns:Ot,setCacheColumnsByField:Zt,setCacheColumns:mn,setColumnWidth:ln,setColumns:Ft,getColumnsRef:bn,getCacheColumns:Kn}=useColumns($e,qe),{getScrollRef:Jt,redoHeight:Rn}=useTableScroll($e,ze,bn,mt,Sn,at,nt),{scrollTo:rr}=useTableScrollTo(ze,Sn),{customRow:Vn}=useCustomRow($e,{setSelectedRowKeys:wn,getSelectRowKeys:At,clearSelectedRowKeys:st,getAutoCreateKey:En,emit:He}),{getRowClassName:Br}=useTableStyle($e,Te),{getExpandOption:la,expandAll:fa,expandRows:co,collapseAll:Eo}=useTableExpand($e,We,He),hr={onColumnsChange:jr=>{var hn,Qn;He("columns-change",jr),(Qn=(hn=unref($e)).onColumnsChange)==null||Qn.call(hn,jr)}},{getHeaderProps:yr}=useTableHeader($e,Xe,hr),{getFooterProps:mr}=useTableFooter($e,Jt,ze,Sn),{getFormProps:Pn,replaceFormSlotKey:zn,getFormSlotKeys:kr,handleSearchInfoChange:$r}=useTableForm($e,Xe,qt,ut),Cr=computed(()=>{const jr=unref(Sn);let hn=ca(Pu(ca(ca(Pu(ca({},Ge),{customRow:Vn}),unref($e)),unref(yr)),{scroll:unref(Jt),loading:unref(ut),tableLayout:"fixed",rowSelection:unref(mt),rowKey:unref(an),columns:toRaw(unref(vn)),pagination:toRaw(unref(qe)),dataSource:jr,footer:unref(mr)}),unref(la));return hn=omit(hn,["class","onChange"]),hn}),Nn=computed(()=>{const jr=unref(Cr);return[Te,Ge.class,"rounded-md",{[`${Te}-form-container`]:jr.useSearchForm,[`${Te}--inset`]:jr.inset}]}),ir=computed(()=>{const{emptyDataIsShowTable:jr,useSearchForm:hn}=unref($e);return jr||!hn?!0:!!unref(Sn).length});function Ur(jr){A.value=ca(ca({},unref(A)),jr)}const Mr={reload:ot,getSelectRows:vt,setSelectedRows:Et,clearSelectedRowKeys:st,getSelectRowKeys:At,deleteSelectRowByKey:nn,setPagination:Ue,setTableData:jt,updateTableDataRecord:cn,deleteTableDataRecord:yt,insertTableDataRecord:Mt,findTableDataRecord:Lt,redoHeight:Rn,setSelectedRowKeys:wn,setColumns:Ft,setLoading:ct,getDataSource:lr,getRawDataSource:Ve,setProps:Ur,getRowSelection:Tt,getPaginationRef:lt,getColumns:Ot,getCacheColumns:Kn,emit:He,updateTableData:Pt,setShowPagination:pt,getShowPagination:It,setCacheColumnsByField:Zt,expandAll:fa,expandRows:co,collapseAll:Eo,scrollTo:rr,getSize:()=>unref(Cr).size,setCacheColumns:mn};return createTableContext(Pu(ca({},Mr),{wrapRef:at,getBindValues:Cr})),He("register",Mr,Qe),w(ca({tableElRef:ze},Mr)),(jr,hn)=>(openBlock(),createElementBlock("div",{ref_key:"wrapRef",ref:at,class:normalizeClass(Nn.value)},[Cr.value.useSearchForm?(openBlock(),createBlock(unref(_sfc_main),mergeProps({key:0,ref_key:"formRef",ref:nt,submitOnReset:""},unref(Pn),{tableAction:Mr,onRegister:unref(et),onSubmit:unref($r),onAdvancedChange:unref(Rn)}),createSlots({_:2},[renderList(unref(kr),Qn=>({name:unref(zn)(Qn),fn:withCtx(jn=>[renderSlot(jr.$slots,Qn,normalizeProps(guardReactiveProps(jn||{})))])}))]),1040,["onRegister","onSubmit","onAdvancedChange"])):createCommentVNode("",!0),createVNode(unref(Divider),{style:{margin:"0"}}),withDirectives(createVNode(unref(Table),mergeProps({ref_key:"tableElRef",ref:ze},Cr.value,{rowClassName:unref(Br),onChange:xt,onResizeColumn:unref(ln)}),createSlots({headerCell:withCtx(({column:Qn})=>[renderSlot(jr.$slots,"headerCell",normalizeProps(guardReactiveProps({column:Qn})),()=>[createVNode(_sfc_main$m,{column:Qn},null,8,["column"])])]),bodyCell:withCtx(Qn=>[renderSlot(jr.$slots,"bodyCell",normalizeProps(guardReactiveProps(Qn||{})))]),_:2},[renderList(Object.keys(jr.$slots),Qn=>({name:Qn,fn:withCtx(jn=>[renderSlot(jr.$slots,Qn,normalizeProps(guardReactiveProps(jn||{})))])}))]),1040,["rowClassName","onResizeColumn"]),[[vShow,ir.value]])],2))}}),_hoisted_1$5={class:"img-div"};propTypes.arrayOf(propTypes.string),propTypes.number.def(40),propTypes.bool,propTypes.bool.def(!0),propTypes.number.def(4),propTypes.string.def(""),propTypes.string.def("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==");function useTable(g){const w=ref(null),C=ref(!1),x=ref(null);let He;function Ge(We,at){onUnmounted(()=>{w.value=null,C.value=null}),!(unref(C)&&isProdMode()&&We===unref(w))&&(w.value=We,x.value=at,g&&We.setProps(getDynamicProps(g)),C.value=!0,He==null||He(),He=watch(()=>g,()=>{g&&We.setProps(getDynamicProps(g)),We.reload()},{immediate:!0,deep:!0}))}function Xe(){const We=unref(w);return We||error("The table instance has not been obtained yet, please make sure the table is presented when performing the table operation!"),We}return[Ge,{reload:We=>ro(this,null,function*(){return yield Xe().reload(We)}),setProps:We=>{Xe().setProps(We)},redoHeight:()=>{Xe().redoHeight()},setSelectedRows:We=>toRaw(Xe().setSelectedRows(We)),setLoading:We=>{Xe().setLoading(We)},getDataSource:()=>Xe().getDataSource(),getRawDataSource:()=>Xe().getRawDataSource(),getColumns:({ignoreIndex:We=!1}={})=>{const at=Xe().getColumns({ignoreIndex:We})||[];return toRaw(at)},setColumns:We=>{Xe().setColumns(We)},setTableData:We=>Xe().setTableData(We),setPagination:We=>Xe().setPagination(We),deleteSelectRowByKey:We=>{Xe().deleteSelectRowByKey(We)},getSelectRowKeys:()=>toRaw(Xe().getSelectRowKeys()),getSelectRows:()=>toRaw(Xe().getSelectRows()),clearSelectedRowKeys:()=>{Xe().clearSelectedRowKeys()},setSelectedRowKeys:We=>{Xe().setSelectedRowKeys(We)},getPaginationRef:()=>Xe().getPaginationRef(),getSize:()=>toRaw(Xe().getSize()),updateTableData:(We,at,nt)=>Xe().updateTableData(We,at,nt),deleteTableDataRecord:We=>Xe().deleteTableDataRecord(We),insertTableDataRecord:(We,at)=>Xe().insertTableDataRecord(We,at),updateTableDataRecord:(We,at)=>Xe().updateTableDataRecord(We,at),findTableDataRecord:We=>Xe().findTableDataRecord(We),getRowSelection:()=>toRaw(Xe().getRowSelection()),getCacheColumns:()=>toRaw(Xe().getCacheColumns()),getForm:()=>unref(x),setShowPagination:We=>ro(this,null,function*(){Xe().setShowPagination(We)}),getShowPagination:()=>toRaw(Xe().getShowPagination()),expandAll:()=>{Xe().expandAll()},expandRows:We=>{Xe().expandRows(We)},collapseAll:()=>{Xe().collapseAll()},scrollTo:We=>{Xe().scrollTo(We)}}]}const _sfc_main$b=defineComponent({__name:"AnnoSearchTable",props:{tableConfig:{},data:{}},emits:["addSearch","deleteRows"],setup(g,{expose:w,emit:C}){const x=g,[He,{reload:Ge,setProps:Xe,getSelectRowKeys:ze,clearSelectedRowKeys:We}]=useTable(null);return watch(()=>x.tableConfig.tableKey,()=>{x.tableConfig.tableKey&&nextTick(()=>{Xe(toRaw(x.tableConfig)),Ge()})},{immediate:!0}),watch(()=>x.tableConfig.searchInfo,()=>{nextTick(()=>{Ge(),We()})}),w({reload:Ge,getSelectRowKeys:ze,clearSelectedRowKeys:We,setProps:Xe}),(at,nt)=>(openBlock(),createBlock(unref(_sfc_main$c),{onRegister:unref(He),style:{"box-sizing":"border-box"}},null,8,["onRegister"]))}}),_hoisted_1$4={class:"w-full justify-center flex"},_sfc_main$a=defineComponent({__name:"AnnoSearch",props:{annoClassName:{}},setup(g,{expose:w}){const C=g,{getIsMobile:x}=useAppInject();watch(()=>C.annoClassName,Te=>{Te&&Ge(Te)},{immediate:!0});const He=reactive({});function Ge(Te){getEntity(Te).then(et=>{Object.assign(He,et),nextTick(()=>{We(et)})})}const Xe=reactive({}),ze=ref(null);function We(Te){at(Te)}const at=Te=>{const et=getTableData(Te.entityName,Te.annoTree.parentKey,Te.annoTree.key,Te.annoTree.displayAsTree),Qe=getAnnoSearchForm(Te.columns,x);Object.assign(Xe,{tableKey:C.annoClassName,pagination:{pageSize:20},api:et,size:"small",rowSelection:{type:"radio"},clickToRowSelect:!0,scroll:{x:!0,y:250},isTreeTable:Te.annoTree.displayAsTree,rowKey:$e=>$e,columns:getColumns(Te.columns),formConfig:{rowProps:{gutter:16,justify:"start"},labelWidth:100,showAdvancedButton:!1,labelAlign:"left",autoAdvancedLine:50,schemas:Qe,autoSubmitOnEnter:!0},useSearchForm:Qe.length>0,showTableSetting:!0,bordered:!0,handleSearchInfoFn($e){return $e}})};return w({getAddRows:()=>{const Te=ze.value.getSelectRowKeys();if(!(Te.length<1))return Te},clearSelectedRowKeys:()=>{ze.value.clearSelectedRowKeys()}}),(Te,et)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$4,[createVNode(_sfc_main$b,{tableConfig:unref(Xe),ref_key:"SearchTable",ref:ze},null,8,["tableConfig"])])]))}}),_sfc_main$9=defineComponent({__name:"AnnoSearchModal",emits:["success","register"],setup(g,{emit:w}){const C=w,x=ref(!1),He=ref(null),[Ge,{setModalProps:Xe,closeModal:ze}]=useModalInner(nt=>ro(this,null,function*(){const{annoClassName:A}=nt;x.value=toRaw(A),Xe({confirmLoading:!1,title:"选择",width:920,height:600,okText:"确认",showOkBtn:!0,cancelText:"取消"})}));function We(){He.value.clearSelectedRowKeys()}function at(){return ro(this,null,function*(){try{const nt=He.value.getAddRows();He.value.clearSelectedRowKeys(),C("success",nt),Xe({confirmLoading:!0}),ze()}finally{Xe({confirmLoading:!1})}})}return(nt,A)=>(openBlock(),createBlock(unref(BasicModal),mergeProps(nt.$attrs,{onRegister:unref(Ge),title:"选择",onOk:at,onCancel:We}),{default:withCtx(()=>[createVNode(_sfc_main$a,{ref_key:"AnnoSearchRef",ref:He,"anno-class-name":unref(x)},null,8,["anno-class-name"])]),_:1},16,["onRegister"]))}}),_sfc_main$8=defineComponent({inheritAttrs:!1,__name:"index",props:{value:{default:""},displayValue:{default:""},labelKey:{},valueKey:{},annoClass:{default:"AnUser"},width:{default:"100%"}},emits:["change","update:value"],setup(g,{emit:w}){const[C,{openModal:x}]=useModal(),He=ref(!0),Ge=A=>{A.length>0&&(at.value=A[0][ze.valueKey],nt.value=A[0][ze.labelKey],He.value=!1)};function Xe(){x(!0,{props:ze,annoClassName:ze.annoClass,isAdd:!1})}const ze=g,We=w,at=ref(""),nt=ref("");return watchEffect(()=>{at.value=ze.value}),watch(()=>at.value,A=>{A?He.value&&transOne({annoClazz:ze.annoClass,idKey:ze.valueKey,idValue:A,labelKey:ze.labelKey}).then(Te=>{nt.value=String(Te)}):nt.value="",He.value=!0,We("update:value",A),We("change",A)}),(A,Te)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(unref(Input),{readonly:"",style:normalizeStyle({width:A.width}),placeholder:"请选择",value:nt.value,"onUpdate:value":Te[0]||(Te[0]=et=>nt.value=et),onClick:Xe},null,8,["style","value"]),createVNode(unref(Input),{style:normalizeStyle([{display:"none"},{width:A.width}]),placeholder:"请选择",value:at.value,"onUpdate:value":Te[1]||(Te[1]=et=>at.value=et),onClick:Xe},null,8,["style","value"]),createVNode(_sfc_main$9,{onRegister:unref(C),onSuccess:Ge},null,8,["onRegister"])],64))}});var tinymce$2={exports:{}};(function(g){(function(){var w=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var r=typeof e;return r==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":r},C=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},x=function(e,r){var o=Array.prototype.slice.call(e);return o.sort(r)},He=function(e,r){return Ge(function(o,u){return e.eq(r(o),r(u))})},Ge=function(e){return{eq:e}},Xe=Ge(function(e,r){return e===r}),ze=Xe,We=function(e){return Ge(function(r,o){if(r.length!==o.length)return!1;for(var u=r.length,l=0;l<u;l++)if(!e.eq(r[l],o[l]))return!1;return!0})},at=function(e,r){return He(We(e),function(o){return x(o,r)})},nt=function(e){return Ge(function(r,o){var u=Object.keys(r),l=Object.keys(o);if(!at(ze).eq(u,l))return!1;for(var c=u.length,b=0;b<c;b++){var S=u[b];if(!e.eq(r[S],o[S]))return!1}return!0})},A=Ge(function(e,r){if(e===r)return!0;var o=w(e),u=w(r);return o!==u?!1:C(o)?e===r:o==="array"?We(A).eq(e,r):o==="object"?nt(A).eq(e,r):!1}),Te=function(e){var r=typeof e;return e===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":r},et=function(e){return function(r){return Te(r)===e}},Qe=function(e){return function(r){return typeof r===e}},$e=function(e){return function(r){return e===r}},Ye=et("string"),ut=et("object"),ct=et("array"),qe=$e(null),lt=Qe("boolean"),Ue=$e(void 0),pt=function(e){return e==null},It=function(e){return!pt(e)},Tt=Qe("function"),mt=Qe("number"),vt=function(){},Et=function(e,r){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return e(r.apply(null,o))}},st=function(e,r){return function(o){return e(r(o))}},At=function(e){return function(){return e}},nn=function(e){return e},wn=function(e,r){return e===r};function Ht(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var c=r.concat(u);return e.apply(null,c)}}var Sn=function(e){return function(r){return!e(r)}},lr=function(e){return function(){throw new Error(e)}},Ve=function(e){return e()},jt=function(e){e()},cn=At(!1),yt=At(!0),Mt=function(){return Lt},Lt=function(){var e=function(u){return u()},r=nn,o={fold:function(u,l){return u()},isSome:cn,isNone:yt,getOr:r,getOrThunk:e,getOrDie:function(u){throw new Error(u||"error: getOrDie called on none.")},getOrNull:At(null),getOrUndefined:At(void 0),or:r,orThunk:e,map:Mt,each:vt,bind:Mt,exists:cn,forall:yt,filter:function(){return Mt()},toArray:function(){return[]},toString:At("none()")};return o}(),qt=function(e){var r=At(e),o=function(){return l},u=function(c){return c(e)},l={fold:function(c,b){return b(e)},isSome:yt,isNone:cn,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(c){return qt(c(e))},each:function(c){c(e)},bind:u,exists:u,forall:u,filter:function(c){return c(e)?l:Lt},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return l},an=function(e){return e==null?Lt:qt(e)},ot={some:qt,none:Mt,from:an},En=Array.prototype.slice,Pt=Array.prototype.indexOf,xt=Array.prototype.push,vn=function(e,r){return Pt.call(e,r)},Ot=function(e,r){var o=vn(e,r);return o===-1?ot.none():ot.some(o)},Zt=function(e,r){return vn(e,r)>-1},mn=function(e,r){for(var o=0,u=e.length;o<u;o++){var l=e[o];if(r(l,o))return!0}return!1},ln=function(e,r){for(var o=e.length,u=new Array(o),l=0;l<o;l++){var c=e[l];u[l]=r(c,l)}return u},Ft=function(e,r){for(var o=0,u=e.length;o<u;o++){var l=e[o];r(l,o)}},bn=function(e,r){for(var o=e.length-1;o>=0;o--){var u=e[o];r(u,o)}},Kn=function(e,r){for(var o=[],u=[],l=0,c=e.length;l<c;l++){var b=e[l],S=r(b,l)?o:u;S.push(b)}return{pass:o,fail:u}},Jt=function(e,r){for(var o=[],u=0,l=e.length;u<l;u++){var c=e[u];r(c,u)&&o.push(c)}return o},Rn=function(e,r,o){return bn(e,function(u,l){o=r(o,u,l)}),o},rr=function(e,r,o){return Ft(e,function(u,l){o=r(o,u,l)}),o},Vn=function(e,r,o){for(var u=0,l=e.length;u<l;u++){var c=e[u];if(r(c,u))return ot.some(c);if(o(c,u))break}return ot.none()},Br=function(e,r){return Vn(e,r,cn)},la=function(e,r){for(var o=0,u=e.length;o<u;o++){var l=e[o];if(r(l,o))return ot.some(o)}return ot.none()},fa=function(e){for(var r=[],o=0,u=e.length;o<u;++o){if(!ct(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);xt.apply(r,e[o])}return r},co=function(e,r){return fa(ln(e,r))},Eo=function(e,r){for(var o=0,u=e.length;o<u;++o){var l=e[o];if(r(l,o)!==!0)return!1}return!0},hr=function(e){var r=En.call(e,0);return r.reverse(),r},yr=function(e,r){return Jt(e,function(o){return!Zt(r,o)})},mr=function(e,r){for(var o={},u=0,l=e.length;u<l;u++){var c=e[u];o[String(c)]=r(c,u)}return o},Pn=function(e,r){var o=En.call(e,0);return o.sort(r),o},zn=function(e,r){return r>=0&&r<e.length?ot.some(e[r]):ot.none()},kr=function(e){return zn(e,0)},$r=function(e){return zn(e,e.length-1)},Cr=Tt(Array.from)?Array.from:function(e){return En.call(e)},Nn=function(e,r){for(var o=0;o<e.length;o++){var u=r(e[o],o);if(u.isSome())return u}return ot.none()},ir=Object.keys,Ur=Object.hasOwnProperty,Mr=function(e,r){for(var o=ir(e),u=0,l=o.length;u<l;u++){var c=o[u],b=e[c];r(b,c)}},jr=function(e,r){return hn(e,function(o,u){return{k:u,v:r(o,u)}})},hn=function(e,r){var o={};return Mr(e,function(u,l){var c=r(u,l);o[c.k]=c.v}),o},Qn=function(e){return function(r,o){e[o]=r}},jn=function(e,r,o,u){var l={};return Mr(e,function(c,b){(r(c,b)?o:u)(c,b)}),l},gr=function(e,r){var o={},u={};return jn(e,r,Qn(o),Qn(u)),{t:o,f:u}},sa=function(e,r){var o={};return jn(e,r,Qn(o),vt),o},Va=function(e,r){var o=[];return Mr(e,function(u,l){o.push(r(u,l))}),o},_o=function(e){return Va(e,nn)},Ka=function(e,r){return Ya(e,r)?ot.from(e[r]):ot.none()},Ya=function(e,r){return Ur.call(e,r)},ni=function(e,r){return Ya(e,r)&&e[r]!==void 0&&e[r]!==null},Zi=function(e,r,o){return o===void 0&&(o=A),nt(o).eq(e,r)},wo=Array.isArray,mi=function(e){if(wo(e))return e;for(var r=[],o=0,u=e.length;o<u;o++)r[o]=e[o];return r},ii=function(e,r,o){var u,l;if(!e)return!1;if(o=o||e,e.length!==void 0){for(u=0,l=e.length;u<l;u++)if(r.call(o,e[u],u,e)===!1)return!1}else for(u in e)if(Ya(e,u)&&r.call(o,e[u],u,e)===!1)return!1;return!0},ou=function(e,r){var o=[];return ii(e,function(u,l){o.push(r(u,l,e))}),o},pi=function(e,r){var o=[];return ii(e,function(u,l){(!r||r(u,l,e))&&o.push(u)}),o},wi=function(e,r){if(e){for(var o=0,u=e.length;o<u;o++)if(e[o]===r)return o}return-1},$i=function(e,r,o,u){for(var l=Ue(o)?e[0]:o,c=0;c<e.length;c++)l=r.call(u,l,e[c],c);return l},fo=function(e,r,o){var u,l;for(u=0,l=e.length;u<l;u++)if(r.call(o,e[u],u,e))return u;return-1},Hi=function(e){return e[e.length-1]},ga=function(){return ga=Object.assign||function(r){for(var o,u=1,l=arguments.length;u<l;u++){o=arguments[u];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},ga.apply(this,arguments)};function Iu(e,r){var o={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&r.indexOf(u)<0&&(o[u]=e[u]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,u=Object.getOwnPropertySymbols(e);l<u.length;l++)r.indexOf(u[l])<0&&Object.prototype.propertyIsEnumerable.call(e,u[l])&&(o[u[l]]=e[u[l]]);return o}function Po(e,r,o){if(o||arguments.length===2)for(var u=0,l=r.length,c;u<l;u++)(c||!(u in r))&&(c||(c=Array.prototype.slice.call(r,0,u)),c[u]=r[u]);return e.concat(c||Array.prototype.slice.call(r))}var eu=function(e){var r=!1,o;return function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return r||(r=!0,o=e.apply(null,u)),o}},Fu=function(e,r,o,u){var l=e.isiOS()&&/ipad/i.test(o)===!0,c=e.isiOS()&&!l,b=e.isiOS()||e.isAndroid(),S=b||u("(pointer:coarse)"),E=l||!c&&b&&u("(min-device-width:768px)"),rt=c||b&&!E,bt=r.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,Ct=!rt&&!E&&!bt;return{isiPad:At(l),isiPhone:At(c),isTablet:At(E),isPhone:At(rt),isTouch:At(S),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:At(bt),isDesktop:At(Ct)}},iu=function(e,r){for(var o=0;o<e.length;o++){var u=e[o];if(u.test(r))return u}},Su=function(e,r){var o=iu(e,r);if(!o)return{major:0,minor:0};var u=function(l){return Number(r.replace(o,"$"+l))};return Gt(u(1),u(2))},ju=function(e,r){var o=String(r).toLowerCase();return e.length===0?ks():Su(e,o)},ks=function(){return Gt(0,0)},Gt=function(e,r){return{major:e,minor:r}},Mn={nu:Gt,detect:ju,unknown:ks},on=function(e,r){return Nn(r.brands,function(o){var u=o.brand.toLowerCase();return Br(e,function(l){var c;return u===((c=l.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(function(l){return{current:l.name,version:Mn.nu(parseInt(o.version,10),0)}})})},Wn=function(e,r){var o=String(r).toLowerCase();return Br(e,function(u){return u.search(o)})},zr=function(e,r){return Wn(e,r).map(function(o){var u=Mn.detect(o.versionRegexes,r);return{current:o.name,version:u}})},oa=function(e,r){return Wn(e,r).map(function(o){var u=Mn.detect(o.versionRegexes,r);return{current:o.name,version:u}})},Xt=function(e,r){return e.substring(r)},dn=function(e,r,o){return r===""||e.length>=r.length&&e.substr(o,o+r.length)===r},Yn=function(e,r){return ht(e,r)?Xt(e,r.length):e},sr=function(e,r){return e.indexOf(r)!==-1},ht=function(e,r){return dn(e,r,0)},$t=function(e){return function(r){return r.replace(e,"")}},fn=$t(/^\s+|\s+$/g),Tn=$t(/^\s+/g),Hn=$t(/\s+$/g),Un=function(e){return e.length>0},Fr=function(e){return!Un(e)},ea=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Oa=function(e){return function(r){return sr(r,e)}},Ha=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return sr(e,"edge/")&&sr(e,"chrome")&&sr(e,"safari")&&sr(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ea],search:function(e){return sr(e,"chrome")&&!sr(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return sr(e,"msie")||sr(e,"trident")}},{name:"Opera",versionRegexes:[ea,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Oa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Oa("firefox")},{name:"Safari",versionRegexes:[ea,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(sr(e,"safari")||sr(e,"mobile/"))&&sr(e,"applewebkit")}}],za=[{name:"Windows",search:Oa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return sr(e,"iphone")||sr(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Oa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Oa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Oa("linux"),versionRegexes:[]},{name:"Solaris",search:Oa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Oa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Oa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Qa={browsers:At(Ha),oses:At(za)},Do="Edge",si="Chrome",du="IE",ls="Opera",Wu="Firefox",Ci="Safari",Zs=function(){return Ts({current:void 0,version:Mn.unknown()})},Ts=function(e){var r=e.current,o=e.version,u=function(l){return function(){return r===l}};return{current:r,version:o,isEdge:u(Do),isChrome:u(si),isIE:u(du),isOpera:u(ls),isFirefox:u(Wu),isSafari:u(Ci)}},go={unknown:Zs,nu:Ts,edge:At(Do),chrome:At(si),ie:At(du),opera:At(ls),firefox:At(Wu),safari:At(Ci)},Ki="Windows",el="iOS",As="Android",ml="Linux",Ll="OSX",Ju="Solaris",Zu="FreeBSD",Bl="ChromeOS",tl=function(){return pl({current:void 0,version:Mn.unknown()})},pl=function(e){var r=e.current,o=e.version,u=function(l){return function(){return r===l}};return{current:r,version:o,isWindows:u(Ki),isiOS:u(el),isAndroid:u(As),isOSX:u(Ll),isLinux:u(ml),isSolaris:u(Ju),isFreeBSD:u(Zu),isChromeOS:u(Bl)}},Rt={unknown:tl,nu:pl,windows:At(Ki),ios:At(el),android:At(As),linux:At(ml),osx:At(Ll),solaris:At(Ju),freebsd:At(Zu),chromeos:At(Bl)},xn=function(e,r,o){var u=Qa.browsers(),l=Qa.oses(),c=r.bind(function(E){return on(u,E)}).orThunk(function(){return zr(u,e)}).fold(go.unknown,go.nu),b=oa(l,e).fold(Rt.unknown,Rt.nu),S=Fu(b,c,e,o);return{browser:c,os:b,deviceType:S}},In={detect:xn},fr=function(e){return window.matchMedia(e).matches},Rr=eu(function(){return In.detect(navigator.userAgent,ot.from(navigator.userAgentData),fr)}),ba=function(){return Rr()},No=navigator.userAgent,jo=ba(),Xa=jo.browser,Go=jo.os,li=jo.deviceType,Bs=/WebKit/.test(No)&&!Xa.isEdge(),Sc="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,xc=No.indexOf("Windows Phone")!==-1,Na={opera:Xa.isOpera(),webkit:Bs,ie:Xa.isIE()||Xa.isEdge()?Xa.version.major:!1,gecko:Xa.isFirefox(),mac:Go.isOSX()||Go.isiOS(),iOS:li.isiPad()||li.isiPhone(),android:Go.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Xa.isIE()?document.documentMode||7:10,fileApi:Sc,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Xa.isIE(),desktop:li.isDesktop(),windowsPhone:xc,browser:{current:Xa.current,version:Xa.version,isChrome:Xa.isChrome,isEdge:Xa.isEdge,isFirefox:Xa.isFirefox,isIE:Xa.isIE,isOpera:Xa.isOpera,isSafari:Xa.isSafari},os:{current:Go.current,version:Go.version,isAndroid:Go.isAndroid,isChromeOS:Go.isChromeOS,isFreeBSD:Go.isFreeBSD,isiOS:Go.isiOS,isLinux:Go.isLinux,isOSX:Go.isOSX,isSolaris:Go.isSolaris,isWindows:Go.isWindows},deviceType:{isDesktop:li.isDesktop,isiPad:li.isiPad,isiPhone:li.isiPhone,isPhone:li.isPhone,isTablet:li.isTablet,isTouch:li.isTouch,isWebView:li.isWebView}},nl=/^\s*|\s*$/g,Ec=function(e){return e==null?"":(""+e).replace(nl,"")},_s=function(e,r){return r?r==="array"&&wo(e)?!0:typeof e===r:e!==void 0},kc=function(e,r,o){var u;for(e=e||[],r=r||",",typeof e=="string"&&(e=e.split(r)),o=o||{},u=e.length;u--;)o[e[u]]={};return o},ld=Ya,If=function(e,r,o){var u=this,l,c,b,S=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var E=e[3].match(/(^|\.)(\w+)$/i)[2],rt=u.createNS(e[3].replace(/\.\w+$/,""),o);if(!rt[E]){if(e[2]==="static"){rt[E]=r,this.onCreate&&this.onCreate(e[2],e[3],rt[E]);return}r[E]||(r[E]=function(){},S=1),rt[E]=r[E],u.extend(rt[E].prototype,r),e[5]&&(l=u.resolve(e[5]).prototype,c=e[5].match(/\.(\w+)$/i)[1],b=rt[E],S?rt[E]=function(){return l[c].apply(this,arguments)}:rt[E]=function(){return this.parent=l[c],b.apply(this,arguments)},rt[E].prototype[E]=rt[E],u.each(l,function(bt,Ct){rt[E].prototype[Ct]=l[Ct]}),u.each(r,function(bt,Ct){l[Ct]?rt[E].prototype[Ct]=function(){return this.parent=l[Ct],bt.apply(this,arguments)}:Ct!==E&&(rt[E].prototype[Ct]=bt)})),u.each(r.static,function(bt,Ct){rt[E][Ct]=bt})}},Ti=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];for(var u=0;u<r.length;u++){var l=r[u];for(var c in l)if(Ya(l,c)){var b=l[c];b!==void 0&&(e[c]=b)}}return e},tc=function(e,r,o,u){u=u||this,e&&(o&&(e=e[o]),ii(e,function(l,c){if(r.call(u,l,c,o)===!1)return!1;tc(l,r,o,u)}))},cd=function(e,r){var o,u;for(r=r||window,e=e.split("."),o=0;o<e.length;o++)u=e[o],r[u]||(r[u]={}),r=r[u];return r},es=function(e,r){var o,u;for(r=r||window,e=e.split("."),o=0,u=e.length;o<u&&(r=r[e[o]],!!r);o++);return r},xu=function(e,r){return!e||_s(e,"array")?e:ou(e.split(r||","),Ec)},Tc=function(e){var r=Na.cacheSuffix;return r&&(e+=(e.indexOf("?")===-1?"?":"&")+r),e},ar={trim:Ec,isArray:wo,is:_s,toArray:mi,makeMap:kc,each:ii,map:ou,grep:pi,inArray:wi,hasOwn:ld,extend:Ti,create:If,walk:tc,createNS:cd,resolve:es,explode:xu,_addCacheSuffix:Tc},nc=function(e,r){var o=r||document,u=o.createElement("div");if(u.innerHTML=e,!u.hasChildNodes()||u.childNodes.length>1)throw new Error("HTML must have a single root node");return hl(u.childNodes[0])},tu=function(e,r){var o=r||document,u=o.createElement(e);return hl(u)},Wc=function(e,r){var o=r||document,u=o.createTextNode(e);return hl(u)},hl=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},rc=function(e,r,o){return ot.from(e.dom.elementFromPoint(r,o)).map(hl)},ft={fromHtml:nc,fromTag:tu,fromText:Wc,fromDom:hl,fromPoint:rc},Ze=function(e,r){var o=[],u=function(c){return o.push(c),r(c)},l=r(e);do l=l.bind(u);while(l.isSome());return o},wt=function(e,r,o){return(e.compareDocumentPosition(r)&o)!==0},zt=function(e,r){return wt(e,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},gn=8,qn=9,_r=11,xa=1,Ua=3,Qr=function(e,r){var o=e.dom;if(o.nodeType!==xa)return!1;var u=o;if(u.matches!==void 0)return u.matches(r);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(r);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(r);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},wa=function(e){return e.nodeType!==xa&&e.nodeType!==qn&&e.nodeType!==_r||e.childElementCount===0},ao=function(e,r){var o=r===void 0?document:r.dom;return wa(o)?[]:ln(o.querySelectorAll(e),ft.fromDom)},bo=function(e,r){var o=r===void 0?document:r.dom;return wa(o)?ot.none():ot.from(o.querySelector(e)).map(ft.fromDom)},ja=function(e,r){return e.dom===r.dom},hi=function(e,r){var o=e.dom,u=r.dom;return o===u?!1:o.contains(u)},Za=function(e,r){return zt(e.dom,r.dom)},Zo=function(e,r){return ba().browser.isIE()?Za(e,r):hi(e,r)};typeof window!="undefined"||Function("return this;")();var Xo=function(e){var r=e.dom.nodeName;return r.toLowerCase()},qu=function(e){return e.dom.nodeType},vo=function(e){return function(r){return qu(r)===e}},Md=function(e){return qu(e)===gn||Xo(e)==="#comment"},Di=vo(xa),Yi=vo(Ua),Im=vo(qn),Eu=vo(_r),Lv=function(e){return function(r){return Di(r)&&Xo(r)===e}},Dd=function(e){return ft.fromDom(e.dom.ownerDocument)},Ja=function(e){return Im(e)?e:Dd(e)},ac=function(e){return ft.fromDom(Ja(e).dom.documentElement)},Ac=function(e){return ft.fromDom(Ja(e).dom.defaultView)},Vi=function(e){return ot.from(e.dom.parentNode).map(ft.fromDom)},Fm=function(e,r){for(var o=Tt(r)?r:cn,u=e.dom,l=[];u.parentNode!==null&&u.parentNode!==void 0;){var c=u.parentNode,b=ft.fromDom(c);if(l.push(b),o(b)===!0)break;u=c}return l},ku=function(e){var r=function(o){return Jt(o,function(u){return!ja(e,u)})};return Vi(e).map(cs).map(r).getOr([])},qc=function(e){return ot.from(e.dom.previousSibling).map(ft.fromDom)},Ff=function(e){return ot.from(e.dom.nextSibling).map(ft.fromDom)},ri=function(e){return hr(Ze(e,qc))},Kc=function(e){return Ze(e,Ff)},cs=function(e){return ln(e.dom.childNodes,ft.fromDom)},Yc=function(e,r){var o=e.dom.childNodes;return ot.from(o[r]).map(ft.fromDom)},uu=function(e){return Yc(e,0)},rl=function(e){return Yc(e,e.dom.childNodes.length-1)},Hm=function(e){return e.dom.childNodes.length},Gc=function(e){var r=e.dom.head;if(r==null)throw new Error("Head is not available yet");return ft.fromDom(r)},ci=function(e){return Eu(e)&&It(e.dom.host)},Hf=Tt(Element.prototype.attachShadow)&&Tt(Node.prototype.getRootNode),Xc=At(Hf),fs=Hf?function(e){return ft.fromDom(e.dom.getRootNode())}:Ja,Qc=function(e){return ci(e)?e:Gc(Ja(e))},Nd=function(e){var r=fs(e);return ci(r)?ot.some(r):ot.none()},zm=function(e){return ft.fromDom(e.dom.host)},ts=function(e){if(Xc()&&It(e.target)){var r=ft.fromDom(e.target);if(Di(r)&&_c(r)&&e.composed&&e.composedPath){var o=e.composedPath();if(o)return kr(o)}}return ot.from(e.target)},_c=function(e){return It(e.dom.shadowRoot)},gl=function(e,r){var o=Vi(e);o.each(function(u){u.dom.insertBefore(r.dom,e.dom)})},d=function(e,r){var o=Ff(e);o.fold(function(){var u=Vi(e);u.each(function(l){p(l,r)})},function(u){gl(u,r)})},v=function(e,r){var o=uu(e);o.fold(function(){p(e,r)},function(u){e.dom.insertBefore(r.dom,u.dom)})},p=function(e,r){e.dom.appendChild(r.dom)},k=function(e,r){gl(e,r),p(r,e)},N=function(e,r){Ft(r,function(o){gl(e,o)})},Ke=function(e,r){Ft(r,function(o){p(e,o)})},St=function(e){e.dom.textContent="",Ft(cs(e),function(r){Bt(r)})},Bt=function(e){var r=e.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},en=function(e){var r=cs(e);r.length>0&&N(e,r),Bt(e)},Vt=function(e){var r=Yi(e)?e.dom.parentNode:e.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return Nd(ft.fromDom(r)).fold(function(){return o.body.contains(r)},st(Vt,zm))},yn=function(e,r){var o=function(u,l){return yn(e+u,r+l)};return{left:e,top:r,translate:o}},ur=yn,da=function(e){var r=e.getBoundingClientRect();return ur(r.left,r.top)},ia=function(e,r){return e!==void 0?e:r!==void 0?r:0},na=function(e){var r=e.dom.ownerDocument,o=r.body,u=r.defaultView,l=r.documentElement;if(o===e.dom)return ur(o.offsetLeft,o.offsetTop);var c=ia(u==null?void 0:u.pageYOffset,l.scrollTop),b=ia(u==null?void 0:u.pageXOffset,l.scrollLeft),S=ia(l.clientTop,o.clientTop),E=ia(l.clientLeft,o.clientLeft);return Ta(e).translate(b-E,c-S)},Ta=function(e){var r=e.dom,o=r.ownerDocument,u=o.body;return u===r?ur(u.offsetLeft,u.offsetTop):Vt(e)?da(r):ur(0,0)},Ca=function(e){var r=e!==void 0?e.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,u=r.body.scrollTop||r.documentElement.scrollTop;return ur(o,u)},qr=function(e,r,o){var u=o!==void 0?o.dom:document,l=u.defaultView;l&&l.scrollTo(e,r)},uo=function(e,r){var o=ba().browser.isSafari();o&&Tt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(r)},Wa=function(e){var r=e===void 0?window:e;return ba().browser.isFirefox()?ot.none():ot.from(r.visualViewport)},yo=function(e,r,o,u){return{x:e,y:r,width:o,height:u,right:e+o,bottom:r+u}},gi=function(e){var r=e===void 0?window:e,o=r.document,u=Ca(ft.fromDom(o));return Wa(r).fold(function(){var l=r.document.documentElement,c=l.clientWidth,b=l.clientHeight;return yo(u.left,u.top,c,b)},function(l){return yo(Math.max(l.pageLeft,u.left),Math.max(l.pageTop,u.top),l.width,l.height)})},ai=function(e){return function(r){return!!r&&r.nodeType===e}},Ai=function(e){return!!e&&!Object.getPrototypeOf(e)},Da=ai(1),Ni=function(e){var r=e.map(function(o){return o.toLowerCase()});return function(o){if(o&&o.nodeName){var u=o.nodeName.toLowerCase();return Zt(r,u)}return!1}},Ku=function(e,r){var o=r.toLowerCase().split(" ");return function(u){if(Da(u))for(var l=0;l<o.length;l++){var c=u.ownerDocument.defaultView.getComputedStyle(u,null),b=c?c.getPropertyValue(e):null;if(b===o[l])return!0}return!1}},Ro=function(e){return function(r){return Da(r)&&r.hasAttribute(e)}},vu=function(e,r){return function(o){return Da(o)&&o.getAttribute(e)===r}},Pl=function(e){return Da(e)&&e.hasAttribute("data-mce-bogus")},fi=function(e){return Da(e)&&e.getAttribute("data-mce-bogus")==="all"},nu=function(e){return Da(e)&&e.tagName==="TABLE"},Ps=function(e){return function(r){return!!(Da(r)&&(r.contentEditable===e||r.getAttribute("data-mce-contenteditable")===e))}},mu=Ni(["textarea","input"]),Gr=ai(3),Oc=ai(8),zf=ai(9),Ga=ai(11),Qo=Ni(["br"]),Il=Ni(["img"]),ds=Ps("true"),Si=Ps("false"),Pa=Ni(["td","th"]),Co=Ni(["video","audio","object","embed"]),al=function(e,r,o){return o===void 0&&(o=wn),e.exists(function(u){return o(u,r)})},oc=function(e){for(var r=[],o=function(l){r.push(l)},u=0;u<e.length;u++)e[u].each(o);return r},pu=function(e,r,o){return e.isSome()&&r.isSome()?ot.some(o(e.getOrDie(),r.getOrDie())):ot.none()},Fl=function(e,r,o,u){return e.isSome()&&r.isSome()&&o.isSome()?ot.some(u(e.getOrDie(),r.getOrDie(),o.getOrDie())):ot.none()},$m=function(e,r){return e?ot.some(r):ot.none()},xi=function(e){return e.style!==void 0&&Tt(e.style.getPropertyValue)},Rd=function(e,r,o){if(Ye(o)||lt(o)||mt(o))e.setAttribute(r,o+"");else throw new Error("Attribute value was not simple")},tt=function(e,r,o){Rd(e.dom,r,o)},gt=function(e,r){var o=e.dom;Mr(r,function(u,l){Rd(o,l,u)})},Dt=function(e,r){var o=e.dom.getAttribute(r);return o===null?void 0:o},rn=function(e,r){return ot.from(Dt(e,r))},Bn=function(e,r){var o=e.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},or=function(e,r){e.dom.removeAttribute(r)},Aa=function(e){return rr(e.dom.attributes,function(r,o){return r[o.name]=o.value,r},{})},oo=function(e,r,o){if(!Ye(o))throw new Error("CSS value must be a string: "+o);xi(e)&&e.style.setProperty(r,o)},Fo=function(e,r){var o=e.dom;Mr(r,function(u,l){oo(o,l,u)})},Ao=function(e,r){var o=e.dom,u=window.getComputedStyle(o),l=u.getPropertyValue(r);return l===""&&!Vt(e)?Ri(o,r):l},Ri=function(e,r){return xi(e)?e.style.getPropertyValue(r):""},Os=function(e,r){var o=e.dom,u=Ri(o,r);return ot.from(u).filter(function(l){return l.length>0})},cb=function(e){var r={},o=e.dom;if(xi(o))for(var u=0;u<o.style.length;u++){var l=o.style.item(u);r[l]=o.style[l]}return r},YN=function(e){return e.dom.offsetWidth},u2=ba().browser,s2=function(e){return Br(e,Di)},GN=function(e){return u2.isFirefox()&&Xo(e)==="table"?s2(cs(e)).filter(function(r){return Xo(r)==="caption"}).bind(function(r){return s2(Kc(r)).map(function(o){var u=o.dom.offsetTop,l=r.dom.offsetTop,c=r.dom.offsetHeight;return u<=l?-c:0})}).getOr(0):0},I0=function(e,r){return e.children&&Zt(e.children,r)},F0=function(e,r,o){var u=0,l=0,c=e.ownerDocument;if(o=o||e,r){if(o===e&&r.getBoundingClientRect&&Ao(ft.fromDom(e),"position")==="static"){var b=r.getBoundingClientRect();return u=b.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,l=b.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:u,y:l}}for(var S=r;S&&S!==o&&S.nodeType&&!I0(S,o);){var E=S;u+=E.offsetLeft||0,l+=E.offsetTop||0,S=E.offsetParent}for(S=r.parentNode;S&&S!==o&&S.nodeType&&!I0(S,o);)u-=S.scrollLeft||0,l-=S.scrollTop||0,S=S.parentNode;l+=GN(ft.fromDom(r))}return{x:u,y:l}},l2={},Vm={exports:l2};(function(e,r,o,u){(function(l,c){typeof r=="object"&&typeof o!="undefined"?o.exports=c():(l=typeof globalThis!="undefined"?globalThis:l||self,l.EphoxContactWrapper=c())})(this,function(){var l=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:{},c={exports:{}};(function(rt){(function(bt){var Ct=setTimeout;function kt(){}function Ut(Cn,$n){return function(){Cn.apply($n,arguments)}}function Kt(Cn){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Cn!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ln(Cn,this)}function Yt(Cn,$n){for(;Cn._state===3;)Cn=Cn._value;if(Cn._state===0){Cn._deferreds.push($n);return}Cn._handled=!0,Kt._immediateFn(function(){var vr=Cn._state===1?$n.onFulfilled:$n.onRejected;if(vr===null){(Cn._state===1?Qt:pn)($n.promise,Cn._value);return}var Dr;try{Dr=vr(Cn._value)}catch(Fa){pn($n.promise,Fa);return}Qt($n.promise,Dr)})}function Qt(Cn,$n){try{if($n===Cn)throw new TypeError("A promise cannot be resolved with itself.");if($n&&(typeof $n=="object"||typeof $n=="function")){var vr=$n.then;if($n instanceof Kt){Cn._state=3,Cn._value=$n,sn(Cn);return}else if(typeof vr=="function"){Ln(Ut(vr,$n),Cn);return}}Cn._state=1,Cn._value=$n,sn(Cn)}catch(Dr){pn(Cn,Dr)}}function pn(Cn,$n){Cn._state=2,Cn._value=$n,sn(Cn)}function sn(Cn){Cn._state===2&&Cn._deferreds.length===0&&Kt._immediateFn(function(){Cn._handled||Kt._unhandledRejectionFn(Cn._value)});for(var $n=0,vr=Cn._deferreds.length;$n<vr;$n++)Yt(Cn,Cn._deferreds[$n]);Cn._deferreds=null}function Fn(Cn,$n,vr){this.onFulfilled=typeof Cn=="function"?Cn:null,this.onRejected=typeof $n=="function"?$n:null,this.promise=vr}function Ln(Cn,$n){var vr=!1;try{Cn(function(Dr){vr||(vr=!0,Qt($n,Dr))},function(Dr){vr||(vr=!0,pn($n,Dr))})}catch(Dr){if(vr)return;vr=!0,pn($n,Dr)}}Kt.prototype.catch=function(Cn){return this.then(null,Cn)},Kt.prototype.then=function(Cn,$n){var vr=new this.constructor(kt);return Yt(this,new Fn(Cn,$n,vr)),vr},Kt.all=function(Cn){var $n=Array.prototype.slice.call(Cn);return new Kt(function(vr,Dr){if($n.length===0)return vr([]);var Fa=$n.length;function ra(Ea,Lr){try{if(Lr&&(typeof Lr=="object"||typeof Lr=="function")){var ta=Lr.then;if(typeof ta=="function"){ta.call(Lr,function(Pr){ra(Ea,Pr)},Dr);return}}$n[Ea]=Lr,--Fa===0&&vr($n)}catch(Pr){Dr(Pr)}}for(var pr=0;pr<$n.length;pr++)ra(pr,$n[pr])})},Kt.resolve=function(Cn){return Cn&&typeof Cn=="object"&&Cn.constructor===Kt?Cn:new Kt(function($n){$n(Cn)})},Kt.reject=function(Cn){return new Kt(function($n,vr){vr(Cn)})},Kt.race=function(Cn){return new Kt(function($n,vr){for(var Dr=0,Fa=Cn.length;Dr<Fa;Dr++)Cn[Dr].then($n,vr)})},Kt._immediateFn=typeof setImmediate=="function"?function(Cn){setImmediate(Cn)}:function(Cn){Ct(Cn,0)},Kt._unhandledRejectionFn=function($n){},Kt._setImmediateFn=function($n){Kt._immediateFn=$n},Kt._setUnhandledRejectionFn=function($n){Kt._unhandledRejectionFn=$n},rt.exports?rt.exports=Kt:bt.Promise||(bt.Promise=Kt)})(l)})(c);var b=c.exports,S=function(){return typeof window!="undefined"?window:Function("return this;")()}(),E={boltExport:S.Promise||b};return E})})(void 0,l2,Vm);var H0=Vm.exports.boltExport,z0=function(e){var r=ot.none(),o=[],u=function(rt){return z0(function(bt){l(function(Ct){bt(rt(Ct))})})},l=function(rt){b()?E(rt):o.push(rt)},c=function(rt){b()||(r=ot.some(rt),S(o),o=[])},b=function(){return r.isSome()},S=function(rt){Ft(rt,E)},E=function(rt){r.each(function(bt){setTimeout(function(){rt(bt)},0)})};return e(c),{get:l,map:u,isReady:b}},XN=function(e){return z0(function(r){r(e)})},QN={nu:z0,pure:XN},JN=function(e){setTimeout(function(){throw e},0)},Jc=function(e){var r=function(E){e().then(E,JN)},o=function(E){return Jc(function(){return e().then(E)})},u=function(E){return Jc(function(){return e().then(function(rt){return E(rt).toPromise()})})},l=function(E){return Jc(function(){return e().then(function(){return E.toPromise()})})},c=function(){return QN.nu(r)},b=function(){var E=null;return Jc(function(){return E===null&&(E=e()),E})},S=e;return{map:o,bind:u,anonBind:l,toLazy:c,toCached:b,toPromise:S,get:r}},c2=function(e){return Jc(function(){return new H0(e)})},ZN=function(e){return Jc(function(){return H0.resolve(e)})},$0={nu:c2,pure:ZN},eR=function(e,r){return r(function(o){var u=[],l=0,c=function(b){return function(S){u[b]=S,l++,l>=e.length&&o(u)}};e.length===0?o([]):Ft(e,function(b,S){b.get(c(S))})})},tR=function(e){return eR(e,$0.nu)},Um=function(e){var r=function(Ct){return Um(e)},o=function(Ct){return Um(e)},u=function(Ct){return Um(Ct(e))},l=function(Ct){return Um(e)},c=function(Ct){Ct(e)},b=function(Ct){return Ct(e)},S=function(Ct,kt){return kt(e)},E=function(Ct){return Ct(e)},rt=function(Ct){return Ct(e)},bt=function(){return ot.some(e)};return{isValue:yt,isError:cn,getOr:At(e),getOrThunk:At(e),getOrDie:At(e),or:r,orThunk:o,fold:S,map:u,mapError:l,each:c,bind:b,exists:E,forall:rt,toOptional:bt}},Ah=function(e){var r=function(rt){return rt()},o=function(){return lr(String(e))()},u=nn,l=function(rt){return rt()},c=function(rt){return Ah(e)},b=function(rt){return Ah(rt(e))},S=function(rt){return Ah(e)},E=function(rt,bt){return rt(e)};return{isValue:cn,isError:yt,getOr:nn,getOrThunk:r,getOrDie:o,or:u,orThunk:l,fold:E,map:c,mapError:b,each:vt,bind:S,exists:cn,forall:yt,toOptional:ot.none}},f2=function(e,r){return e.fold(function(){return Ah(r)},Um)},d2={value:Um,error:Ah,fromOption:f2},Hl=function(e){if(!ct(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var r=[],o={};return Ft(e,function(u,l){var c=ir(u);if(c.length!==1)throw new Error("one and only one name per case");var b=c[0],S=u[b];if(o[b]!==void 0)throw new Error("duplicate key detected:"+b);if(b==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ct(S))throw new Error("case arguments must be an array");r.push(b),o[b]=function(){for(var E=[],rt=0;rt<arguments.length;rt++)E[rt]=arguments[rt];var bt=E.length;if(bt!==S.length)throw new Error("Wrong number of arguments to case "+b+". Expected "+S.length+" ("+S+"), got "+bt);var Ct=function(kt){var Ut=ir(kt);if(r.length!==Ut.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+Ut.join(","));var Kt=Eo(r,function(Yt){return Zt(Ut,Yt)});if(!Kt)throw new Error("Not all branches were specified when using match. Specified: "+Ut.join(", ")+`
Required: `+r.join(", "));return kt[b].apply(null,E)};return{fold:function(){for(var kt=[],Ut=0;Ut<arguments.length;Ut++)kt[Ut]=arguments[Ut];if(kt.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+kt.length);var Kt=kt[l];return Kt.apply(null,E)},match:Ct,log:function(kt){}}}}),o},Ra={generate:Hl};Ra.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var fd=function(e){return e.fold(nn,nn)};function V0(e,r,o,u,l){return e(o,u)?ot.some(o):Tt(l)&&l(o)?ot.none():r(o,u,l)}var _h=function(e,r,o){for(var u=e.dom,l=Tt(o)?o:cn;u.parentNode;){u=u.parentNode;var c=ft.fromDom(u);if(r(c))return ot.some(c);if(l(c))break}return ot.none()},fb=function(e,r,o){var u=function(l,c){return c(l)};return V0(u,_h,e,r,o)},U0=function(e,r){var o=e.dom;return o.parentNode?Zc(ft.fromDom(o.parentNode),function(u){return!ja(e,u)&&r(u)}):ot.none()},Zc=function(e,r){var o=function(l){return r(ft.fromDom(l))},u=Br(e.dom.childNodes,o);return u.map(ft.fromDom)},Bv=function(e,r,o){return _h(e,function(u){return Qr(u,r)},o)},jm=function(e,r){return bo(r,e)},su=function(e,r,o){var u=function(l,c){return Qr(l,c)};return V0(u,Bv,e,r,o)},Yu=window.Promise?window.Promise:H0,Oh,v2=function(e,r){for(var o=window.requestAnimationFrame,u=["ms","moz","webkit"],l=function(b){window.setTimeout(b,0)},c=0;c<u.length&&!o;c++)o=window[u[c]+"RequestAnimationFrame"];o||(o=l),o(e,r)},j0=function(e,r){return typeof r!="number"&&(r=0),setTimeout(e,r)},m2=function(e,r){return typeof r!="number"&&(r=1),setInterval(e,r)},db=function(e){return clearTimeout(e)},nR=function(e){return clearInterval(e)},Wm=function(e,r){var o,u=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];clearTimeout(o),o=j0(function(){e.apply(this,l)},r)};return u.stop=function(){clearTimeout(o)},u},vs={requestAnimationFrame:function(e,r){if(Oh){Oh.then(e);return}Oh=new Yu(function(o){r||(r=document.body),v2(o,r)}).then(e)},setTimeout:j0,setInterval:m2,setEditorTimeout:function(e,r,o){return j0(function(){e.removed||r()},o)},setEditorInterval:function(e,r,o){var u=m2(function(){e.removed?clearInterval(u):r()},o);return u},debounce:Wm,throttle:Wm,clearInterval:nR,clearTimeout:db},p2=function(e,r){r===void 0&&(r={});var o=0,u={},l=ft.fromDom(e),c=Ja(l),b=r.maxLoadTime||5e3,S=function(Qt){r.referrerPolicy=Qt},E=function(Qt){p(Qc(l),Qt)},rt=function(Qt){var pn=Qc(l);jm(pn,"#"+Qt).each(Bt)},bt=function(Qt){return Ka(u,Qt).getOrThunk(function(){return{id:"mce-u"+o++,passed:[],failed:[],count:0}})},Ct=function(Qt,pn,sn){var Fn,Ln=ar._addCacheSuffix(Qt),Cn=bt(Ln);u[Ln]=Cn,Cn.count++;var $n=function(Lr,ta){for(var Pr=Lr.length;Pr--;)Lr[Pr]();Cn.status=ta,Cn.passed=[],Cn.failed=[],Fn&&(Fn.onload=null,Fn.onerror=null,Fn=null)},vr=function(){return $n(Cn.passed,2)},Dr=function(){return $n(Cn.failed,3)},Fa=function(Lr,ta){Lr()||(Date.now()-Ea<b?vs.setTimeout(ta):Dr())},ra=function(){Fa(function(){for(var Lr=e.styleSheets,ta=Lr.length;ta--;){var Pr=Lr[ta],Kr=Pr.ownerNode;if(Kr&&Kr.id===Fn.id)return vr(),!0}return!1},ra)};if(pn&&Cn.passed.push(pn),sn&&Cn.failed.push(sn),Cn.status!==1){if(Cn.status===2){vr();return}if(Cn.status===3){Dr();return}Cn.status=1;var pr=ft.fromTag("link",c.dom);gt(pr,{rel:"stylesheet",type:"text/css",id:Cn.id});var Ea=Date.now();r.contentCssCors&&tt(pr,"crossOrigin","anonymous"),r.referrerPolicy&&tt(pr,"referrerpolicy",r.referrerPolicy),Fn=pr.dom,Fn.onload=ra,Fn.onerror=Dr,E(pr),tt(pr,"href",Ln)}},kt=function(Qt){return $0.nu(function(pn){Ct(Qt,Et(pn,At(d2.value(Qt))),Et(pn,At(d2.error(Qt))))})},Ut=function(Qt,pn,sn){tR(ln(Qt,kt)).get(function(Fn){var Ln=Kn(Fn,function(Cn){return Cn.isValue()});Ln.fail.length>0?sn(Ln.fail.map(fd)):pn(Ln.pass.map(fd))})},Kt=function(Qt){var pn=ar._addCacheSuffix(Qt);Ka(u,pn).each(function(sn){var Fn=--sn.count;Fn===0&&(delete u[pn],rt(sn.id))})},Yt=function(Qt){Ft(Qt,function(pn){Kt(pn)})};return{load:Ct,loadAll:Ut,unload:Kt,unloadAll:Yt,_setReferrerPolicy:S}},Ui=function(){var e=new WeakMap,r=function(o,u){var l=fs(o),c=l.dom;return ot.from(e.get(c)).getOrThunk(function(){var b=p2(c,u);return e.set(c,b),b})};return{forElement:r}},ef=Ui(),bi=function(){function e(r,o){this.node=r,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(r){return this.node=this.findSibling(this.node,"firstChild","nextSibling",r),this.node},e.prototype.prev=function(r){return this.node=this.findSibling(this.node,"lastChild","previousSibling",r),this.node},e.prototype.prev2=function(r){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",r),this.node},e.prototype.findSibling=function(r,o,u,l){var c,b;if(r){if(!l&&r[o])return r[o];if(r!==this.rootNode){if(c=r[u],c)return c;for(b=r.parentNode;b&&b!==this.rootNode;b=b.parentNode)if(c=b[u],c)return c}}},e.prototype.findPreviousNode=function(r,o,u,l){var c,b,S;if(r){if(c=r[u],this.rootNode&&c===this.rootNode)return;if(c){if(!l){for(S=c[o];S;S=S[o])if(!S[o])return S}return c}if(b=r.parentNode,b&&b!==this.rootNode)return b}},e}(),qm=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],ic=["td","th"],rR=["thead","tbody","tfoot"],Hu=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ol=["h1","h2","h3","h4","h5","h6"],h2=["li","dd","dt"],Sr=["ul","ol","dl"],bl=["pre","script","textarea","style"],Ld=function(e){var r;return function(o){return r=r||mr(e,yt),Ya(r,Xo(o))}},eo=Ld(ol),uc=Ld(qm),aR=function(e){return Xo(e)==="table"},Ms=function(e){return Di(e)&&!uc(e)},Km=function(e){return Di(e)&&Xo(e)==="br"},dd=Ld(Hu),vb=Ld(Sr),Is=Ld(h2),ei=Ld(rR),tf=Ld(ic),Mh=Ld(bl),_i=function(e,r,o){return Bv(e,r,o).isSome()},Pv="\uFEFF",yl=" ",zl=function(e){return e===Pv},oR=function(e){return e.replace(/\uFEFF/g,"")},Dn=Pv,wl=zl,Cl=oR,Ym=Da,sc=Gr,ji=function(e){return sc(e)&&(e=e.parentNode),Ym(e)&&e.hasAttribute("data-mce-caret")},Ei=function(e){return sc(e)&&wl(e.data)},lc=function(e){return ji(e)||Ei(e)},Dh=function(e){return e.firstChild!==e.lastChild||!Qo(e.firstChild)},W0=function(e,r){var o=e.ownerDocument,u=o.createTextNode(Dn),l=e.parentNode;if(r){var c=e.previousSibling;if(sc(c)){if(lc(c))return c;if(pb(c))return c.splitText(c.data.length-1)}l.insertBefore(u,e)}else{var c=e.nextSibling;if(sc(c)){if(lc(c))return c;if(mb(c))return c.splitText(1),c}e.nextSibling?l.insertBefore(u,e.nextSibling):l.appendChild(u)}return u},$a=function(e){var r=e.container();return Gr(r)?r.data.charAt(e.offset())===Dn||e.isAtStart()&&Ei(r.previousSibling):!1},q0=function(e){var r=e.container();return Gr(r)?r.data.charAt(e.offset()-1)===Dn||e.isAtEnd()&&Ei(r.nextSibling):!1},cc=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},iR=function(e,r,o){var u=r.ownerDocument,l=u.createElement(e);l.setAttribute("data-mce-caret",o?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(cc());var c=r.parentNode;return o?c.insertBefore(l,r):r.nextSibling?c.insertBefore(l,r.nextSibling):c.appendChild(l),l},mb=function(e){return sc(e)&&e.data[0]===Dn},pb=function(e){return sc(e)&&e.data[e.data.length-1]===Dn},uR=function(e){var r=e.getElementsByTagName("br"),o=r[r.length-1];Pl(o)&&o.parentNode.removeChild(o)},K0=function(e){return e&&e.hasAttribute("data-mce-caret")?(uR(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},$f=function(e){return ji(e.startContainer)},Iv=ds,sR=Si,lR=Qo,cR=Gr,g2=Ni(["script","style","textarea"]),Y0=Ni(["img","input","textarea","hr","iframe","video","audio","object","embed"]),G0=Ni(["table"]),b2=lc,Vf=function(e){return b2(e)?!1:cR(e)?!g2(e.parentNode):Y0(e)||lR(e)||G0(e)||X0(e)},Gm=function(e){return Da(e)&&e.getAttribute("unselectable")==="true"},X0=function(e){return Gm(e)===!1&&sR(e)},fR=function(e,r){for(e=e.parentNode;e&&e!==r;e=e.parentNode){if(X0(e))return!1;if(Iv(e))return!0}return!0},dR=function(e){return X0(e)?rr(Cr(e.getElementsByTagName("*")),function(r,o){return r||Iv(o)},!1)!==!0:!1},vR=function(e){return Y0(e)||dR(e)},Tu=function(e,r){return Vf(e)&&fR(e,r)},vd=/^[ \t\r\n]*$/,nf=function(e){return vd.test(e)},Nh=function(e,r){var o=ft.fromDom(r),u=ft.fromDom(e);return _i(u,"pre,code",Ht(ja,o))},y2=function(e,r){return Gr(e)&&nf(e.data)&&Nh(e,r)===!1},Mc=function(e){return Da(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Fv=function(e,r){return Vf(e)&&y2(e,r)===!1||Mc(e)||Q0(e)},Q0=Ro("data-mce-bookmark"),J0=Ro("data-mce-bogus"),Bd=vu("data-mce-bogus","all"),Pd=function(e,r){var o=0;if(Fv(e,e))return!1;var u=e.firstChild;if(!u)return!0;var l=new bi(u,e);do{if(r){if(Bd(u)){u=l.next(!0);continue}if(J0(u)){u=l.next();continue}}if(Qo(u)){o++,u=l.next();continue}if(Fv(u,e))return!1;u=l.next()}while(u);return o<=1},ns=function(e,r){return r===void 0&&(r=!0),Pd(e.dom,r)},hb=function(e){return e.nodeName.toLowerCase()==="span"},w2=function(e,r){return It(e)&&(Fv(e,r)||Ms(ft.fromDom(e)))},Xm=function(e,r){var o=new bi(e,r).prev(!1),u=new bi(e,r).next(!1),l=Ue(o)||w2(o,r),c=Ue(u)||w2(u,r);return l&&c},Qm=function(e){return hb(e)&&e.getAttribute("data-mce-type")==="bookmark"},Rh=function(e,r){return Gr(e)&&e.data.length>0&&Xm(e,r)},mR=function(e){return Da(e)?e.childNodes.length>0:!1},Lh=function(e){return Ga(e)||zf(e)},Z0=function(e,r,o){var u=o||r;if(Da(r)&&Qm(r))return r;for(var l=r.childNodes,c=l.length-1;c>=0;c--)Z0(e,l[c],u);if(Da(r)){var b=r.childNodes;b.length===1&&Qm(b[0])&&r.parentNode.insertBefore(b[0],r)}return!Lh(r)&&!Fv(r,u)&&!mR(r)&&!Rh(r,u)&&e.remove(r),r},pR=ar.makeMap,Wi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jm=/[<>&\"\']/g,ew=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,tw={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},fc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},$l={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Bh=function(e){var r=ft.fromTag("div").dom;return r.innerHTML=e,r.textContent||r.innerText||e},Zm=function(e,r){var o,u,l,c={};if(e){for(e=e.split(","),r=r||10,o=0;o<e.length;o+=2)u=String.fromCharCode(parseInt(e[o],r)),fc[u]||(l="&"+e[o+1]+";",c[u]=l,c[l]=u);return c}},nw=Zm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ph=function(e,r){return e.replace(r?Wi:gb,function(o){return fc[o]||o})},rw=function(e){return(""+e).replace(Jm,function(r){return fc[r]||r})},Ih=function(e,r){return e.replace(r?Wi:gb,function(o){return o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":fc[o]||"&#"+o.charCodeAt(0)+";"})},aw=function(e,r,o){return o=o||nw,e.replace(r?Wi:gb,function(u){return fc[u]||o[u]||u})},hR=function(e,r){var o=Zm(r)||nw,u=function(b,S){return b.replace(S?Wi:gb,function(E){return fc[E]!==void 0?fc[E]:o[E]!==void 0?o[E]:E.length>1?"&#"+((E.charCodeAt(0)-55296)*1024+(E.charCodeAt(1)-56320)+65536)+";":"&#"+E.charCodeAt(0)+";"})},l=function(b,S){return aw(b,S,o)},c=pR(e.replace(/\+/g,","));return c.named&&c.numeric?u:c.named?r?l:aw:c.numeric?Ih:Ph},ow=function(e){return e.replace(ew,function(r,o){return o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):tw[o]||String.fromCharCode(o)):$l[r]||nw[r]||Bh(r)})},rf={encodeRaw:Ph,encodeAllRaw:rw,encodeNumeric:Ih,encodeNamed:aw,getEncodeFunc:hR,decode:ow},Vl={},Fh={},af=ar.makeMap,ms=ar.each,bb=ar.extend,yb=ar.explode,C2=ar.inArray,rs=function(e,r){return e=ar.trim(e),e?e.split(r||" "):[]},iw=function(e,r){var o=af(e," ",af(e.toUpperCase()," "));return bb(o,r)},wb=function(e){return iw("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},$o=function(e){var r={},o,u,l,c,b,S,E=function(bt,Ct,kt){var Ut,Kt,Yt,Qt=function(sn,Fn){var Ln={},Cn,$n;for(Cn=0,$n=sn.length;Cn<$n;Cn++)Ln[sn[Cn]]=Fn||{};return Ln};kt=kt||[],Ct=Ct||"",typeof kt=="string"&&(kt=rs(kt));var pn=rs(bt);for(Ut=pn.length;Ut--;)Kt=rs([o,Ct].join(" ")),Yt={attributes:Qt(Kt),attributesOrder:Kt,children:Qt(kt,Fh)},r[pn[Ut]]=Yt},rt=function(bt,Ct){var kt,Ut,Kt,Yt,Qt=rs(bt);kt=Qt.length;for(var pn=rs(Ct);kt--;)for(Ut=r[Qt[kt]],Kt=0,Yt=pn.length;Kt<Yt;Kt++)Ut.attributes[pn[Kt]]={},Ut.attributesOrder.push(pn[Kt])};return Vl[e]?Vl[e]:(o="id accesskey class dir lang style tabindex title role",u="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",u+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(o+=" xml:lang",S="acronym applet basefont big font strike tt",l=[l,S].join(" "),ms(rs(S),function(bt){E(bt,"",l)}),b="center dir isindex noframes",u=[u,b].join(" "),c=[u,l].join(" "),ms(rs(b),function(bt){E(bt,"",c)})),c=c||[u,l].join(" "),E("html","manifest","head body"),E("head","","base command link meta noscript script style title"),E("title hr noscript br"),E("base","href target"),E("link","href rel media hreflang type sizes hreflang"),E("meta","name http-equiv content charset"),E("style","media type scoped"),E("script","src async defer type charset"),E("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),E("address dt dd div caption","",c),E("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),E("blockquote","cite",c),E("ol","reversed start type","li"),E("ul","","li"),E("li","value",c),E("dl","","dt dd"),E("a","href target rel media hreflang type",l),E("q","cite",l),E("ins del","cite datetime",c),E("img","src sizes srcset alt usemap ismap width height"),E("iframe","src name width height",c),E("embed","src type width height"),E("object","data type typemustmatch name usemap form width height",[c,"param"].join(" ")),E("param","name value"),E("map","name",[c,"area"].join(" ")),E("area","alt coords shape href target rel media hreflang type"),E("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),E("colgroup","span","col"),E("col","span"),E("tbody thead tfoot","","tr"),E("tr","","td th"),E("td","colspan rowspan headers",c),E("th","colspan rowspan headers scope abbr",c),E("form","accept-charset action autocomplete enctype method name novalidate target",c),E("fieldset","disabled form name",[c,"legend"].join(" ")),E("label","form for",l),E("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),E("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?c:l),E("select","disabled form multiple name required size","option optgroup"),E("optgroup","disabled label","option"),E("option","disabled label selected value"),E("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),E("menu","type label",[c,"li"].join(" ")),E("noscript","",c),e!=="html4"&&(E("wbr"),E("ruby","",[l,"rt rp"].join(" ")),E("figcaption","",c),E("mark rt rp summary bdi","",l),E("canvas","width height",c),E("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[c,"track source"].join(" ")),E("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[c,"track source"].join(" ")),E("picture","","img source"),E("source","src srcset type media sizes"),E("track","kind src srclang label default"),E("datalist","",[l,"option"].join(" ")),E("article section nav aside main header footer","",c),E("hgroup","","h1 h2 h3 h4 h5 h6"),E("figure","",[c,"figcaption"].join(" ")),E("time","datetime",l),E("dialog","open",c),E("command","type label icon disabled checked radiogroup command"),E("output","for form name",l),E("progress","value max",l),E("meter","value min max low high optimum",l),E("details","open",[c,"summary"].join(" ")),E("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(rt("script","language xml:space"),rt("style","xml:space"),rt("object","declare classid code codebase codetype archive standby align border hspace vspace"),rt("embed","align name hspace vspace"),rt("param","valuetype type"),rt("a","charset name rev shape coords"),rt("br","clear"),rt("applet","codebase archive code object alt name width height align hspace vspace"),rt("img","name longdesc align border hspace vspace"),rt("iframe","longdesc frameborder marginwidth marginheight scrolling align"),rt("font basefont","size color face"),rt("input","usemap align"),rt("select"),rt("textarea"),rt("h1 h2 h3 h4 h5 h6 div p legend caption","align"),rt("ul","type compact"),rt("li","type"),rt("ol dl menu dir","compact"),rt("pre","width xml:space"),rt("hr","align noshade size width"),rt("isindex","prompt"),rt("table","summary width frame rules cellspacing cellpadding align bgcolor"),rt("col","width align char charoff valign"),rt("colgroup","width align char charoff valign"),rt("thead","align char charoff valign"),rt("tr","align char charoff valign bgcolor"),rt("th","axis align char charoff valign nowrap bgcolor width height"),rt("form","accept"),rt("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),rt("tfoot","align char charoff valign"),rt("tbody","align char charoff valign"),rt("area","nohref"),rt("body","background bgcolor text link vlink alink")),e!=="html4"&&(rt("input button select textarea","autofocus"),rt("input textarea","placeholder"),rt("a","download"),rt("link script img","crossorigin"),rt("img","loading"),rt("iframe","sandbox seamless allowfullscreen loading")),ms(rs("a form meter progress dfn"),function(bt){r[bt]&&delete r[bt].children[bt]}),delete r.caption.children.table,delete r.script,Vl[e]=r,r)},Ia=function(e,r){var o;return e&&(o={},typeof e=="string"&&(e={"*":e}),ms(e,function(u,l){o[l]=o[l.toUpperCase()]=r==="map"?af(u,/[, ]/):yb(u,/[, ]/)})),o},Ul=function(e){var r={},o={},u=[],l={},c={},b=function(Ar,Vr,ka){var Gn=e[Ar];return Gn?Gn=af(Gn,/[, ]/,af(Gn.toUpperCase(),/[, ]/)):(Gn=Vl[Ar],Gn||(Gn=iw(Vr,ka),Vl[Ar]=Gn)),Gn};e=e||{};var S=$o(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var E=Ia(e.valid_styles),rt=Ia(e.invalid_styles,"map"),bt=Ia(e.valid_classes,"map"),Ct=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),kt=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Ut=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Kt=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Yt="td th iframe video audio object script code",Qt=b("non_empty_elements",Yt+" pre",Ut),pn=b("move_caret_before_on_enter_elements",Yt+" table",Ut),sn=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Fn=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",sn),Ln=b("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");ms((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Ar){c[Ar]=new RegExp("</"+Ar+"[^>]*>","gi")});var Cn=function(Ar){return new RegExp("^"+Ar.replace(/([?+*])/g,".$1")+"$")},$n=function(Ar){var Vr,ka,Gn,Nr,Or,Ma,Ba,ui,Nu,wu,Ss,xs,Gs,Cu,Zl,Xs,id,Uo,Mi=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Ru=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Df=/[*?+]/;if(Ar){var Nf=rs(Ar,",");for(r["@"]&&(Xs=r["@"].attributes,id=r["@"].attributesOrder),Vr=0,ka=Nf.length;Vr<ka;Vr++)if(Or=Mi.exec(Nf[Vr]),Or){if(Cu=Or[1],Nu=Or[2],Zl=Or[3],ui=Or[5],xs={},Gs=[],Ma={attributes:xs,attributesOrder:Gs},Cu==="#"&&(Ma.paddEmpty=!0),Cu==="-"&&(Ma.removeEmpty=!0),Or[4]==="!"&&(Ma.removeEmptyAttrs=!0),Xs&&(Mr(Xs,function(Rf,Ov){xs[Ov]=Rf}),Gs.push.apply(Gs,id)),ui){for(ui=rs(ui,"|"),Gn=0,Nr=ui.length;Gn<Nr;Gn++)if(Or=Ru.exec(ui[Gn]),Or){if(Ba={},Ss=Or[1],wu=Or[2].replace(/[\\:]:/g,":"),Cu=Or[3],Uo=Or[4],Ss==="!"&&(Ma.attributesRequired=Ma.attributesRequired||[],Ma.attributesRequired.push(wu),Ba.required=!0),Ss==="-"){delete xs[wu],Gs.splice(C2(Gs,wu),1);continue}Cu&&(Cu==="="&&(Ma.attributesDefault=Ma.attributesDefault||[],Ma.attributesDefault.push({name:wu,value:Uo}),Ba.defaultValue=Uo),Cu===":"&&(Ma.attributesForced=Ma.attributesForced||[],Ma.attributesForced.push({name:wu,value:Uo}),Ba.forcedValue=Uo),Cu==="<"&&(Ba.validValues=af(Uo,"?"))),Df.test(wu)?(Ma.attributePatterns=Ma.attributePatterns||[],Ba.pattern=Cn(wu),Ma.attributePatterns.push(Ba)):(xs[wu]||Gs.push(wu),xs[wu]=Ba)}}!Xs&&Nu==="@"&&(Xs=xs,id=Gs),Zl&&(Ma.outputName=Nu,r[Zl]=Ma),Df.test(Nu)?(Ma.pattern=Cn(Nu),u.push(Ma)):r[Nu]=Ma}}},vr=function(Ar){r={},u=[],$n(Ar),ms(S,function(Vr,ka){o[ka]=Vr.children})},Dr=function(Ar){var Vr=/^(~)?(.+)$/;Ar&&(Vl.text_block_elements=Vl.block_elements=null,ms(rs(Ar,","),function(ka){var Gn=Vr.exec(ka),Nr=Gn[1]==="~",Or=Nr?"span":"div",Ma=Gn[2];if(o[Ma]=o[Or],l[Ma]=Or,Nr||(Fn[Ma.toUpperCase()]={},Fn[Ma]={}),!r[Ma]){var Ba=r[Or];Ba=bb({},Ba),delete Ba.removeEmptyAttrs,delete Ba.removeEmpty,r[Ma]=Ba}ms(o,function(ui,Nu){ui[Or]&&(o[Nu]=ui=bb({},o[Nu]),ui[Ma]=ui[Or])})}))},Fa=function(Ar){var Vr=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Vl[e.schema]=null,Ar&&ms(rs(Ar,","),function(ka){var Gn=Vr.exec(ka),Nr,Or;Gn&&(Or=Gn[1],Or?Nr=o[Gn[2]]:Nr=o[Gn[2]]={"#comment":{}},Nr=o[Gn[2]],ms(rs(Gn[3],"|"),function(Ma){Or==="-"?delete Nr[Ma]:Nr[Ma]={}}))})},ra=function(Ar){var Vr=r[Ar],ka;if(Vr)return Vr;for(ka=u.length;ka--;)if(Vr=u[ka],Vr.pattern.test(Ar))return Vr};e.valid_elements?vr(e.valid_elements):(ms(S,function(Ar,Vr){r[Vr]={attributes:Ar.attributes,attributesOrder:Ar.attributesOrder},o[Vr]=Ar.children}),e.schema!=="html5"&&ms(rs("strong/b em/i"),function(Ar){var Vr=rs(Ar,"/");r[Vr[1]].outputName=Vr[0]}),ms(Ln,function(Ar,Vr){r[Vr]&&(e.padd_empty_block_inline_children&&(r[Vr].paddInEmptyBlock=!0),r[Vr].removeEmpty=!0)}),ms(rs("ol ul blockquote a table tbody"),function(Ar){r[Ar]&&(r[Ar].removeEmpty=!0)}),ms(rs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Ar){r[Ar].paddEmpty=!0}),ms(rs("span"),function(Ar){r[Ar].removeEmptyAttrs=!0})),Dr(e.custom_elements),Fa(e.valid_children),$n(e.extended_valid_elements),Fa("+ol[ul|ol],+ul[ul|ol]"),ms({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Ar,Vr){r[Vr]&&(r[Vr].parentsRequired=rs(Ar))}),e.invalid_elements&&ms(yb(e.invalid_elements),function(Ar){r[Ar]&&delete r[Ar]}),ra("span")||$n("span[!data-mce-type|*]");var pr=At(E),Ea=At(rt),Lr=At(bt),ta=At(Kt),Pr=At(Fn),Kr=At(sn),va=At(Ln),Tr=At(Ut),ua=At(kt),So=At(Qt),Vo=At(pn),zo=At(Ct),Vu=At(c),Ii=function(Ar,Vr){var ka=o[Ar.toLowerCase()];return!!(ka&&ka[Vr.toLowerCase()])},Ns=function(Ar,Vr){var ka,Gn,Nr=ra(Ar);if(Nr)if(Vr){if(Nr.attributes[Vr])return!0;if(ka=Nr.attributePatterns,ka){for(Gn=ka.length;Gn--;)if(ka[Gn].pattern.test(Ar))return!0}}else return!0;return!1},Ml=At(l);return{children:o,elements:r,getValidStyles:pr,getValidClasses:Lr,getBlockElements:Pr,getInvalidStyles:Ea,getShortEndedElements:Tr,getTextBlockElements:Kr,getTextInlineElements:va,getBoolAttrs:ta,getElementRule:ra,getSelfClosingElements:ua,getNonEmptyElements:So,getMoveCaretBeforeOnEnterElements:Vo,getWhiteSpaceElements:zo,getSpecialElements:Vu,isValidChild:Ii,isValid:Ns,getCustomElements:Ml,addValidElements:$n,setValidElements:vr,addCustomElements:Dr,addValidChildren:Fa}},Cb=function(e,r,o,u){var l=function(c){return c=parseInt(c,10).toString(16),c.length>1?c:"0"+c};return"#"+l(r)+l(o)+l(u)},Hh=function(e,r){var o=this,u=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,b=/\s+$/,S,E={},rt,bt,Ct=Pv;e=e||{},r&&(rt=r.getValidStyles(),bt=r.getInvalidStyles());var kt=(`\\" \\' \\; \\: ; : `+Ct).split(" ");for(S=0;S<kt.length;S++)E[kt[S]]=Ct+S,E[Ct+S]=kt[S];return{toHex:function(Ut){return Ut.replace(u,Cb)},parse:function(Ut){var Kt={},Yt,Qt,pn,sn,Fn=e.url_converter,Ln=e.url_converter_scope||o,Cn=function(Lr,ta,Pr){var Kr=Kt[Lr+"-top"+ta];if(Kr){var va=Kt[Lr+"-right"+ta];if(va){var Tr=Kt[Lr+"-bottom"+ta];if(Tr){var ua=Kt[Lr+"-left"+ta];if(ua){var So=[Kr,va,Tr,ua];for(S=So.length-1;S--&&So[S]===So[S+1];);S>-1&&Pr||(Kt[Lr+ta]=S===-1?So[0]:So.join(" "),delete Kt[Lr+"-top"+ta],delete Kt[Lr+"-right"+ta],delete Kt[Lr+"-bottom"+ta],delete Kt[Lr+"-left"+ta])}}}}},$n=function(Lr){var ta=Kt[Lr],Pr;if(ta){for(ta=ta.split(" "),Pr=ta.length;Pr--;)if(ta[Pr]!==ta[0])return!1;return Kt[Lr]=ta[0],!0}},vr=function(Lr,ta,Pr,Kr){$n(ta)&&$n(Pr)&&$n(Kr)&&(Kt[Lr]=Kt[ta]+" "+Kt[Pr]+" "+Kt[Kr],delete Kt[ta],delete Kt[Pr],delete Kt[Kr])},Dr=function(Lr){return sn=!0,E[Lr]},Fa=function(Lr,ta){return sn&&(Lr=Lr.replace(/\uFEFF[0-9]/g,function(Pr){return E[Pr]})),ta||(Lr=Lr.replace(/\\([\'\";:])/g,"$1")),Lr},ra=function(Lr){return String.fromCharCode(parseInt(Lr.slice(1),16))},pr=function(Lr){return Lr.replace(/\\[0-9a-f]+/gi,ra)},Ea=function(Lr,ta,Pr,Kr,va,Tr){if(va=va||Tr,va)return va=Fa(va),"'"+va.replace(/\'/g,"\\'")+"'";if(ta=Fa(ta||Pr||Kr),!e.allow_script_urls){var ua=ta.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ua)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ua))return""}return Fn&&(ta=Fn.call(Ln,ta,"style")),"url('"+ta.replace(/\'/g,"\\'")+"')"};if(Ut){for(Ut=Ut.replace(/[\u0000-\u001F]/g,""),Ut=Ut.replace(/\\[\"\';:\uFEFF]/g,Dr).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Lr){return Lr.replace(/[;:]/g,Dr)});Yt=c.exec(Ut);)if(c.lastIndex=Yt.index+Yt[0].length,Qt=Yt[1].replace(b,"").toLowerCase(),pn=Yt[2].replace(b,""),Qt&&pn){if(Qt=pr(Qt),pn=pr(pn),Qt.indexOf(Ct)!==-1||Qt.indexOf('"')!==-1||!e.allow_script_urls&&(Qt==="behavior"||/expression\s*\(|\/\*|\*\//.test(pn)))continue;Qt==="font-weight"&&pn==="700"?pn="bold":(Qt==="color"||Qt==="background-color")&&(pn=pn.toLowerCase()),pn=pn.replace(u,Cb),pn=pn.replace(l,Ea),Kt[Qt]=sn?Fa(pn,!0):pn}Cn("border","",!0),Cn("border","-width"),Cn("border","-color"),Cn("border","-style"),Cn("padding",""),Cn("margin",""),vr("border","border-width","border-style","border-color"),Kt.border==="medium none"&&delete Kt.border,Kt["border-image"]==="none"&&delete Kt["border-image"]}return Kt},serialize:function(Ut,Kt){var Yt="",Qt=function(sn){var Fn,Ln=rt[sn];if(Ln)for(var Cn=0,$n=Ln.length;Cn<$n;Cn++)sn=Ln[Cn],Fn=Ut[sn],Fn&&(Yt+=(Yt.length>0?" ":"")+sn+": "+Fn+";")},pn=function(sn,Fn){var Ln=bt["*"];return Ln&&Ln[sn]?!1:(Ln=bt[Fn],!(Ln&&Ln[sn]))};return Kt&&rt?(Qt("*"),Qt(Kt)):Mr(Ut,function(sn,Fn){sn&&(!bt||pn(Fn,Kt))&&(Yt+=(Yt.length>0?" ":"")+Fn+": "+sn+";")}),Yt}}},S2={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},di=function(e){return e instanceof Event||Tt(e.initEvent)},x2=function(e){return e.isDefaultPrevented===yt||e.isDefaultPrevented===cn},gR=function(e){return pt(e.preventDefault)||di(e)},E2=function(e,r){var o=r!=null?r:{};for(var u in e)Ya(S2,u)||(o[u]=e[u]);return It(o.composedPath)&&(o.composedPath=function(){return e.composedPath()}),o},xr=function(e,r,o,u){var l,c=E2(r,u);return c.type=e,pt(c.target)&&(c.target=(l=c.srcElement)!==null&&l!==void 0?l:o),gR(r)&&(c.preventDefault=function(){c.defaultPrevented=!0,c.isDefaultPrevented=yt,Tt(r.preventDefault)?r.preventDefault():di(r)&&(r.returnValue=!1)},c.stopPropagation=function(){c.cancelBubble=!0,c.isPropagationStopped=yt,Tt(r.stopPropagation)?r.stopPropagation():di(r)&&(r.cancelBubble=!0)},c.stopImmediatePropagation=function(){c.isImmediatePropagationStopped=yt,c.stopPropagation()},x2(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?yt:cn,c.isPropagationStopped=c.cancelBubble===!0?yt:cn,c.isImmediatePropagationStopped=cn)),c},uw="mce-data-",bR=/^(?:mouse|contextmenu)|click/,ep=function(e,r,o,u){e.addEventListener?e.addEventListener(r,o,u||!1):e.attachEvent&&e.attachEvent("on"+r,o)},Sb=function(e,r,o,u){e.removeEventListener?e.removeEventListener(r,o,u||!1):e.detachEvent&&e.detachEvent("on"+r,o)},tp=function(e){return It(e)&&bR.test(e.type)},Id=function(e,r){var o=xr(e.type,e,document,r);if(tp(e)&&Ue(e.pageX)&&!Ue(e.clientX)){var u=o.target.ownerDocument||document,l=u.documentElement,c=u.body,b=o;b.pageX=e.clientX+(l&&l.scrollLeft||c&&c.scrollLeft||0)-(l&&l.clientLeft||c&&c.clientLeft||0),b.pageY=e.clientY+(l&&l.scrollTop||c&&c.scrollTop||0)-(l&&l.clientTop||c&&c.clientTop||0)}return Ue(o.metaKey)&&(o.metaKey=!1),o},Hv=function(e,r,o){var u=e.document,l={type:"ready"};if(o.domLoaded){r(l);return}var c=function(){return u.readyState==="complete"||u.readyState==="interactive"&&u.body},b=function(){Sb(e,"DOMContentLoaded",b),Sb(e,"load",b),o.domLoaded||(o.domLoaded=!0,r(l)),e=null};c()?b():ep(e,"DOMContentLoaded",b),o.domLoaded||ep(e,"load",b)},np=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=uw+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(r,o,u,l){var c=this,b,S,E,rt,bt,Ct,kt,Ut=window,Kt=function(Qt){c.executeHandlers(Id(Qt||Ut.event),b)};if(!(!r||r.nodeType===3||r.nodeType===8)){r[c.expando]?b=r[c.expando]:(b=c.count++,r[c.expando]=b,c.events[b]={}),l=l||r;var Yt=o.split(" ");for(E=Yt.length;E--;){if(rt=Yt[E],Ct=Kt,bt=kt=!1,rt==="DOMContentLoaded"&&(rt="ready"),c.domLoaded&&rt==="ready"&&r.readyState==="complete"){u.call(l,Id({type:rt}));continue}c.hasMouseEnterLeave||(bt=c.mouseEnterLeave[rt],bt&&(Ct=function(Qt){var pn=Qt.currentTarget,sn=Qt.relatedTarget;if(sn&&pn.contains)sn=pn.contains(sn);else for(;sn&&sn!==pn;)sn=sn.parentNode;sn||(Qt=Id(Qt||Ut.event),Qt.type=Qt.type==="mouseout"?"mouseleave":"mouseenter",Qt.target=pn,c.executeHandlers(Qt,b))})),!c.hasFocusIn&&(rt==="focusin"||rt==="focusout")&&(kt=!0,bt=rt==="focusin"?"focus":"blur",Ct=function(Qt){Qt=Id(Qt||Ut.event),Qt.type=Qt.type==="focus"?"focusin":"focusout",c.executeHandlers(Qt,b)}),S=c.events[b][rt],S?rt==="ready"&&c.domLoaded?u(Id({type:rt})):S.push({func:u,scope:l}):(c.events[b][rt]=S=[{func:u,scope:l}],S.fakeName=bt,S.capture=kt,S.nativeHandler=Ct,rt==="ready"?Hv(r,Ct,c):ep(r,bt||rt,Ct,kt))}return r=S=null,u}},e.prototype.unbind=function(r,o,u){var l,c,b,S,E;if(!r||r.nodeType===3||r.nodeType===8)return this;var rt=r[this.expando];if(rt){if(E=this.events[rt],o){var bt=o.split(" ");for(c=bt.length;c--;)if(S=bt[c],l=E[S],l){if(u){for(b=l.length;b--;)if(l[b].func===u){var Ct=l.nativeHandler,kt=l.fakeName,Ut=l.capture;l=l.slice(0,b).concat(l.slice(b+1)),l.nativeHandler=Ct,l.fakeName=kt,l.capture=Ut,E[S]=l}}(!u||l.length===0)&&(delete E[S],Sb(r,l.fakeName||S,l.nativeHandler,l.capture))}}else Mr(E,function(Kt,Yt){Sb(r,Kt.fakeName||Yt,Kt.nativeHandler,Kt.capture)}),E={};for(S in E)if(Ya(E,S))return this;delete this.events[rt];try{delete r[this.expando]}catch(Kt){r[this.expando]=null}}return this},e.prototype.fire=function(r,o,u){var l;if(!r||r.nodeType===3||r.nodeType===8)return this;var c=Id({type:o,target:r},u);do l=r[this.expando],l&&this.executeHandlers(c,l),r=r.parentNode||r.ownerDocument||r.defaultView||r.parentWindow;while(r&&!c.isPropagationStopped());return this},e.prototype.clean=function(r){var o,u;if(!r||r.nodeType===3||r.nodeType===8)return this;if(r[this.expando]&&this.unbind(r),r.getElementsByTagName||(r=r.document),r&&r.getElementsByTagName)for(this.unbind(r),u=r.getElementsByTagName("*"),o=u.length;o--;)r=u[o],r[this.expando]&&this.unbind(r);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(r){return r&&(r.preventDefault(),r.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(r,o){var u=this.events[o],l=u&&u[r.type];if(l)for(var c=0,b=l.length;c<b;c++){var S=l[c];if(S&&S.func.call(S.scope,r)===!1&&r.preventDefault(),r.isImmediatePropagationStopped())return}},e.Event=new e,e}(),lu,mo,dc,k2,vc,sw,xb,Fd,Hd,rp,zd,mc,$d,Uf,Vd,ap,T2,ha,Ds="sizzle"+-new Date,of=window.document,jf=0,A2=0,_2=pw(),Eb=pw(),op=pw(),Ud=function(e,r){return e===r&&(rp=!0),0},kb="undefined",zh=1<<31,yR={}.hasOwnProperty,jd=[],lw=jd.pop,cw=jd.push,Wd=jd.push,fw=jd.slice,qd=jd.indexOf||function(e){for(var r=0,o=this.length;r<o;r++)if(this[r]===e)return r;return-1},wR="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Gi="[\\x20\\t\\r\\n\\f]",Fs="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Sl="\\["+Gi+"*("+Fs+")(?:"+Gi+"*([*^$|!~]?=)"+Gi+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Fs+"))|)"+Gi+"*\\]",O2=":("+Fs+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Sl+")*)|.*)\\)|)",Tb=new RegExp("^"+Gi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Gi+"+$","g"),CR=new RegExp("^"+Gi+"*,"+Gi+"*"),M2=new RegExp("^"+Gi+"*([>+~]|"+Gi+")"+Gi+"*"),Dc=new RegExp("="+Gi+`*([^\\]'"]*?)`+Gi+"*\\]","g"),SR=new RegExp(O2),xR=new RegExp("^"+Fs+"$"),Ab={ID:new RegExp("^#("+Fs+")"),CLASS:new RegExp("^\\.("+Fs+")"),TAG:new RegExp("^("+Fs+"|[*])"),ATTR:new RegExp("^"+Sl),PSEUDO:new RegExp("^"+O2),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Gi+"*(even|odd|(([+-]|)(\\d*)n|)"+Gi+"*(?:([+-]|)"+Gi+"*(\\d+)|))"+Gi+"*\\)|)","i"),bool:new RegExp("^(?:"+wR+")$","i"),needsContext:new RegExp("^"+Gi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Gi+"*((?:-\\d)?\\d*)"+Gi+"*\\)|)(?=[^-]|$)","i")},ER=/^(?:input|select|textarea|button)$/i,kR=/^h\d$/i,dw=/^[^{]+\{\s*\[native \w/,vw=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mw=/[+~]/,TR=/'|\\/g,Kd=new RegExp("\\\\([\\da-f]{1,6}"+Gi+"?|("+Gi+")|.)","ig"),Yd=function(e,r,o){var u="0x"+r-65536;return u!==u||o?r:u<0?String.fromCharCode(u+65536):String.fromCharCode(u>>10|55296,u&1023|56320)};try{Wd.apply(jd=fw.call(of.childNodes),of.childNodes),jd[of.childNodes.length].nodeType}catch(e){Wd={apply:jd.length?function(r,o){cw.apply(r,fw.call(o))}:function(r,o){for(var u=r.length,l=0;r[u++]=o[l++];);r.length=u-1}}}var yi=function(e,r,o,u){var l,c,b,S,E,rt,bt,Ct,kt,Ut;if((r?r.ownerDocument||r:of)!==mc&&zd(r),r=r||mc,o=o||[],!e||typeof e!="string")return o;if((S=r.nodeType)!==1&&S!==9)return[];if(Uf&&!u){if(l=vw.exec(e))if(b=l[1]){if(S===9)if(c=r.getElementById(b),c&&c.parentNode){if(c.id===b)return o.push(c),o}else return o;else if(r.ownerDocument&&(c=r.ownerDocument.getElementById(b))&&ha(r,c)&&c.id===b)return o.push(c),o}else{if(l[2])return Wd.apply(o,r.getElementsByTagName(e)),o;if((b=l[3])&&lu.getElementsByClassName)return Wd.apply(o,r.getElementsByClassName(b)),o}if(lu.qsa&&(!Vd||!Vd.test(e))){if(Ct=bt=Ds,kt=r,Ut=S===9&&e,S===1&&r.nodeName.toLowerCase()!=="object"){for(rt=vc(e),(bt=r.getAttribute("id"))?Ct=bt.replace(TR,"\\$&"):r.setAttribute("id",Ct),Ct="[id='"+Ct+"'] ",E=rt.length;E--;)rt[E]=Ct+_b(rt[E]);kt=mw.test(e)&&hw(r.parentNode)||r,Ut=rt.join(",")}if(Ut)try{return Wd.apply(o,kt.querySelectorAll(Ut)),o}catch(Kt){}finally{bt||r.removeAttribute("id")}}}return xb(e.replace(Tb,"$1"),r,o,u)};function pw(){var e=[];function r(o,u){return e.push(o+" ")>mo.cacheLength&&delete r[e.shift()],r[o+" "]=u}return r}function uf(e){return e[Ds]=!0,e}function D2(e,r){var o=r&&e,u=o&&e.nodeType===1&&r.nodeType===1&&(~r.sourceIndex||zh)-(~e.sourceIndex||zh);if(u)return u;if(o){for(;o=o.nextSibling;)if(o===r)return-1}return e?1:-1}function sf(e){return function(r){var o=r.nodeName.toLowerCase();return o==="input"&&r.type===e}}function zv(e){return function(r){var o=r.nodeName.toLowerCase();return(o==="input"||o==="button")&&r.type===e}}function $v(e){return uf(function(r){return r=+r,uf(function(o,u){for(var l,c=e([],o.length,r),b=c.length;b--;)o[l=c[b]]&&(o[l]=!(u[l]=o[l]))})})}function hw(e){return e&&typeof e.getElementsByTagName!==kb&&e}lu=yi.support={},k2=yi.isXML=function(e){var r=e&&(e.ownerDocument||e).documentElement;return r?r.nodeName!=="HTML":!1},zd=yi.setDocument=function(e){var r,o=e?e.ownerDocument||e:of,u=o.defaultView;function l(c){try{return c.top}catch(b){}return null}return o===mc||o.nodeType!==9||!o.documentElement?mc:(mc=o,$d=o.documentElement,Uf=!k2(o),u&&u!==l(u)&&(u.addEventListener?u.addEventListener("unload",function(){zd()},!1):u.attachEvent&&u.attachEvent("onunload",function(){zd()})),lu.attributes=!0,lu.getElementsByTagName=!0,lu.getElementsByClassName=dw.test(o.getElementsByClassName),lu.getById=!0,mo.find.ID=function(c,b){if(typeof b.getElementById!==kb&&Uf){var S=b.getElementById(c);return S&&S.parentNode?[S]:[]}},mo.filter.ID=function(c){var b=c.replace(Kd,Yd);return function(S){return S.getAttribute("id")===b}},mo.find.TAG=lu.getElementsByTagName?function(c,b){if(typeof b.getElementsByTagName!==kb)return b.getElementsByTagName(c)}:function(c,b){var S,E=[],rt=0,bt=b.getElementsByTagName(c);if(c==="*"){for(;S=bt[rt++];)S.nodeType===1&&E.push(S);return E}return bt},mo.find.CLASS=lu.getElementsByClassName&&function(c,b){if(Uf)return b.getElementsByClassName(c)},ap=[],Vd=[],lu.disconnectedMatch=!0,Vd=Vd.length&&new RegExp(Vd.join("|")),ap=ap.length&&new RegExp(ap.join("|")),r=dw.test($d.compareDocumentPosition),ha=r||dw.test($d.contains)?function(c,b){var S=c.nodeType===9?c.documentElement:c,E=b&&b.parentNode;return c===E||!!(E&&E.nodeType===1&&(S.contains?S.contains(E):c.compareDocumentPosition&&c.compareDocumentPosition(E)&16))}:function(c,b){if(b){for(;b=b.parentNode;)if(b===c)return!0}return!1},Ud=r?function(c,b){if(c===b)return rp=!0,0;var S=!c.compareDocumentPosition-!b.compareDocumentPosition;return S||(S=(c.ownerDocument||c)===(b.ownerDocument||b)?c.compareDocumentPosition(b):1,S&1||!lu.sortDetached&&b.compareDocumentPosition(c)===S?c===o||c.ownerDocument===of&&ha(of,c)?-1:b===o||b.ownerDocument===of&&ha(of,b)?1:Hd?qd.call(Hd,c)-qd.call(Hd,b):0:S&4?-1:1)}:function(c,b){if(c===b)return rp=!0,0;var S,E=0,rt=c.parentNode,bt=b.parentNode,Ct=[c],kt=[b];if(!rt||!bt)return c===o?-1:b===o?1:rt?-1:bt?1:Hd?qd.call(Hd,c)-qd.call(Hd,b):0;if(rt===bt)return D2(c,b);for(S=c;S=S.parentNode;)Ct.unshift(S);for(S=b;S=S.parentNode;)kt.unshift(S);for(;Ct[E]===kt[E];)E++;return E?D2(Ct[E],kt[E]):Ct[E]===of?-1:kt[E]===of?1:0},o)},yi.matches=function(e,r){return yi(e,null,null,r)},yi.matchesSelector=function(e,r){if((e.ownerDocument||e)!==mc&&zd(e),r=r.replace(Dc,"='$1']"),lu.matchesSelector&&Uf&&(!ap||!ap.test(r))&&(!Vd||!Vd.test(r)))try{var o=T2.call(e,r);if(o||lu.disconnectedMatch||e.document&&e.document.nodeType!==11)return o}catch(u){}return yi(r,mc,null,[e]).length>0},yi.contains=function(e,r){return(e.ownerDocument||e)!==mc&&zd(e),ha(e,r)},yi.attr=function(e,r){(e.ownerDocument||e)!==mc&&zd(e);var o=mo.attrHandle[r.toLowerCase()],u=o&&yR.call(mo.attrHandle,r.toLowerCase())?o(e,r,!Uf):void 0;return u!==void 0?u:lu.attributes||!Uf?e.getAttribute(r):(u=e.getAttributeNode(r))&&u.specified?u.value:null},yi.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},yi.uniqueSort=function(e){var r,o=[],u=0,l=0;if(rp=!lu.detectDuplicates,Hd=!lu.sortStable&&e.slice(0),e.sort(Ud),rp){for(;r=e[l++];)r===e[l]&&(u=o.push(l));for(;u--;)e.splice(o[u],1)}return Hd=null,e},dc=yi.getText=function(e){var r,o="",u=0,l=e.nodeType;if(l){if(l===1||l===9||l===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)o+=dc(e)}else if(l===3||l===4)return e.nodeValue}else for(;r=e[u++];)o+=dc(r);return o},mo=yi.selectors={cacheLength:50,createPseudo:uf,match:Ab,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Kd,Yd),e[3]=(e[3]||e[4]||e[5]||"").replace(Kd,Yd),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||yi.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&yi.error(e[0]),e},PSEUDO:function(e){var r,o=!e[6]&&e[2];return Ab.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":o&&SR.test(o)&&(r=vc(o,!0))&&(r=o.indexOf(")",o.length-r)-o.length)&&(e[0]=e[0].slice(0,r),e[2]=o.slice(0,r)),e.slice(0,3))}},filter:{TAG:function(e){var r=e.replace(Kd,Yd).toLowerCase();return e==="*"?function(){return!0}:function(o){return o.nodeName&&o.nodeName.toLowerCase()===r}},CLASS:function(e){var r=_2[e+" "];return r||(r=new RegExp("(^|"+Gi+")"+e+"("+Gi+"|$)"))&&_2(e,function(o){return r.test(typeof o.className=="string"&&o.className||typeof o.getAttribute!==kb&&o.getAttribute("class")||"")})},ATTR:function(e,r,o){return function(u){var l=yi.attr(u,e);return l==null?r==="!=":r?(l+="",r==="="?l===o:r==="!="?l!==o:r==="^="?o&&l.indexOf(o)===0:r==="*="?o&&l.indexOf(o)>-1:r==="$="?o&&l.slice(-o.length)===o:r==="~="?(" "+l+" ").indexOf(o)>-1:r==="|="?l===o||l.slice(0,o.length+1)===o+"-":!1):!0}},CHILD:function(e,r,o,u,l){var c=e.slice(0,3)!=="nth",b=e.slice(-4)!=="last",S=r==="of-type";return u===1&&l===0?function(E){return!!E.parentNode}:function(E,rt,bt){var Ct,kt,Ut,Kt,Yt,Qt,pn=c!==b?"nextSibling":"previousSibling",sn=E.parentNode,Fn=S&&E.nodeName.toLowerCase(),Ln=!bt&&!S;if(sn){if(c){for(;pn;){for(Ut=E;Ut=Ut[pn];)if(S?Ut.nodeName.toLowerCase()===Fn:Ut.nodeType===1)return!1;Qt=pn=e==="only"&&!Qt&&"nextSibling"}return!0}if(Qt=[b?sn.firstChild:sn.lastChild],b&&Ln){for(kt=sn[Ds]||(sn[Ds]={}),Ct=kt[e]||[],Yt=Ct[0]===jf&&Ct[1],Kt=Ct[0]===jf&&Ct[2],Ut=Yt&&sn.childNodes[Yt];Ut=++Yt&&Ut&&Ut[pn]||(Kt=Yt=0)||Qt.pop();)if(Ut.nodeType===1&&++Kt&&Ut===E){kt[e]=[jf,Yt,Kt];break}}else if(Ln&&(Ct=(E[Ds]||(E[Ds]={}))[e])&&Ct[0]===jf)Kt=Ct[1];else for(;(Ut=++Yt&&Ut&&Ut[pn]||(Kt=Yt=0)||Qt.pop())&&!((S?Ut.nodeName.toLowerCase()===Fn:Ut.nodeType===1)&&++Kt&&(Ln&&((Ut[Ds]||(Ut[Ds]={}))[e]=[jf,Kt]),Ut===E)););return Kt-=l,Kt===u||Kt%u===0&&Kt/u>=0}}},PSEUDO:function(e,r){var o,u=mo.pseudos[e]||mo.setFilters[e.toLowerCase()]||yi.error("unsupported pseudo: "+e);return u[Ds]?u(r):u.length>1?(o=[e,e,"",r],mo.setFilters.hasOwnProperty(e.toLowerCase())?uf(function(l,c){for(var b,S=u(l,r),E=S.length;E--;)b=qd.call(l,S[E]),l[b]=!(c[b]=S[E])}):function(l){return u(l,0,o)}):u}},pseudos:{not:uf(function(e){var r=[],o=[],u=sw(e.replace(Tb,"$1"));return u[Ds]?uf(function(l,c,b,S){for(var E,rt=u(l,null,S,[]),bt=l.length;bt--;)(E=rt[bt])&&(l[bt]=!(c[bt]=E))}):function(l,c,b){return r[0]=l,u(r,null,b,o),r[0]=null,!o.pop()}}),has:uf(function(e){return function(r){return yi(e,r).length>0}}),contains:uf(function(e){return e=e.replace(Kd,Yd),function(r){return(r.textContent||r.innerText||dc(r)).indexOf(e)>-1}}),lang:uf(function(e){return xR.test(e||"")||yi.error("unsupported lang: "+e),e=e.replace(Kd,Yd).toLowerCase(),function(r){var o;do if(o=Uf?r.lang:r.getAttribute("xml:lang")||r.getAttribute("lang"))return o=o.toLowerCase(),o===e||o.indexOf(e+"-")===0;while((r=r.parentNode)&&r.nodeType===1);return!1}}),target:function(e){var r=window.location&&window.location.hash;return r&&r.slice(1)===e.id},root:function(e){return e===$d},focus:function(e){return e===mc.activeElement&&(!mc.hasFocus||mc.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var r=e.nodeName.toLowerCase();return r==="input"&&!!e.checked||r==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!mo.pseudos.empty(e)},header:function(e){return kR.test(e.nodeName)},input:function(e){return ER.test(e.nodeName)},button:function(e){var r=e.nodeName.toLowerCase();return r==="input"&&e.type==="button"||r==="button"},text:function(e){var r;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((r=e.getAttribute("type"))==null||r.toLowerCase()==="text")},first:$v(function(){return[0]}),last:$v(function(e,r){return[r-1]}),eq:$v(function(e,r,o){return[o<0?o+r:o]}),even:$v(function(e,r){for(var o=0;o<r;o+=2)e.push(o);return e}),odd:$v(function(e,r){for(var o=1;o<r;o+=2)e.push(o);return e}),lt:$v(function(e,r,o){for(var u=o<0?o+r:o;--u>=0;)e.push(u);return e}),gt:$v(function(e,r,o){for(var u=o<0?o+r:o;++u<r;)e.push(u);return e})}},mo.pseudos.nth=mo.pseudos.eq,Ft(["radio","checkbox","file","password","image"],function(e){mo.pseudos[e]=sf(e)}),Ft(["submit","reset"],function(e){mo.pseudos[e]=zv(e)});function N2(){}N2.prototype=mo.filters=mo.pseudos,mo.setFilters=new N2,vc=yi.tokenize=function(e,r){var o,u,l,c,b,S,E,rt=Eb[e+" "];if(rt)return r?0:rt.slice(0);for(b=e,S=[],E=mo.preFilter;b;){(!o||(u=CR.exec(b)))&&(u&&(b=b.slice(u[0].length)||b),S.push(l=[])),o=!1,(u=M2.exec(b))&&(o=u.shift(),l.push({value:o,type:u[0].replace(Tb," ")}),b=b.slice(o.length));for(c in mo.filter)mo.filter.hasOwnProperty(c)&&(u=Ab[c].exec(b))&&(!E[c]||(u=E[c](u)))&&(o=u.shift(),l.push({value:o,type:c,matches:u}),b=b.slice(o.length));if(!o)break}return r?b.length:b?yi.error(e):Eb(e,S).slice(0)};function _b(e){for(var r=0,o=e.length,u="";r<o;r++)u+=e[r].value;return u}function gw(e,r,o){var u=r.dir,l=o&&u==="parentNode",c=A2++;return r.first?function(b,S,E){for(;b=b[u];)if(b.nodeType===1||l)return e(b,S,E)}:function(b,S,E){var rt,bt,Ct=[jf,c];if(E){for(;b=b[u];)if((b.nodeType===1||l)&&e(b,S,E))return!0}else for(;b=b[u];)if(b.nodeType===1||l){if(bt=b[Ds]||(b[Ds]={}),(rt=bt[u])&&rt[0]===jf&&rt[1]===c)return Ct[2]=rt[2];if(bt[u]=Ct,Ct[2]=e(b,S,E))return!0}}}function $h(e){return e.length>1?function(r,o,u){for(var l=e.length;l--;)if(!e[l](r,o,u))return!1;return!0}:e[0]}function AR(e,r,o){for(var u=0,l=r.length;u<l;u++)yi(e,r[u],o);return o}function Ob(e,r,o,u,l){for(var c,b=[],S=0,E=e.length,rt=r!=null;S<E;S++)(c=e[S])&&(!o||o(c,u,l))&&(b.push(c),rt&&r.push(S));return b}function ip(e,r,o,u,l,c){return u&&!u[Ds]&&(u=ip(u)),l&&!l[Ds]&&(l=ip(l,c)),uf(function(b,S,E,rt){var bt,Ct,kt,Ut=[],Kt=[],Yt=S.length,Qt=b||AR(r||"*",E.nodeType?[E]:E,[]),pn=e&&(b||!r)?Ob(Qt,Ut,e,E,rt):Qt,sn=o?l||(b?e:Yt||u)?[]:S:pn;if(o&&o(pn,sn,E,rt),u)for(bt=Ob(sn,Kt),u(bt,[],E,rt),Ct=bt.length;Ct--;)(kt=bt[Ct])&&(sn[Kt[Ct]]=!(pn[Kt[Ct]]=kt));if(b){if(l||e){if(l){for(bt=[],Ct=sn.length;Ct--;)(kt=sn[Ct])&&bt.push(pn[Ct]=kt);l(null,sn=[],bt,rt)}for(Ct=sn.length;Ct--;)(kt=sn[Ct])&&(bt=l?qd.call(b,kt):Ut[Ct])>-1&&(b[bt]=!(S[bt]=kt))}}else sn=Ob(sn===S?sn.splice(Yt,sn.length):sn),l?l(null,S,sn,rt):Wd.apply(S,sn)})}function bw(e){for(var r,o,u,l=e.length,c=mo.relative[e[0].type],b=c||mo.relative[" "],S=c?1:0,E=gw(function(Ct){return Ct===r},b,!0),rt=gw(function(Ct){return qd.call(r,Ct)>-1},b,!0),bt=[function(Ct,kt,Ut){var Kt=!c&&(Ut||kt!==Fd)||((r=kt).nodeType?E(Ct,kt,Ut):rt(Ct,kt,Ut));return r=null,Kt}];S<l;S++)if(o=mo.relative[e[S].type])bt=[gw($h(bt),o)];else{if(o=mo.filter[e[S].type].apply(null,e[S].matches),o[Ds]){for(u=++S;u<l&&!mo.relative[e[u].type];u++);return ip(S>1&&$h(bt),S>1&&_b(e.slice(0,S-1).concat({value:e[S-2].type===" "?"*":""})).replace(Tb,"$1"),o,S<u&&bw(e.slice(S,u)),u<l&&bw(e=e.slice(u)),u<l&&_b(e))}bt.push(o)}return $h(bt)}function _R(e,r){var o=r.length>0,u=e.length>0,l=function(c,b,S,E,rt){var bt,Ct,kt,Ut=0,Kt="0",Yt=c&&[],Qt=[],pn=Fd,sn=c||u&&mo.find.TAG("*",rt),Fn=jf+=pn==null?1:Math.random()||.1,Ln=sn.length;for(rt&&(Fd=b!==mc&&b);Kt!==Ln&&(bt=sn[Kt])!=null;Kt++){if(u&&bt){for(Ct=0;kt=e[Ct++];)if(kt(bt,b,S)){E.push(bt);break}rt&&(jf=Fn)}o&&((bt=!kt&&bt)&&Ut--,c&&Yt.push(bt))}if(Ut+=Kt,o&&Kt!==Ut){for(Ct=0;kt=r[Ct++];)kt(Yt,Qt,b,S);if(c){if(Ut>0)for(;Kt--;)Yt[Kt]||Qt[Kt]||(Qt[Kt]=lw.call(E));Qt=Ob(Qt)}Wd.apply(E,Qt),rt&&!c&&Qt.length>0&&Ut+r.length>1&&yi.uniqueSort(E)}return rt&&(jf=Fn,Fd=pn),Yt};return o?uf(l):l}sw=yi.compile=function(e,r){var o,u=[],l=[],c=op[e+" "];if(!c){for(r||(r=vc(e)),o=r.length;o--;)c=bw(r[o]),c[Ds]?u.push(c):l.push(c);c=op(e,_R(l,u)),c.selector=e}return c},xb=yi.select=function(e,r,o,u){var l,c,b,S,E,rt=typeof e=="function"&&e,bt=!u&&vc(e=rt.selector||e);if(o=o||[],bt.length===1){if(c=bt[0]=bt[0].slice(0),c.length>2&&(b=c[0]).type==="ID"&&lu.getById&&r.nodeType===9&&Uf&&mo.relative[c[1].type]){if(r=(mo.find.ID(b.matches[0].replace(Kd,Yd),r)||[])[0],r)rt&&(r=r.parentNode);else return o;e=e.slice(c.shift().value.length)}for(l=Ab.needsContext.test(e)?0:c.length;l--&&(b=c[l],!mo.relative[S=b.type]);)if((E=mo.find[S])&&(u=E(b.matches[0].replace(Kd,Yd),mw.test(c[0].type)&&hw(r.parentNode)||r))){if(c.splice(l,1),e=u.length&&_b(c),!e)return Wd.apply(o,u),o;break}}return(rt||sw(e,bt))(u,r,!Uf,o,mw.test(e)&&hw(r.parentNode)||r),o},lu.sortStable=Ds.split("").sort(Ud).join("")===Ds,lu.detectDuplicates=!!rp,zd(),lu.sortDetached=!0;var R2=document,Au=Array.prototype.push,OR=Array.prototype.slice,hu=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Hs=np.Event,Vv=ar.makeMap("children,contents,next,prev"),jl=function(e){return typeof e!="undefined"},yw=function(e){return typeof e=="string"},Gd=function(e){return e&&e===e.window},up=function(e,r){r=r||R2;var o=r.createElement("div"),u=r.createDocumentFragment();o.innerHTML=e;for(var l;l=o.firstChild;)u.appendChild(l);return u},sp=function(e,r,o,u){var l;if(yw(r))r=up(r,Mb(e[0]));else if(r.length&&!r.nodeType){if(r=po.makeArray(r),u)for(l=r.length-1;l>=0;l--)sp(e,r[l],o,u);else for(l=0;l<r.length;l++)sp(e,r[l],o,u);return e}if(r.nodeType)for(l=e.length;l--;)o.call(e[l],r);return e},L2=function(e,r){return e&&r&&(" "+e.className+" ").indexOf(" "+r+" ")!==-1},B2=function(e,r,o){var u,l;return r=po(r)[0],e.each(function(){var c=this;(!o||u!==c.parentNode)&&(u=c.parentNode,l=r.cloneNode(!1),c.parentNode.insertBefore(l,c)),l.appendChild(c)}),e},MR=ar.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),DR=ar.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),NR={for:"htmlFor",class:"className",readonly:"readOnly"},RR={float:"cssFloat"},ww={},Cw={},ps=function(e,r){return new po.fn.init(e,r)},Sw=function(e,r){var o;if(r.indexOf)return r.indexOf(e);for(o=r.length;o--;)if(r[o]===e)return o;return-1},LR=/^\s*|\s*$/g,P2=function(e){return e==null?"":(""+e).replace(LR,"")},cu=function(e,r){var o,u,l,c;if(e)if(o=e.length,o===void 0){for(u in e)if(e.hasOwnProperty(u)&&(c=e[u],r.call(c,u,c)===!1))break}else for(l=0;l<o&&(c=e[l],r.call(c,l,c)!==!1);l++);return e},Wl=function(e,r){var o=[];return cu(e,function(u,l){r(l,u)&&o.push(l)}),o},Mb=function(e){return e?e.nodeType===9?e:e.ownerDocument:R2};ps.fn=ps.prototype={constructor:ps,selector:"",context:null,length:0,init:function(e,r){var o=this,u,l;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(r&&r.nodeType)o.context=r;else{if(r)return po(e).attr(r);o.context=r=document}if(yw(e))if(o.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?u=[null,e,null]:u=hu.exec(e),u)if(u[1])for(l=up(e,Mb(r)).firstChild;l;)Au.call(o,l),l=l.nextSibling;else{if(l=Mb(r).getElementById(u[2]),!l)return o;if(l.id!==u[2])return o.find(e);o.length=1,o[0]=l}else return po(r).find(e);else this.add(e,!1);return o},toArray:function(){return ar.toArray(this)},add:function(e,r){var o=this,u,l;if(yw(e))return o.add(po(e));if(r!==!1)for(u=po.unique(o.toArray().concat(po.makeArray(e))),o.length=u.length,l=0;l<u.length;l++)o[l]=u[l];else Au.apply(o,po.makeArray(e));return o},attr:function(e,r){var o=this,u;if(typeof e=="object")cu(e,function(l,c){o.attr(l,c)});else if(jl(r))this.each(function(){var l;if(this.nodeType===1){if(l=ww[e],l&&l.set){l.set(this,r);return}r===null?this.removeAttribute(e,2):this.setAttribute(e,r,2)}});else{if(o[0]&&o[0].nodeType===1){if(u=ww[e],u&&u.get)return u.get(o[0],e);if(DR[e])return o.prop(e)?e:void 0;r=o[0].getAttribute(e,2),r===null&&(r=void 0)}return r}return o},removeAttr:function(e){return this.attr(e,null)},prop:function(e,r){var o=this;if(e=NR[e]||e,typeof e=="object")cu(e,function(u,l){o.prop(u,l)});else if(jl(r))this.each(function(){this.nodeType===1&&(this[e]=r)});else return o[0]&&o[0].nodeType&&e in o[0]?o[0][e]:r;return o},css:function(e,r){var o=this,u,l,c=function(S){return S.replace(/-(\D)/g,function(E,rt){return rt.toUpperCase()})},b=function(S){return S.replace(/[A-Z]/g,function(E){return"-"+E})};if(typeof e=="object")cu(e,function(S,E){o.css(S,E)});else if(jl(r))e=c(e),typeof r=="number"&&!MR[e]&&(r=r.toString()+"px"),o.each(function(){var S=this.style;if(l=Cw[e],l&&l.set){l.set(this,r);return}try{this.style[RR[e]||e]=r}catch(E){}(r===null||r==="")&&(S.removeProperty?S.removeProperty(b(e)):S.removeAttribute(e))});else{if(u=o[0],l=Cw[e],l&&l.get)return l.get(u);if(u.ownerDocument.defaultView)try{return u.ownerDocument.defaultView.getComputedStyle(u,null).getPropertyValue(b(e))}catch(S){return}else return u.currentStyle?u.currentStyle[c(e)]:""}return o},remove:function(){for(var e=this,r,o=this.length;o--;)r=e[o],Hs.clean(r),r.parentNode&&r.parentNode.removeChild(r);return this},empty:function(){for(var e=this,r,o=this.length;o--;)for(r=e[o];r.firstChild;)r.removeChild(r.firstChild);return this},html:function(e){var r=this,o;if(jl(e)){o=r.length;try{for(;o--;)r[o].innerHTML=e}catch(u){po(r[o]).empty().append(e)}return r}return r[0]?r[0].innerHTML:""},text:function(e){var r=this,o;if(jl(e)){for(o=r.length;o--;)"innerText"in r[o]?r[o].innerText=e:r[0].textContent=e;return r}return r[0]?r[0].innerText||r[0].textContent:""},append:function(){return sp(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return sp(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?sp(e,arguments,function(r){this.parentNode.insertBefore(r,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?sp(e,arguments,function(r){this.parentNode.insertBefore(r,this.nextSibling)},!0):e},appendTo:function(e){return po(e).append(this),this},prependTo:function(e){return po(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return B2(this,e)},wrapAll:function(e){return B2(this,e,!0)},wrapInner:function(e){return this.each(function(){po(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){po(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),po(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,r){var o=this;return typeof e!="string"||(e.indexOf(" ")!==-1?cu(e.split(" "),function(){o.toggleClass(this,r)}):o.each(function(u,l){var c=L2(l,e);if(c!==r){var b=l.className;c?l.className=P2((" "+b+" ").replace(" "+e+" "," ")):l.className+=b?" "+e:e}})),o},hasClass:function(e){return L2(this[0],e)},each:function(e){return cu(this,e)},on:function(e,r){return this.each(function(){Hs.bind(this,e,r)})},off:function(e,r){return this.each(function(){Hs.unbind(this,e,r)})},trigger:function(e){return this.each(function(){typeof e=="object"?Hs.fire(this,e.type,e):Hs.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return po(OR.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var r,o,u=[];for(r=0,o=this.length;r<o;r++)po.find(e,this[r],u);return po(u)},filter:function(e){return po(typeof e=="function"?Wl(this.toArray(),function(r,o){return e(o,r)}):po.filter(e,this.toArray()))},closest:function(e){var r=[];return e instanceof po&&(e=e[0]),this.each(function(o,u){for(;u;){if(typeof e=="string"&&po(u).is(e)){r.push(u);break}else if(u===e){r.push(u);break}u=u.parentNode}}),po(r)},offset:function(e){var r,o,u,l=0,c=0,b;return e?this.css(e):(r=this[0],r&&(o=r.ownerDocument,u=o.documentElement,r.getBoundingClientRect&&(b=r.getBoundingClientRect(),l=b.left+(u.scrollLeft||o.body.scrollLeft)-u.clientLeft,c=b.top+(u.scrollTop||o.body.scrollTop)-u.clientTop)),{left:l,top:c})},push:Au,sort:Array.prototype.sort,splice:Array.prototype.splice},ar.extend(ps,{extend:ar.extend,makeArray:function(e){return Gd(e)||e.nodeType?[e]:ar.toArray(e)},inArray:Sw,isArray:ar.isArray,each:cu,trim:P2,grep:Wl,find:yi,expr:yi.selectors,unique:yi.uniqueSort,text:yi.getText,contains:yi.contains,filter:function(e,r,o){var u=r.length;for(o&&(e=":not("+e+")");u--;)r[u].nodeType!==1&&r.splice(u,1);return r.length===1?r=po.find.matchesSelector(r[0],e)?[r[0]]:[]:r=po.find.matches(e,r),r}});var xw=function(e,r,o){var u=[],l=e[r];for(typeof o!="string"&&o instanceof po&&(o=o[0]);l&&l.nodeType!==9&&!(o!==void 0&&(l===o||typeof o=="string"&&po(l).is(o)));)l.nodeType===1&&u.push(l),l=l[r];return u},Db=function(e,r,o,u){var l=[];for(u instanceof po&&(u=u[0]);e;e=e[r])if(e.nodeType===o){if(u!==void 0&&(e===u||typeof u=="string"&&po(e).is(u)))break;l.push(e)}return l},I2=function(e,r,o){for(e=e[r];e;e=e[r])if(e.nodeType===o)return e;return null};cu({parent:function(e){var r=e.parentNode;return r&&r.nodeType!==11?r:null},parents:function(e){return xw(e,"parentNode")},next:function(e){return I2(e,"nextSibling",1)},prev:function(e){return I2(e,"previousSibling",1)},children:function(e){return Db(e.firstChild,"nextSibling",1)},contents:function(e){return ar.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,r){ps.fn[e]=function(o){var u=this,l=[];u.each(function(){var b=r.call(l,this,o,l);b&&(po.isArray(b)?l.push.apply(l,b):l.push(b))}),this.length>1&&(Vv[e]||(l=po.unique(l)),e.indexOf("parents")===0&&(l=l.reverse()));var c=po(l);return o?c.filter(o):c}}),cu({parentsUntil:function(e,r){return xw(e,"parentNode",r)},nextUntil:function(e,r){return Db(e,"nextSibling",1,r).slice(1)},prevUntil:function(e,r){return Db(e,"previousSibling",1,r).slice(1)}},function(e,r){ps.fn[e]=function(o,u){var l=this,c=[];l.each(function(){var S=r.call(c,this,o,c);S&&(po.isArray(S)?c.push.apply(c,S):c.push(S))}),this.length>1&&(c=po.unique(c),(e.indexOf("parents")===0||e==="prevUntil")&&(c=c.reverse()));var b=po(c);return u?b.filter(u):b}}),ps.fn.is=function(e){return!!e&&this.filter(e).length>0},ps.fn.init.prototype=ps.fn,ps.overrideDefaults=function(e){var r,o=function(u,l){return r=r||e(),arguments.length===0&&(u=r.element),l||(l=r.context),new o.fn.init(u,l)};return po.extend(o,this),o},ps.attrHooks=ww,ps.cssHooks=Cw;var po=ps,lp=ar.each,Nb=ar.grep,Ew=Na.ie,_u=/^([a-z0-9],?)+$/i,lf=function(e,r,o){var u=r.keep_values,l={set:function(b,S,E){r.url_converter&&S!==null&&(S=r.url_converter.call(r.url_converter_scope||o(),S,E,b[0])),b.attr("data-mce-"+E,S).attr(E,S)},get:function(b,S){return b.attr("data-mce-"+S)||b.attr(S)}},c={style:{set:function(b,S){if(S!==null&&typeof S=="object"){b.css(S);return}u&&b.attr("data-mce-style",S),S!==null&&typeof S=="string"?(b.removeAttr("style"),b.css(e.parse(S))):b.attr("style",S)},get:function(b){var S=b.attr("data-mce-style")||b.attr("style");return S=e.serialize(e.parse(S),b[0].nodeName),S}}};return u&&(c.href=c.src=l),c},F2=function(e,r){var o=r.attr("style"),u=e.serialize(e.parse(o),r[0].nodeName);u||(u=null),r.attr("data-mce-style",u)},Uv=function(e,r){var o=0,u,l;if(e)for(u=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)l=e.nodeType,!(r&&l===3&&(l===u||!e.nodeValue.length))&&(o++,u=l);return o},Li=function(e,r){r===void 0&&(r={});var o={},u=window,l={},c=0,b=!0,S=!0,E=ef.forElement(ft.fromDom(e),{contentCssCors:r.contentCssCors,referrerPolicy:r.referrerPolicy}),rt=[],bt=r.schema?r.schema:Ul({}),Ct=Hh({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),kt=r.ownEvents?new np:np.Event,Ut=bt.getBlockElements(),Kt=po.overrideDefaults(function(){return{context:e,element:_m.getRoot()}}),Yt=function(An){if(typeof An=="string")return!!Ut[An];if(An){var Jn=An.nodeType;if(Jn)return!!(Jn===1&&Ut[An.nodeName])}return!1},Qt=function(An){return An&&e&&Ye(An)?e.getElementById(An):An},pn=function(An){return Kt(typeof An=="string"?Qt(An):An)},sn=function(An,Jn,Ir){var Yr,ho,Ko=pn(An);return Ko.length&&(Yr=ud[Jn],Yr&&Yr.get?ho=Yr.get(Ko,Jn):ho=Ko.attr(Jn)),typeof ho=="undefined"&&(ho=Ir||""),ho},Fn=function(An){var Jn=Qt(An);return Jn?Jn.attributes:[]},Ln=function(An,Jn,Ir){Ir===""&&(Ir=null);var Yr=pn(An),ho=Yr.attr(Jn);if(Yr.length){var Ko=ud[Jn];Ko&&Ko.set?Ko.set(Yr,Ir,Jn):Yr.attr(Jn,Ir),ho!==Ir&&r.onSetAttrib&&r.onSetAttrib({attrElm:Yr,attrName:Jn,attrValue:Ir})}},Cn=function(An,Jn){if(!Ew||An.nodeType!==1||Jn)return An.cloneNode(Jn);var Ir=e.createElement(An.nodeName);return lp(Fn(An),function(Yr){Ln(Ir,Yr.nodeName,sn(An,Yr.nodeName))}),Ir},$n=function(){return r.root_element||e.body},vr=function(An){var Jn=gi(An);return{x:Jn.x,y:Jn.y,w:Jn.width,h:Jn.height}},Dr=function(An,Jn){return F0(e.body,Qt(An),Jn)},Fa=function(An,Jn,Ir){var Yr=Ye(Jn)?pn(An).css(Jn,Ir):pn(An).css(Jn);r.update_styles&&F2(Ct,Yr)},ra=function(An,Jn){var Ir=pn(An).css(Jn);r.update_styles&&F2(Ct,Ir)},pr=function(An,Jn,Ir){var Yr=pn(An);return Ir?Yr.css(Jn):(Jn=Jn.replace(/-(\D)/g,function(ho,Ko){return Ko.toUpperCase()}),Jn==="float"&&(Jn=Na.browser.isIE()?"styleFloat":"cssFloat"),Yr[0]&&Yr[0].style?Yr[0].style[Jn]:void 0)},Ea=function(An){var Jn,Ir;return An=Qt(An),Jn=pr(An,"width"),Ir=pr(An,"height"),Jn.indexOf("px")===-1&&(Jn=0),Ir.indexOf("px")===-1&&(Ir=0),{w:parseInt(Jn,10)||An.offsetWidth||An.clientWidth,h:parseInt(Ir,10)||An.offsetHeight||An.clientHeight}},Lr=function(An){An=Qt(An);var Jn=Dr(An),Ir=Ea(An);return{x:Jn.x,y:Jn.y,w:Ir.w,h:Ir.h}},ta=function(An,Jn){var Ir;if(!An)return!1;if(!Array.isArray(An)){if(Jn==="*")return An.nodeType===1;if(_u.test(Jn)){var Yr=Jn.toLowerCase().split(/,/),ho=An.nodeName.toLowerCase();for(Ir=Yr.length-1;Ir>=0;Ir--)if(Yr[Ir]===ho)return!0;return!1}if(An.nodeType&&An.nodeType!==1)return!1}var Ko=Array.isArray(An)?An:[An];return yi(Jn,Ko[0].ownerDocument||Ko[0],null,Ko).length>0},Pr=function(An,Jn,Ir,Yr){var ho=[],Ko,Bi=Qt(An);for(Yr=Yr===void 0,Ir=Ir||($n().nodeName!=="BODY"?$n().parentNode:null),ar.is(Jn,"string")&&(Ko=Jn,Jn==="*"?Jn=function(Mv){return Mv.nodeType===1}:Jn=function(Mv){return ta(Mv,Ko)});Bi&&!(Bi===Ir||pt(Bi.nodeType)||zf(Bi)||Ga(Bi));){if(!Jn||typeof Jn=="function"&&Jn(Bi))if(Yr)ho.push(Bi);else return[Bi];Bi=Bi.parentNode}return Yr?ho:null},Kr=function(An,Jn,Ir){var Yr=Pr(An,Jn,Ir,!1);return Yr&&Yr.length>0?Yr[0]:null},va=function(An,Jn,Ir){var Yr=Jn;if(An){for(typeof Jn=="string"&&(Yr=function(ho){return ta(ho,Jn)}),An=An[Ir];An;An=An[Ir])if(typeof Yr=="function"&&Yr(An))return An}return null},Tr=function(An,Jn){return va(An,Jn,"nextSibling")},ua=function(An,Jn){return va(An,Jn,"previousSibling")},So=function(An,Jn){return yi(An,Qt(Jn)||r.root_element||e,[])},Vo=function(An,Jn,Ir){var Yr,ho=typeof An=="string"?Qt(An):An;if(!ho)return!1;if(ar.isArray(ho)&&(ho.length||ho.length===0))return Yr=[],lp(ho,function(Bi,Mv){Bi&&Yr.push(Jn.call(Ir,typeof Bi=="string"?Qt(Bi):Bi,Mv))}),Yr;var Ko=Ir||this;return Jn.call(Ko,ho)},zo=function(An,Jn){pn(An).each(function(Ir,Yr){lp(Jn,function(ho,Ko){Ln(Yr,Ko,ho)})})},Vu=function(An,Jn){var Ir=pn(An);Ew?Ir.each(function(Yr,ho){if(ho.canHaveHTML!==!1){for(;ho.firstChild;)ho.removeChild(ho.firstChild);try{ho.innerHTML="<br>"+Jn,ho.removeChild(ho.firstChild)}catch(Ko){po("<div></div>").html("<br>"+Jn).contents().slice(1).appendTo(ho)}return Jn}}):Ir.html(Jn)},Ii=function(An,Jn,Ir,Yr,ho){return Vo(An,function(Ko){var Bi=typeof Jn=="string"?e.createElement(Jn):Jn;return zo(Bi,Ir),Yr&&(typeof Yr!="string"&&Yr.nodeType?Bi.appendChild(Yr):typeof Yr=="string"&&Vu(Bi,Yr)),ho?Bi:Ko.appendChild(Bi)})},Ns=function(An,Jn,Ir){return Ii(e.createElement(An),An,Jn,Ir,!0)},Ml=rf.decode,Ar=rf.encodeAllRaw,Vr=function(An,Jn,Ir){var Yr="",ho;Yr+="<"+An;for(ho in Jn)ni(Jn,ho)&&(Yr+=" "+ho+'="'+Ar(Jn[ho])+'"');return typeof Ir!="undefined"?Yr+">"+Ir+"</"+An+">":Yr+" />"},ka=function(An){var Jn,Ir=e.createElement("div"),Yr=e.createDocumentFragment();for(Yr.appendChild(Ir),An&&(Ir.innerHTML=An);Jn=Ir.firstChild;)Yr.appendChild(Jn);return Yr.removeChild(Ir),Yr},Gn=function(An,Jn){var Ir=pn(An);return Jn?Ir.each(function(){for(var Yr;Yr=this.firstChild;)Yr.nodeType===3&&Yr.data.length===0?this.removeChild(Yr):this.parentNode.insertBefore(Yr,this)}).remove():Ir.remove(),Ir.length>1?Ir.toArray():Ir[0]},Nr=function(An){return Vo(An,function(Jn){var Ir,Yr=Jn.attributes;for(Ir=Yr.length-1;Ir>=0;Ir--)Jn.removeAttributeNode(Yr.item(Ir))})},Or=function(An){return Ct.parse(An)},Ma=function(An,Jn){return Ct.serialize(An,Jn)},Ba=function(An){var Jn,Ir;if(_m!==Li.DOM&&e===document){if(o[An])return;o[An]=!0}Ir=e.getElementById("mceDefaultStyles"),Ir||(Ir=e.createElement("style"),Ir.id="mceDefaultStyles",Ir.type="text/css",Jn=e.getElementsByTagName("head")[0],Jn.firstChild?Jn.insertBefore(Ir,Jn.firstChild):Jn.appendChild(Ir)),Ir.styleSheet?Ir.styleSheet.cssText+=An:Ir.appendChild(e.createTextNode(An))},ui=function(An){An||(An=""),Ft(An.split(","),function(Jn){l[Jn]=!0,E.load(Jn,vt)})},Nu=function(An,Jn,Ir){pn(An).toggleClass(Jn,Ir).each(function(){this.className===""&&po(this).attr("class",null)})},wu=function(An,Jn){pn(An).addClass(Jn)},Ss=function(An,Jn){Nu(An,Jn,!1)},xs=function(An,Jn){return pn(An).hasClass(Jn)},Gs=function(An){pn(An).show()},Cu=function(An){pn(An).hide()},Zl=function(An){return pn(An).css("display")==="none"},Xs=function(An){return(An||"mce_")+c++},id=function(An){var Jn=typeof An=="string"?Qt(An):An;return Da(Jn)?Jn.outerHTML:po("<div></div>").append(po(Jn).clone()).html()},Uo=function(An,Jn){pn(An).each(function(){try{if("outerHTML"in this){this.outerHTML=Jn;return}}catch(Ir){}Gn(po(this).html(Jn),!0)})},Mi=function(An,Jn){var Ir=Qt(Jn);return Vo(An,function(Yr){var ho=Ir.parentNode,Ko=Ir.nextSibling;return Ko?ho.insertBefore(Yr,Ko):ho.appendChild(Yr),Yr})},Ru=function(An,Jn,Ir){return Vo(Jn,function(Yr){return ar.is(Yr,"array")&&(An=An.cloneNode(!0)),Ir&&lp(Nb(Yr.childNodes),function(ho){An.appendChild(ho)}),Yr.parentNode.replaceChild(An,Yr)})},Df=function(An,Jn){var Ir;return An.nodeName!==Jn.toUpperCase()&&(Ir=Ns(Jn),lp(Fn(An),function(Yr){Ln(Ir,Yr.nodeName,sn(An,Yr.nodeName))}),Ru(Ir,An,!0)),Ir||An},Nf=function(An,Jn){for(var Ir=An,Yr;Ir;){for(Yr=Jn;Yr&&Ir!==Yr;)Yr=Yr.parentNode;if(Ir===Yr)break;Ir=Ir.parentNode}return!Ir&&An.ownerDocument?An.ownerDocument.documentElement:Ir},Rf=function(An){return Ct.toHex(ar.trim(An))},Ov=function(An){if(Da(An)){var Jn=An.nodeName.toLowerCase()==="a"&&!sn(An,"href")&&sn(An,"id");if(sn(An,"name")||sn(An,"data-mce-bookmark")||Jn)return!0}return!1},e2=function(An,Jn){var Ir,Yr,ho=0;if(Ov(An))return!1;if(An=An.firstChild,An){var Ko=new bi(An,An.parentNode),Bi=bt?bt.getWhiteSpaceElements():{};Jn=Jn||(bt?bt.getNonEmptyElements():null);do{if(Ir=An.nodeType,Da(An)){var Mv=An.getAttribute("data-mce-bogus");if(Mv){An=Ko.next(Mv==="all");continue}if(Yr=An.nodeName.toLowerCase(),Jn&&Jn[Yr]){if(Yr==="br"){ho++,An=Ko.next();continue}return!1}if(Ov(An))return!1}if(Ir===8||Ir===3&&!nf(An.nodeValue)||Ir===3&&An.parentNode&&Bi[An.parentNode.nodeName]&&nf(An.nodeValue))return!1;An=Ko.next()}while(An)}return ho<=1},t2=function(){return e.createRange()},LH=function(An,Jn,Ir){var Yr=t2(),ho,Ko,Bi;if(An&&Jn)return Yr.setStart(An.parentNode,Uv(An)),Yr.setEnd(Jn.parentNode,Uv(Jn)),ho=Yr.extractContents(),Yr=t2(),Yr.setStart(Jn.parentNode,Uv(Jn)+1),Yr.setEnd(An.parentNode,Uv(An)+1),Ko=Yr.extractContents(),Bi=An.parentNode,Bi.insertBefore(Z0(_m,ho),An),Ir?Bi.insertBefore(Ir,An):Bi.insertBefore(Jn,An),Bi.insertBefore(Z0(_m,Ko),An),Gn(An),Ir||Jn},O0=function(An,Jn,Ir,Yr){if(ar.isArray(An)){for(var ho=An.length,Ko=[];ho--;)Ko[ho]=O0(An[ho],Jn,Ir,Yr);return Ko}r.collect&&(An===e||An===u)&&rt.push([An,Jn,Ir,Yr]);var Bi=kt.bind(An,Jn,Ir,Yr||_m);return Bi},M0=function(An,Jn,Ir){if(ar.isArray(An)){for(var Yr=An.length,ho=[];Yr--;)ho[Yr]=M0(An[Yr],Jn,Ir);return ho}else{if(rt.length>0&&(An===e||An===u))for(var Yr=rt.length;Yr--;){var Ko=rt[Yr];An===Ko[0]&&(!Jn||Jn===Ko[1])&&(!Ir||Ir===Ko[2])&&kt.unbind(Ko[0],Ko[1],Ko[2])}return kt.unbind(An,Jn,Ir)}},BH=function(An,Jn,Ir){return kt.fire(An,Jn,Ir)},AN=function(An){if(An&&Da(An)){var Jn=An.getAttribute("data-mce-contenteditable");return Jn&&Jn!=="inherit"?Jn:An.contentEditable!=="inherit"?An.contentEditable:null}else return null},PH=function(An){for(var Jn=$n(),Ir=null;An&&An!==Jn&&(Ir=AN(An),Ir===null);An=An.parentNode);return Ir},IH=function(){if(rt.length>0)for(var An=rt.length;An--;){var Jn=rt[An];kt.unbind(Jn[0],Jn[1],Jn[2])}Mr(l,function(Ir,Yr){E.unload(Yr),delete l[Yr]}),yi.setDocument&&yi.setDocument()},FH=function(An,Jn){if(Ew){for(;An;){if(Jn===An)return!0;An=An.parentNode}return!1}else return An===Jn||Jn.contains(An)},HH=function(An){return"startContainer: "+An.startContainer.nodeName+", startOffset: "+An.startOffset+", endContainer: "+An.endContainer.nodeName+", endOffset: "+An.endOffset},_m={doc:e,settings:r,win:u,files:l,stdMode:b,boxModel:S,styleSheetLoader:E,boundEvents:rt,styles:Ct,schema:bt,events:kt,isBlock:Yt,$:Kt,$$:pn,root:null,clone:Cn,getRoot:$n,getViewPort:vr,getRect:Lr,getSize:Ea,getParent:Kr,getParents:Pr,get:Qt,getNext:Tr,getPrev:ua,select:So,is:ta,add:Ii,create:Ns,createHTML:Vr,createFragment:ka,remove:Gn,setStyle:Fa,getStyle:pr,setStyles:ra,removeAllAttribs:Nr,setAttrib:Ln,setAttribs:zo,getAttrib:sn,getPos:Dr,parseStyle:Or,serializeStyle:Ma,addStyle:Ba,loadCSS:ui,addClass:wu,removeClass:Ss,hasClass:xs,toggleClass:Nu,show:Gs,hide:Cu,isHidden:Zl,uniqueId:Xs,setHTML:Vu,getOuterHTML:id,setOuterHTML:Uo,decode:Ml,encode:Ar,insertAfter:Mi,replace:Ru,rename:Df,findCommonAncestor:Nf,toHex:Rf,run:Vo,getAttribs:Fn,isEmpty:e2,createRng:t2,nodeIndex:Uv,split:LH,bind:O0,unbind:M0,fire:BH,getContentEditable:AN,getContentEditableParent:PH,destroy:IH,isChildOf:FH,dumpRng:HH},ud=lf(Ct,r,At(_m));return _m};Li.DOM=Li(document),Li.nodeIndex=Uv;var jv=Li.DOM,Rb=ar.each,cp=ar.grep,kw=0,H2=1,Lb=2,z2=3,md=function(){function e(r){r===void 0&&(r={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=r}return e.prototype._setReferrerPolicy=function(r){this.settings.referrerPolicy=r},e.prototype.loadScript=function(r,o,u){var l=jv,c,b=function(){l.remove(rt),c&&(c.onerror=c.onload=c=null)},S=function(){b(),o()},E=function(){b(),Tt(u)&&u()},rt=l.uniqueId();c=document.createElement("script"),c.id=rt,c.type="text/javascript",c.src=ar._addCacheSuffix(r),this.settings.referrerPolicy&&l.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=S,c.onerror=E,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)},e.prototype.isDone=function(r){return this.states[r]===Lb},e.prototype.markDone=function(r){this.states[r]=Lb},e.prototype.add=function(r,o,u,l){var c=this.states[r];this.queue.push(r),c===void 0&&(this.states[r]=kw),o&&(this.scriptLoadedCallbacks[r]||(this.scriptLoadedCallbacks[r]=[]),this.scriptLoadedCallbacks[r].push({success:o,failure:l,scope:u||this}))},e.prototype.load=function(r,o,u,l){return this.add(r,o,u,l)},e.prototype.remove=function(r){delete this.states[r],delete this.scriptLoadedCallbacks[r]},e.prototype.loadQueue=function(r,o,u){this.loadScripts(this.queue,r,o,u)},e.prototype.loadScripts=function(r,o,u,l){var c=this,b=[],S=function(rt,bt){Rb(c.scriptLoadedCallbacks[bt],function(Ct){Tt(Ct[rt])&&Ct[rt].call(Ct.scope)}),c.scriptLoadedCallbacks[bt]=void 0};c.queueLoadedCallbacks.push({success:o,failure:l,scope:u||this});var E=function(){var rt=cp(r);if(r.length=0,Rb(rt,function(Ct){if(c.states[Ct]===Lb){S("success",Ct);return}if(c.states[Ct]===z2){S("failure",Ct);return}c.states[Ct]!==H2&&(c.states[Ct]=H2,c.loading++,c.loadScript(Ct,function(){c.states[Ct]=Lb,c.loading--,S("success",Ct),E()},function(){c.states[Ct]=z2,c.loading--,b.push(Ct),S("failure",Ct),E()}))}),!c.loading){var bt=c.queueLoadedCallbacks.slice(0);c.queueLoadedCallbacks.length=0,Rb(bt,function(Ct){b.length===0?Tt(Ct.success)&&Ct.success.call(Ct.scope):Tt(Ct.failure)&&Ct.failure.call(Ct.scope,b)})}};E()},e.ScriptLoader=new e,e}(),zs=function(e){var r=e,o=function(){return r},u=function(l){r=l};return{get:o,set:u}},Tw=function(e){return ut(e)&&Ya(e,"raw")},BR=function(e){return ct(e)&&e.length>1},fp={},Vh=zs("en"),$2=function(){return Ka(fp,Vh.get())},PR=function(){return jr(fp,function(e){return ga({},e)})},IR=function(e){e&&Vh.set(e)},Bb=function(){return Vh.get()},Wv=function(e,r){var o=fp[e];o||(fp[e]=o={}),Mr(r,function(u,l){o[l.toLowerCase()]=u})},Pb=function(e){var r=$2().getOr({}),o=function(E){return Tt(E)?Object.prototype.toString.call(E):u(E)?"":""+E},u=function(E){return E===""||E===null||E===void 0},l=function(E){var rt=o(E);return Ka(r,rt.toLowerCase()).map(o).getOr(rt)},c=function(E){return E.replace(/{context:\w+}$/,"")};if(u(e))return"";if(Tw(e))return o(e.raw);if(BR(e)){var b=e.slice(1),S=l(e[0]).replace(/\{([0-9]+)\}/g,function(E,rt){return Ya(b,rt)?o(b[rt]):E});return c(S)}return c(l(e))},Wo=function(){return $2().bind(function(e){return Ka(e,"_dir")}).exists(function(e){return e==="rtl"})},xl=function(e){return Ya(fp,e)},$s={getData:PR,setCode:IR,getCode:Bb,add:Wv,translate:Pb,isRtl:Wo,hasCode:xl},il=function(){var e=[],r={},o={},u=[],l=function(Yt,Qt){var pn=Jt(u,function(sn){return sn.name===Yt&&sn.state===Qt});Ft(pn,function(sn){return sn.callback()})},c=function(Yt){if(o[Yt])return o[Yt].instance},b=function(Yt){var Qt;return o[Yt]&&(Qt=o[Yt].dependencies),Qt||[]},S=function(Yt,Qt){il.languageLoad!==!1&&Kt(Yt,function(){var pn=$s.getCode(),sn=","+(Qt||"")+",";!pn||Qt&&sn.indexOf(","+pn+",")===-1||md.ScriptLoader.add(r[Yt]+"/langs/"+pn+".js")},"loaded")},E=function(Yt,Qt,pn){var sn=Qt;return e.push(sn),o[Yt]={instance:sn,dependencies:pn},l(Yt,"added"),sn},rt=function(Yt){delete r[Yt],delete o[Yt]},bt=function(Yt,Qt){return typeof Qt=="object"?Qt:typeof Yt=="string"?{prefix:"",resource:Qt,suffix:""}:{prefix:Yt.prefix,resource:Qt,suffix:Yt.suffix}},Ct=function(Yt,Qt){var pn=r[Yt];Ft(Qt,function(sn){md.ScriptLoader.add(pn+"/"+sn)})},kt=function(Yt,Qt,pn,sn){var Fn=b(Yt);Ft(Fn,function(Ln){var Cn=bt(Qt,Ln);Ut(Cn.resource,Cn,void 0,void 0)}),pn&&(sn?pn.call(sn):pn.call(md))},Ut=function(Yt,Qt,pn,sn,Fn){if(!r[Yt]){var Ln=typeof Qt=="string"?Qt:Qt.prefix+Qt.resource+Qt.suffix;Ln.indexOf("/")!==0&&Ln.indexOf("://")===-1&&(Ln=il.baseURL+"/"+Ln),r[Yt]=Ln.substring(0,Ln.lastIndexOf("/"));var Cn=function(){l(Yt,"loaded"),kt(Yt,Qt,pn,sn)};o[Yt]?Cn():md.ScriptLoader.add(Ln,Cn,sn,Fn)}},Kt=function(Yt,Qt,pn){pn===void 0&&(pn="added"),Ya(o,Yt)&&pn==="added"||Ya(r,Yt)&&pn==="loaded"?Qt():u.push({name:Yt,state:pn,callback:Qt})};return{items:e,urls:r,lookup:o,_listeners:u,get:c,dependencies:b,requireLangPack:S,add:E,remove:rt,createUrl:bt,addComponents:Ct,load:Ut,waitFor:Kt}};il.languageLoad=!0,il.baseURL="",il.PluginManager=il(),il.ThemeManager=il();var Oi=function(e){var r=zs(ot.none()),o=function(){return r.get().each(e)},u=function(){o(),r.set(ot.none())},l=function(){return r.get().isSome()},c=function(){return r.get()},b=function(S){o(),r.set(ot.some(S))};return{clear:u,isSet:l,get:c,set:b}},qv=function(){var e=Oi(vt),r=function(o){return e.get().each(o)};return ga(ga({},e),{on:r})},Ib=function(e,r){var o=null,u=function(){qe(o)||(clearTimeout(o),o=null)},l=function(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];qe(o)&&(o=setTimeout(function(){o=null,e.apply(null,c)},r))};return{cancel:u,throttle:l}},Gu=function(e,r){var o=null,u=function(){qe(o)||(clearTimeout(o),o=null)},l=function(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];u(),o=setTimeout(function(){o=null,e.apply(null,c)},r)};return{cancel:u,throttle:l}},Wf=function(e,r){var o=Dt(e,r);return o===void 0||o===""?[]:o.split(" ")},FR=function(e,r,o){var u=Wf(e,r),l=u.concat([o]);return tt(e,r,l.join(" ")),!0},HR=function(e,r,o){var u=Jt(Wf(e,r),function(l){return l!==o});return u.length>0?tt(e,r,u.join(" ")):or(e,r),!1},Fb=function(e){return e.dom.classList!==void 0},Hb=function(e){return Wf(e,"class")},Aw=function(e,r){return FR(e,"class",r)},_w=function(e,r){return HR(e,"class",r)},dp=function(e,r){Fb(e)?e.dom.classList.add(r):Aw(e,r)},V2=function(e){var r=Fb(e)?e.dom.classList:Hb(e);r.length===0&&or(e,"class")},U2=function(e,r){if(Fb(e)){var o=e.dom.classList;o.remove(r)}else _w(e,r);V2(e)},Ow=function(e,r){return Fb(e)&&e.dom.classList.contains(r)},Mw=function(e,r){var o=[];return Ft(cs(e),function(u){r(u)&&(o=o.concat([u])),o=o.concat(Mw(u,r))}),o},as=function(e,r){return ao(r,e)},El=At("mce-annotation"),Uh=At("data-mce-annotation"),Ou=At("data-mce-annotation-uid"),j2=function(e,r){var o=e.selection.getRng(),u=ft.fromDom(o.startContainer),l=ft.fromDom(e.getBody()),c=r.fold(function(){return"."+El()},function(rt){return"["+Uh()+'="'+rt+'"]'}),b=Yc(u,o.startOffset).getOr(u),S=su(b,c,function(rt){return ja(rt,l)}),E=function(rt,bt){return Bn(rt,bt)?ot.some(Dt(rt,bt)):ot.none()};return S.bind(function(rt){return E(rt,""+Ou()).bind(function(bt){return E(rt,""+Uh()).map(function(Ct){var kt=W2(e,bt);return{uid:bt,name:Ct,elements:kt}})})})},Xd=function(e){return Di(e)&&Ow(e,El())},W2=function(e,r){var o=ft.fromDom(e.getBody());return as(o,"["+Ou()+'="'+r+'"]')},q2=function(e,r){var o=ft.fromDom(e.getBody()),u=as(o,"["+Uh()+'="'+r+'"]'),l={};return Ft(u,function(c){var b=Dt(c,Ou()),S=Ka(l,b).getOr([]);l[b]=S.concat([c])}),l},K2=function(e,r){var o=zs({}),u=function(){return{listeners:[],previous:qv()}},l=function(bt,Ct){c(bt,function(kt){return Ct(kt),kt})},c=function(bt,Ct){var kt=o.get(),Ut=Ka(kt,bt).getOrThunk(u),Kt=Ct(Ut);kt[bt]=Kt,o.set(kt)},b=function(bt,Ct,kt){l(bt,function(Ut){Ft(Ut.listeners,function(Kt){return Kt(!0,bt,{uid:Ct,nodes:ln(kt,function(Yt){return Yt.dom})})})})},S=function(bt){l(bt,function(Ct){Ft(Ct.listeners,function(kt){return kt(!1,bt)})})},E=Gu(function(){var bt=o.get(),Ct=Pn(ir(bt));Ft(Ct,function(kt){c(kt,function(Ut){var Kt=Ut.previous.get();return j2(e,ot.some(kt)).fold(function(){Kt.isSome()&&(S(kt),Ut.previous.clear())},function(Yt){var Qt=Yt.uid,pn=Yt.name,sn=Yt.elements;al(Kt,Qt)||(b(pn,Qt,sn),Ut.previous.set(Qt))}),{previous:Ut.previous,listeners:Ut.listeners}})})},30);e.on("remove",function(){E.cancel()}),e.on("NodeChange",function(){E.throttle()});var rt=function(bt,Ct){c(bt,function(kt){return{previous:kt.previous,listeners:kt.listeners.concat([Ct])}})};return{addListener:rt}},Dw=function(e,r){var o=function(u){return ot.from(u.attr(Uh())).bind(r.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(u){Ft(u,function(l){o(l).each(function(c){c.persistent===!1&&l.unwrap()})})})})},Nw=function(){var e={},r=function(u,l){e[u]={name:u,settings:l}},o=function(u){return Ka(e,u).map(function(l){return l.settings})};return{register:r,lookup:o}},Rw=0,Y2=function(e){var r=new Date,o=r.getTime(),u=Math.floor(Math.random()*1e9);return Rw++,e+"_"+u+Rw+String(o)},zR=function(e,r){Ft(r,function(o){dp(e,o)})},hs=function(e,r){var o=r||document,u=o.createElement("div");return u.innerHTML=e,cs(ft.fromDom(u))},gs=function(e){return ln(e,ft.fromDom)},ul=function(e){return e.dom.innerHTML},Vs=function(e,r){var o=Dd(e),u=o.dom,l=ft.fromDom(u.createDocumentFragment()),c=hs(r,u);Ke(l,c),St(e),p(e,l)},sl=function(e,r){return ft.fromDom(e.dom.cloneNode(r))},gu=function(e){return sl(e,!1)},zb=function(e){return sl(e,!0)},$b=function(e,r,o){o===void 0&&(o=cn);var u=new bi(e,r),l=function(c){var b;do b=u[c]();while(b&&!Gr(b)&&!o(b));return ot.from(b).filter(Gr)};return{current:function(){return ot.from(u.current()).filter(Gr)},next:function(){return l("next")},prev:function(){return l("prev")},prev2:function(){return l("prev2")}}},Lw=function(e,r){var o=r||function(b){return e.isBlock(b)||Qo(b)||Si(b)},u=function(b,S,E,rt){if(Gr(b)){var bt=rt(b,S,b.data);if(bt!==-1)return ot.some({container:b,offset:bt})}return E().bind(function(Ct){return u(Ct.container,Ct.offset,E,rt)})},l=function(b,S,E,rt){var bt=$b(b,rt,o);return u(b,S,function(){return bt.prev().map(function(Ct){return{container:Ct,offset:Ct.length}})},E).getOrNull()},c=function(b,S,E,rt){var bt=$b(b,rt,o);return u(b,S,function(){return bt.next().map(function(Ct){return{container:Ct,offset:0}})},E).getOrNull()};return{backwards:l,forwards:c}},Kv=Math.round,Qd=function(e){return e?{left:Kv(e.left),top:Kv(e.top),bottom:Kv(e.bottom),right:Kv(e.right),width:Kv(e.width),height:Kv(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Bw=function(e,r){return e=Qd(e),r||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Pw=function(e,r){return e.left===r.left&&e.top===r.top&&e.bottom===r.bottom&&e.right===r.right},Vb=function(e,r,o){return e>=0&&e<=Math.min(r.height,o.height)/2},vp=function(e,r){var o=Math.min(r.height/2,e.height/2);return e.bottom-o<r.top?!0:e.top>r.bottom?!1:Vb(r.top-e.bottom,e,r)},mp=function(e,r){return e.top>r.bottom?!0:e.bottom<r.top?!1:Vb(r.bottom-e.top,e,r)},G2=function(e,r,o){return r>=e.left&&r<=e.right&&o>=e.top&&o<=e.bottom},$R=function(e,r,o){return Math.min(Math.max(e,r),o)},Ub=function(e){var r=e.startContainer,o=e.startOffset;return r.hasChildNodes()&&e.endOffset===o+1?r.childNodes[o]:null},qf=function(e,r){if(Da(e)&&e.hasChildNodes()){var o=e.childNodes,u=$R(r,0,o.length-1);return o[u]}else return e},VR=function(e,r){if(!(r<0&&Da(e)&&e.hasChildNodes()))return qf(e,r)},UR=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),X2=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&UR.test(e)},jR=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(o){for(var u=0;u<e.length;u++)if(e[u](o))return!0;return!1}},Q2=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(o){for(var u=0;u<e.length;u++)if(!e[u](o))return!1;return!0}},Wr=Da,WR=Vf,zu=Ku("display","block table"),qR=Ku("float","left right"),pp=Q2(Wr,WR,Sn(qR)),KR=Sn(Ku("white-space","pre pre-line pre-wrap")),ll=Gr,Iw=Qo,J2=Li.nodeIndex,jh=VR,cf=function(e){return"createRange"in e?e.createRange():Li.DOM.createRng()},Fw=function(e){return e&&/[\r\n\t ]/.test(e)},Hw=function(e){return!!e.setStart&&!!e.setEnd},ff=function(e){var r=e.startContainer,o=e.startOffset;if(Fw(e.toString())&&KR(r.parentNode)&&Gr(r)){var u=r.data;if(Fw(u[o-1])||Fw(u[o+1]))return!0}return!1},df=function(e){var r=e.ownerDocument,o=cf(r),u=r.createTextNode(yl),l=e.parentNode;l.insertBefore(u,e),o.setStart(u,0),o.setEnd(u,1);var c=Qd(o.getBoundingClientRect());return l.removeChild(u),c},Z2=function(e){var r=e.startContainer,o=e.endContainer,u=e.startOffset,l=e.endOffset;if(r===o&&Gr(o)&&u===0&&l===1){var c=e.cloneRange();return c.setEndAfter(o),Jd(c)}else return null},Nc=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Jd=function(e){var r,o=e.getClientRects();return o.length>0?r=Qd(o[0]):r=Qd(e.getBoundingClientRect()),!Hw(e)&&Iw(e)&&Nc(r)?df(e):Nc(r)&&Hw(e)?Z2(e):r},Zd=function(e,r){var o=Bw(e,r);return o.width=1,o.right=o.left+1,o},zw=function(e){var r=[],o=function(E){E.height!==0&&(r.length>0&&Pw(E,r[r.length-1])||r.push(E))},u=function(E,rt){var bt=cf(E.ownerDocument);if(rt<E.data.length){if(X2(E.data[rt]))return r;if(X2(E.data[rt-1])&&(bt.setStart(E,rt),bt.setEnd(E,rt+1),!ff(bt)))return o(Zd(Jd(bt),!1)),r}rt>0&&(bt.setStart(E,rt-1),bt.setEnd(E,rt),ff(bt)||o(Zd(Jd(bt),!1))),rt<E.data.length&&(bt.setStart(E,rt),bt.setEnd(E,rt+1),ff(bt)||o(Zd(Jd(bt),!0)))},l=e.container(),c=e.offset();if(ll(l))return u(l,c),r;if(Wr(l))if(e.isAtEnd()){var b=jh(l,c);ll(b)&&u(b,b.data.length),pp(b)&&!Iw(b)&&o(Zd(Jd(b),!1))}else{var b=jh(l,c);if(ll(b)&&u(b,0),pp(b)&&e.isAtEnd())return o(Zd(Jd(b),!1)),r;var S=jh(e.container(),e.offset()-1);pp(S)&&!Iw(S)&&(zu(S)||zu(b)||!pp(b))&&o(Zd(Jd(S),!1)),pp(b)&&o(Zd(Jd(b),!0))}return r},nr=function(e,r,o){var u=function(){return ll(e),r===0},l=function(){return ll(e)?r>=e.data.length:r>=e.childNodes.length},c=function(){var bt=cf(e.ownerDocument);return bt.setStart(e,r),bt.setEnd(e,r),bt},b=function(){return o||(o=zw(nr(e,r))),o},S=function(){return b().length>0},E=function(bt){return bt&&e===bt.container()&&r===bt.offset()},rt=function(bt){return jh(e,bt?r-1:r)};return{container:At(e),offset:At(r),toRange:c,getClientRects:b,isVisible:S,isAtStart:u,isAtEnd:l,isEqual:E,getNode:rt}};nr.fromRangeStart=function(e){return nr(e.startContainer,e.startOffset)},nr.fromRangeEnd=function(e){return nr(e.endContainer,e.endOffset)},nr.after=function(e){return nr(e.parentNode,J2(e)+1)},nr.before=function(e){return nr(e.parentNode,J2(e))},nr.isAbove=function(e,r){return pu(kr(r.getClientRects()),$r(e.getClientRects()),vp).getOr(!1)},nr.isBelow=function(e,r){return pu($r(r.getClientRects()),kr(e.getClientRects()),mp).getOr(!1)},nr.isAtStart=function(e){return e?e.isAtStart():!1},nr.isAtEnd=function(e){return e?e.isAtEnd():!1},nr.isTextPosition=function(e){return e?Gr(e.container()):!1},nr.isElementPosition=function(e){return nr.isTextPosition(e)===!1};var Wh=function(e,r){Gr(r)&&r.data.length===0&&e.remove(r)},$w=function(e,r,o){r.insertNode(o),Wh(e,o.previousSibling),Wh(e,o.nextSibling)},YR=function(e,r,o){var u=ot.from(o.firstChild),l=ot.from(o.lastChild);r.insertNode(o),u.each(function(c){return Wh(e,c.previousSibling)}),l.each(function(c){return Wh(e,c.nextSibling)})},jb=function(e,r,o){Ga(o)?YR(e,r,o):$w(e,r,o)},vf=Gr,ek=Pl,tk=Li.nodeIndex,nk=function(e){var r=e.parentNode;return ek(r)?nk(r):r},Vw=function(e){return e?$i(e.childNodes,function(r,o){return ek(o)&&o.nodeName!=="BR"?r=r.concat(Vw(o)):r.push(o),r},[]):[]},Uw=function(e,r){for(;(e=e.previousSibling)&&vf(e);)r+=e.data.length;return r},rk=function(e){return function(r){return e===r}},ak=function(e){var r,o;r=Vw(nk(e)),o=fo(r,rk(e),e),r=r.slice(0,o+1);var u=$i(r,function(l,c,b){return vf(c)&&vf(r[b-1])&&l++,l},0);return r=pi(r,Ni([e.nodeName])),o=fo(r,rk(e),e),o-u},ok=function(e){var r;return vf(e)?r="text()":r=e.nodeName.toLowerCase(),r+"["+ak(e)+"]"},Wb=function(e,r,o){var u=[];for(r=r.parentNode;r!==e;r=r.parentNode)u.push(r);return u},ik=function(e,r){var o,u,l=[],c,b,S;return o=r.container(),u=r.offset(),vf(o)?c=Uw(o,u):(b=o.childNodes,u>=b.length?(c="after",u=b.length-1):c="before",o=b[u]),l.push(ok(o)),S=Wb(e,o),S=pi(S,Sn(Pl)),l=l.concat(ou(S,function(E){return ok(E)})),l.reverse().join("/")+","+c},GR=function(e,r,o){var u=Vw(e);return u=pi(u,function(l,c){return!vf(l)||!vf(u[c-1])}),u=pi(u,Ni([r])),u[o]},XR=function(e,r){for(var o=e,u=0,l;vf(o);){if(l=o.data.length,r>=u&&r<=u+l){e=o,r=r-u;break}if(!vf(o.nextSibling)){e=o,r=l;break}u+=l,o=o.nextSibling}return vf(e)&&r>e.data.length&&(r=e.data.length),nr(e,r)},uk=function(e,r){var o;if(!r)return null;var u=r.split(","),l=u[0].split("/");o=u.length>1?u[1]:"before";var c=$i(l,function(b,S){var E=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(S);return E?(E[1]==="text()"&&(E[1]="#text"),GR(b,E[1],parseInt(E[2],10))):null},e);return c?vf(c)?XR(c,parseInt(o,10)):(o==="after"?o=tk(c)+1:o=tk(c),nr(c.parentNode,o)):null},qb=Si,jw=function(e,r,o){var u,l;for(l=e(r.data.slice(0,o)).length,u=r.previousSibling;u&&Gr(u);u=u.previousSibling)l+=e(u.data).length;return l},Ww=function(e,r,o,u,l){var c=u[l?"startContainer":"endContainer"],b=u[l?"startOffset":"endOffset"],S=[],E,rt=0,bt=e.getRoot();for(Gr(c)?S.push(o?jw(r,c,b):b):(E=c.childNodes,b>=E.length&&E.length&&(rt=1,b=Math.max(0,E.length-1)),S.push(e.nodeIndex(E[b],o)+rt));c&&c!==bt;c=c.parentNode)S.push(e.nodeIndex(c,o));return S},hp=function(e,r,o,u){var l=r.dom,c={};return c.start=Ww(l,e,o,u,!0),r.isCollapsed()||(c.end=Ww(l,e,o,u,!1)),$f(u)&&(c.isFakeCaret=!0),c},qw=function(e,r,o){var u=0;return ar.each(e.select(r),function(l){if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;u++}}),u},Xi=function(e,r){var o,u,l,c=r?"start":"end";o=e[c+"Container"],u=e[c+"Offset"],Da(o)&&o.nodeName==="TR"&&(l=o.childNodes,o=l[Math.min(r?u:u-1,l.length-1)],o&&(u=r?0:o.childNodes.length,e["set"+(r?"Start":"End")](o,u)))},Kw=function(e){return Xi(e,!0),Xi(e,!1),e},fu=function(e,r){var o;if(Da(e)&&(e=qf(e,r),qb(e)))return e;if(lc(e)&&(Gr(e)&&ji(e)&&(e=e.parentNode),o=e.previousSibling,qb(o)||(o=e.nextSibling,qb(o))))return o},Kb=function(e){return fu(e.startContainer,e.startOffset)||fu(e.endContainer,e.endOffset)},Yw=function(e,r,o){var u=o.getNode(),l=u?u.nodeName:null,c=o.getRng();if(qb(u)||l==="IMG")return{name:l,index:qw(o.dom,l,u)};var b=Kb(c);return b?(l=b.tagName,{name:l,index:qw(o.dom,l,b)}):hp(e,o,r,c)},sk=function(e){var r=e.getRng();return{start:ik(e.dom.getRoot(),nr.fromRangeStart(r)),end:ik(e.dom.getRoot(),nr.fromRangeEnd(r))}},Yb=function(e){return{rng:e.getRng()}},lk=function(e,r,o){var u={"data-mce-type":"bookmark",id:r,style:"overflow:hidden;line-height:0px"};return o?e.create("span",u,"&#xFEFF;"):e.create("span",u)},ck=function(e,r){var o=e.dom,u=e.getRng(),l=o.uniqueId(),c=e.isCollapsed(),b=e.getNode(),S=b.nodeName;if(S==="IMG")return{name:S,index:qw(o,S,b)};var E=Kw(u.cloneRange());if(!c){E.collapse(!1);var rt=lk(o,l+"_end",r);jb(o,E,rt)}u=Kw(u),u.collapse(!0);var bt=lk(o,l+"_start",r);return jb(o,u,bt),e.moveToBookmark({id:l,keep:!0}),{id:l}},QR=function(e,r,o){return r===2?Yw(Cl,o,e):r===3?sk(e):r?Yb(e):ck(e,!1)},fk=Ht(Yw,nn,!0),JR=Li.DOM,ZR="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",dk=function(e,r,o){var u=e.getParam(r,o);if(u.indexOf("=")!==-1){var l=e.getParam(r,"","hash");return Ka(l,e.id).getOr(o)}else return u},eL=function(e){return e.getParam("iframe_attrs",{})},tL=function(e){return e.getParam("doctype","<!DOCTYPE html>")},nL=function(e){return e.getParam("document_base_url","")},rL=function(e){return dk(e,"body_id","tinymce")},aL=function(e){return dk(e,"body_class","")},vk=function(e){return e.getParam("content_security_policy","")},oL=function(e){return e.getParam("br_in_pre",!0)},bs=function(e){if(e.getParam("force_p_newlines",!1))return"p";var r=e.getParam("forced_root_block","p");return r===!1?"":r===!0?"p":r},qh=function(e){return e.getParam("forced_root_block_attrs",{})},Kh=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},mk=function(e){return e.getParam("no_newline_selector","")},iL=function(e){return e.getParam("keep_styles",!0)},uL=function(e){return e.getParam("end_container_on_empty_block",!1)},sL=function(e){return ar.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},gp=function(e){return ar.explode(e.getParam("font_size_classes",""))},Gb=function(e){return e.getParam("images_dataimg_filter",yt,"function")},Yh=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Gw=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},lL=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Kf=function(e){return e.getParam("icons","","string")},Xw=function(e){return e.getParam("icons_url","","string")},cL=function(e){return e.getParam("images_upload_url","","string")},ev=function(e){return e.getParam("images_upload_base_path","","string")},Xb=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},fL=function(e){return e.getParam("images_upload_handler",null,"function")},dL=function(e){return e.getParam("content_css_cors",!1,"boolean")},pk=function(e){return e.getParam("referrer_policy","","string")},hk=function(e){return e.getParam("language","en","string")},gk=function(e){return e.getParam("language_url","","string")},bk=function(e){return e.getParam("indent_use_margin",!1)},vL=function(e){return e.getParam("indentation","40px","string")},yk=function(e){var r=e.getParam("content_css");return Ye(r)?ln(r.split(","),fn):ct(r)?r:r===!1||e.inline?[]:["default"]},wk=function(e){var r=e.getParam("font_css",[]);return ct(r)?r:ln(r.split(","),fn)},Ck=function(e){return e.getParam("directionality",$s.isRtl()?"rtl":void 0)},mL=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Sk=function(e){var r=e.getParam("object_resizing");return r===!1||Na.iOS?!1:Ye(r)?r:"table,img,figure.image,div,video,iframe"},pL=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},xk=function(e){return e.getParam("placeholder",JR.getAttrib(e.getElement(),"placeholder"),"string")},Qw=function(e){return e.getParam("event_root")},Ek=function(e){return e.getParam("service_message")},Gh=function(e){return e.getParam("theme")},hL=function(e){return e.getParam("validate")},Xh=function(e){return e.getParam("inline_boundaries")!==!1},gL=function(e){return e.getParam("formats")},bL=function(e){var r=e.getParam("preview_styles",ZR);return Ye(r)?r:""},Jw=function(e){return e.getParam("format_empty_lines",!1,"boolean")},Zw=function(e){return e.getParam("custom_ui_selector","","string")},yL=function(e){return e.getParam("theme_url")},wL=function(e){return e.getParam("inline")},CL=function(e){return e.getParam("hidden_input")},SL=function(e){return e.getParam("submit_patch")},xL=function(e){return e.getParam("encoding")==="xml"},EL=function(e){return e.getParam("add_form_submit_trigger")},Qb=function(e){return e.getParam("add_unload_trigger")},kL=function(e){return bs(e)!==""},TL=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},AL=function(e){return e.getParam("disable_nodechange")},_L=function(e){return e.getParam("readonly")},OL=function(e){return e.getParam("content_css_cors")},eC=function(e){return e.getParam("plugins","","string")},ML=function(e){return e.getParam("external_plugins")},Qh=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},DL=function(e){return e.getParam("visual",!0,"boolean")},NL=function(e){return e.getParam("visual_table_class","mce-item-table","string")},kk=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Tk=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},Ak=Da,_k=Gr,Ok=function(e){var r=e.parentNode;r&&r.removeChild(e)},bp=function(e){var r=Cl(e);return{count:e.length-r.length,text:r}},tC=function(e){for(var r;(r=e.data.lastIndexOf(Dn))!==-1;)e.deleteData(r,1)},Mk=function(e,r){return Yv(e),r},RL=function(e,r){var o=bp(e.data.substr(0,r.offset())),u=bp(e.data.substr(r.offset())),l=o.text+u.text;return l.length>0?(tC(e),nr(e,r.offset()-o.count)):r},LL=function(e,r){var o=r.container(),u=Ot(Cr(o.childNodes),e).map(function(l){return l<r.offset()?nr(o,r.offset()-1):r}).getOr(r);return Yv(e),u},Dk=function(e,r){return _k(e)&&r.container()===e?RL(e,r):Mk(e,r)},BL=function(e,r){return r.container()===e.parentNode?LL(e,r):Mk(e,r)},Nk=function(e,r){return nr.isTextPosition(r)?Dk(e,r):BL(e,r)},Yv=function(e){Ak(e)&&lc(e)&&(Dh(e)?e.removeAttribute("data-mce-caret"):Ok(e)),_k(e)&&(tC(e),e.data.length===0&&Ok(e))},Jb=ba().browser,PL=Si,IL=Co,FL=Pa,HL="*[contentEditable=false],video,audio,embed,object",Rk=function(e,r,o){var u=Bw(r.getBoundingClientRect(),o),l,c;if(e.tagName==="BODY"){var b=e.ownerDocument.documentElement;l=e.scrollLeft||b.scrollLeft,c=e.scrollTop||b.scrollTop}else{var S=e.getBoundingClientRect();l=e.scrollLeft-S.left,c=e.scrollTop-S.top}u.left+=l,u.right+=l,u.top+=c,u.bottom+=c,u.width=1;var E=r.offsetWidth-r.clientWidth;return E>0&&(o&&(E*=-1),u.left+=E,u.right+=E),u},zL=function(e){for(var r=as(ft.fromDom(e),HL),o=0;o<r.length;o++){var u=r[o].dom,l=u.previousSibling;if(pb(l)){var c=l.data;c.length===1?l.parentNode.removeChild(l):l.deleteData(c.length-1,1)}if(l=u.nextSibling,mb(l)){var c=l.data;c.length===1?l.parentNode.removeChild(l):l.deleteData(0,1)}}},Us=function(e,r,o,u){var l=qv(),c,b,S=bs(e),E=S.length>0?S:"p",rt=function(Yt,Qt){var pn;if(bt(),FL(Qt))return null;if(o(Qt)){b=iR(E,Qt,Yt);var sn=Rk(r,Qt,Yt);po(b).css("top",sn.top);var Fn=po('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(ga({},sn)).appendTo(r)[0];l.set({caret:Fn,element:Qt,before:Yt}),Yt&&po(Fn).addClass("mce-visual-caret-before"),Ct(),pn=Qt.ownerDocument.createRange(),pn.setStart(b,0),pn.setEnd(b,0)}else return b=W0(Qt,Yt),pn=Qt.ownerDocument.createRange(),Jh(b.nextSibling)?(pn.setStart(b,0),pn.setEnd(b,0)):(pn.setStart(b,1),pn.setEnd(b,1)),pn;return pn},bt=function(){zL(r),b&&(Yv(b),b=null),l.on(function(Yt){po(Yt.caret).remove(),l.clear()}),c&&(vs.clearInterval(c),c=void 0)},Ct=function(){c=vs.setInterval(function(){u()?po("div.mce-visual-caret",r).toggleClass("mce-visual-caret-hidden"):po("div.mce-visual-caret",r).addClass("mce-visual-caret-hidden")},500)},kt=function(){l.on(function(Yt){var Qt=Rk(r,Yt.element,Yt.before);po(Yt.caret).css(ga({},Qt))})},Ut=function(){return vs.clearInterval(c)},Kt=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:rt,hide:bt,getCss:Kt,reposition:kt,destroy:Ut}},Lk=function(){return Jb.isIE()||Jb.isEdge()||Jb.isFirefox()},Jh=function(e){return PL(e)||IL(e)},Gv=function(e){return Jh(e)||nu(e)&&Lk()},Zb=Si,$L=Co,VL=Ku("display","block table table-cell table-caption list-item"),nC=lc,Bk=ji,Zh=Da,UL=Vf,Xv=function(e){return e>0},tv=function(e){return e<0},e1=function(e,r){for(var o;o=e(r);)if(!Bk(o))return o;return null},yp=function(e,r,o,u,l){var c=new bi(e,u),b=Zb(e)||Bk(e);if(tv(r)){if(b&&(e=e1(c.prev.bind(c),!0),o(e)))return e;for(;e=e1(c.prev.bind(c),l);)if(o(e))return e}if(Xv(r)){if(b&&(e=e1(c.next.bind(c),!0),o(e)))return e;for(;e=e1(c.next.bind(c),l);)if(o(e))return e}return null},mf=function(e,r){for(;e&&e!==r;){if(VL(e))return e;e=e.parentNode}return null},pf=function(e,r,o){return mf(e.container(),o)===mf(r.container(),o)},t1=function(e,r){if(!r)return null;var o=r.container(),u=r.offset();return Zh(o)?o.childNodes[u+e]:null},rC=function(e,r){var o=r.ownerDocument.createRange();return e?(o.setStartBefore(r),o.setEndBefore(r)):(o.setStartAfter(r),o.setEndAfter(r)),o},Pk=function(e,r,o){return mf(r,e)===mf(o,e)},aC=function(e,r,o){for(var u=e?"previousSibling":"nextSibling";o&&o!==r;){var l=o[u];if(nC(l)&&(l=l[u]),Zb(l)||$L(l)){if(Pk(r,l,o))return l;break}if(UL(l))break;o=o.parentNode}return null},wp=Ht(rC,!0),Cp=Ht(rC,!1),n1=function(e,r,o){var u,l=Ht(aC,!0,r),c=Ht(aC,!1,r),b=o.startContainer,S=o.startOffset;if(ji(b)){Zh(b)||(b=b.parentNode);var E=b.getAttribute("data-mce-caret");if(E==="before"&&(u=b.nextSibling,Gv(u)))return wp(u);if(E==="after"&&(u=b.previousSibling,Gv(u)))return Cp(u)}if(!o.collapsed)return o;if(Gr(b)){if(nC(b)){if(e===1){if(u=c(b),u)return wp(u);if(u=l(b),u)return Cp(u)}if(e===-1){if(u=l(b),u)return Cp(u);if(u=c(b),u)return wp(u)}return o}if(pb(b)&&S>=b.data.length-1)return e===1&&(u=c(b),u)?wp(u):o;if(mb(b)&&S<=1)return e===-1&&(u=l(b),u)?Cp(u):o;if(S===b.data.length)return u=c(b),u?wp(u):o;if(S===0)return u=l(b),u?Cp(u):o}return o},oC=function(e,r){return ot.from(t1(e?0:-1,r)).filter(Zb)},Sp=function(e,r,o){var u=n1(e,r,o);return e===-1?nr.fromRangeStart(u):nr.fromRangeEnd(u)},r1=function(e){return ot.from(e.getNode()).map(ft.fromDom)},jL=function(e){return ot.from(e.getNode(!0)).map(ft.fromDom)},iC=function(e,r){for(;r=e(r);)if(r.isVisible())return r;return r},a1=function(e,r){var o=pf(e,r);return!o&&Qo(e.getNode())?!0:o},os;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(os||(os={}));var WL=Si,Yf=Gr,Ik=Da,uC=Qo,xp=Vf,sC=vR,eg=Tu,qL=function(e,r){for(var o=[];e&&e!==r;)o.push(e),e=e.parentNode;return o},Fk=function(e,r){return e.hasChildNodes()&&r<e.childNodes.length?e.childNodes[r]:null},Hk=function(e,r){if(Xv(e)){if(xp(r.previousSibling)&&!Yf(r.previousSibling))return nr.before(r);if(Yf(r))return nr(r,0)}if(tv(e)){if(xp(r.nextSibling)&&!Yf(r.nextSibling))return nr.after(r);if(Yf(r))return nr(r,r.data.length)}return tv(e)?uC(r)?nr.before(r):nr.after(r):nr.before(r)},KL=function(e,r){var o=r.nextSibling;return o&&xp(o)?Yf(o)?nr(o,0):nr.before(o):lC(os.Forwards,nr.after(r),e)},lC=function(e,r,o){var u,l,c,b;if(!Ik(o)||!r)return null;if(r.isEqual(nr.after(o))&&o.lastChild){if(b=nr.after(o.lastChild),tv(e)&&xp(o.lastChild)&&Ik(o.lastChild))return uC(o.lastChild)?nr.before(o.lastChild):b}else b=r;var S=b.container(),E=b.offset();if(Yf(S)){if(tv(e)&&E>0)return nr(S,--E);if(Xv(e)&&E<S.length)return nr(S,++E);u=S}else{if(tv(e)&&E>0&&(l=Fk(S,E-1),xp(l)))return!sC(l)&&(c=yp(l,e,eg,l),c)?Yf(c)?nr(c,c.data.length):nr.after(c):Yf(l)?nr(l,l.data.length):nr.before(l);if(Xv(e)&&E<S.childNodes.length&&(l=Fk(S,E),xp(l)))return uC(l)?KL(o,l):!sC(l)&&(c=yp(l,e,eg,l),c)?Yf(c)?nr(c,0):nr.before(c):Yf(l)?nr(l,0):nr.after(l);u=l||b.getNode()}if((Xv(e)&&b.isAtEnd()||tv(e)&&b.isAtStart())&&(u=yp(u,e,yt,o,!0),eg(u,o)))return Hk(e,u);l=yp(u,e,eg,o);var rt=Hi(Jt(qL(S,o),WL));return rt&&(!l||!rt.contains(l))?(Xv(e)?b=nr.after(rt):b=nr.before(rt),b):l?Hk(e,l):null},Qi=function(e){return{next:function(r){return lC(os.Forwards,r,e)},prev:function(r){return lC(os.Backwards,r,e)}}},o1=function(e,r,o){var u=e?nr.before(o):nr.after(o);return ql(e,r,u)},i1=function(e){return Qo(e)?nr.before(e):nr.after(e)},cC=function(e){return nr.isTextPosition(e)?e.offset()===0:Vf(e.getNode())},zk=function(e){if(nr.isTextPosition(e)){var r=e.container();return e.offset()===r.data.length}else return Vf(e.getNode(!0))},fC=function(e,r){return!nr.isTextPosition(e)&&!nr.isTextPosition(r)&&e.getNode()===r.getNode(!0)},Qv=function(e){return!nr.isTextPosition(e)&&Qo(e.getNode())},$k=function(e,r,o){return e?!fC(r,o)&&!Qv(r)&&zk(r)&&cC(o):!fC(o,r)&&cC(r)&&zk(o)},ql=function(e,r,o){var u=Qi(r);return ot.from(e?u.next(o):u.prev(o))},Gf=function(e,r,o){return ql(e,r,o).bind(function(u){return pf(o,u,r)&&$k(e,o,u)?ql(e,r,u):ot.some(u)})},dC=function(e,r,o,u){return Gf(e,r,o).bind(function(l){return u(l)?dC(e,r,l,u):ot.some(l)})},nv=function(e,r){var o=e?r.firstChild:r.lastChild;return Gr(o)?ot.some(nr(o,e?0:o.data.length)):o?Vf(o)?ot.some(e?nr.before(o):i1(o)):o1(e,r,o):ot.none()},hf=Ht(ql,!0),gf=Ht(ql,!1),js=Ht(nv,!0),bf=Ht(nv,!1),vC="_mce_caret",Xf=function(e){return Da(e)&&e.id===vC},Jv=function(e,r){for(;r&&r!==e;){if(r.id===vC)return r;r=r.parentNode}return null},Vk=function(e){return Ye(e.start)},Uk=function(e){return Ya(e,"rng")},YL=function(e){return Ya(e,"id")},GL=function(e){return Ya(e,"name")},jk=function(e){return ar.isArray(e.start)},Wk=function(e,r){return Da(r)&&e.isBlock(r)&&!r.innerHTML&&!Na.ie&&(r.innerHTML='<br data-mce-bogus="1" />'),r},qk=function(e,r){var o,u=e.createRng();return o=uk(e.getRoot(),r.start),u.setStart(o.container(),o.offset()),o=uk(e.getRoot(),r.end),u.setEnd(o.container(),o.offset()),u},XL=function(e,r){var o=e.ownerDocument.createTextNode(Dn);e.appendChild(o),r.setStart(o,0),r.setEnd(o,0)},Kk=function(e){return e.hasChildNodes()===!1},QL=function(e,r){return bf(e).fold(cn,function(o){return r.setStart(o.container(),o.offset()),r.setEnd(o.container(),o.offset()),!0})},Yk=function(e,r,o){return Kk(r)&&Jv(e,r)?(XL(r,o),!0):!1},Gk=function(e,r,o,u){var l=o[r?"start":"end"],c,b,S,E,rt=e.getRoot();if(l){for(S=l[0],b=rt,c=l.length-1;c>=1;c--){if(E=b.childNodes,Yk(rt,b,u))return!0;if(l[c]>E.length-1)return Yk(rt,b,u)?!0:QL(b,u);b=E[l[c]]}b.nodeType===3&&(S=Math.min(l[0],b.nodeValue.length)),b.nodeType===1&&(S=Math.min(l[0],b.childNodes.length)),r?u.setStart(b,S):u.setEnd(b,S)}return!0},mC=function(e){return Gr(e)&&e.data.length>0},Xk=function(e,r,o){var u=e.get(o.id+"_"+r),l,c,b,S,E=o.keep,rt,bt;if(u){if(l=u.parentNode,r==="start"?(E?u.hasChildNodes()?(l=u.firstChild,c=1):mC(u.nextSibling)?(l=u.nextSibling,c=0):mC(u.previousSibling)?(l=u.previousSibling,c=u.previousSibling.data.length):(l=u.parentNode,c=e.nodeIndex(u)+1):c=e.nodeIndex(u),rt=l,bt=c):(E?u.hasChildNodes()?(l=u.firstChild,c=1):mC(u.previousSibling)?(l=u.previousSibling,c=u.previousSibling.data.length):(l=u.parentNode,c=e.nodeIndex(u)):c=e.nodeIndex(u),rt=l,bt=c),!E){for(S=u.previousSibling,b=u.nextSibling,ar.each(ar.grep(u.childNodes),function(Ct){Gr(Ct)&&(Ct.nodeValue=Ct.nodeValue.replace(/\uFEFF/g,""))});u=e.get(o.id+"_"+r);)e.remove(u,!0);S&&b&&S.nodeType===b.nodeType&&Gr(S)&&!Na.opera&&(c=S.nodeValue.length,S.appendData(b.nodeValue),e.remove(b),rt=S,bt=c)}return ot.some(nr(rt,bt))}else return ot.none()},JL=function(e,r){var o=e.createRng();return Gk(e,!0,r,o)&&Gk(e,!1,r,o)?ot.some(o):ot.none()},Lo=function(e,r){var o=Xk(e,"start",r),u=Xk(e,"end",r);return pu(o,u.or(o),function(l,c){var b=e.createRng();return b.setStart(Wk(e,l.container()),l.offset()),b.setEnd(Wk(e,c.container()),c.offset()),b})},Zv=function(e,r){return ot.from(e.select(r.name)[r.index]).map(function(o){var u=e.createRng();return u.selectNode(o),u})},Ep=function(e,r){var o=e.dom;if(r){if(jk(r))return JL(o,r);if(Vk(r))return ot.some(qk(o,r));if(YL(r))return Lo(o,r);if(GL(r))return Zv(o,r);if(Uk(r))return ot.some(r.rng)}return ot.none()},pC=function(e,r,o){return QR(e,r,o)},ZL=function(e,r){Ep(e,r).each(function(o){e.setRng(o)})},kl=function(e){return Da(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},e3=function(e){return function(r){return e===r}},em=e3(yl),rv=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},u1=function(e){return!rv(e)&&!em(e)},s1=function(e){return!!e.nodeType},t3=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Qk=function(e,r,o){var u=o.startOffset,l=o.startContainer;if(!(l===o.endContainer&&t3(l.childNodes[u]))&&Da(l)){var c=l.childNodes,b=void 0;u<c.length?(l=c[u],b=new bi(l,e.getParent(l,e.isBlock))):(l=c[c.length-1],b=new bi(l,e.getParent(l,e.isBlock)),b.next(!0));for(var S=b.current();S;S=b.next())if(Gr(S)&&!l1(S)){o.setStart(S,0),r.setRng(o);return}}},hC=function(e,r,o){if(e){var u=r?"nextSibling":"previousSibling";for(e=o?e:e[u];e;e=e[u])if(Da(e)||!l1(e))return e}},gC=function(e,r){return s1(r)&&(r=r.nodeName),!!e.schema.getTextBlockElements()[r.toLowerCase()]},kp=function(e,r,o){return e.schema.isValidChild(r,o)},l1=function(e,r){if(r===void 0&&(r=!1),It(e)&&Gr(e)){var o=r?e.data.replace(/ /g," "):e.data;return nf(o)}else return!1},n3=function(e){return It(e)&&Gr(e)&&e.length===0},Qf=function(e,r){return Tt(e)?e=e(r):It(r)&&(e=e.replace(/%(\w+)/g,function(o,u){return r[u]||o})),e},bC=function(e,r){return e=e||"",r=r||"",e=""+(e.nodeName||e),r=""+(r.nodeName||r),e.toLowerCase()===r.toLowerCase()},yC=function(e,r,o){return(o==="color"||o==="backgroundColor")&&(r=e.toHex(r)),o==="fontWeight"&&r===700&&(r="bold"),o==="fontFamily"&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+r},tg=function(e,r,o){return yC(e,e.getStyle(r,o),o)},Jk=function(e,r){var o;return e.getParent(r,function(u){return o=e.getStyle(u,"text-decoration"),o&&o!=="none"}),o},c1=function(e,r,o){return e.getParents(r,o,e.getRoot())},r3=function(e,r){var o=function(u){var l=function(c){return c.length>1&&c.charAt(0)==="%"};return mn(["styles","attributes"],function(c){return Ka(u,c).exists(function(b){var S=ct(b)?b:_o(b);return mn(S,l)})})};return mn(e.formatter.get(r),o)},a3=function(e,r,o){var u=["inline","block","selector","attributes","styles","classes"],l=function(c){return sa(c,function(b,S){return mn(u,function(E){return E===S})})};return mn(e.formatter.get(r),function(c){var b=l(c);return mn(e.formatter.get(o),function(S){var E=l(S);return Zi(b,E)})})},Jf=function(e){return ni(e,"block")},Kl=function(e){return ni(e,"selector")},is=function(e){return ni(e,"inline")},o3=function(e){return Kl(e)&&is(e)&&al(Ka(e,"mixed"),!0)},wC=function(e){return Kl(e)&&e.expand!==!1&&!is(e)},Tp=kl,Zk=c1,eT=l1,i3=gC,u3=function(e){return Qo(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Zr=function(e,r){for(var o=r;o;){if(Da(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:r;o=o.parentNode}return r},Mu=function(e,r,o,u){for(var l=r.data,c=o;e?c>=0:c<l.length;e?c--:c++)if(u(l.charAt(c)))return e?c+1:c;return-1},f1=function(e,r,o){return Mu(e,r,o,function(u){return em(u)||rv(u)})},Xu=function(e,r,o){return Mu(e,r,o,u1)},pc=function(e,r,o,u,l,c){var b,S=e.getParent(o,e.isBlock)||r,E=function(bt,Ct,kt){var Ut=Lw(e),Kt=l?Ut.backwards:Ut.forwards;return ot.from(Kt(bt,Ct,function(Yt,Qt){return Tp(Yt.parentNode)?-1:(b=Yt,kt(l,Yt,Qt))},S))},rt=E(o,u,f1);return rt.bind(function(bt){return c?E(bt.container,bt.offset+(l?-1:0),Xu):ot.some(bt)}).orThunk(function(){return b?ot.some({container:b,offset:l?0:b.length}):ot.none()})},CC=function(e,r,o,u,l){Gr(u)&&Fr(u.data)&&u[l]&&(u=u[l]);for(var c=Zk(e,u),b=0;b<c.length;b++)for(var S=0;S<r.length;S++){var E=r[S];if(!(It(E.collapsed)&&E.collapsed!==o.collapsed)&&Kl(E)&&e.is(c[b],E.selector))return c[b]}return u},ng=function(e,r,o,u){var l=o,c=e.dom,b=c.getRoot(),S=r[0];if(Jf(S)&&(l=S.wrapper?null:c.getParent(o,S.block,b)),!l){var E=c.getParent(o,"LI,TD,TH");l=c.getParent(Gr(o)?o.parentNode:o,function(rt){return rt!==b&&i3(e,rt)},E)}if(l&&Jf(S)&&S.wrapper&&(l=Zk(c,l,"ul,ol").reverse()[0]||l),!l)for(l=o;l[u]&&!c.isBlock(l[u])&&(l=l[u],!bC(l,"br")););return l||o},d1=function(e,r,o,u){var l=o.parentNode;return It(o[u])?!1:l===r||pt(l)||e.isBlock(l)?!0:d1(e,r,l,u)},v1=function(e,r,o,u,l){var c=o,b=l?"previousSibling":"nextSibling",S=e.getRoot();if(Gr(o)&&!eT(o)&&(l?u>0:u<o.data.length))return o;for(;;){if(!r[0].block_expand&&e.isBlock(c))return c;for(var E=c[b];E;E=E[b]){var rt=Gr(E)&&!d1(e,S,E,b);if(!Tp(E)&&!u3(E)&&!eT(E,rt))return c}if(c===S||c.parentNode===S){o=c;break}c=c.parentNode}return o},tT=function(e){return Tp(e.parentNode)||Tp(e)},tm=function(e,r,o,u){u===void 0&&(u=!1);var l=r.startContainer,c=r.startOffset,b=r.endContainer,S=r.endOffset,E=e.dom,rt=o[0];if(Da(l)&&l.hasChildNodes()&&(l=qf(l,c),Gr(l)&&(c=0)),Da(b)&&b.hasChildNodes()&&(b=qf(b,r.collapsed?S:S-1),Gr(b)&&(S=b.nodeValue.length)),l=Zr(E,l),b=Zr(E,b),tT(l)&&(l=Tp(l)?l:l.parentNode,r.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Gr(l)&&(c=r.collapsed?l.length:0)),tT(b)&&(b=Tp(b)?b:b.parentNode,r.collapsed?b=b.nextSibling||b:b=b.previousSibling||b,Gr(b)&&(S=r.collapsed?0:b.length)),r.collapsed){var bt=pc(E,e.getBody(),l,c,!0,u);bt.each(function(kt){var Ut=kt.container,Kt=kt.offset;l=Ut,c=Kt});var Ct=pc(E,e.getBody(),b,S,!1,u);Ct.each(function(kt){var Ut=kt.container,Kt=kt.offset;b=Ut,S=Kt})}return(is(rt)||rt.block_expand)&&((!is(rt)||!Gr(l)||c===0)&&(l=v1(E,o,l,c,!0)),(!is(rt)||!Gr(b)||S===b.nodeValue.length)&&(b=v1(E,o,b,S,!1))),wC(rt)&&(l=CC(E,o,r,l,"previousSibling"),b=CC(E,o,r,b,"nextSibling")),(Jf(rt)||Kl(rt))&&(l=ng(e,o,l,"previousSibling"),b=ng(e,o,b,"nextSibling"),Jf(rt)&&(E.isBlock(l)||(l=v1(E,o,l,c,!0)),E.isBlock(b)||(b=v1(E,o,b,S,!1)))),Da(l)&&(c=E.nodeIndex(l),l=l.parentNode),Da(b)&&(S=E.nodeIndex(b)+1,b=b.parentNode),{startContainer:l,startOffset:c,endContainer:b,endOffset:S}},rg=function(e,r,o){var u=r.startOffset,l=qf(r.startContainer,u),c=r.endOffset,b=qf(r.endContainer,c-1),S=function(Yt){var Qt=Yt[0];Gr(Qt)&&Qt===l&&u>=Qt.data.length&&Yt.splice(0,1);var pn=Yt[Yt.length-1];return c===0&&Yt.length>0&&pn===b&&Gr(pn)&&Yt.splice(Yt.length-1,1),Yt},E=function(Yt,Qt,pn){for(var sn=[];Yt&&Yt!==pn;Yt=Yt[Qt])sn.push(Yt);return sn},rt=function(Yt,Qt){return e.getParent(Yt,function(pn){return pn.parentNode===Qt},Qt)},bt=function(Yt,Qt,pn){for(var sn=pn?"nextSibling":"previousSibling",Fn=Yt,Ln=Fn.parentNode;Fn&&Fn!==Qt;Fn=Ln){Ln=Fn.parentNode;var Cn=E(Fn===Yt?Fn:Fn[sn],sn);Cn.length&&(pn||Cn.reverse(),o(S(Cn)))}};if(l===b)return o(S([l]));var Ct=e.findCommonAncestor(l,b);if(e.isChildOf(l,b))return bt(l,Ct,!0);if(e.isChildOf(b,l))return bt(b,Ct);var kt=rt(l,Ct)||l,Ut=rt(b,Ct)||b;bt(l,kt,!0);var Kt=E(kt===l?kt:kt.nextSibling,"nextSibling",Ut===b?Ut.nextSibling:Ut);Kt.length&&o(S(Kt)),bt(b,Ut)},SC=function(e){var r=[];if(e)for(var o=0;o<e.rangeCount;o++)r.push(e.getRangeAt(o));return r},s3=function(e){return co(e,function(r){var o=Ub(r);return o?[ft.fromDom(o)]:[]})},nT=function(e){return SC(e).length>1},l3=function(e){return Jt(s3(e),tf)},rT=function(e){return as(e,"td[data-mce-selected],th[data-mce-selected]")},ag=function(e,r){var o=rT(r);return o.length>0?o:l3(e)},pd=function(e){return ag(SC(e.selection.getSel()),ft.fromDom(e.getBody()))},nm=function(e,r){return Bv(e,"table",r)},m1=function(e){var r=e.startContainer,o=e.startOffset;return Gr(r)?o===0?ot.some(ft.fromDom(r)):ot.none():ot.from(r.childNodes[o]).map(ft.fromDom)},xC=function(e){var r=e.endContainer,o=e.endOffset;return Gr(r)?o===r.data.length?ot.some(ft.fromDom(r)):ot.none():ot.from(r.childNodes[o-1]).map(ft.fromDom)},aT=function(e){return uu(e).fold(At([e]),function(r){return[e].concat(aT(r))})},Ap=function(e){return rl(e).fold(At([e]),function(r){return Xo(r)==="br"?qc(r).map(function(o){return[e].concat(Ap(o))}).getOr([]):[e].concat(Ap(r))})},_p=function(e,r){return pu(m1(r),xC(r),function(o,u){var l=Br(aT(e),Ht(ja,o)),c=Br(Ap(e),Ht(ja,u));return l.isSome()&&c.isSome()}).getOr(!1)},EC=function(e,r,o,u){var l=o,c=new bi(o,l),b=sa(e.schema.getMoveCaretBeforeOnEnterElements(),function(S,E){return!Zt(["td","th","table"],E.toLowerCase())});do{if(Gr(o)&&ar.trim(o.nodeValue).length!==0){u?r.setStart(o,0):r.setEnd(o,o.nodeValue.length);return}if(b[o.nodeName]){u?r.setStartBefore(o):o.nodeName==="BR"?r.setEndBefore(o):r.setEndAfter(o);return}}while(o=u?c.next():c.prev());l.nodeName==="BODY"&&(u?r.setStart(l,0):r.setEnd(l,l.childNodes.length))},p1=function(e){var r=e.selection.getSel();return r&&r.rangeCount>0},kC=function(e,r){var o=pd(e);o.length>0?Ft(o,function(u){var l=u.dom,c=e.dom.createRng();c.setStartBefore(l),c.setEndAfter(l),r(c,!0)}):r(e.selection.getRng(),!1)},TC=function(e,r,o){var u=ck(e,r);o(u),e.moveToBookmark(u)},oT=function(e,r){var o=function(c){if(!e(c))throw new Error("Can only get "+r+" value of a "+r+" node");return u(c).getOr("")},u=function(c){return e(c)?ot.from(c.dom.nodeValue):ot.none()},l=function(c,b){if(!e(c))throw new Error("Can only set raw "+r+" value of a "+r+" node");c.dom.nodeValue=b};return{get:o,getOption:u,set:l}},iT=oT(Yi,"text"),AC=function(e){return iT.get(e)},h1=function(e){return Yi(e)&&AC(e)===Dn},ys=function(e,r,o,u){return Vi(r).fold(function(){return"skipping"},function(l){return u==="br"||h1(r)?"valid":Xd(r)?"existing":Xf(r.dom)?"caret":!kp(e,o,u)||!kp(e,Xo(l),o)?"invalid-child":"valid"})},Rc=function(e,r){var o=tm(e,r,[{inline:"span"}]);r.setStart(o.startContainer,o.startOffset),r.setEnd(o.endContainer,o.endOffset),e.selection.setRng(r)},Lc=function(e,r,o,u){var l=r.uid,c=l===void 0?Y2("mce-annotation"):l,b=Iu(r,["uid"]),S=ft.fromTag("span",e);dp(S,El()),tt(S,""+Ou(),c),tt(S,""+Uh(),o);var E=u(c,b),rt=E.attributes,bt=rt===void 0?{}:rt,Ct=E.classes,kt=Ct===void 0?[]:Ct;return gt(S,bt),zR(S,kt),S},g1=function(e,r,o,u,l){var c=[],b=Lc(e.getDoc(),l,o,u),S=qv(),E=function(){S.clear()},rt=function(){return S.get().getOrThunk(function(){var Ut=gu(b);return c.push(Ut),S.set(Ut),Ut})},bt=function(Ut){Ft(Ut,Ct)},Ct=function(Ut){var Kt=ys(e,Ut,"span",Xo(Ut));switch(Kt){case"invalid-child":{E();var Yt=cs(Ut);bt(Yt),E();break}case"valid":{var Qt=rt();k(Ut,Qt);break}}},kt=function(Ut){var Kt=ln(Ut,ft.fromDom);bt(Kt)};return rg(e.dom,r,function(Ut){E(),kt(Ut)}),c},_C=function(e,r,o,u){e.undoManager.transact(function(){var l=e.selection,c=l.getRng(),b=pd(e).length>0;if(c.collapsed&&!b&&Rc(e,c),l.getRng().collapsed&&!b){var S=Lc(e.getDoc(),u,r,o.decorate);Vs(S,yl),l.getRng().insertNode(S.dom),l.select(S.dom)}else TC(l,!1,function(){kC(e,function(E){g1(e,E,r,o.decorate,u)})})})},uT=function(e){var r=Nw();Dw(e,r);var o=K2(e);return{register:function(u,l){r.register(u,l)},annotate:function(u,l){r.lookup(u).each(function(c){_C(e,u,c,l)})},annotationChanged:function(u,l){o.addListener(u,l)},remove:function(u){j2(e,ot.some(u)).each(function(l){var c=l.elements;Ft(c,en)})},getAll:function(u){var l=q2(e,u);return jr(l,function(c){return ln(c,function(b){return b.dom})})}}},rm=function(e){return{getBookmark:Ht(pC,e),moveToBookmark:Ht(ZL,e)}};rm.isBookmarkNode=kl;var Op=function(e,r){for(;r&&r!==e;){if(ds(r)||Si(r))return r;r=r.parentNode}return null},og=function(e,r,o){if(o.collapsed)return!1;if(Na.browser.isIE()&&o.startOffset===o.endOffset-1&&o.startContainer===o.endContainer){var u=o.startContainer.childNodes[o.startOffset];if(Da(u))return mn(u.getClientRects(),function(l){return G2(l,e,r)})}return mn(o.getClientRects(),function(l){return G2(l,e,r)})},c3=function(e,r){return e.fire("PreProcess",r)},OC=function(e,r){return e.fire("PostProcess",r)},sT=function(e){return e.fire("remove")},lT=function(e){return e.fire("detach")},MC=function(e,r){return e.fire("SwitchMode",{mode:r})},DC=function(e,r,o,u,l){e.fire("ObjectResizeStart",{target:r,width:o,height:u,origin:l})},vi=function(e,r,o,u,l){e.fire("ObjectResized",{target:r,width:o,height:u,origin:l})},Zf=function(e){return e.fire("PreInit")},cT=function(e){return e.fire("PostRender")},fT=function(e){return e.fire("Init")},dT=function(e,r){return e.fire("PlaceholderToggle",{state:r})},b1=function(e,r,o){return e.fire(r,o)},NC=function(e,r,o,u){return e.fire("FormatApply",{format:r,node:o,vars:u})},ig=function(e,r,o,u){return e.fire("FormatRemove",{format:r,node:o,vars:u})},qa={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||qa.metaKeyPressed(e)},metaKeyPressed:function(e){return Na.mac?e.metaKey:e.ctrlKey&&!e.altKey}},f3=Si,RC=function(e,r){var o="data-mce-selected",u=r.dom,l=ar.each,c,b,S,E,rt,bt,Ct,kt,Ut,Kt,Yt,Qt,pn,sn,Fn,Ln=r.getDoc(),Cn=document,$n=Math.abs,vr=Math.round,Dr=r.getBody(),Fa,ra,pr={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ea=function(Gn){return Gn&&(Gn.nodeName==="IMG"||r.dom.is(Gn,"figure.image"))},Lr=function(Gn){return Co(Gn)||u.hasClass(Gn,"mce-preview-object")},ta=function(Gn,Nr){if(Gn.type==="longpress"||Gn.type.indexOf("touch")===0){var Or=Gn.touches[0];return Ea(Gn.target)&&!og(Or.clientX,Or.clientY,Nr)}else return Ea(Gn.target)&&!og(Gn.clientX,Gn.clientY,Nr)},Pr=function(Gn){var Nr=Gn.target;ta(Gn,r.selection.getRng())&&!Gn.isDefaultPrevented()&&r.selection.select(Nr)},Kr=function(Gn){return u.is(Gn,"figure.image")?[Gn.querySelector("img")]:u.hasClass(Gn,"mce-preview-object")&&It(Gn.firstElementChild)?[Gn,Gn.firstElementChild]:[Gn]},va=function(Gn){var Nr=Sk(r);return!Nr||Gn.getAttribute("data-mce-resize")==="false"||Gn===r.getBody()?!1:u.hasClass(Gn,"mce-preview-object")?Qr(ft.fromDom(Gn.firstElementChild),Nr):Qr(ft.fromDom(Gn),Nr)},Tr=function(Gn){return Lr(Gn)?u.create("img",{src:Na.transparentSrc}):Gn.cloneNode(!0)},ua=function(Gn,Nr,Or){if(It(Or)){var Ma=Kr(Gn);Ft(Ma,function(Ba){Ba.style[Nr]||!r.schema.isValid(Ba.nodeName.toLowerCase(),Nr)?u.setStyle(Ba,Nr,Or):u.setAttrib(Ba,Nr,""+Or)})}},So=function(Gn,Nr,Or){ua(Gn,"width",Nr),ua(Gn,"height",Or)},Vo=function(Gn){var Nr,Or,Ma,Ba,ui;Nr=Gn.screenX-bt,Or=Gn.screenY-Ct,sn=Nr*E[2]+Kt,Fn=Or*E[3]+Yt,sn=sn<5?5:sn,Fn=Fn<5?5:Fn,(Ea(c)||Lr(c))&&pL(r)!==!1?Ma=!qa.modifierPressed(Gn):Ma=qa.modifierPressed(Gn),Ma&&($n(Nr)>$n(Or)?(Fn=vr(sn*Qt),sn=vr(Fn/Qt)):(sn=vr(Fn/Qt),Fn=vr(sn*Qt))),So(b,sn,Fn),Ba=E.startPos.x+Nr,ui=E.startPos.y+Or,Ba=Ba>0?Ba:0,ui=ui>0?ui:0,u.setStyles(S,{left:Ba,top:ui,display:"block"}),S.innerHTML=sn+" &times; "+Fn,E[2]<0&&b.clientWidth<=sn&&u.setStyle(b,"left",kt+(Kt-sn)),E[3]<0&&b.clientHeight<=Fn&&u.setStyle(b,"top",Ut+(Yt-Fn)),Nr=Dr.scrollWidth-Fa,Or=Dr.scrollHeight-ra,Nr+Or!==0&&u.setStyles(S,{left:Ba-Nr,top:ui-Or}),pn||(DC(r,c,Kt,Yt,"corner-"+E.name),pn=!0)},zo=function(){var Gn=pn;pn=!1,Gn&&(ua(c,"width",sn),ua(c,"height",Fn)),u.unbind(Ln,"mousemove",Vo),u.unbind(Ln,"mouseup",zo),Cn!==Ln&&(u.unbind(Cn,"mousemove",Vo),u.unbind(Cn,"mouseup",zo)),u.remove(b),u.remove(S),u.remove(rt),Vu(c),Gn&&(vi(r,c,sn,Fn,"corner-"+E.name),u.setAttrib(c,"style",u.getAttrib(c,"style"))),r.nodeChanged()},Vu=function(Gn){Ar();var Nr=u.getPos(Gn,Dr),Or=Nr.x,Ma=Nr.y,Ba=Gn.getBoundingClientRect(),ui=Ba.width||Ba.right-Ba.left,Nu=Ba.height||Ba.bottom-Ba.top;c!==Gn&&(Ii(),c=Gn,sn=Fn=0);var wu=r.fire("ObjectSelected",{target:Gn}),Ss=u.getAttrib(c,o,"1");va(Gn)&&!wu.isDefaultPrevented()?l(pr,function(xs,Gs){var Cu,Zl=function(Xs){var id=Kr(c)[0];bt=Xs.screenX,Ct=Xs.screenY,Kt=id.clientWidth,Yt=id.clientHeight,Qt=Yt/Kt,E=xs,E.name=Gs,E.startPos={x:ui*xs[0]+Or,y:Nu*xs[1]+Ma},Fa=Dr.scrollWidth,ra=Dr.scrollHeight,rt=u.add(Dr,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),u.setStyles(rt,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),b=Tr(c),u.addClass(b,"mce-clonedresizable"),u.setAttrib(b,"data-mce-bogus","all"),b.contentEditable="false",u.setStyles(b,{left:Or,top:Ma,margin:0}),So(b,ui,Nu),b.removeAttribute(o),Dr.appendChild(b),u.bind(Ln,"mousemove",Vo),u.bind(Ln,"mouseup",zo),Cn!==Ln&&(u.bind(Cn,"mousemove",Vo),u.bind(Cn,"mouseup",zo)),S=u.add(Dr,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Kt+" &times; "+Yt)};Cu=u.get("mceResizeHandle"+Gs),Cu&&u.remove(Cu),Cu=u.add(Dr,"div",{id:"mceResizeHandle"+Gs,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Gs+"-resize; margin:0; padding:0"}),Na.ie===11&&(Cu.contentEditable=!1),u.bind(Cu,"mousedown",function(Xs){Xs.stopImmediatePropagation(),Xs.preventDefault(),Zl(Xs)}),xs.elm=Cu,u.setStyles(Cu,{left:ui*xs[0]+Or-Cu.offsetWidth/2,top:Nu*xs[1]+Ma-Cu.offsetHeight/2})}):Ii(),u.getAttrib(c,o)||c.setAttribute(o,Ss)},Ii=function(){Ar(),c&&c.removeAttribute(o),Mr(pr,function(Gn,Nr){var Or=u.get("mceResizeHandle"+Nr);Or&&(u.unbind(Or),u.remove(Or))})},Ns=function(Gn){var Nr,Or,Ma=function(Ba,ui){if(Ba)do if(Ba===ui)return!0;while(Ba=Ba.parentNode)};if(!(pn||r.removed)){if(l(u.select("img[data-mce-selected],hr[data-mce-selected]"),function(Ba){Ba.removeAttribute(o)}),Or=Gn.type==="mousedown"?Gn.target:e.getNode(),Or=u.$(Or).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Ma(Or,Dr)&&(Vr(),Nr=e.getStart(!0),Ma(Nr,Or)&&Ma(e.getEnd(!0),Or))){Vu(Or);return}Ii()}},Ml=function(Gn){return f3(Op(r.getBody(),Gn))},Ar=function(){Mr(pr,function(Gn){Gn.elm&&(u.unbind(Gn.elm),delete Gn.elm)})},Vr=function(){try{r.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(Gn){}};r.on("init",function(){if(Vr(),Na.browser.isIE()||Na.browser.isEdge()){r.on("mousedown click",function(Or){var Ma=Or.target,Ba=Ma.nodeName;!pn&&/^(TABLE|IMG|HR)$/.test(Ba)&&!Ml(Ma)&&(Or.button!==2&&r.selection.select(Ma,Ba==="TABLE"),Or.type==="mousedown"&&r.nodeChanged())});var Gn=function(Or){var Ma=function(Ba){vs.setEditorTimeout(r,function(){return r.selection.select(Ba)})};if(Ml(Or.target)||Co(Or.target)){Or.preventDefault(),Ma(Or.target);return}/^(TABLE|IMG|HR)$/.test(Or.target.nodeName)&&(Or.preventDefault(),Or.target.tagName==="IMG"&&Ma(Or.target))};u.bind(Dr,"mscontrolselect",Gn),r.on("remove",function(){return u.unbind(Dr,"mscontrolselect",Gn)})}var Nr=vs.throttle(function(Or){r.composing||Ns(Or)});r.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Nr),r.on("keyup compositionend",function(Or){c&&c.nodeName==="TABLE"&&Nr(Or)}),r.on("hide blur",Ii),r.on("contextmenu longpress",Pr,!0)}),r.on("remove",Ar);var ka=function(){c=b=rt=null};return{isResizable:va,showResizeRect:Vu,hideResizeRect:Ii,updateResizeRect:Ns,destroy:ka}},d3=function(e){return ds(e)||Si(e)},LC=function(e,r,o){for(;e&&e!==r;){if(o(e))return e;e=e.parentNode}return null},v3=function(e,r,o){var u,l=o.elementFromPoint(e,r),c=o.body.createTextRange();if((!l||l.tagName==="HTML")&&(l=o.body),c.moveToElementText(l),u=ar.toArray(c.getClientRects()),u=u.sort(function(b,S){return b=Math.abs(Math.max(b.top-r,b.bottom-r)),S=Math.abs(Math.max(S.top-r,S.bottom-r)),b-S}),u.length>0){r=(u[0].bottom+u[0].top)/2;try{return c.moveToPoint(e,r),c.collapse(!0),c}catch(b){}}return null},vT=function(e,r){var o=e&&e.parentElement?e.parentElement():null;return Si(LC(o,r,d3))?null:e},BC=function(e,r,o){var u,l,c=o;if(c.caretPositionFromPoint)l=c.caretPositionFromPoint(e,r),l&&(u=o.createRange(),u.setStart(l.offsetNode,l.offset),u.collapse(!0));else if(c.caretRangeFromPoint)u=c.caretRangeFromPoint(e,r);else if(c.body.createTextRange){u=c.body.createTextRange();try{u.moveToPoint(e,r),u.collapse(!0)}catch(b){u=v3(e,r,o)}return vT(u,o.body)}return u},PC=function(e,r){return e&&r&&e.startContainer===r.startContainer&&e.startOffset===r.startOffset&&e.endContainer===r.endContainer&&e.endOffset===r.endOffset},m3=function(e,r,o){for(;e&&e!==r;){if(o(e))return e;e=e.parentNode}return null},Yl=function(e,r,o){return m3(e,r,o)!==null},Ws=function(e,r,o){return Yl(e,r,function(u){return u.nodeName===o})},av=function(e){return e&&e.nodeName==="TABLE"},p3=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},h3=function(e,r){return lc(e)&&Yl(e,r,Xf)===!1},mT=function(e,r,o){for(var u=new bi(r,e.getParent(r.parentNode,e.isBlock)||e.getRoot());r=u[o?"prev":"next"]();)if(Qo(r))return!0},Oo=function(e,r){return e.previousSibling&&e.previousSibling.nodeName===r},g3=function(e,r){for(;r&&r!==e;){if(Si(r))return!0;r=r.parentNode}return!1},y1=function(e,r,o,u,l){var c,b=e.getRoot(),S,E=e.schema.getNonEmptyElements(),rt=e.getParent(l.parentNode,e.isBlock)||b;if(u&&Qo(l)&&r&&e.isEmpty(rt))return ot.some(nr(l.parentNode,e.nodeIndex(l)));for(var bt=new bi(l,rt);S=bt[u?"prev":"next"]();){if(e.getContentEditableParent(S)==="false"||h3(S,b))return ot.none();if(Gr(S)&&S.nodeValue.length>0)return Ws(S,b,"A")===!1?ot.some(nr(S,u?S.nodeValue.length:0)):ot.none();if(e.isBlock(S)||E[S.nodeName.toLowerCase()])return ot.none();c=S}return o&&c?ot.some(nr(c,0)):ot.none()},w1=function(e,r,o,u){var l,c,b=e.getRoot(),S,E,rt=!1;l=u[(o?"start":"end")+"Container"],c=u[(o?"start":"end")+"Offset"];var bt=Da(l)&&c===l.childNodes.length,Ct=e.schema.getNonEmptyElements();if(E=o,lc(l))return ot.none();if(Da(l)&&c>l.childNodes.length-1&&(E=!1),zf(l)&&(l=b,c=0),l===b){if(E&&(S=l.childNodes[c>0?c-1:0],S&&(lc(S)||Ct[S.nodeName]||av(S))))return ot.none();if(l.hasChildNodes()){if(c=Math.min(!E&&c>0?c-1:c,l.childNodes.length-1),l=l.childNodes[c],c=Gr(l)&&bt?l.data.length:0,!r&&l===b.lastChild&&av(l)||g3(b,l)||lc(l))return ot.none();if(l.hasChildNodes()&&av(l)===!1){S=l;var kt=new bi(l,b);do{if(Si(S)||lc(S)){rt=!1;break}if(Gr(S)&&S.nodeValue.length>0){c=E?0:S.nodeValue.length,l=S,rt=!0;break}if(Ct[S.nodeName.toLowerCase()]&&!p3(S)){c=e.nodeIndex(S),l=S.parentNode,E||c++,rt=!0;break}}while(S=E?kt.next():kt.prev())}}}return r&&(Gr(l)&&c===0&&y1(e,bt,r,!0,l).each(function(Ut){l=Ut.container(),c=Ut.offset(),rt=!0}),Da(l)&&(S=l.childNodes[c],S||(S=l.childNodes[c-1]),S&&Qo(S)&&!Oo(S,"A")&&!mT(e,S,!1)&&!mT(e,S,!0)&&y1(e,bt,r,!0,S).each(function(Ut){l=Ut.container(),c=Ut.offset(),rt=!0}))),E&&!r&&Gr(l)&&c===l.nodeValue.length&&y1(e,bt,r,!1,l).each(function(Ut){l=Ut.container(),c=Ut.offset(),rt=!0}),rt?ot.some(nr(l,c)):ot.none()},C1=function(e,r){var o=r.collapsed,u=r.cloneRange(),l=nr.fromRangeStart(r);return w1(e,o,!0,u).each(function(c){(!o||!nr.isAbove(l,c))&&u.setStart(c.container(),c.offset())}),o||w1(e,o,!1,u).each(function(c){u.setEnd(c.container(),c.offset())}),o&&u.collapse(!0),PC(r,u)?ot.none():ot.some(u)},S1=function(e,r){return e.splitText(r)},x1=function(e){var r=e.startContainer,o=e.startOffset,u=e.endContainer,l=e.endOffset;return r===u&&Gr(r)?o>0&&o<r.nodeValue.length&&(u=S1(r,o),r=u.previousSibling,l>o?(l=l-o,r=u=S1(u,l).previousSibling,l=u.nodeValue.length,o=0):l=0):(Gr(r)&&o>0&&o<r.nodeValue.length&&(r=S1(r,o),o=0),Gr(u)&&l>0&&l<u.nodeValue.length&&(u=S1(u,l).previousSibling,l=u.nodeValue.length)),{startContainer:r,startOffset:o,endContainer:u,endOffset:l}},ug=function(e){var r=function(l,c){return rg(e,l,c)},o=x1,u=function(l){return C1(e,l).fold(cn,function(c){return l.setStart(c.startContainer,c.startOffset),l.setEnd(c.endContainer,c.endOffset),!0})};return{walk:r,split:o,normalize:u}};ug.compareRanges=PC,ug.getCaretRangeFromPoint=BC,ug.getSelectedNode=Ub,ug.getNode=qf;var b3=function(e,r){var o=function(S,E){if(!mt(E)&&!E.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+E);var rt=S.dom;xi(rt)&&(rt.style[e]=E+"px")},u=function(S){var E=r(S);if(E<=0||E===null){var rt=Ao(S,e);return parseFloat(rt)||0}return E},l=u,c=function(S,E){return rr(E,function(rt,bt){var Ct=Ao(S,bt),kt=Ct===void 0?0:parseInt(Ct,10);return isNaN(kt)?rt:rt+kt},0)},b=function(S,E,rt){var bt=c(S,rt),Ct=E>bt?E-bt:0;return Ct};return{set:o,get:u,getOuter:l,aggregate:c,max:b}},y3=b3("height",function(e){var r=e.dom;return Vt(e)?r.getBoundingClientRect().height:r.offsetHeight}),IC=function(e){return y3.get(e)},E1=function(e,r){var o=e.view(r);return o.fold(At([]),function(u){var l=e.owner(u),c=E1(e,l);return[u].concat(c)})},pT=function(e,r){var o=r.owner(e);return E1(r,o)},w3=function(e){var r,o=e.dom===document?ot.none():ot.from((r=e.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(ft.fromDom)},C3=function(e){return Ja(e)},S3=Object.freeze({__proto__:null,view:w3,owner:C3}),x3=function(e){var r=ft.fromDom(document),o=Ca(r),u=pT(e,S3),l=Ta(e),c=Rn(u,function(b,S){var E=Ta(S);return{left:b.left+E.left,top:b.top+E.top}},{left:0,top:0});return ur(c.left+l.left+o.left,c.top+l.top+o.top)},FC=function(e){return Xo(e)==="textarea"},E3=function(e,r){var o=e.fire("ScrollIntoView",r);return o.isDefaultPrevented()},La=function(e,r){e.fire("AfterScrollIntoView",r)},hT=function(e,r){var o=cs(e);if(o.length===0||FC(e))return{element:e,offset:r};if(r<o.length&&!FC(o[r]))return{element:o[r],offset:0};var u=o[o.length-1];return FC(u)?{element:e,offset:r}:Xo(u)==="img"?{element:u,offset:1}:Yi(u)?{element:u,offset:AC(u).length}:{element:u,offset:cs(u).length}},gT=function(e,r){var o=na(e),u=IC(e);return{element:e,bottom:o.top+u,height:u,pos:o,cleanup:r}},k3=function(e,r){var o=hT(e,r),u=ft.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Dn+"</span>");return gl(o.element,u),gT(u,function(){return Bt(u)})},sg=function(e){return gT(ft.fromDom(e),vt)},bT=function(e,r,o,u){HC(e,function(l,c){return T3(e,r,o,u)},o)},yT=function(e,r,o,u,l){var c={elm:u.element.dom,alignToTop:l};if(!E3(e,c)){var b=Ca(r).top;o(r,b,u,l),La(e,c)}},T3=function(e,r,o,u){var l=ft.fromDom(e.getBody()),c=ft.fromDom(e.getDoc());YN(l);var b=k3(ft.fromDom(o.startContainer),o.startOffset);yT(e,c,r,b,u),b.cleanup()},wT=function(e,r,o,u){var l=ft.fromDom(e.getDoc());yT(e,l,o,sg(r),u)},HC=function(e,r,o){var u=o.startContainer,l=o.startOffset,c=o.endContainer,b=o.endOffset;r(ft.fromDom(u),ft.fromDom(c));var S=e.dom.createRng();S.setStart(u,l),S.setEnd(c,b),e.selection.setRng(o)},zC=function(e,r,o,u){var l=e.pos;if(o)qr(l.left,l.top,u);else{var c=l.top-r+e.height;qr(l.left,c,u)}},CT=function(e,r,o,u,l){var c=o+r,b=u.pos.top,S=u.bottom,E=S-b>=o;if(b<r)zC(u,o,l!==!1,e);else if(b>c){var rt=E?l!==!1:l===!0;zC(u,o,rt,e)}else S>c&&!E&&zC(u,o,l===!0,e)},$C=function(e,r,o,u){var l=e.dom.defaultView.innerHeight;CT(e,r,l,o,u)},VC=function(e,r,o,u){var l=e.dom.defaultView.innerHeight;CT(e,r,l,o,u);var c=x3(o.element),b=gi(window);c.top<b.y?uo(o.element,u!==!1):c.top>b.bottom&&uo(o.element,u===!0)},ST=function(e,r,o){return bT(e,$C,r,o)},A3=function(e,r,o){return wT(e,r,$C,o)},_3=function(e,r,o){return bT(e,VC,r,o)},xT=function(e,r,o){return wT(e,r,VC,o)},O3=function(e,r,o){var u=e.inline?A3:xT;u(e,r,o)},lg=function(e,r,o){var u=e.inline?ST:_3;u(e,r,o)},ti=function(){return ft.fromDom(document)},M3=function(e){return e.dom.focus()},hd=function(e){var r=fs(e).dom;return e.dom===r.activeElement},Bc=function(e){return e===void 0&&(e=ti()),ot.from(e.dom.activeElement).map(ft.fromDom)},k1=function(e){return Bc(fs(e)).filter(function(r){return e.dom.contains(r.dom)})},Tl=function(e,r,o,u){return{start:e,soffset:r,finish:o,foffset:u}},T1={create:Tl},am=Ra.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),A1=function(e,r,o,u){return e.fold(r,o,u)},Mp=function(e){return e.fold(nn,nn,nn)},D3=am.before,N3=am.on,R3=am.after,L3={before:D3,on:N3,after:R3,cata:A1,getStart:Mp},ko=Ra.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),yf=function(e){return ko.exact(e.start,e.soffset,e.finish,e.foffset)},Dp=function(e){return e.match({domRange:function(r){return ft.fromDom(r.startContainer)},relative:function(r,o){return L3.getStart(r)},exact:function(r,o,u,l){return r}})},B3=ko.domRange,cg=ko.relative,Io=ko.exact,P3=function(e){var r=Dp(e);return Ac(r)},ET=T1.create,fg={domRange:B3,relative:cg,exact:Io,exactFromRange:yf,getWin:P3,range:ET},kT=ba().browser,dg=function(e,r){var o=Yi(r)?AC(r).length:cs(r).length+1;return e>o?o:e<0?0:e},om=function(e){return fg.range(e.start,dg(e.soffset,e.start),e.finish,dg(e.foffset,e.finish))},UC=function(e,r){return!Ai(r.dom)&&(Zo(e,r)||ja(e,r))},jC=function(e){return function(r){return UC(e,r.start)&&UC(e,r.finish)}},TT=function(e){return e.inline===!0||kT.isIE()},AT=function(e){return fg.range(ft.fromDom(e.startContainer),e.startOffset,ft.fromDom(e.endContainer),e.endOffset)},vg=function(e){var r=e.getSelection(),o=!r||r.rangeCount===0?ot.none():ot.from(r.getRangeAt(0));return o.map(AT)},Np=function(e){var r=Ac(e);return vg(r.dom).filter(jC(e))},I3=function(e,r){return ot.from(r).filter(jC(e)).map(om)},_T=function(e){var r=document.createRange();try{return r.setStart(e.start.dom,e.soffset),r.setEnd(e.finish.dom,e.foffset),ot.some(r)}catch(o){return ot.none()}},_1=function(e){var r=TT(e)?Np(ft.fromDom(e.getBody())):ot.none();e.bookmark=r.isSome()?r:e.bookmark},F3=function(e,r){var o=ft.fromDom(e.getBody()),u=TT(e)?ot.from(r):ot.none(),l=u.map(AT).filter(jC(o));e.bookmark=l.isSome()?l:e.bookmark},WC=function(e){var r=e.bookmark?e.bookmark:ot.none();return r.bind(function(o){return I3(ft.fromDom(e.getBody()),o)}).bind(_T)},OT=function(e){WC(e).each(function(r){return e.selection.setRng(r)})},H3=function(e){var r=e.className.toString();return r.indexOf("tox-")!==-1||r.indexOf("mce-")!==-1},MT={isEditorUIElement:H3},DT=function(e){return e.type==="nodechange"&&e.selectionChange},qC=function(e,r){var o=function(){r.throttle()};Li.DOM.bind(document,"mouseup",o),e.on("remove",function(){Li.DOM.unbind(document,"mouseup",o)})},KC=function(e){e.on("focusout",function(){_1(e)})},YC=function(e,r){e.on("mouseup touchend",function(o){r.throttle()})},NT=function(e,r){var o=ba().browser;o.isIE()?KC(e):YC(e,r),e.on("keyup NodeChange",function(u){DT(u)||_1(e)})},RT=function(e){var r=Ib(function(){_1(e)},0);e.on("init",function(){e.inline&&qC(e,r),NT(e,r)}),e.on("remove",function(){r.cancel()})},Rp,Lp=Li.DOM,z3=function(e){return MT.isEditorUIElement(e)},LT=function(e){var r=e.classList;return r!==void 0?r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body"):!1},O1=function(e,r){var o=Zw(e),u=Lp.getParent(r,function(l){return z3(l)||(o?e.dom.is(l,o):!1)});return u!==null},BT=function(e){try{var r=fs(ft.fromDom(e.getElement()));return Bc(r).fold(function(){return document.body},function(o){return o.dom})}catch(o){return document.body}},PT=function(e,r){var o=r.editor;RT(o),o.on("focusin",function(){var u=e.focusedEditor;u!==o&&(u&&u.fire("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.fire("focus",{blurredEditor:u}),o.focus(!0))}),o.on("focusout",function(){vs.setEditorTimeout(o,function(){var u=e.focusedEditor;!O1(o,BT(o))&&u===o&&(o.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Rp||(Rp=function(u){var l=e.activeEditor;l&&ts(u).each(function(c){c.ownerDocument===document&&c!==document.body&&!O1(l,c)&&e.focusedEditor===l&&(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Lp.bind(document,"focusin",Rp))},IT=function(e,r){e.focusedEditor===r.editor&&(e.focusedEditor=null),e.activeEditor||(Lp.unbind(document,"focusin",Rp),Rp=null)},FT=function(e){e.on("AddEditor",Ht(PT,e)),e.on("RemoveEditor",Ht(IT,e))},HT=function(e,r){return e.dom.getParent(r,function(o){return e.dom.getContentEditable(o)==="true"})},$3=function(e){return e.collapsed?ot.from(qf(e.startContainer,e.startOffset)).map(ft.fromDom):ot.none()},V3=function(e,r){return $3(r).bind(function(o){return ei(o)?ot.some(o):Zo(e,o)===!1?ot.some(e):ot.none()})},zT=function(e,r){V3(ft.fromDom(e.getBody()),r).bind(function(o){return js(o.dom)}).fold(function(){e.selection.normalize()},function(o){return e.selection.setRng(o.toRange())})},GC=function(e){if(e.setActive)try{e.setActive()}catch(r){e.focus()}else e.focus()},U3=function(e){return hd(e)||k1(e).isSome()},j3=function(e){return e.iframeElement&&hd(ft.fromDom(e.iframeElement))},W3=function(e){var r=e.getBody();return r&&U3(ft.fromDom(r))},q3=function(e){var r=fs(ft.fromDom(e.getElement()));return Bc(r).filter(function(o){return!LT(o.dom)&&O1(e,o.dom)}).isSome()},ed=function(e){return e.inline?W3(e):j3(e)},$T=function(e){return ed(e)||q3(e)},K3=function(e){var r=e.selection,o=e.getBody(),u=r.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&ed(e)===!1&&WC(e).each(function(c){e.selection.setRng(c),u=c});var l=HT(e,r.getNode());if(e.$.contains(o,l)){GC(l),zT(e,u),M1(e);return}e.inline||(Na.opera||GC(o),e.getWin().focus()),(Na.gecko||e.inline)&&(GC(o),zT(e,u)),M1(e)},M1=function(e){return e.editorManager.setActive(e)},VT=function(e,r){e.removed||(r?M1(e):K3(e))},UT=function(e,r,o,u,l){var c=o?r.startContainer:r.endContainer,b=o?r.startOffset:r.endOffset;return ot.from(c).map(ft.fromDom).map(function(S){return!u||!r.collapsed?Yc(S,l(S,b)).getOr(S):S}).bind(function(S){return Di(S)?ot.some(S):Vi(S).filter(Di)}).map(function(S){return S.dom}).getOr(e)},jT=function(e,r,o){return UT(e,r,!0,o,function(u,l){return Math.min(Hm(u),l)})},WT=function(e,r,o){return UT(e,r,!1,o,function(u,l){return l>0?l-1:l})},qT=function(e,r){for(var o=e;e&&Gr(e)&&e.length===0;)e=r?e.nextSibling:e.previousSibling;return e||o},Y3=function(e,r){var o,u,l;if(!r)return e;u=r.startContainer,l=r.endContainer;var c=r.startOffset,b=r.endOffset;return o=r.commonAncestorContainer,!r.collapsed&&(u===l&&b-c<2&&u.hasChildNodes()&&(o=u.childNodes[c]),u.nodeType===3&&l.nodeType===3&&(u.length===c?u=qT(u.nextSibling,!0):u=u.parentNode,b===0?l=qT(l.previousSibling,!1):l=l.parentNode,u&&u===l))?u:o&&o.nodeType===3?o.parentNode:o},D1=function(e,r,o,u){var l,c=[],b=e.getRoot();if(o=e.getParent(o||jT(b,r,r.collapsed),e.isBlock),u=e.getParent(u||WT(b,r,r.collapsed),e.isBlock),o&&o!==b&&c.push(o),o&&u&&o!==u){l=o;for(var S=new bi(o,b);(l=S.next())&&l!==u;)e.isBlock(l)&&c.push(l)}return u&&o!==u&&u!==b&&c.push(u),c},G3=function(e,r,o){return ot.from(r).map(function(u){var l=e.nodeIndex(u),c=e.createRng();return c.setStart(u.parentNode,l),c.setEnd(u.parentNode,l+1),o&&(EC(e,c,u,!0),EC(e,c,u,!1)),c})},XC=function(e,r){return ln(r,function(o){var u=e.fire("GetSelectionRange",{range:o});return u.range!==o?u.range:o})},QC={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},N1=function(e,r,o){var u=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[u])return e[u];if(e!==r){var c=e[l];if(c)return c;for(var b=e.parent;b&&b!==r;b=b.parent)if(c=b[l],c)return c}},KT=function(e){if(!nf(e.value))return!1;var r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(e.value))},JC=function(e){var r=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||r},hc=function(){function e(r,o){this.name=r,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(r,o){var u=new e(r,QC[r]||1);return o&&Mr(o,function(l,c){u.attr(c,l)}),u},e.prototype.replace=function(r){var o=this;return r.parent&&r.remove(),o.insert(r,o),o.remove(),o},e.prototype.attr=function(r,o){var u=this,l;if(typeof r!="string")return r!=null&&Mr(r,function(b,S){u.attr(S,b)}),u;if(l=u.attributes){if(o!==void 0){if(o===null){if(r in l.map){delete l.map[r];for(var c=l.length;c--;)if(l[c].name===r)return l.splice(c,1),u}return u}if(r in l.map){for(var c=l.length;c--;)if(l[c].name===r){l[c].value=o;break}}else l.push({name:r,value:o});return l.map[r]=o,u}return l.map[r]}},e.prototype.clone=function(){var r=this,o=new e(r.name,r.type),u;if(u=r.attributes){var l=[];l.map={};for(var c=0,b=u.length;c<b;c++){var S=u[c];S.name!=="id"&&(l[l.length]={name:S.name,value:S.value},l.map[S.name]=S.value)}o.attributes=l}return o.value=r.value,o.shortEnded=r.shortEnded,o},e.prototype.wrap=function(r){var o=this;return o.parent.insert(r,o),r.append(o),o},e.prototype.unwrap=function(){for(var r=this,o=r.firstChild;o;){var u=o.next;r.insert(o,r,!0),o=u}r.remove()},e.prototype.remove=function(){var r=this,o=r.parent,u=r.next,l=r.prev;return o&&(o.firstChild===r?(o.firstChild=u,u&&(u.prev=null)):l.next=u,o.lastChild===r?(o.lastChild=l,l&&(l.next=null)):u.prev=l,r.parent=r.next=r.prev=null),r},e.prototype.append=function(r){var o=this;r.parent&&r.remove();var u=o.lastChild;return u?(u.next=r,r.prev=u,o.lastChild=r):o.lastChild=o.firstChild=r,r.parent=o,r},e.prototype.insert=function(r,o,u){r.parent&&r.remove();var l=o.parent||this;return u?(o===l.firstChild?l.firstChild=r:o.prev.next=r,r.prev=o.prev,r.next=o,o.prev=r):(o===l.lastChild?l.lastChild=r:o.next.prev=r,r.next=o.next,r.prev=o,o.next=r),r.parent=l,r},e.prototype.getAll=function(r){for(var o=this,u=[],l=o.firstChild;l;l=N1(l,o))l.name===r&&u.push(l);return u},e.prototype.children=function(){for(var r=this,o=[],u=r.firstChild;u;u=u.next)o.push(u);return o},e.prototype.empty=function(){var r=this;if(r.firstChild){for(var o=[],u=r.firstChild;u;u=N1(u,r))o.push(u);for(var l=o.length;l--;){var u=o[l];u.parent=u.firstChild=u.lastChild=u.next=u.prev=null}}return r.firstChild=r.lastChild=null,r},e.prototype.isEmpty=function(r,o,u){o===void 0&&(o={});var l=this,c=l.firstChild;if(JC(l))return!1;if(c)do{if(c.type===1){if(c.attr("data-mce-bogus"))continue;if(r[c.name]||JC(c))return!1}if(c.type===8||c.type===3&&!KT(c)||c.type===3&&c.parent&&o[c.parent.name]&&nf(c.value)||u&&u(c))return!1}while(c=N1(c,l));return!0},e.prototype.walk=function(r){return N1(this,null,r)},e}(),X3=ar.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),YT=function(e){return Ye(e.nodeValue)&&sr(e.nodeValue,Dn)},GT=function(e){return(e.length===0?"":ln(e,function(r){return"["+r+"]"}).join(",")+",")+'[data-mce-bogus="all"]'},Q3=function(e,r){return r.querySelectorAll(GT(e))},mg=function(e,r,o){return document.createTreeWalker(e,r,o,!1)},ZC=function(e){return mg(e,NodeFilter.SHOW_COMMENT,function(r){return YT(r)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})},eS=function(e){return mg(e,NodeFilter.SHOW_TEXT,function(r){if(YT(r)){var o=r.parentNode;return o&&Ya(X3,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP})},XT=function(e){return ZC(e).nextNode()!==null},QT=function(e){return eS(e).nextNode()!==null},J3=function(e,r){return r.querySelector(GT(e))!==null},Z3=function(e,r){Ft(Q3(e,r),function(o){var u=ft.fromDom(o);Dt(u,"data-mce-bogus")==="all"?Bt(u):Ft(e,function(l){Bn(u,l)&&or(u,l)})})},JT=function(e){for(var r=e.nextNode();r!==null;)r.nodeValue=null,r=e.nextNode()},eB=Et(JT,ZC),tB=Et(JT,eS),ZT=function(e,r){var o=[{condition:Ht(J3,r),action:Ht(Z3,r)},{condition:XT,action:eB},{condition:QT,action:tB}],u=e,l=!1;return Ft(o,function(c){var b=c.condition,S=c.action;b(u)&&(l||(u=e.cloneNode(!0),l=!0),S(u))}),u},nB=function(e,r){var o=bs(e),u=new RegExp("^(<"+o+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+o+`>[\r
]*|<br \\/>[\r
]*)$`);return r.replace(u,"")},rB=function(e,r){return ga(ga({},e),{format:r,get:!0,getInner:!0})},aB=function(e,r,o,u){var l=rB(r,o),c=r.no_events?l:e.fire("BeforeGetContent",l),b;return c.format==="raw"?b=ar.trim(Cl(ZT(u,e.serializer.getTempAttrs()).innerHTML)):c.format==="text"?b=e.dom.isEmpty(u)?"":Cl(u.innerText||u.textContent):c.format==="tree"?b=e.serializer.serialize(u,c):b=nB(e,e.serializer.serialize(u,c)),!Zt(["text","tree"],c.format)&&!Mh(ft.fromDom(u))?c.content=ar.trim(b):c.content=b,c.no_events?c.content:e.fire("GetContent",c).content},oB=function(e,r,o){return ot.from(e.getBody()).fold(At(r.format==="tree"?new hc("body",11):""),function(u){return aB(e,r,o,u)})},iB=ar.each,eA=function(e){var r=function(o,u){if(o.nodeName!==u.nodeName)return!1;var l=function(b){var S={};return iB(e.getAttribs(b),function(E){var rt=E.nodeName.toLowerCase();rt.indexOf("_")!==0&&rt!=="style"&&rt.indexOf("data-")!==0&&(S[rt]=e.getAttrib(b,rt))}),S},c=function(b,S){var E,rt;for(rt in b)if(Ya(b,rt)){if(E=S[rt],typeof E=="undefined"||b[rt]!==E)return!1;delete S[rt]}for(rt in S)if(Ya(S,rt))return!1;return!0};return!c(l(o),l(u))||!c(e.parseStyle(e.getAttrib(o,"style")),e.parseStyle(e.getAttrib(u,"style")))?!1:!kl(o)&&!kl(u)};return{compare:r}},pg=ar.makeMap,tS=function(e){var r=[];e=e||{};var o=e.indent,u=pg(e.indent_before||""),l=pg(e.indent_after||""),c=rf.getEncodeFunc(e.entity_encoding||"raw",e.entities),b=e.element_format==="html";return{start:function(S,E,rt){var bt,Ct,kt,Ut;if(o&&u[S]&&r.length>0&&(Ut=r[r.length-1],Ut.length>0&&Ut!==`
`&&r.push(`
`)),r.push("<",S),E)for(bt=0,Ct=E.length;bt<Ct;bt++)kt=E[bt],r.push(" ",kt.name,'="',c(kt.value,!0),'"');!rt||b?r[r.length]=">":r[r.length]=" />",rt&&o&&l[S]&&r.length>0&&(Ut=r[r.length-1],Ut.length>0&&Ut!==`
`&&r.push(`
`))},end:function(S){var E;r.push("</",S,">"),o&&l[S]&&r.length>0&&(E=r[r.length-1],E.length>0&&E!==`
`&&r.push(`
`))},text:function(S,E){S.length>0&&(r[r.length]=E?S:c(S))},cdata:function(S){r.push("<![CDATA[",S,"]]>")},comment:function(S){r.push("<!--",S,"-->")},pi:function(S,E){E?r.push("<?",S," ",c(E),"?>"):r.push("<?",S,"?>"),o&&r.push(`
`)},doctype:function(S){r.push("<!DOCTYPE",S,">",o?`
`:"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}},im=function(e,r){r===void 0&&(r=Ul());var o=tS(e);e=e||{},e.validate="validate"in e?e.validate:!0;var u=function(l){var c=e.validate,b={3:function(E){o.text(E.value,E.raw)},8:function(E){o.comment(E.value)},7:function(E){o.pi(E.name,E.value)},10:function(E){o.doctype(E.value)},4:function(E){o.cdata(E.value)},11:function(E){if(E=E.firstChild)do S(E);while(E=E.next)}};o.reset();var S=function(E){var rt=b[E.type];if(rt)rt(E);else{var bt=E.name,Ct=E.shortEnded,kt=E.attributes;if(c&&kt&&kt.length>1){var Ut=[];Ut.map={};var Kt=r.getElementRule(E.name);if(Kt){for(var Yt=0,Qt=Kt.attributesOrder.length;Yt<Qt;Yt++){var pn=Kt.attributesOrder[Yt];if(pn in kt.map){var sn=kt.map[pn];Ut.map[pn]=sn,Ut.push({name:pn,value:sn})}}for(var Yt=0,Qt=kt.length;Yt<Qt;Yt++){var pn=kt[Yt].name;if(!(pn in Ut.map)){var sn=kt.map[pn];Ut.map[pn]=sn,Ut.push({name:pn,value:sn})}}kt=Ut}}if(o.start(E.name,kt,Ct),!Ct){if(E=E.firstChild)do S(E);while(E=E.next);o.end(bt)}}};return l.type===1&&!e.inner?S(l):b[11](l),o.getContent()};return{serialize:u}},tA=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Ft(e,function(r){tA.add(r)})})();var nA=["font","text-decoration","text-emphasis"],nS=function(e,r){return ir(e.parseStyle(e.getAttrib(r,"style")))},uB=function(e){return tA.has(e)},sB=function(e,r){return Eo(nS(e,r),function(o){return!uB(o)})},lB=function(e){return Jt(e,function(r){return mn(nA,function(o){return ht(r,o)})})},rA=function(e,r,o){var u=nS(e,r),l=nS(e,o),c=function(b){var S=e.getStyle(r,b),E=e.getStyle(o,b);return Un(S)&&Un(E)&&S!==E};return mn(u,function(b){var S=function(rt){return mn(rt,function(bt){return bt===b})};if(!S(l)&&S(nA)){var E=lB(l);return mn(E,c)}else return c(b)})},aA=function(e,r,o){return ot.from(o.container()).filter(Gr).exists(function(u){var l=e?0:-1;return r(u.data.charAt(o.offset()+l))})},R1=Ht(aA,!0,rv),L1=Ht(aA,!1,rv),cB=function(e){var r=e.container();return Gr(r)&&(r.data.length===0||wl(r.data)&&rm.isBookmarkNode(r.parentNode))},ov=function(e,r){return function(o){return ot.from(t1(e?0:-1,o)).filter(r).isSome()}},oA=function(e){return Il(e)&&Ao(ft.fromDom(e),"display")==="block"},iA=function(e){return Si(e)&&!fi(e)},fB=ov(!0,oA),dB=ov(!1,oA),Bp=ov(!0,Co),Pp=ov(!1,Co),uA=ov(!0,nu),sA=ov(!1,nu),iv=ov(!0,iA),uv=ov(!1,iA),vB=function(e){for(var r=[],o=e.dom;o;)r.push(ft.fromDom(o)),o=o.lastChild;return r},mB=function(e){var r=as(e,"br"),o=Jt(vB(e).slice(-1),Km);r.length===o.length&&Ft(o,Bt)},um=function(e){St(e),p(e,ft.fromHtml('<br data-mce-bogus="1">'))},pB=function(e){rl(e).each(function(r){qc(r).each(function(o){uc(e)&&Km(r)&&uc(o)&&Bt(r)})})},hB=function(e){return e.slice(0,-1)},gB=function(e,r,o){return Zo(r,e)?hB(Fm(e,function(u){return o(u)||ja(u,r)})):[]},lA=function(e,r){return gB(e,r,cn)},_a=function(e,r){return[e].concat(lA(e,r))},rS=function(e,r,o){return dC(e,r,o,cB)},B1=function(e,r){return Br(_a(ft.fromDom(r.container()),e),uc)},cA=function(e,r,o){return rS(e,r.dom,o).forall(function(u){return B1(r,o).fold(function(){return pf(u,o,r.dom)===!1},function(l){return pf(u,o,r.dom)===!1&&Zo(l,ft.fromDom(u.container()))})})},fA=function(e,r,o){return B1(r,o).fold(function(){return rS(e,r.dom,o).forall(function(u){return pf(u,o,r.dom)===!1})},function(u){return rS(e,u.dom,o).isNone()})},P1=Ht(fA,!1),hg=Ht(fA,!0),dA=Ht(cA,!1),bB=Ht(cA,!0),yB=function(e){return r1(e).exists(Km)},to=function(e,r,o){var u=Jt(_a(ft.fromDom(o.container()),r),uc),l=kr(u).getOr(r);return ql(e,l.dom,o).filter(yB)},aS=function(e,r){return r1(r).exists(Km)||to(!0,e,r).isSome()},so=function(e,r){return jL(r).exists(Km)||to(!1,e,r).isSome()},vA=Ht(to,!1),wB=Ht(to,!0),mA=function(e){return nr.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},pA=function(e,r){var o=Jt(_a(ft.fromDom(r.container()),e),uc);return kr(o).getOr(e)},hA=function(e,r){return mA(r)?L1(r):L1(r)||gf(pA(e,r).dom,r).exists(L1)},gA=function(e,r){return mA(r)?R1(r):R1(r)||hf(pA(e,r).dom,r).exists(R1)},CB=function(e){return Zt(["pre","pre-wrap"],e)},oS=function(e){return r1(e).bind(function(r){return fb(r,Di)}).exists(function(r){return CB(Ao(r,"white-space"))})},no=function(e,r){return gf(e.dom,r).isNone()},SB=function(e,r){return hf(e.dom,r).isNone()},bA=function(e,r){return no(e,r)||SB(e,r)||P1(e,r)||hg(e,r)||so(e,r)||aS(e,r)},yA=function(e,r){return oS(r)?!1:bA(e,r)||hA(e,r)||gA(e,r)},gg=function(e,r){return oS(r)?!1:P1(e,r)||dA(e,r)||so(e,r)||hA(e,r)},wA=function(e){var r=e.container(),o=e.offset();return Gr(r)&&o<r.data.length?nr(r,o+1):e},bg=function(e,r){return oS(r)?!1:hg(e,r)||bB(e,r)||aS(e,r)||gA(e,r)},I1=function(e,r){return gg(e,r)||bg(e,wA(r))},CA=function(e,r){return em(e.charAt(r))},SA=function(e){var r=e.container();return Gr(r)&&sr(r.data,yl)},xB=function(e){var r=e.split("");return ln(r,function(o,u){return em(o)&&u>0&&u<r.length-1&&u1(r[u-1])&&u1(r[u+1])?" ":o}).join("")},EB=function(e,r){var o=r.data,u=nr(r,0);return CA(o,0)&&!I1(e,u)?(r.data=" "+o.slice(1),!0):!1},kB=function(e){var r=e.data,o=xB(r);return o!==r?(e.data=o,!0):!1},TB=function(e,r){var o=r.data,u=nr(r,o.length-1);return CA(o,o.length-1)&&!I1(e,u)?(r.data=o.slice(0,-1)+" ",!0):!1},AB=function(e,r){return ot.some(r).filter(SA).bind(function(o){var u=o.container(),l=EB(e,u)||kB(u)||TB(e,u);return l?ot.some(o):ot.none()})},xA=function(e){var r=ft.fromDom(e.getBody());e.selection.isCollapsed()&&AB(r,nr.fromRangeStart(e.selection.getRng())).each(function(o){e.selection.setRng(o.toRange())})},_B=function(e,r,o){var u=rr(e,function(l,c){return rv(c)||em(c)?l.previousCharIsSpace||l.str===""&&r||l.str.length===e.length-1&&o?{previousCharIsSpace:!1,str:l.str+yl}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+c}},{previousCharIsSpace:!1,str:""});return u.str},iS=function(e,r,o){if(o!==0){var u=ft.fromDom(e),l=_h(u,uc).getOr(u),c=e.data.slice(r,r+o),b=r+o>=e.data.length&&bg(l,nr(e,e.data.length)),S=r===0&&gg(l,nr(e,0));e.replaceData(r,o,_B(c,S,b))}},F1=function(e,r){var o=e.data.slice(r),u=o.length-Tn(o).length;iS(e,r,u)},Mo=function(e,r){var o=e.data.slice(0,r),u=o.length-Hn(o).length;iS(e,r-u,u)},H1=function(e,r,o,u){u===void 0&&(u=!0);var l=Hn(e.data).length,c=u?e:r,b=u?r:e;return u?c.appendData(b.data):c.insertData(0,b.data),Bt(ft.fromDom(b)),o&&F1(c,l),c},z1=function(e,r){var o=e.container(),u=e.offset();return nr.isTextPosition(e)===!1&&o===r.parentNode&&u>nr.before(r).offset()},EA=function(e,r){return z1(r,e)?nr(r.container(),r.offset()-1):r},kA=function(e){return Gr(e)?nr(e,0):nr.before(e)},TA=function(e){return Gr(e)?nr(e,e.data.length):nr.after(e)},uS=function(e){return Vf(e.previousSibling)?ot.some(TA(e.previousSibling)):e.previousSibling?bf(e.previousSibling):ot.none()},sS=function(e){return Vf(e.nextSibling)?ot.some(kA(e.nextSibling)):e.nextSibling?js(e.nextSibling):ot.none()},OB=function(e,r){var o=nr.before(r.previousSibling?r.previousSibling:r.parentNode);return gf(e,o).fold(function(){return hf(e,nr.after(r))},ot.some)},MB=function(e,r){return hf(e,nr.after(r)).fold(function(){return gf(e,nr.before(r))},ot.some)},DB=function(e,r){return uS(r).orThunk(function(){return sS(r)}).orThunk(function(){return OB(e,r)})},NB=function(e,r){return sS(r).orThunk(function(){return uS(r)}).orThunk(function(){return MB(e,r)})},RB=function(e,r,o){return e?NB(r,o):DB(r,o)},lS=function(e,r,o){return RB(e,r,o).map(Ht(EA,o))},$1=function(e,r,o){o.fold(function(){e.focus()},function(u){e.selection.setRng(u.toRange(),r)})},LB=function(e){return function(r){return r.dom===e}},BB=function(e,r){return r&&Ya(e.schema.getBlockElements(),Xo(r))},PB=function(e){if(ns(e)){var r=ft.fromHtml('<br data-mce-bogus="1">');return St(e),p(e,r),ot.some(nr.before(r.dom))}else return ot.none()},IB=function(e,r,o){var u=qc(e).filter(Yi),l=Ff(e).filter(Yi);return Bt(e),Fl(u,l,r,function(c,b,S){var E=c.dom,rt=b.dom,bt=E.data.length;return H1(E,rt,o),S.container()===rt?nr(E,bt):S}).orThunk(function(){return o&&(u.each(function(c){return Mo(c.dom,c.dom.length)}),l.each(function(c){return F1(c.dom,0)})),r})},FB=function(e,r){return Ya(e.schema.getTextInlineElements(),Xo(r))},sm=function(e,r,o,u){u===void 0&&(u=!0);var l=lS(r,e.getBody(),o.dom),c=_h(o,Ht(BB,e),LB(e.getBody())),b=IB(o,l,FB(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):c.bind(PB).fold(function(){u&&$1(e,r,b)},function(S){u&&$1(e,r,ot.some(S))})},HB=function(e){return function(r){return ja(e,r)}},cS=function(e){return as(e,"td,th")},AA=function(e,r){var o=function(rt){return nm(ft.fromDom(rt),r)},u=o(e.startContainer),l=o(e.endContainer),c=u.isSome(),b=l.isSome(),S=pu(u,l,ja).getOr(!1),E=!S&&c&&b;return{startTable:u,endTable:l,isStartInTable:c,isEndInTable:b,isSameTable:S,isMultiTable:E}},fS=function(e,r){return{start:e,end:r}},sv=function(e,r,o){return{rng:e,table:r,cells:o}},yg=Ra.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),wg=function(e,r){return su(ft.fromDom(e),"td,th",r)},_A=function(e){return!ja(e.start,e.end)},OA=function(e,r){return nm(e.start,r).bind(function(o){return nm(e.end,r).bind(function(u){return $m(ja(o,u),o)})})},MA=function(e,r){return!_A(e)&&OA(e,r).exists(function(o){var u=o.dom.rows;return u.length===1&&u[0].cells.length===1})},DA=function(e,r){var o=wg(e.startContainer,r),u=wg(e.endContainer,r);return pu(o,u,fS)},zB=function(e){return function(r){return nm(r,e).bind(function(o){return $r(cS(o)).map(function(u){return fS(r,u)})})}},$B=function(e){return function(r){return nm(r,e).bind(function(o){return kr(cS(o)).map(function(u){return fS(u,r)})})}},dS=function(e){return function(r){return OA(r,e).map(function(o){return sv(r,o,cS(o))})}},NA=function(e,r,o,u){if(o.collapsed||!e.forall(_A))return ot.none();if(r.isSameTable){var l=e.bind(dS(u));return ot.some({start:l,end:l})}else{var c=wg(o.startContainer,u),b=wg(o.endContainer,u),S=c.bind(zB(u)).bind(dS(u)),E=b.bind($B(u)).bind(dS(u));return ot.some({start:S,end:E})}},RA=function(e,r){return la(e,function(o){return ja(o,r)})},gd=function(e){return pu(RA(e.cells,e.rng.start),RA(e.cells,e.rng.end),function(r,o){return e.cells.slice(r,o+1)})},VB=function(e,r,o){return e.exists(function(u){return MA(u,o)&&_p(u.start,r)})},LA=function(e,r){var o=r.startTable,u=r.endTable,l=e.cloneRange();return o.each(function(c){return l.setStartAfter(c.dom)}),u.each(function(c){return l.setEndBefore(c.dom)}),l},zi=function(e,r,o,u){return NA(e,r,o,u).bind(function(l){var c=l.start,b=l.end;return c.or(b)}).bind(function(l){var c=r.isSameTable,b=gd(l).getOr([]);if(c&&l.cells.length===b.length)return ot.some(yg.fullTable(l.table));if(b.length>0){if(c)return ot.some(yg.partialTable(b,ot.none()));var S=LA(o,r);return ot.some(yg.partialTable(b,ot.some(ga(ga({},r),{rng:S}))))}else return ot.none()})},lv=function(e,r,o,u){return NA(e,r,o,u).bind(function(l){var c=l.start,b=l.end,S=c.bind(gd).getOr([]),E=b.bind(gd).getOr([]);if(S.length>0&&E.length>0){var rt=LA(o,r);return ot.some(yg.multiTable(S,E,rt))}else return ot.none()})},vS=function(e,r){var o=HB(e),u=DA(r,o),l=AA(r,o);return VB(u,r,o)?u.map(function(c){return yg.singleCellTable(r,c.start)}):l.isMultiTable?lv(u,l,r,o):zi(u,l,r,o)},mS=function(e){var r=Md(e)?qc(e):rl(e);return r.bind(mS).orThunk(function(){return ot.some(e)})},V1=function(e){return Ft(e,function(r){or(r,"contenteditable"),um(r)})},pS=function(e,r){return ot.from(e.dom.getParent(r,e.dom.isBlock)).map(ft.fromDom)},hS=function(e,r,o){o.each(function(u){r?Bt(u):(um(u),e.selection.setCursorLocation(u.dom,0))})},U1=function(e,r,o,u){var l=o.cloneRange();u?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(r.dom.lastChild)):(l.setStartBefore(r.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),lm(e,l,r,!1)},Cg=function(e){var r=pd(e),o=ft.fromDom(e.selection.getNode());Pa(o.dom)&&ns(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),r.length>1&&mn(r,function(u){return ja(u,o)})&&tt(o,"data-mce-selected","1")},Sg=function(e,r,o){var u=e.selection.getRng(),l=o.bind(function(c){var b=c.rng,S=c.isStartInTable,E=pS(e,S?b.endContainer:b.startContainer);b.deleteContents(),hS(e,S,E.filter(ns));var rt=S?r[0]:r[r.length-1];return U1(e,rt,u,S),ns(rt)?ot.none():ot.some(S?r.slice(1):r.slice(0,-1))}).getOr(r);return V1(l),Cg(e),!0},xg=function(e,r,o,u){var l=e.selection.getRng(),c=r[0],b=o[o.length-1];U1(e,c,l,!0),U1(e,b,l,!1);var S=ns(c)?r:r.slice(1),E=ns(b)?o:o.slice(0,-1);return V1(S.concat(E)),u.deleteContents(),Cg(e),!0},lm=function(e,r,o,u){u===void 0&&(u=!0),r.deleteContents();var l=mS(o).getOr(o),c=ft.fromDom(e.dom.getParent(l.dom,e.dom.isBlock));if(ns(c)&&(um(c),u&&e.selection.setCursorLocation(c.dom,0)),!ja(o,c)){var b=al(Vi(c),o)?[]:ku(c);Ft(b.concat(cs(o)),function(S){!ja(S,c)&&!Zo(S,c)&&ns(S)&&Bt(S)})}return!0},wf=function(e,r){return sm(e,!1,r),!0},Ip=function(e,r,o){return vS(r,o).map(function(u){return u.fold(Ht(lm,e),Ht(wf,e),Ht(Sg,e),Ht(xg,e))})},BA=function(e,r){return Cf(e,r)},PA=function(e,r,o,u){return bS(r,u).fold(function(){return Ip(e,r,o)},function(l){return BA(e,l)}).getOr(!1)},UB=function(e,r,o){var u=ft.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?Sg(e,o,ot.none()):PA(e,u,l,r)},gS=function(e,r){return Br(_a(r,e),tf)},bS=function(e,r){return Br(_a(r,e),Lv("caption"))},jB=function(e,r,o,u,l){return Gf(o,e.getBody(),l).bind(function(c){return gS(r,ft.fromDom(c.getNode())).map(function(b){return ja(b,u)===!1})})},Cf=function(e,r){return um(r),e.selection.setCursorLocation(r.dom,0),ot.some(!0)},WB=function(e,r,o,u){return js(e.dom).bind(function(l){return bf(e.dom).map(function(c){return r?o.isEqual(l)&&u.isEqual(c):o.isEqual(c)&&u.isEqual(l)})}).getOr(!0)},qs=function(e,r){return Cf(e,r)},qB=function(e,r,o){return bS(e,ft.fromDom(o.getNode())).map(function(u){return ja(u,r)===!1})},KB=function(e,r,o,u,l){return Gf(o,e.getBody(),l).bind(function(c){return WB(u,o,l,c)?qs(e,u):qB(r,u,c)}).or(ot.some(!0))},bd=function(e,r,o,u){var l=nr.fromRangeStart(e.selection.getRng());return gS(o,u).bind(function(c){return ns(c)?Cf(e,c):jB(e,o,r,c,l)}).getOr(!1)},qo=function(e,r,o,u){var l=nr.fromRangeStart(e.selection.getRng());return ns(u)?Cf(e,u):KB(e,o,r,u,l)},cv=function(e,r){return e?uA(r):sA(r)},yS=function(e,r){var o=nr.fromRangeStart(e.selection.getRng());return cv(r,o)||ql(r,e.getBody(),o).exists(function(u){return cv(r,u)})},YB=function(e,r,o){var u=ft.fromDom(e.getBody());return bS(u,o).fold(function(){return bd(e,r,u,o)||yS(e,r)},function(l){return qo(e,r,u,l).getOr(!1)})},cm=function(e,r){var o=ft.fromDom(e.selection.getStart(!0)),u=pd(e);return e.selection.isCollapsed()&&u.length===0?YB(e,r,o):UB(e,o,u)},Sf=function(e,r,o,u){var l=document.createRange();return l.setStart(e,r),l.setEnd(o,u),l},GB=function(e){var r=nr.fromRangeStart(e),o=nr.fromRangeEnd(e),u=e.commonAncestorContainer;return ql(!1,u,o).map(function(l){return!pf(r,o,u)&&pf(r,l,u)?Sf(r.container(),r.offset(),l.container(),l.offset()):e}).getOr(e)},wS=function(e){return e.collapsed?e:GB(e)},XB=function(e){return e.firstChild&&e.firstChild===e.lastChild},CS=function(e){return e.name==="br"||e.value===yl},QB=function(e,r){var o=e.getBlockElements();return o[r.name]&&XB(r)&&CS(r.firstChild)},JB=function(e,r){var o=e.getNonEmptyElements();return r&&(r.isEmpty(o)||QB(e,r))},IA=function(e,r){var o=r.firstChild,u=r.lastChild;return o&&o.name==="meta"&&(o=o.next),u&&u.attr("id")==="mce_marker"&&(u=u.prev),JB(e,u)&&(u=u.prev),!o||o!==u?!1:o.name==="ul"||o.name==="ol"},ZB=function(e){var r=e.firstChild,o=e.lastChild;return r&&r.nodeName==="META"&&r.parentNode.removeChild(r),o&&o.id==="mce_marker"&&o.parentNode.removeChild(o),e},eP=function(e,r,o){var u=r.serialize(o),l=e.createFragment(u);return ZB(l)},tP=function(e){return Jt(e.childNodes,function(r){return r.nodeName==="LI"})},Al=function(e){return e.data===yl||Qo(e)},td=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Al(e.firstChild)},nP=function(e){return!e.firstChild||td(e)},FA=function(e){return e.length>0&&nP(e[e.length-1])?e.slice(0,-1):e},Fp=function(e,r){var o=e.getParent(r,e.isBlock);return o&&o.nodeName==="LI"?o:null},SS=function(e,r){return!!Fp(e,r)},rP=function(e,r){var o=r.cloneRange(),u=r.cloneRange();return o.setStartBefore(e),u.setEndAfter(e),[o.cloneContents(),u.cloneContents()]},HA=function(e,r){var o=nr.before(e),u=Qi(r),l=u.next(o);return l?l.toRange():null},Hp=function(e,r){var o=nr.after(e),u=Qi(r),l=u.prev(o);return l?l.toRange():null},j1=function(e,r,o,u){var l=rP(e,u),c=e.parentNode;return c.insertBefore(l[0],e),ar.each(r,function(b){c.insertBefore(b,e)}),c.insertBefore(l[1],e),c.removeChild(e),Hp(r[r.length-1],o)},aP=function(e,r,o){var u=e.parentNode;return ar.each(r,function(l){u.insertBefore(l,e)}),HA(e,o)},fv=function(e,r,o,u){return u.insertAfter(r.reverse(),e),Hp(r[0],o)},oP=function(e,r,o,u){var l=eP(r,e,u),c=Fp(r,o.startContainer),b=FA(tP(l.firstChild)),S=1,E=2,rt=r.getRoot(),bt=function(Ct){var kt=nr.fromRangeStart(o),Ut=Qi(r.getRoot()),Kt=Ct===S?Ut.prev(kt):Ut.next(kt);return Kt?Fp(r,Kt.getNode())!==c:!0};return bt(S)?aP(c,b,rt):bt(E)?fv(c,b,rt,r):j1(c,b,rt,o)},iP=function(e,r,o){var u=ft.fromDom(e.getRoot());return gg(u,nr.fromRangeStart(r))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),bg(u,nr.fromRangeEnd(r))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Ks=Pa,xS=function(e,r,o){if(o!==null){var u=e.getParent(r.endContainer,Ks);return o===u&&_p(ft.fromDom(o),r)}else return!1},xf=function(e,r,o){if(o.getAttribute("data-mce-bogus")==="all")o.parentNode.insertBefore(e.dom.createFragment(r),o);else{var u=o.firstChild,l=o.lastChild;!u||u===l&&u.nodeName==="BR"?e.dom.setHTML(o,r):e.selection.setContent(r)}},uP=function(e,r){ot.from(e.getParent(r,"td,th")).map(ft.fromDom).each(pB)},oi=function(e,r){var o=e.schema.getTextInlineElements(),u=e.dom;if(r){var l=e.getBody(),c=eA(u);ar.each(u.select("*[data-mce-fragment]"),function(b){var S=It(o[b.nodeName.toLowerCase()]);if(S&&sB(u,b))for(var E=b.parentNode;It(E)&&E!==l;E=E.parentNode){var rt=rA(u,b,E);if(rt)break;if(c.compare(E,b)){u.remove(b,!0);break}}})}},fm=function(e){for(var r=e;r=r.walk();)r.type===1&&r.attr("data-mce-fragment","1")},W1=function(e){ar.each(e.getElementsByTagName("*"),function(r){r.removeAttribute("data-mce-fragment")})},zA=function(e){return!!e.getAttribute("data-mce-fragment")},ES=function(e,r){return r&&!e.schema.getShortEndedElements()[r.nodeName]},kS=function(e,r){var o,u=e.dom,l=e.selection;if(r){l.scrollIntoView(r);var c=Op(e.getBody(),r);if(u.getContentEditable(c)==="false"){u.remove(r),l.select(c);return}var b=u.createRng(),S=r.previousSibling;if(Gr(S)){if(b.setStart(S,S.nodeValue.length),!Na.ie){var E=r.nextSibling;Gr(E)&&(S.appendData(E.data),E.parentNode.removeChild(E))}}else b.setStartBefore(r),b.setEndBefore(r);var rt=function(Ct){var kt=nr.fromRangeStart(Ct),Ut=Qi(e.getBody());if(kt=Ut.next(kt),kt)return kt.toRange()},bt=u.getParent(r,u.isBlock);u.remove(r),bt&&u.isEmpty(bt)&&(e.$(bt).empty(),b.setStart(bt,0),b.setEnd(bt,0),!Ks(bt)&&!zA(bt)&&(o=rt(b))?(b=o,u.remove(bt)):u.add(bt,u.create("br",{"data-mce-bogus":"1"}))),l.setRng(b)}},sP=function(e){var r=e.dom,o=wS(e.selection.getRng());e.selection.setRng(o);var u=r.getParent(o.startContainer,Ks);xS(r,o,u)?lm(e,o,ft.fromDom(u)):e.getDoc().execCommand("Delete",!1,null)},TS=function(e,r,o){var u,l,c,b=e.selection,S=e.dom;/^ | $/.test(r)&&(r=iP(S,b.getRng(),r));var E=e.parser,rt=o.merge,bt=im({validate:hL(e)},e.schema),Ct='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',kt=e.fire("BeforeSetContent",{content:r,format:"html",selection:!0,paste:o.paste});if(kt.isDefaultPrevented()){e.fire("SetContent",{content:kt.content,format:"html",selection:!0,paste:o.paste});return}r=kt.content,o.preserve_zwsp||(r=Cl(r)),r.indexOf("{$caret}")===-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,Ct),l=b.getRng();var Ut=l.startContainer||(l.parentElement?l.parentElement():null),Kt=e.getBody();Ut===Kt&&b.isCollapsed()&&S.isBlock(Kt.firstChild)&&ES(e,Kt.firstChild)&&S.isEmpty(Kt.firstChild)&&(l=S.createRng(),l.setStart(Kt.firstChild,0),l.setEnd(Kt.firstChild,0),b.setRng(l)),b.isCollapsed()||sP(e),u=b.getNode();var Yt={context:u.nodeName.toLowerCase(),data:o.data,insert:!0},Qt=E.parse(r,Yt);if(o.paste===!0&&IA(e.schema,Qt)&&SS(S,u)){l=oP(bt,S,b.getRng(),Qt),b.setRng(l),e.fire("SetContent",kt);return}if(fm(Qt),c=Qt.lastChild,c.attr("id")==="mce_marker"){var pn=c;for(c=c.prev;c;c=c.walk(!0))if(c.type===3||!S.isBlock(c.name)){e.schema.isValidChild(c.parent.name,"span")&&c.parent.insert(pn,c,c.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(u),!Yt.invalid)r=bt.serialize(Qt),xf(e,r,u);else{e.selection.setContent(Ct),u=b.getNode();var sn=e.getBody();for(u.nodeType===9?u=c=sn:c=u;c!==sn;)u=c,c=c.parentNode;r=u===sn?sn.innerHTML:S.getOuterHTML(u),r=bt.serialize(E.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return bt.serialize(Qt)}))),u===sn?S.setHTML(sn,r):S.setOuterHTML(u,r)}oi(e,rt),kS(e,S.get("mce_marker")),W1(e.getBody()),uP(S,b.getStart()),e.fire("SetContent",kt),e.addVisual()},AS=function(e,r){r(e),e.firstChild&&AS(e.firstChild,r),e.next&&AS(e.next,r)},$A=function(e,r,o){var u={},l={},c=[];o.firstChild&&AS(o.firstChild,function(E){Ft(e,function(rt){rt.name===E.name&&(u[rt.name]?u[rt.name].nodes.push(E):u[rt.name]={filter:rt,nodes:[E]})}),Ft(r,function(rt){typeof E.attr(rt.name)=="string"&&(l[rt.name]?l[rt.name].nodes.push(E):l[rt.name]={filter:rt,nodes:[E]})})});for(var b in u)Ya(u,b)&&c.push(u[b]);for(var S in l)Ya(l,S)&&c.push(l[S]);return c},VA=function(e,r,o){var u=$A(e,r,o);Ft(u,function(l){Ft(l.filter.callbacks,function(c){c(l.nodes,l.filter.name,{})})})},_S="html",q1=function(e){return e instanceof hc},K1=function(e){ed(e)&&js(e.getBody()).each(function(r){var o=r.getNode(),u=nu(o)?js(o).getOr(r):r;e.selection.setRng(u.toRange())})},OS=function(e,r,o){e.dom.setHTML(e.getBody(),r),o!==!0&&K1(e)},lP=function(e,r,o,u){if(o=Cl(o),o.length===0||/^\s+$/.test(o)){var l='<br data-mce-bogus="1">';r.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(o="<li>"+l+"</li>");var c=bs(e);c&&e.schema.isValidChild(r.nodeName.toLowerCase(),c.toLowerCase())?(o=l,o=e.dom.createHTML(c,qh(e),o)):o||(o='<br data-mce-bogus="1">'),OS(e,o,u.no_selection),e.fire("SetContent",u)}else u.format!=="raw"&&(o=im({validate:e.validate},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0}))),u.content=Mh(ft.fromDom(r))?o:ar.trim(o),OS(e,u.content,u.no_selection),u.no_events||e.fire("SetContent",u);return u.content},cP=function(e,r,o,u){VA(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);var l=im({validate:e.validate},e.schema).serialize(o);return u.content=Cl(Mh(ft.fromDom(r))?l:ar.trim(l)),OS(e,u.content,u.no_selection),u.no_events||e.fire("SetContent",u),o},fP=function(e,r){return ga(ga({format:_S},e),{set:!0,content:q1(r)?"":r})},dP=function(e,r,o){var u=fP(o,r),l=o.no_events?u:e.fire("BeforeSetContent",u);return q1(r)||(r=l.content),ot.from(e.getBody()).fold(At(r),function(c){return q1(r)?cP(e,c,r,l):lP(e,c,r,l)})},vP=function(e,r){return U0(e,r).isSome()},UA=function(e){return Tt(e)?e:cn},mP=function(e,r,o){for(var u=e.dom,l=UA(o);u.parentNode;){u=u.parentNode;var c=ft.fromDom(u),b=r(c);if(b.isSome())return b;if(l(c))break}return ot.none()},MS=function(e,r,o){var u=r(e),l=UA(o);return u.orThunk(function(){return l(e)?ot.none():mP(e,r,l)})},DS=bC,NS=function(e,r,o){var u=e.formatter.get(o);if(u)for(var l=0;l<u.length;l++){var c=u[l];if(Kl(c)&&c.inherit===!1&&e.dom.is(r,c.selector))return!0}return!1},RS=function(e,r,o,u,l){var c=e.dom.getRoot();return r===c?!1:(r=e.dom.getParent(r,function(b){return NS(e,b,o)?!0:b.parentNode===c||!!nd(e,b,o,u,!0)}),!!nd(e,r,o,u,l))},Y1=function(e,r,o){if(DS(r,o.inline)||DS(r,o.block))return!0;if(o.selector)return r.nodeType===1&&e.is(r,o.selector)},Pc=function(e,r,o,u,l,c){var b=o[u];if(Tt(o.onmatch))return o.onmatch(r,o,u);if(b){if(Ue(b.length)){for(var S in b)if(Ya(b,S)){var E=u==="attributes"?e.getAttrib(r,S):tg(e,r,S),rt=Qf(b[S],c),bt=pt(E)||Fr(E);if(bt&&pt(rt))continue;if(l&&bt&&!o.exact||(!l||o.exact)&&!DS(E,yC(e,rt,S)))return!1}}else for(var Ct=0;Ct<b.length;Ct++)if(u==="attributes"?e.getAttrib(r,b[Ct]):tg(e,r,b[Ct]))return!0}return!0},nd=function(e,r,o,u,l){var c=e.formatter.get(o),b=e.dom;if(c&&r)for(var S=0;S<c.length;S++){var E=c[S];if(Y1(e.dom,r,E)&&Pc(b,r,E,"attributes",l,u)&&Pc(b,r,E,"styles",l,u)){var rt=E.classes;if(rt){for(var bt=0;bt<rt.length;bt++)if(!e.dom.hasClass(r,Qf(rt[bt],u)))return}return E}}},G1=function(e,r,o,u,l){if(u)return RS(e,u,r,o,l);if(u=e.selection.getNode(),RS(e,u,r,o,l))return!0;var c=e.selection.getStart();return!!(c!==u&&RS(e,c,r,o,l))},LS=function(e,r,o){var u=[],l={},c=e.selection.getStart();return e.dom.getParent(c,function(b){for(var S=0;S<r.length;S++){var E=r[S];!l[E]&&nd(e,b,E,o)&&(l[E]=!0,u.push(E))}},e.dom.getRoot()),u},BS=function(e,r){var o=function(l){return ja(l,ft.fromDom(e.getBody()))},u=function(l,c){return nd(e,l.dom,c)?ot.some(c):ot.none()};return ot.from(e.selection.getStart(!0)).bind(function(l){return MS(ft.fromDom(l),function(c){return Nn(r,function(b){return u(c,b)})},o)}).getOrNull()},jA=function(e,r){var o=e.formatter.get(r),u=e.dom;if(o)for(var l=e.selection.getStart(),c=c1(u,l),b=o.length-1;b>=0;b--){var S=o[b];if(!Kl(S)||It(S.defaultBlock))return!0;for(var E=c.length-1;E>=0;E--)if(u.is(c[E],S.selector))return!0}return!1},WA=function(e,r,o){return rr(o,function(u,l){var c=r3(e,l);return e.formatter.matchNode(r,l,{},c)?u.concat([l]):u},[])},zp=Dn,qA="_mce_caret",PS=function(e,r){return e.importNode(r,!0)},KA=function(e){for(var r=[];e;){if(e.nodeType===3&&e.nodeValue!==zp||e.childNodes.length>1)return[];e.nodeType===1&&r.push(e),e=e.firstChild}return r},Ic=function(e){return KA(e).length>0},YA=function(e){if(e){var r=new bi(e,e);for(e=r.current();e;e=r.next())if(Gr(e))return e}return null},IS=function(e){var r=ft.fromTag("span");return gt(r,{id:qA,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&p(r,ft.fromText(zp)),r},pP=function(e){var r=YA(e);return r&&r.nodeValue.charAt(0)===zp&&r.deleteData(0,1),r},Eg=function(e,r,o){o===void 0&&(o=!0);var u=e.dom,l=e.selection;if(Ic(r))sm(e,!1,ft.fromDom(r),o);else{var c=l.getRng(),b=u.getParent(r,u.isBlock),S=c.startContainer,E=c.startOffset,rt=c.endContainer,bt=c.endOffset,Ct=pP(r);u.remove(r,!0),S===Ct&&E>0&&c.setStart(Ct,E-1),rt===Ct&&bt>0&&c.setEnd(Ct,bt-1),b&&u.isEmpty(b)&&um(ft.fromDom(b)),l.setRng(c)}},FS=function(e,r,o){o===void 0&&(o=!0);var u=e.dom,l=e.selection;if(r)Eg(e,r,o);else if(r=Jv(e.getBody(),l.getStart()),!r)for(;r=u.get(qA);)Eg(e,r,!1)},hP=function(e,r,o){var u=e.dom,l=u.getParent(o,Ht(gC,e));l&&u.isEmpty(l)?o.parentNode.replaceChild(r,o):(mB(ft.fromDom(o)),u.isEmpty(o)?o.parentNode.replaceChild(r,o):u.insertAfter(r,o))},X1=function(e,r){return e.appendChild(r),r},GA=function(e,r){var o=Rn(e,function(u,l){return X1(u,l.cloneNode(!1))},r);return X1(o,o.ownerDocument.createTextNode(zp))},gP=function(e,r,o,u,l,c){var b=e.formatter,S=e.dom,E=Jt(ir(b.get()),function(kt){return kt!==u&&!sr(kt,"removeformat")}),rt=WA(e,o,E),bt=Jt(rt,function(kt){return!a3(e,kt,u)});if(bt.length>0){var Ct=o.cloneNode(!1);return S.add(r,Ct),b.remove(u,l,Ct,c),S.remove(Ct),ot.some(Ct)}else return ot.none()},XA=function(e,r,o){var u,l,c=e.selection,b=c.getRng(),S=b.startOffset,E=b.startContainer,rt=E.nodeValue;u=Jv(e.getBody(),c.getStart()),u&&(l=YA(u));var bt=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(rt&&S>0&&S<rt.length&&bt.test(rt.charAt(S))&&bt.test(rt.charAt(S-1))){var Ct=c.getBookmark();b.collapse(!0);var kt=tm(e,b,e.formatter.get(r));kt=x1(kt),e.formatter.apply(r,o,kt),c.moveToBookmark(Ct)}else(!u||l.nodeValue!==zp)&&(u=PS(e.getDoc(),IS(!0).dom),l=u.firstChild,b.insertNode(u),S=1),e.formatter.apply(r,o,u),c.setCursorLocation(l,S)},bP=function(e,r,o,u){var l=e.dom,c=e.selection,b,S,E,rt=[],bt=c.getRng(),Ct=bt.startContainer,kt=bt.startOffset;for(S=Ct,Ct.nodeType===3&&(kt!==Ct.nodeValue.length&&(b=!0),S=S.parentNode);S;){if(nd(e,S,r,o,u)){E=S;break}S.nextSibling&&(b=!0),rt.push(S),S=S.parentNode}if(E)if(b){var Ut=c.getBookmark();bt.collapse(!0);var Kt=tm(e,bt,e.formatter.get(r),!0);Kt=x1(Kt),e.formatter.remove(r,o,Kt,u),c.moveToBookmark(Ut)}else{var Yt=Jv(e.getBody(),E),Qt=IS(!1).dom;hP(e,Qt,Yt!==null?Yt:E);var pn=gP(e,Qt,E,r,o,u),sn=GA(rt.concat(pn.toArray()),Qt);Eg(e,Yt,!1),c.setCursorLocation(sn,1),l.isEmpty(E)&&l.remove(E)}},yP=function(e,r){var o=e.selection,u=e.getBody();FS(e,null,!1),(r===8||r===46)&&o.isCollapsed()&&o.getStart().innerHTML===zp&&FS(e,Jv(u,o.getStart())),(r===37||r===39)&&FS(e,Jv(u,o.getStart()))},Q1=function(e){e.on("mouseup keydown",function(r){yP(e,r.keyCode)})},wP=function(e,r){var o=IS(!1),u=GA(r,o.dom);return gl(ft.fromDom(e),o),Bt(ft.fromDom(e)),nr(u,0)},QA=function(e,r){var o=e.schema.getTextInlineElements();return Ya(o,Xo(r))&&!Xf(r.dom)&&!Pl(r.dom)},JA=function(e){return Xf(e.dom)&&Ic(e.dom)},$p={},ZA=pi,e_=ii,HS=function(e,r){var o=$p[e];o||($p[e]=[]),$p[e].push(r)},CP=function(e,r){e_($p[e],function(o){o(r)})};HS("pre",function(e){var r=e.selection.getRng(),o,u=function(b){return c(b.previousSibling)&&wi(o,b.previousSibling)!==-1},l=function(b,S){po(S).remove(),po(b).append("<br><br>").append(S.childNodes)},c=Ni(["pre"]);r.collapsed||(o=e.selection.getSelectedBlocks(),e_(ZA(ZA(o,c),u),function(b){l(b.previousSibling,b)}))});var zS=ar.each,dm=function(e){return Da(e)&&!kl(e)&&!Xf(e)&&!Pl(e)},J1=function(e,r){for(var o=e;o;o=o[r]){if(Gr(o)&&Un(o.data))return e;if(Da(o)&&!kl(o))return o}return e},t_=function(e,r,o){var u=eA(e);if(r&&o&&(r=J1(r,"previousSibling"),o=J1(o,"nextSibling"),u.compare(r,o))){for(var l=r.nextSibling;l&&l!==o;){var c=l;l=l.nextSibling,r.appendChild(c)}return e.remove(o),ar.each(ar.grep(o.childNodes),function(b){r.appendChild(b)}),r}return o},n_=function(e,r,o,u){if(u&&r.merge_siblings!==!1){var l=t_(e,hC(u),u);t_(e,l,hC(l,!0))}},r_=function(e,r,o){if(r.clear_child_styles){var u=r.links?"*:not(a)":"*";zS(e.select(u,o),function(l){dm(l)&&zS(r.styles,function(c,b){e.setStyle(l,b,"")})})}},Z1=function(e,r,o){zS(e.childNodes,function(u){dm(u)&&(r(u)&&o(u),u.hasChildNodes()&&Z1(u,r,o))})},SP=function(e,r){r.nodeName==="SPAN"&&e.getAttribs(r).length===0&&e.remove(r,!0)},a_=function(e,r){return function(o){return!!(o&&tg(e,o,r))}},o_=function(e,r,o){return function(u){e.setStyle(u,r,o),u.getAttribute("style")===""&&u.removeAttribute("style"),SP(e,u)}},kg=Ra.generate([{keep:[]},{rename:["name"]},{removed:[]}]),i_=/^(src|href|style)$/,ey=ar.each,Vp=bC,xP=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},u_=function(e,r,o){return e.isChildOf(r,o)&&r!==o&&!e.isBlock(o)},s_=function(e,r,o){var u=r[o?"startContainer":"endContainer"],l=r[o?"startOffset":"endOffset"];if(Da(u)){var c=u.childNodes.length-1;!o&&l&&l--,u=u.childNodes[l>c?c:l]}return Gr(u)&&o&&l>=u.nodeValue.length&&(u=new bi(u,e.getBody()).next()||u),Gr(u)&&!o&&l===0&&(u=new bi(u,e.getBody()).prev()||u),u},l_=function(e,r){var o=r?"firstChild":"lastChild";if(xP(e)&&e[o]){var u=e[o];return e.nodeName==="TR"&&u[o]||u}return e},$S=function(e,r,o,u){var l=e.create(o,u);return r.parentNode.insertBefore(l,r),l.appendChild(r),l},Up=function(e,r,o,u,l){var c=ft.fromDom(r),b=ft.fromDom(e.create(u,l)),S=o?Kc(c):ri(c);return Ke(b,S),o?(gl(c,b),v(b,c)):(d(c,b),p(b,c)),b.dom},EP=function(e,r,o){if(is(o)&&Vp(r,o.inline)||Jf(o)&&Vp(r,o.block))return!0;if(Kl(o))return Da(r)&&e.is(r,o.selector)},c_=function(e,r){return r.links&&e.nodeName==="A"},jp=function(e,r,o,u){var l=hC(r,o,u);return pt(l)||l.nodeName==="BR"||e.isBlock(l)},kP=function(e,r,o){var u=r.parentNode,l,c=e.dom,b=bs(e);Jf(o)&&(b?u===c.getRoot()&&(!o.list_block||!Vp(r,o.list_block))&&Ft(Cr(r.childNodes),function(S){kp(e,b,S.nodeName.toLowerCase())?l?l.appendChild(S):(l=$S(c,S,b),c.setAttribs(l,e.settings.forced_root_block_attrs)):l=null}):c.isBlock(r)&&!c.isBlock(u)&&(!jp(c,r,!1)&&!jp(c,r.firstChild,!0,!0)&&r.insertBefore(c.create("br"),r.firstChild),!jp(c,r,!0)&&!jp(c,r.lastChild,!1,!0)&&r.appendChild(c.create("br")))),!(o3(o)&&!Vp(o.inline,r))&&c.remove(r,!0)},VS=function(e,r,o,u,l){var c,b=e.dom;if(!EP(b,u,r)&&!c_(u,r))return kg.keep();var S=u;if(is(r)&&r.remove==="all"&&ct(r.preserve_attributes)){var E=Jt(b.getAttribs(S),function(kt){return Zt(r.preserve_attributes,kt.name.toLowerCase())});if(b.removeAllAttribs(S),Ft(E,function(kt){return b.setAttrib(S,kt.name,kt.value)}),E.length>0)return kg.rename("span")}if(r.remove!=="all"){ey(r.styles,function(kt,Ut){kt=yC(b,Qf(kt,o),Ut+""),mt(Ut)&&(Ut=kt,l=null),(r.remove_similar||!l||Vp(tg(b,l,Ut),kt))&&b.setStyle(S,Ut,""),c=!0}),c&&b.getAttrib(S,"style")===""&&(S.removeAttribute("style"),S.removeAttribute("data-mce-style")),ey(r.attributes,function(kt,Ut){var Kt;if(kt=Qf(kt,o),mt(Ut)&&(Ut=kt,l=null),r.remove_similar||!l||Vp(b.getAttrib(l,Ut),kt)){if(Ut==="class"&&(kt=b.getAttrib(S,Ut),kt&&(Kt="",Ft(kt.split(/\s+/),function(Yt){/mce\-\w+/.test(Yt)&&(Kt+=(Kt?" ":"")+Yt)}),Kt))){b.setAttrib(S,Ut,Kt);return}if(i_.test(Ut)&&S.removeAttribute("data-mce-"+Ut),Ut==="style"&&Ni(["li"])(S)&&b.getStyle(S,"list-style-type")==="none"){S.removeAttribute(Ut),b.setStyle(S,"list-style-type","none");return}Ut==="class"&&S.removeAttribute("className"),S.removeAttribute(Ut)}}),ey(r.classes,function(kt){kt=Qf(kt,o),(!l||b.hasClass(l,kt))&&b.removeClass(S,kt)});for(var rt=b.getAttribs(S),bt=0;bt<rt.length;bt++){var Ct=rt[bt].nodeName;if(Ct.indexOf("_")!==0&&Ct.indexOf("data-")!==0)return kg.keep()}}return r.remove!=="none"?(kP(e,S,r),kg.removed()):kg.keep()},vm=function(e,r,o,u,l){return VS(e,r,o,u,l).fold(cn,function(c){return e.dom.rename(u,c),!0},yt)},TP=function(e,r,o,u,l){var c;return Ft(c1(e.dom,r.parentNode).reverse(),function(b){if(!c&&b.id!=="_start"&&b.id!=="_end"){var S=nd(e,b,o,u,l);S&&S.split!==!1&&(c=b)}}),c},AP=function(e,r,o,u){return VS(e,r,o,u,u).fold(At(u),function(l){var c=e.dom.createFragment();return c.appendChild(u),e.dom.rename(u,l)},At(null))},_P=function(e,r,o,u,l,c,b,S){var E,rt,bt,Ct=e.dom;if(o){for(var kt=o.parentNode,Ut=u.parentNode;Ut&&Ut!==kt;Ut=Ut.parentNode){E=Ct.clone(Ut,!1);for(var Kt=0;Kt<r.length&&(E=AP(e,r[Kt],S,E),E!==null);Kt++);E&&(rt&&E.appendChild(rt),bt||(bt=E),rt=E)}(!b.mixed||!Ct.isBlock(o))&&(u=Ct.split(o,u)),rt&&(l.parentNode.insertBefore(rt,l),bt.appendChild(l),is(b)&&n_(Ct,b,S,rt))}return u},f_=function(e,r,o,u,l){var c=e.formatter.get(r),b=c[0],S=!0,E=e.dom,rt=e.selection,bt=function(sn){var Fn=TP(e,sn,r,o,l);return _P(e,c,Fn,sn,sn,!0,b,o)},Ct=function(sn){return kl(sn)&&Da(sn)&&(sn.id==="_start"||sn.id==="_end")},kt=function(sn){return mn(c,function(Fn){return vm(e,Fn,o,sn,sn)})},Ut=function(sn){var Fn=!0,Ln=!1;Da(sn)&&E.getContentEditable(sn)&&(Fn=S,S=E.getContentEditable(sn)==="true",Ln=!0);var Cn=Cr(sn.childNodes);if(S&&!Ln){var $n=kt(sn),vr=$n||mn(c,function(pr){return Y1(E,sn,pr)}),Dr=sn.parentNode;!vr&&It(Dr)&&wC(b)&&kt(Dr)}if(b.deep&&Cn.length){for(var Fa=0;Fa<Cn.length;Fa++)Ut(Cn[Fa]);Ln&&(S=Fn)}var ra=["underline","line-through","overline"];Ft(ra,function(pr){Da(sn)&&e.dom.getStyle(sn,"text-decoration")===pr&&sn.parentNode&&Jk(E,sn.parentNode)===pr&&vm(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:pr}},null,sn)})},Kt=function(sn){var Fn=E.get(sn?"_start":"_end"),Ln=Fn[sn?"firstChild":"lastChild"];return Ct(Ln)&&(Ln=Ln[sn?"firstChild":"lastChild"]),Gr(Ln)&&Ln.data.length===0&&(Ln=sn?Fn.previousSibling||Fn.nextSibling:Fn.nextSibling||Fn.previousSibling),E.remove(Fn,!0),Ln},Yt=function(sn){var Fn,Ln,Cn=tm(e,sn,c,sn.collapsed);if(b.split){if(Cn=x1(Cn),Fn=s_(e,Cn,!0),Ln=s_(e,Cn),Fn!==Ln){if(Fn=l_(Fn,!0),Ln=l_(Ln,!1),u_(E,Fn,Ln)){var $n=ot.from(Fn.firstChild).getOr(Fn);bt(Up(E,$n,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Kt(!0);return}if(u_(E,Ln,Fn)){var $n=ot.from(Ln.lastChild).getOr(Ln);bt(Up(E,$n,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Kt(!1);return}Fn=$S(E,Fn,"span",{id:"_start","data-mce-type":"bookmark"}),Ln=$S(E,Ln,"span",{id:"_end","data-mce-type":"bookmark"});var vr=E.createRng();vr.setStartAfter(Fn),vr.setEndBefore(Ln),rg(E,vr,function(Dr){Ft(Dr,function(Fa){!kl(Fa)&&!kl(Fa.parentNode)&&bt(Fa)})}),bt(Fn),bt(Ln),Fn=Kt(!0),Ln=Kt()}else Fn=Ln=bt(Fn);Cn.startContainer=Fn.parentNode?Fn.parentNode:Fn,Cn.startOffset=E.nodeIndex(Fn),Cn.endContainer=Ln.parentNode?Ln.parentNode:Ln,Cn.endOffset=E.nodeIndex(Ln)+1}rg(E,Cn,function(Dr){Ft(Dr,Ut)})};if(u){if(s1(u)){var Qt=E.createRng();Qt.setStartBefore(u),Qt.setEndAfter(u),Yt(Qt)}else Yt(u);ig(e,r,u,o);return}if(E.getContentEditable(rt.getNode())==="false"){u=rt.getNode();for(var pn=0;pn<c.length&&!(c[pn].ceFalseOverride&&vm(e,c[pn],o,u,u));pn++);ig(e,r,u,o);return}!rt.isCollapsed()||!is(b)||pd(e).length?(TC(rt,!0,function(){kC(e,Yt)}),is(b)&&G1(e,r,o,rt.getStart())&&Qk(E,rt,rt.getRng()),e.nodeChanged()):bP(e,r,o,l),ig(e,r,u,o)},d_=ar.each,OP=function(e,r,o,u){var l=function(c){if(c.nodeType===1&&c.parentNode&&c.parentNode.nodeType===1){var b=Jk(e,c.parentNode);e.getStyle(c,"color")&&b?e.setStyle(c,"text-decoration",b):e.getStyle(c,"text-decoration")===b&&e.setStyle(c,"text-decoration",null)}};r.styles&&(r.styles.color||r.styles.textDecoration)&&(ar.walk(u,l,"childNodes"),l(u))},MP=function(e,r,o,u){r.styles&&r.styles.backgroundColor&&Z1(u,a_(e,"fontSize"),o_(e,"backgroundColor",Qf(r.styles.backgroundColor,o)))},DP=function(e,r,o,u){is(r)&&(r.inline==="sub"||r.inline==="sup")&&(Z1(u,a_(e,"fontSize"),o_(e,"fontSize","")),e.remove(e.select(r.inline==="sup"?"sub":"sup",u),!0))},NP=function(e,r,o,u){d_(r,function(l){is(l)&&d_(e.dom.select(l.inline,u),function(c){dm(c)&&vm(e,l,o,c,l.exact?c:null)}),r_(e.dom,l,u)})},RP=function(e,r,o,u,l){nd(e,l.parentNode,o,u)&&vm(e,r,u,l)||r.merge_with_parents&&e.dom.getParent(l.parentNode,function(c){if(nd(e,c,o,u))return vm(e,r,u,l),!0})},ty=ar.each,US=function(e){return Da(e)&&!kl(e)&&!Xf(e)&&!Pl(e)},Ef=function(e,r,o,u){if(Jw(e)&&is(r)){var l=wb(e.schema),c=vP(ft.fromDom(o),function(b){return Xf(b.dom)});return ni(l,u)&&ns(ft.fromDom(o.parentNode),!1)&&!c}else return!1},Tg=function(e,r,o,u){var l=e.formatter.get(r),c=l[0],b=!u&&e.selection.isCollapsed(),S=e.dom,E=e.selection,rt=function(Fn,Ln){if(Ln===void 0&&(Ln=c),Tt(Ln.onformat)&&Ln.onformat(Fn,Ln,o,u),ty(Ln.styles,function($n,vr){S.setStyle(Fn,vr,Qf($n,o))}),Ln.styles){var Cn=S.getAttrib(Fn,"style");Cn&&S.setAttrib(Fn,"data-mce-style",Cn)}ty(Ln.attributes,function($n,vr){S.setAttrib(Fn,vr,Qf($n,o))}),ty(Ln.classes,function($n){$n=Qf($n,o),S.hasClass(Fn,$n)||S.addClass(Fn,$n)})},bt=function(Fn,Ln){var Cn=!1;return ty(Fn,function($n){if(!Kl($n))return!1;if(!(It($n.collapsed)&&$n.collapsed!==b)&&S.is(Ln,$n.selector)&&!Xf(Ln))return rt(Ln,$n),Cn=!0,!1}),Cn},Ct=function(Fn){if(Ye(Fn)){var Ln=S.create(Fn);return rt(Ln),Ln}else return null},kt=function(Fn,Ln,Cn){var $n=[],vr=!0,Dr=c.inline||c.block,Fa=Ct(Dr);rg(Fn,Ln,function(ra){var pr,Ea=function(Lr){var ta=!1,Pr=vr,Kr=Lr.nodeName.toLowerCase(),va=Lr.parentNode,Tr=va.nodeName.toLowerCase();if(Da(Lr)&&Fn.getContentEditable(Lr)&&(Pr=vr,vr=Fn.getContentEditable(Lr)==="true",ta=!0),Qo(Lr)&&!Ef(e,c,Lr,Tr)){pr=null,Jf(c)&&Fn.remove(Lr);return}if(Jf(c)&&c.wrapper&&nd(e,Lr,r,o)){pr=null;return}if(vr&&!ta&&Jf(c)&&!c.wrapper&&gC(e,Kr)&&kp(e,Tr,Dr)){var ua=Fn.rename(Lr,Dr);rt(ua),$n.push(ua),pr=null;return}if(Kl(c)){var So=bt(l,Lr);if(!So&&It(va)&&wC(c)&&(So=bt(l,va)),!is(c)||So){pr=null;return}}vr&&!ta&&kp(e,Dr,Kr)&&kp(e,Tr,Dr)&&!(!Cn&&Gr(Lr)&&wl(Lr.data))&&!Xf(Lr)&&(!is(c)||!Fn.isBlock(Lr))?(pr||(pr=Fn.clone(Fa,!1),Lr.parentNode.insertBefore(pr,Lr),$n.push(pr)),pr.appendChild(Lr)):(pr=null,Ft(Cr(Lr.childNodes),Ea),ta&&(vr=Pr),pr=null)};Ft(ra,Ea)}),c.links===!0&&Ft($n,function(ra){var pr=function(Ea){Ea.nodeName==="A"&&rt(Ea,c),Ft(Cr(Ea.childNodes),pr)};pr(ra)}),Ft($n,function(ra){var pr=function(ta){var Pr=0;return Ft(ta.childNodes,function(Kr){!n3(Kr)&&!kl(Kr)&&Pr++}),Pr},Ea=function(ta){var Pr=Br(ta.childNodes,US).filter(function(Kr){return Y1(Fn,Kr,c)});return Pr.map(function(Kr){var va=Fn.clone(Kr,!1);return rt(va),Fn.replace(va,ta,!0),Fn.remove(Kr,!0),va}).getOr(ta)},Lr=pr(ra);if(($n.length>1||!Fn.isBlock(ra))&&Lr===0){Fn.remove(ra,!0);return}(is(c)||Jf(c)&&c.wrapper)&&(!c.exact&&Lr===1&&(ra=Ea(ra)),NP(e,l,o,ra),RP(e,c,r,o,ra),MP(Fn,c,o,ra),OP(Fn,c,o,ra),DP(Fn,c,o,ra),n_(Fn,c,o,ra))})};if(S.getContentEditable(E.getNode())==="false"){u=E.getNode();for(var Ut=0,Kt=l.length;Ut<Kt;Ut++){var Yt=l[Ut];if(Yt.ceFalseOverride&&Kl(Yt)&&S.is(u,Yt.selector)){rt(u,Yt);break}}NC(e,r,u,o);return}if(c){if(u)if(s1(u)){if(!bt(l,u)){var Qt=S.createRng();Qt.setStartBefore(u),Qt.setEndAfter(u),kt(S,tm(e,Qt,l),!0)}}else kt(S,u,!0);else if(!b||!is(c)||pd(e).length){var pn=E.getNode(),sn=l[0];!e.settings.forced_root_block&&sn.defaultBlock&&!S.getParent(pn,S.isBlock)&&Tg(e,sn.defaultBlock),E.setRng(wS(E.getRng())),TC(E,!0,function(){kC(e,function(Fn,Ln){var Cn=Ln?Fn:tm(e,Fn,l);kt(S,Cn,!1)})}),Qk(S,E,E.getRng()),e.nodeChanged()}else XA(e,r,o);CP(r,e)}NC(e,r,u,o)},ny=function(e){return Ya(e,"vars")},jS=function(e,r){e.set({}),r.on("NodeChange",function(o){qS(r,o.element,e.get())}),r.on("FormatApply FormatRemove",function(o){var u=ot.from(o.node).map(function(l){return s1(l)?l:l.startContainer}).bind(function(l){return Da(l)?ot.some(l):ot.from(l.parentElement)}).getOrThunk(function(){return v_(r)});qS(r,u,e.get())})},v_=function(e){return e.selection.getStart()},WS=function(e,r,o,u,l){var c=function(S){var E=e.formatter.matchNode(S,o,l!=null?l:{},u);return!Ue(E)},b=function(S){return NS(e,S,o)?!0:u?!1:It(e.formatter.matchNode(S,o,l,!0))};return Vn(r,c,b)},m_=function(e,r){var o=r!=null?r:v_(e);return Jt(c1(e.dom,o),function(u){return Da(u)&&!Pl(u)})},qS=function(e,r,o){var u=m_(e,r);Mr(o,function(l,c){var b=function(S){var E=WS(e,u,c,S.similar,ny(S)?S.vars:void 0),rt=E.isSome();if(S.state.get()!==rt){S.state.set(rt);var bt=E.getOr(r);ny(S)?S.callback(rt,{node:bt,format:c,parents:u}):Ft(S.callbacks,function(Ct){return Ct(rt,{node:bt,format:c,parents:u})})}};Ft([l.withSimilar,l.withoutSimilar],b),Ft(l.withVars,b)})},KS=function(e,r,o,u,l,c){var b=r.get();Ft(o.split(","),function(S){var E=Ka(b,S).getOrThunk(function(){var Ct={withSimilar:{state:zs(!1),similar:!0,callbacks:[]},withoutSimilar:{state:zs(!1),similar:!1,callbacks:[]},withVars:[]};return b[S]=Ct,Ct}),rt=function(){var Ct=m_(e);return WS(e,Ct,S,l,c).isSome()};if(Ue(c)){var bt=l?E.withSimilar:E.withoutSimilar;bt.callbacks.push(u),bt.callbacks.length===1&&bt.state.set(rt())}else E.withVars.push({state:zs(rt()),similar:l,vars:c,callback:u})}),r.set(b)},LP=function(e,r,o){var u=e.get();Ft(r.split(","),function(l){return Ka(u,l).each(function(c){u[l]={withSimilar:ga(ga({},c.withSimilar),{callbacks:Jt(c.withSimilar.callbacks,function(b){return b!==o})}),withoutSimilar:ga(ga({},c.withoutSimilar),{callbacks:Jt(c.withoutSimilar.callbacks,function(b){return b!==o})}),withVars:Jt(c.withVars,function(b){return b.callback!==o})}})}),e.set(u)},p_=function(e,r,o,u,l,c){return r.get()===null&&jS(r,e),KS(e,r,o,u,l,c),{unbind:function(){return LP(r,o,u)}}},BP=function(e,r,o,u){var l=e.formatter.get(r);G1(e,r,o,u)&&(!("toggle"in l[0])||l[0].toggle)?f_(e,r,o,u):Tg(e,r,o,u)},mm=function(e,r){var o=document,u=o.createDocumentFragment();return Ft(e,function(l){u.appendChild(l.dom)}),ft.fromDom(u)},ry=function(e,r,o){return{element:e,width:r,rows:o}},h_=function(e,r){return{element:e,cells:r}},g_=function(e,r){return{x:e,y:r}},b_=function(e,r){var o=parseInt(Dt(e,r),10);return isNaN(o)?1:o},PP=function(e,r,o,u,l){for(var c=b_(l,"rowspan"),b=b_(l,"colspan"),S=e.rows,E=o;E<o+c;E++){S[E]||(S[E]=h_(zb(u),[]));for(var rt=r;rt<r+b;rt++){var bt=S[E].cells;bt[rt]=E===o&&rt===r?l:gu(l)}}},IP=function(e,r,o){var u=e.rows,l=u[o]?u[o].cells:[];return!!l[r]},FP=function(e,r,o){for(;IP(e,r,o);)r++;return r},y_=function(e){return rr(e,function(r,o){return o.cells.length>r?o.cells.length:r},0)},YS=function(e,r){for(var o=e.rows,u=0;u<o.length;u++)for(var l=o[u].cells,c=0;c<l.length;c++)if(ja(l[c],r))return ot.some(g_(c,u));return ot.none()},w_=function(e,r,o,u,l){for(var c=[],b=e.rows,S=o;S<=l;S++){var E=b[S].cells,rt=r<u?E.slice(r,u+1):E.slice(u,r+1);c.push(h_(b[S].element,rt))}return c},GS=function(e,r,o){var u=r.x,l=r.y,c=o.x,b=o.y,S=l<b?w_(e,u,l,c,b):w_(e,u,b,c,l);return ry(e.element,y_(S),S)},Wp=function(e,r){var o=gu(e.element),u=ft.fromTag("tbody");return Ke(u,r),p(o,u),o},HP=function(e){return ln(e.rows,function(r){var o=ln(r.cells,function(l){var c=zb(l);return or(c,"colspan"),or(c,"rowspan"),c}),u=gu(r.element);return Ke(u,o),u})},zP=function(e){var r=ry(gu(e),0,[]);return Ft(as(e,"tr"),function(o,u){Ft(as(o,"td,th"),function(l,c){PP(r,FP(r,c,u),u,o,l)})}),ry(r.element,y_(r.rows),r.rows)},ay=function(e){return Wp(e,HP(e))},XS=function(e,r,o){return YS(e,r).bind(function(u){return YS(e,o).map(function(l){return GS(e,u,l)})})},$P=function(e){return Br(e,function(r){return Xo(r)==="ul"||Xo(r)==="ol"})},VP=function(e,r){return Br(e,function(o){return Xo(o)==="li"&&_p(o,r)}).fold(At([]),function(o){return $P(e).map(function(u){var l=ft.fromTag(Xo(u)),c=sa(cb(u),function(b,S){return ht(S,"list-style")});return Fo(l,c),[ft.fromTag("li"),l]}).getOr([])})},C_=function(e,r){var o=rr(r,function(u,l){return p(l,u),l},e);return r.length>0?mm([o]):o},QS=function(e){return Is(e)?Vi(e).filter(vb).fold(At([]),function(r){return[e,r]}):vb(e)?[e]:[]},UP=function(e,r){var o=ft.fromDom(r.commonAncestorContainer),u=_a(o,e),l=Jt(u,function(S){return Ms(S)||eo(S)}),c=VP(u,r),b=l.concat(c.length?c:QS(o));return ln(b,gu)},Ag=function(){return mm([])},yd=function(e,r){return C_(ft.fromDom(r.cloneContents()),UP(e,r))},jP=function(e,r){return Bv(r,"table",Ht(ja,e))},JS=function(e,r){return jP(e,r[0]).bind(function(o){var u=r[0],l=r[r.length-1],c=zP(o);return XS(c,u,l).map(function(b){return mm([ay(b)])})}).getOrThunk(Ag)},WP=function(e,r){return r.length>0&&r[0].collapsed?Ag():yd(e,r[0])},qP=function(e,r){var o=ag(r,e);return o.length>0?JS(e,o):WP(e,r)},KP=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},oy=function(e,r){return r>=0&&r<e.length&&rv(e.charAt(r))},ZS=function(e,r){var o=Cl(e.innerText);return r?KP(o):o},YP=function(e){return e.map(function(r){return r.nodeName}).getOr("div").toLowerCase()},qp=function(e){return ot.from(e.selection.getRng()).map(function(r){var o=ot.from(e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock)),u=e.getBody(),l=YP(o),c=Na.browser.isIE()&&l!=="pre",b=e.dom.add(u,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},r.cloneContents()),S=ZS(b,c),E=Cl(b.textContent);if(e.dom.remove(b),oy(E,0)||oy(E,E.length-1)){var rt=o.getOr(u),bt=ZS(rt,c),Ct=bt.indexOf(S);if(Ct===-1)return S;var kt=oy(bt,Ct-1),Ut=oy(bt,Ct+S.length);return(kt?" ":"")+S+(Ut?" ":"")}else return S}).getOr("")},GP=function(e,r){var o=e.selection.getRng(),u=e.dom.create("body"),l=e.selection.getSel(),c=XC(e,SC(l)),b=r.contextual?qP(ft.fromDom(e.getBody()),c).dom:o.cloneContents();return b&&u.appendChild(b),e.selection.serializer.serialize(u,r)},XP=function(e,r){return ga(ga({},e),{format:r,get:!0,selection:!0})},QP=function(e,r,o){o===void 0&&(o={});var u=XP(o,r),l=e.fire("BeforeGetContent",u);if(l.isDefaultPrevented())return e.fire("GetContent",l),l.content;if(l.format==="text")return qp(e);l.getInner=!0;var c=GP(e,l);return l.format==="tree"?c:(l.content=e.selection.isCollapsed()?"":c,e.fire("GetContent",l),l.content)},ex=0,tx=1,S_=2,JP=function(e,r){var o=e.length+r.length+2,u=new Array(o),l=new Array(o),c=function(bt,Ct,kt){return{start:bt,end:Ct,diag:kt}},b=function(bt,Ct,kt,Ut,Kt){var Yt=E(bt,Ct,kt,Ut);if(Yt===null||Yt.start===Ct&&Yt.diag===Ct-Ut||Yt.end===bt&&Yt.diag===bt-kt)for(var Qt=bt,pn=kt;Qt<Ct||pn<Ut;)Qt<Ct&&pn<Ut&&e[Qt]===r[pn]?(Kt.push([ex,e[Qt]]),++Qt,++pn):Ct-bt>Ut-kt?(Kt.push([S_,e[Qt]]),++Qt):(Kt.push([tx,r[pn]]),++pn);else{b(bt,Yt.start,kt,Yt.start-Yt.diag,Kt);for(var sn=Yt.start;sn<Yt.end;++sn)Kt.push([ex,e[sn]]);b(Yt.end,Ct,Yt.end-Yt.diag,Ut,Kt)}},S=function(bt,Ct,kt,Ut){for(var Kt=bt;Kt-Ct<Ut&&Kt<kt&&e[Kt]===r[Kt-Ct];)++Kt;return c(bt,Kt,Ct)},E=function(bt,Ct,kt,Ut){var Kt=Ct-bt,Yt=Ut-kt;if(Kt===0||Yt===0)return null;var Qt=Kt-Yt,pn=Yt+Kt,sn=(pn%2===0?pn:pn+1)/2;u[1+sn]=bt,l[1+sn]=Ct+1;var Fn,Ln,Cn,$n,vr;for(Fn=0;Fn<=sn;++Fn){for(Ln=-Fn;Ln<=Fn;Ln+=2){for(Cn=Ln+sn,Ln===-Fn||Ln!==Fn&&u[Cn-1]<u[Cn+1]?u[Cn]=u[Cn+1]:u[Cn]=u[Cn-1]+1,$n=u[Cn],vr=$n-bt+kt-Ln;$n<Ct&&vr<Ut&&e[$n]===r[vr];)u[Cn]=++$n,++vr;if(Qt%2!==0&&Qt-Fn<=Ln&&Ln<=Qt+Fn&&l[Cn-Qt]<=u[Cn])return S(l[Cn-Qt],Ln+bt-kt,Ct,Ut)}for(Ln=Qt-Fn;Ln<=Qt+Fn;Ln+=2){for(Cn=Ln+sn-Qt,Ln===Qt-Fn||Ln!==Qt+Fn&&l[Cn+1]<=l[Cn-1]?l[Cn]=l[Cn+1]-1:l[Cn]=l[Cn-1],$n=l[Cn]-1,vr=$n-bt+kt-Ln;$n>=bt&&vr>=kt&&e[$n]===r[vr];)l[Cn]=$n--,vr--;if(Qt%2===0&&-Fn<=Ln&&Ln<=Fn&&l[Cn]<=u[Cn+Qt])return S(l[Cn],Ln+bt-kt,Ct,Ut)}}},rt=[];return b(0,e.length,0,r.length,rt),rt},x_=function(e){return Da(e)?e.outerHTML:Gr(e)?rf.encodeRaw(e.data,!1):Oc(e)?"<!--"+e.data+"-->":""},ZP=function(e){var r,o=document.createElement("div"),u=document.createDocumentFragment();for(e&&(o.innerHTML=e);r=o.firstChild;)u.appendChild(r);return u},e4=function(e,r,o){var u=ZP(r);if(e.hasChildNodes()&&o<e.childNodes.length){var l=e.childNodes[o];l.parentNode.insertBefore(u,l)}else e.appendChild(u)},t4=function(e,r){if(e.hasChildNodes()&&r<e.childNodes.length){var o=e.childNodes[r];o.parentNode.removeChild(o)}},n4=function(e,r){var o=0;Ft(e,function(u){u[0]===ex?o++:u[0]===tx?(e4(r,u[1],o),o++):u[0]===S_&&t4(r,o)})},r4=function(e,r){return Jt(ln(Cr(e.childNodes),Et(Cl,x_)),function(o){return o.length>0})},a4=function(e,r){var o=ln(Cr(r.childNodes),x_);return n4(JP(o,e),r),r},o4=eu(function(){return document.implementation.createHTMLDocument("undo")}),nx=function(e){return e.querySelector("iframe")!==null},E_=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},i4=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Kp=function(e){var r=e.serializer.getTempAttrs(),o=ZT(e.getBody(),r);return nx(o)?E_(r4(o)):i4(Cl(o.innerHTML))},iy=function(e,r,o){var u=o?r.beforeBookmark:r.bookmark;r.type==="fragmented"?a4(r.fragments,e.getBody()):e.setContent(r.content,{format:"raw",no_selection:It(u)&&jk(u)?!u.isFakeCaret:!0}),e.selection.moveToBookmark(u)},pm=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Yp=function(e){var r=ft.fromTag("body",o4());return Vs(r,pm(e)),Ft(as(r,"*[data-mce-bogus]"),en),ul(r)},k_=function(e,r){return pm(e)===pm(r)},u4=function(e,r){return Yp(e)===Yp(r)},uy=function(e,r){return!e||!r?!1:k_(e,r)?!0:u4(e,r)},rx=function(e){return e.get()===0},sy=function(e,r,o){rx(o)&&(e.typing=r)},T_=function(e,r){e.typing&&(sy(e,!1,r),e.add())},s4=function(e){e.typing&&(e.typing=!1,e.add())},l4=function(e,r,o){rx(r)&&o.set(fk(e.selection))},A_=function(e,r,o,u,l,c,b){var S=Kp(e);if(c=c||{},c=ar.extend(c,S),rx(u)===!1||e.removed)return null;var E=r.data[o.get()];if(e.fire("BeforeAddUndo",{level:c,lastLevel:E,originalEvent:b}).isDefaultPrevented()||E&&uy(E,c))return null;r.data[o.get()]&&l.get().each(function(kt){r.data[o.get()].beforeBookmark=kt});var rt=TL(e);if(rt&&r.data.length>rt){for(var bt=0;bt<r.data.length-1;bt++)r.data[bt]=r.data[bt+1];r.data.length--,o.set(r.data.length)}c.bookmark=fk(e.selection),o.get()<r.data.length-1&&(r.data.length=o.get()+1),r.data.push(c),o.set(r.data.length-1);var Ct={level:c,lastLevel:E,originalEvent:b};return o.get()>0?(e.setDirty(!0),e.fire("AddUndo",Ct),e.fire("change",Ct)):e.fire("AddUndo",Ct),c},c4=function(e,r,o){r.data=[],o.set(0),r.typing=!1,e.fire("ClearUndos")},_g=function(e,r,o,u,l){if(r.transact(u)){var c=r.data[o.get()].bookmark,b=r.data[o.get()-1];iy(e,b,!0),r.transact(l)&&(r.data[o.get()-1].beforeBookmark=c)}},f4=function(e,r,o){var u;return r.get()<o.length-1&&(r.set(r.get()+1),u=o[r.get()],iy(e,u,!1),e.setDirty(!0),e.fire("Redo",{level:u})),u},d4=function(e,r,o,u){var l;return r.typing&&(r.add(),r.typing=!1,sy(r,!1,o)),u.get()>0&&(u.set(u.get()-1),l=r.data[u.get()],iy(e,l,!0),e.setDirty(!0),e.fire("Undo",{level:l})),l},v4=function(e){e.clear(),e.add()},m4=function(e,r,o){return o.get()>0||r.typing&&r.data[0]&&!uy(Kp(e),r.data[0])},__=function(e,r){return r.get()<e.data.length-1&&!e.typing},O_=function(e,r,o){return T_(e,r),e.beforeChange(),e.ignore(o),e.add()},M_=function(e,r){try{e.set(e.get()+1),r()}finally{e.set(e.get()-1)}},D_=function(e,r){var o=e.dom,u=It(r)?r:e.getBody();Ue(e.hasVisual)&&(e.hasVisual=DL(e)),Ft(o.select("table,a",u),function(l){switch(l.nodeName){case"TABLE":var c=NL(e),b=o.getAttrib(l,"border");(!b||b==="0")&&e.hasVisual?o.addClass(l,c):o.removeClass(l,c);break;case"A":if(!o.getAttrib(l,"href")){var S=o.getAttrib(l,"name")||l.id,E=kk(e);S&&e.hasVisual?o.addClass(l,E):o.removeClass(l,E)}break}}),e.fire("VisualAid",{element:r,hasVisual:e.hasVisual})},ly=function(e){return{undoManager:{beforeChange:function(r,o){return l4(e,r,o)},add:function(r,o,u,l,c,b){return A_(e,r,o,u,l,c,b)},undo:function(r,o,u){return d4(e,r,o,u)},redo:function(r,o){return f4(e,r,o)},clear:function(r,o){return c4(e,r,o)},reset:function(r){return v4(r)},hasUndo:function(r,o){return m4(e,r,o)},hasRedo:function(r,o){return __(r,o)},transact:function(r,o,u){return O_(r,o,u)},ignore:function(r,o){return M_(r,o)},extra:function(r,o,u,l){return _g(e,r,o,u,l)}},formatter:{match:function(r,o,u,l){return G1(e,r,o,u,l)},matchAll:function(r,o){return LS(e,r,o)},matchNode:function(r,o,u,l){return nd(e,r,o,u,l)},canApply:function(r){return jA(e,r)},closest:function(r){return BS(e,r)},apply:function(r,o,u){return Tg(e,r,o,u)},remove:function(r,o,u,l){return f_(e,r,o,u,l)},toggle:function(r,o,u){return BP(e,r,o,u)},formatChanged:function(r,o,u,l,c){return p_(e,r,o,u,l,c)}},editor:{getContent:function(r,o){return oB(e,r,o)},setContent:function(r,o){return dP(e,r,o)},insertContent:function(r,o){return TS(e,r,o)},addVisual:function(r){return D_(e,r)}},selection:{getContent:function(r,o){return QP(e,r,o)}},raw:{getModel:function(){return ot.none()}}}},N_=function(e){var r=function(S){return ut(S)?S:{}},o=e.undoManager,u=e.formatter,l=e.editor,c=e.selection,b=e.raw;return{undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:function(S,E,rt){return o.transact(rt)},ignore:function(S,E){return o.ignore(E)},extra:function(S,E,rt,bt){return o.extra(rt,bt)}},formatter:{match:function(S,E,rt,bt){return u.match(S,r(E),bt)},matchAll:u.matchAll,matchNode:u.matchNode,canApply:function(S){return u.canApply(S)},closest:function(S){return u.closest(S)},apply:function(S,E,rt){return u.apply(S,r(E))},remove:function(S,E,rt,bt){return u.remove(S,r(E))},toggle:function(S,E,rt){return u.toggle(S,r(E))},formatChanged:function(S,E,rt,bt,Ct){return u.formatChanged(E,rt,bt,Ct)}},editor:{getContent:function(S,E){return l.getContent(S)},setContent:function(S,E){return l.setContent(S,E)},insertContent:function(S,E){return l.insertContent(S)},addVisual:l.addVisual},selection:{getContent:function(S,E){return c.getContent(E)}},raw:{getModel:function(){return ot.some(b.getRawModel())}}}},p4=function(){var e=At(null),r=At("");return{undoManager:{beforeChange:vt,add:e,undo:e,redo:e,clear:vt,reset:vt,hasUndo:cn,hasRedo:cn,transact:e,ignore:vt,extra:vt},formatter:{match:cn,matchAll:At([]),matchNode:At(void 0),canApply:cn,closest:r,apply:vt,remove:vt,toggle:vt,formatChanged:At({unbind:vt})},editor:{getContent:r,setContent:r,insertContent:vt,addVisual:vt},selection:{getContent:r},raw:{getModel:At(ot.none())}}},wd=function(e){return Ya(e.plugins,"rtc")},h4=function(e){return Ka(e.plugins,"rtc").bind(function(r){return ot.from(r.setup)})},g4=function(e){var r=e;return h4(e).fold(function(){return r.rtcInstance=ly(e),ot.none()},function(o){return r.rtcInstance=p4(),ot.some(function(){return o().then(function(u){return r.rtcInstance=N_(u),u.rtc.isRemote})})})},ax=function(e){return e.rtcInstance?e.rtcInstance:ly(e)},bu=function(e){var r=e.rtcInstance;if(r)return r;throw new Error("Failed to get RTC instance not yet initialized.")},ox=function(e,r,o){bu(e).undoManager.beforeChange(r,o)},R_=function(e,r,o,u,l,c,b){return bu(e).undoManager.add(r,o,u,l,c,b)},cy=function(e,r,o,u){return bu(e).undoManager.undo(r,o,u)},Gl=function(e,r,o){return bu(e).undoManager.redo(r,o)},Og=function(e,r,o){bu(e).undoManager.clear(r,o)},hm=function(e,r){bu(e).undoManager.reset(r)},b4=function(e,r,o){return bu(e).undoManager.hasUndo(r,o)},L_=function(e,r,o){return bu(e).undoManager.hasRedo(r,o)},B_=function(e,r,o,u){return bu(e).undoManager.transact(r,o,u)},y4=function(e,r,o){bu(e).undoManager.ignore(r,o)},w4=function(e,r,o,u,l){bu(e).undoManager.extra(r,o,u,l)},C4=function(e,r,o,u,l){return bu(e).formatter.match(r,o,u,l)},P_=function(e,r,o){return bu(e).formatter.matchAll(r,o)},fy=function(e,r,o,u,l){return bu(e).formatter.matchNode(r,o,u,l)},I_=function(e,r){return bu(e).formatter.canApply(r)},F_=function(e,r){return bu(e).formatter.closest(r)},dy=function(e,r,o,u){bu(e).formatter.apply(r,o,u)},S4=function(e,r,o,u,l){bu(e).formatter.remove(r,o,u,l)},x4=function(e,r,o,u){bu(e).formatter.toggle(r,o,u)},E4=function(e,r,o,u,l,c){return bu(e).formatter.formatChanged(r,o,u,l,c)},k4=function(e,r,o){return ax(e).editor.getContent(r,o)},T4=function(e,r,o){return ax(e).editor.setContent(r,o)},A4=function(e,r,o){return ax(e).editor.insertContent(r,o)},_4=function(e,r,o){return bu(e).selection.getContent(r,o)},O4=function(e,r){return bu(e).editor.addVisual(r)},M4=function(e,r){r===void 0&&(r={});var o=r.format?r.format:"html";return _4(e,o,r)},H_=function(e){return e.dom.length===0?(Bt(e),ot.none()):ot.some(e)},D4=function(e,r){return e.filter(function(o){return rm.isBookmarkNode(o.dom)}).bind(r?Ff:qc)},N4=function(e,r,o,u){var l=e.dom,c=r.dom,b=u?l.length:c.length;u?(H1(l,c,!1,!u),o.setStart(c,b)):(H1(c,l,!1,!u),o.setEnd(c,b))},ix=function(e,r){Vi(e).each(function(o){var u=e.dom;r&&gg(o,nr(u,0))?F1(u,0):!r&&bg(o,nr(u,u.length))&&Mo(u,u.length)})},z_=function(e,r,o,u){e.bind(function(l){var c=u?Mo:F1;return c(l.dom,u?l.dom.length:0),r.filter(Yi).map(function(b){return N4(l,b,o,u)})}).orThunk(function(){var l=D4(r,u).or(r).filter(Yi);return l.map(function(c){return ix(c,u)})})},Gp=function(e,r){var o=ot.from(r.firstChild).map(ft.fromDom),u=ot.from(r.lastChild).map(ft.fromDom);e.deleteContents(),e.insertNode(r);var l=o.bind(qc).filter(Yi).bind(H_),c=u.bind(Ff).filter(Yi).bind(H_);z_(l,o,e,!0),z_(c,u,e,!1),e.collapse(!1)},$_=function(e,r){return ga(ga({format:"html"},e),{set:!0,selection:!0,content:r})},yu=function(e,r){if(r.format!=="raw"){var o=e.selection.getRng(),u=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=u?{context:u.nodeName.toLowerCase()}:{},c=e.parser.parse(r.content,ga(ga({isRootContent:!0,forced_root_block:!1},l),r));return im({validate:e.validate},e.schema).serialize(c)}else return r.content},R4=function(e,r,o){o===void 0&&(o={});var u=$_(o,r),l=u;if(!u.no_events){var c=e.fire("BeforeSetContent",u);if(c.isDefaultPrevented()){e.fire("SetContent",c);return}else l=c}l.content=yu(e,l);var b=e.selection.getRng();Gp(b,b.createContextualFragment(l.content)),e.selection.setRng(b),lg(e,b),l.no_events||e.fire("SetContent",l)},V_=function(e,r,o){if(e&&Ya(e,r)){var u=Jt(e[r],function(l){return l!==o});u.length===0?delete e[r]:e[r]=u}};function L4(e,r){var o,u,l=function(b,S){return Br(S,function(E){return e.is(E,b)})},c=function(b){return e.getParents(b,null,e.getRoot())};return{selectorChangedWithUnbind:function(b,S){return o||(o={},u={},r.on("NodeChange",function(E){var rt=E.element,bt=c(rt),Ct={};ar.each(o,function(kt,Ut){l(Ut,bt).each(function(Kt){u[Ut]||(Ft(kt,function(Yt){Yt(!0,{node:Kt,selector:Ut,parents:bt})}),u[Ut]=kt),Ct[Ut]=kt})}),ar.each(u,function(kt,Ut){Ct[Ut]||(delete u[Ut],ar.each(kt,function(Kt){Kt(!1,{node:rt,selector:Ut,parents:bt})}))})})),o[b]||(o[b]=[]),o[b].push(S),l(b,c(r.selection.getStart())).each(function(){u[b]=o[b]}),{unbind:function(){V_(o,b,S),V_(u,b,S)}}}}}var U_=function(e){return!!e.select},gc=function(e){return!!(e&&e.ownerDocument)&&Zo(ft.fromDom(e.ownerDocument),ft.fromDom(e))},vy=function(e){return e?U_(e)?!0:gc(e.startContainer)&&gc(e.endContainer):!1},Xp=function(e,r,o,u){var l,c,b=L4(e,u).selectorChangedWithUnbind,S=function(Tr,ua){var So=e.createRng();It(Tr)&&It(ua)?(So.setStart(Tr,ua),So.setEnd(Tr,ua),Fn(So),Qt(!1)):(EC(e,So,u.getBody(),!0),Fn(So))},E=function(Tr){return M4(u,Tr)},rt=function(Tr,ua){return R4(u,Tr,ua)},bt=function(Tr){return jT(u.getBody(),sn(),Tr)},Ct=function(Tr){return WT(u.getBody(),sn(),Tr)},kt=function(Tr,ua){return Kr.getBookmark(Tr,ua)},Ut=function(Tr){return Kr.moveToBookmark(Tr)},Kt=function(Tr,ua){return G3(e,Tr,ua).each(Fn),Tr},Yt=function(){var Tr=sn(),ua=pn();return!Tr||Tr.item?!1:Tr.compareEndPoints?Tr.compareEndPoints("StartToEnd",Tr)===0:!ua||Tr.collapsed},Qt=function(Tr){var ua=sn();ua.collapse(!!Tr),Fn(ua)},pn=function(){return r.getSelection?r.getSelection():r.document.selection},sn=function(){var Tr,ua,So,Vo=function(Ii,Ns,Ml){try{return Ns.compareBoundaryPoints(Ii,Ml)}catch(Ar){return-1}},zo=r.document;if(u.bookmark!==void 0&&ed(u)===!1){var Vu=WC(u);if(Vu.isSome())return Vu.map(function(Ii){return XC(u,[Ii])[0]}).getOr(zo.createRange())}try{(Tr=pn())&&!Ai(Tr.anchorNode)&&(Tr.rangeCount>0?ua=Tr.getRangeAt(0):ua=Tr.createRange?Tr.createRange():zo.createRange(),ua=XC(u,[ua])[0])}catch(Ii){}return ua||(ua=zo.createRange?zo.createRange():zo.body.createTextRange()),ua.setStart&&ua.startContainer.nodeType===9&&ua.collapsed&&(So=e.getRoot(),ua.setStart(So,0),ua.setEnd(So,0)),l&&c&&(Vo(ua.START_TO_START,ua,l)===0&&Vo(ua.END_TO_END,ua,l)===0?ua=c:(l=null,c=null)),ua},Fn=function(Tr,ua){var So;if(vy(Tr)){var Vo=U_(Tr)?Tr:null;if(Vo){c=null;try{Vo.select()}catch(Ii){}return}var zo=pn(),Vu=u.fire("SetSelectionRange",{range:Tr,forward:ua});if(Tr=Vu.range,zo){c=Tr;try{zo.removeAllRanges(),zo.addRange(Tr)}catch(Ii){}ua===!1&&zo.extend&&(zo.collapse(Tr.endContainer,Tr.endOffset),zo.extend(Tr.startContainer,Tr.startOffset)),l=zo.rangeCount>0?zo.getRangeAt(0):null}!Tr.collapsed&&Tr.startContainer===Tr.endContainer&&zo.setBaseAndExtent&&!Na.ie&&Tr.endOffset-Tr.startOffset<2&&Tr.startContainer.hasChildNodes()&&(So=Tr.startContainer.childNodes[Tr.startOffset],So&&So.tagName==="IMG"&&(zo.setBaseAndExtent(Tr.startContainer,Tr.startOffset,Tr.endContainer,Tr.endOffset),(zo.anchorNode!==Tr.startContainer||zo.focusNode!==Tr.endContainer)&&zo.setBaseAndExtent(So,0,So,1))),u.fire("AfterSetSelectionRange",{range:Tr,forward:ua})}},Ln=function(Tr){return rt(e.getOuterHTML(Tr)),Tr},Cn=function(){return Y3(u.getBody(),sn())},$n=function(Tr,ua){return D1(e,sn(),Tr,ua)},vr=function(){var Tr=pn(),ua=Tr==null?void 0:Tr.anchorNode,So=Tr==null?void 0:Tr.focusNode;if(!Tr||!ua||!So||Ai(ua)||Ai(So))return!0;var Vo=e.createRng();Vo.setStart(ua,Tr.anchorOffset),Vo.collapse(!0);var zo=e.createRng();return zo.setStart(So,Tr.focusOffset),zo.collapse(!0),Vo.compareBoundaryPoints(Vo.START_TO_START,zo)<=0},Dr=function(){var Tr=sn(),ua=pn();if(!nT(ua)&&p1(u)){var So=C1(e,Tr);return So.each(function(Vo){Fn(Vo,vr())}),So.getOr(Tr)}return Tr},Fa=function(Tr,ua){return b(Tr,ua),Pr},ra=function(){for(var Tr,ua=e.getRoot();ua&&ua.nodeName!=="BODY";){if(ua.scrollHeight>ua.clientHeight){Tr=ua;break}ua=ua.parentNode}return Tr},pr=function(Tr,ua){It(Tr)?O3(u,Tr,ua):lg(u,sn(),ua)},Ea=function(Tr,ua){return Fn(BC(Tr,ua,u.getDoc()))},Lr=function(){var Tr=sn();return Tr.collapsed?nr.fromRangeStart(Tr).getClientRects()[0]:Tr.getBoundingClientRect()},ta=function(){r=l=c=null,va.destroy()},Pr={bookmarkManager:null,controlSelection:null,dom:e,win:r,serializer:o,editor:u,collapse:Qt,setCursorLocation:S,getContent:E,setContent:rt,getBookmark:kt,moveToBookmark:Ut,select:Kt,isCollapsed:Yt,isForward:vr,setNode:Ln,getNode:Cn,getSel:pn,setRng:Fn,getRng:sn,getStart:bt,getEnd:Ct,getSelectedBlocks:$n,normalize:Dr,selectorChanged:Fa,selectorChangedWithUnbind:b,getScrollContainer:ra,scrollIntoView:pr,placeCaretAt:Ea,getBoundingClientRect:Lr,destroy:ta},Kr=rm(Pr),va=RC(Pr,u);return Pr.bookmarkManager=Kr,Pr.controlSelection=va,Pr},Mg=function(e,r){Ft(r,function(o){e.attr(o,null)})},ux=function(e,r,o){e.addNodeFilter("font",function(u){Ft(u,function(l){var c=r.parse(l.attr("style")),b=l.attr("color"),S=l.attr("face"),E=l.attr("size");b&&(c.color=b),S&&(c["font-family"]=S),E&&(c["font-size"]=o[parseInt(l.attr("size"),10)-1]),l.name="span",l.attr("style",r.serialize(c)),Mg(l,["color","face","size"])})})},B4=function(e,r){e.addNodeFilter("strike",function(o){Ft(o,function(u){var l=r.parse(u.attr("style"));l["text-decoration"]="line-through",u.name="span",u.attr("style",r.serialize(l))})})},P4=function(e,r){var o=Hh();r.convert_fonts_to_spans&&ux(e,o,ar.explode(r.font_size_legacy_values)),B4(e,o)},Qp=function(e,r){r.inline_styles&&P4(e,r)},Jp=function(e){return new Yu(function(r,o){var u=function(){o("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="blob",l.onload=function(){l.status===200?r(l.response):u()},l.onerror=u,l.send()}catch(c){u()}})},dv=function(e){var r,o=decodeURIComponent(e).split(","),u=/data:([^;]+)/.exec(o[0]);return u&&(r=u[1]),{type:r,data:o[1]}},my=function(e,r){var o;try{o=atob(r)}catch(c){return ot.none()}for(var u=new Uint8Array(o.length),l=0;l<u.length;l++)u[l]=o.charCodeAt(l);return ot.some(new Blob([u],{type:e}))},I4=function(e){return new Yu(function(r){var o=dv(e),u=o.type,l=o.data;my(u,l).fold(function(){return r(new Blob([]))},r)})},py=function(e){return e.indexOf("blob:")===0?Jp(e):e.indexOf("data:")===0?I4(e):null},j_=function(e){return new Yu(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(e)})},W_=0,sx=function(e){return"blobid"+W_++},F4=function(e,r,o,u){var l,c;if(r.src.indexOf("blob:")===0){c=e.getByUri(r.src),c?o({image:r,blobInfo:c}):py(r.src).then(function(rt){j_(rt).then(function(bt){l=dv(bt).data,c=e.create(sx(),rt,l),e.add(c),o({image:r,blobInfo:c})})},function(rt){u(rt)});return}var b=dv(r.src),S=b.data,E=b.type;l=S,c=e.getByData(l,E),c?o({image:r,blobInfo:c}):py(r.src).then(function(rt){c=e.create(sx(),rt,l),e.add(c),o({image:r,blobInfo:c})},function(rt){u(rt)})},q_=function(e){return e?Cr(e.getElementsByTagName("img")):[]},H4=function(e,r){var o={},u=function(l,c){c||(c=yt);var b=Jt(q_(l),function(E){var rt=E.src;return!Na.fileApi||E.hasAttribute("data-mce-bogus")||E.hasAttribute("data-mce-placeholder")||!rt||rt===Na.transparentSrc?!1:rt.indexOf("blob:")===0?!e.isUploaded(rt)&&c(E):rt.indexOf("data:")===0?c(E):!1}),S=ln(b,function(E){if(o[E.src]!==void 0)return new Yu(function(bt){o[E.src].then(function(Ct){if(typeof Ct=="string")return Ct;bt({image:E,blobInfo:Ct.blobInfo})})});var rt=new Yu(function(bt,Ct){F4(r,E,bt,Ct)}).then(function(bt){return delete o[bt.image.src],bt}).catch(function(bt){return delete o[E.src],bt});return o[E.src]=rt,rt});return Yu.all(S)};return{findAll:u}},z4=function(e){for(var r=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,o=[],u={},l=Y2("img"),c,b=0,S=0;c=r.exec(e);){var E=c[0],rt=l+"_"+S++;u[rt]=E,b<c.index&&o.push(e.substr(b,c.index-b)),o.push(rt),b=c.index+E.length}var bt=new RegExp(l+"_[0-9]+","g");return b===0?{prefix:l,uris:u,html:e,re:bt}:(b<e.length&&o.push(e.substr(b)),{prefix:l,uris:u,html:o.join(""),re:bt})},lx=function(e,r){return e.replace(r.re,function(o){return Ka(r.uris,o).getOr(o)})},$4=function(e){var r=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return r?ot.some({type:r[1],data:decodeURIComponent(r[2])}):ot.none()},cx=function(e,r,o,u){var l=e.padd_empty_with_br||r.insert;l&&o[u.name]?u.empty().append(new hc("br",1)).shortEnded=!0:u.empty().append(new hc("#text",3)).value=yl},K_=function(e){return Y_(e,"#text")&&e.firstChild.value===yl},Y_=function(e,r){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===r},Dg=function(e,r){var o=e.getElementRule(r.name);return o&&o.paddEmpty},Zp=function(e,r,o,u){return u.isEmpty(r,o,function(l){return Dg(e,l)})},V4=function(e,r){return e&&(Ya(r,e.name)||e.name==="br")},G_=function(e){return It(e.attr("data-mce-bogus"))},U4=function(e){return e.attr("src")===Na.transparentSrc||It(e.attr("data-mce-placeholder"))},X_=function(e,r){if(r.images_dataimg_filter){var o=new Image;return o.src=e.attr("src"),Mr(e.attributes.map,function(u,l){o.setAttribute(l,u)}),r.images_dataimg_filter(o)}else return!0},j4=function(e,r){var o=r.blob_cache,u=function(l){var c=l.attr("src");U4(l)||G_(l)||$4(c).filter(function(){return X_(l,r)}).bind(function(b){var S=b.type,E=b.data;return ot.from(o.getByData(E,S)).orThunk(function(){return my(S,E).map(function(rt){var bt=o.create(sx(),rt,E);return o.add(bt),bt})})}).each(function(b){l.attr("src",b.blobUri())})};o&&e.addAttributeFilter("src",function(l){return Ft(l,u)})},W4=function(e,r){var o=e.schema;r.remove_trailing_brs&&e.addNodeFilter("br",function(u,l,c){var b,S=u.length,E,rt=ar.extend({},o.getBlockElements()),bt=o.getNonEmptyElements(),Ct,kt,Ut,Kt,Yt=o.getWhiteSpaceElements(),Qt,pn;for(rt.body=1,b=0;b<S;b++)if(E=u[b],Ct=E.parent,rt[E.parent.name]&&E===Ct.lastChild){for(Ut=E.prev;Ut;){if(Kt=Ut.name,Kt!=="span"||Ut.attr("data-mce-type")!=="bookmark"){Kt==="br"&&(E=null);break}Ut=Ut.prev}E&&(E.remove(),Zp(o,bt,Yt,Ct)&&(Qt=o.getElementRule(Ct.name),Qt&&(Qt.removeEmpty?Ct.remove():Qt.paddEmpty&&cx(r,c,rt,Ct))))}else{for(kt=E;Ct&&Ct.firstChild===kt&&Ct.lastChild===kt&&(kt=Ct,!rt[Ct.name]);)Ct=Ct.parent;kt===Ct&&r.padd_empty_with_br!==!0&&(pn=new hc("#text",3),pn.value=yl,E.replace(pn))}}),e.addAttributeFilter("href",function(u){var l=u.length,c=function(E){var rt=E.split(" ").filter(function(bt){return bt.length>0});return rt.concat(["noopener"]).sort().join(" ")},b=function(E){var rt=E?ar.trim(E):"";return/\b(noopener)\b/g.test(rt)?rt:c(rt)};if(!r.allow_unsafe_link_target)for(;l--;){var S=u[l];S.name==="a"&&S.attr("target")==="_blank"&&S.attr("rel",b(S.attr("rel")))}}),r.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(u){for(var l=u.length,c,b,S,E;l--;)if(E=u[l],E.name==="a"&&E.firstChild&&!E.attr("href")){S=E.parent,c=E.lastChild;do b=c.prev,S.insert(c,E),c=b;while(c)}}),r.fix_list_elements&&e.addNodeFilter("ul,ol",function(u){for(var l=u.length,c,b;l--;)if(c=u[l],b=c.parent,b.name==="ul"||b.name==="ol")if(c.prev&&c.prev.name==="li")c.prev.append(c);else{var S=new hc("li",1);S.attr("style","list-style-type: none"),c.wrap(S)}}),r.validate&&o.getValidClasses()&&e.addAttributeFilter("class",function(u){for(var l=o.getValidClasses(),c=u.length;c--;){for(var b=u[c],S=b.attr("class").split(" "),E="",rt=0;rt<S.length;rt++){var bt=S[rt],Ct=!1,kt=l["*"];kt&&kt[bt]&&(Ct=!0),kt=l[b.name],!Ct&&kt&&kt[bt]&&(Ct=!0),Ct&&(E&&(E+=" "),E+=bt)}E.length||(E=null),b.attr("class",E)}}),j4(e,r)},fx=ar.each,Q_=ar.trim,J_="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Z_={ftp:21,http:80,https:443,mailto:25},eO=["img","video"],q4=function(e,r){return It(e)?!e:It(r)?!Zt(eO,r):!0},K4=function(e,r,o){return e.allow_html_data_urls?!1:/^data:image\//i.test(r)?q4(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)},vv=function(){function e(r,o){r=Q_(r),this.settings=o||{};var u=this.settings.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r)){l.source=r;return}var c=r.indexOf("//")===0;if(r.indexOf("/")===0&&!c&&(r=(u&&u.protocol||"http")+"://mce_host"+r),!/^[\w\-]*:?\/\//.test(r)){var b=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")r="//mce_host"+l.toAbsPath(b,r);else{var S=/([^#?]*)([#?]?.*)/.exec(r);r=(u&&u.protocol||"http")+"://mce_host"+l.toAbsPath(b,S[1])+S[2]}}r=r.replace(/@@/g,"(mce_at)");var E=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);fx(J_,function(rt,bt){var Ct=E[bt];Ct&&(Ct=Ct.replace(/\(mce_at\)/g,"@@")),l[rt]=Ct}),u&&(l.protocol||(l.protocol=u.protocol),l.userInfo||(l.userInfo=u.userInfo),!l.port&&l.host==="mce_host"&&(l.port=u.port),(!l.host||l.host==="mce_host")&&(l.host=u.host),l.source=""),c&&(l.protocol="")}return e.parseDataUri=function(r){var o,u=decodeURIComponent(r).split(","),l=/data:([^;]+)/.exec(u[0]);return l&&(o=l[1]),{type:o,data:u[1]}},e.isDomSafe=function(r,o,u){if(u===void 0&&(u={}),u.allow_script_urls)return!0;var l=rf.decode(r).replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch(c){l=unescape(l)}return/((java|vb)script|mhtml):/i.test(l)?!1:!K4(u,l,o)},e.getDocumentBaseUrl=function(r){var o;return r.protocol.indexOf("http")!==0&&r.protocol!=="file:"?o=r.href:o=r.protocol+"//"+r.host+r.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o},e.prototype.setPath=function(r){var o=/^(.*?)\/?(\w+)?$/.exec(r);this.path=o[0],this.directory=o[1],this.file=o[2],this.source="",this.getURI()},e.prototype.toRelative=function(r){var o;if(r==="./")return r;var u=new e(r,{base_uri:this});if(u.host!=="mce_host"&&this.host!==u.host&&u.host||this.port!==u.port||this.protocol!==u.protocol&&u.protocol!=="")return u.getURI();var l=this.getURI(),c=u.getURI();return l===c||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===c?l:(o=this.toRelPath(this.path,u.path),u.query&&(o+="?"+u.query),u.anchor&&(o+="#"+u.anchor),o)},e.prototype.toAbsolute=function(r,o){var u=new e(r,{base_uri:this});return u.getURI(o&&this.isSameOrigin(u))},e.prototype.isSameOrigin=function(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;var o=Z_[this.protocol];if(o&&(this.port||o)==(r.port||o))return!0}return!1},e.prototype.toRelPath=function(r,o){var u=0,l="",c,b,S=r.substring(0,r.lastIndexOf("/")).split("/"),E=o.split("/");if(S.length>=E.length){for(c=0,b=S.length;c<b;c++)if(c>=E.length||S[c]!==E[c]){u=c+1;break}}if(S.length<E.length){for(c=0,b=E.length;c<b;c++)if(c>=S.length||S[c]!==E[c]){u=c+1;break}}if(u===1)return o;for(c=0,b=S.length-(u-1);c<b;c++)l+="../";for(c=u-1,b=E.length;c<b;c++)c!==u-1?l+="/"+E[c]:l+=E[c];return l},e.prototype.toAbsPath=function(r,o){var u,l=0,c=[],b,S=/\/$/.test(o)?"/":"",E=r.split("/"),rt=o.split("/");for(fx(E,function(bt){bt&&c.push(bt)}),E=c,u=rt.length-1,c=[];u>=0;u--)if(!(rt[u].length===0||rt[u]===".")){if(rt[u]===".."){l++;continue}if(l>0){l--;continue}c.push(rt[u])}return u=E.length-l,u<=0?b=hr(c).join("/"):b=E.slice(0,u).join("/")+"/"+hr(c).join("/"),b.indexOf("/")!==0&&(b="/"+b),S&&b.lastIndexOf("/")!==b.length-1&&(b+=S),b},e.prototype.getURI=function(r){r===void 0&&(r=!1);var o;return(!this.source||r)&&(o="",r||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source},e}(),Y4=ar.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),dx=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},Ng=eu(function(){return document.implementation.createHTMLDocument("parser")}),hy=function(e,r,o){for(var u=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,c=e.getShortEndedElements(),b=1,S=o;b!==0;)for(u.lastIndex=S;;){var E=u.exec(r);if(E===null)return S;if(E[1]==="!"){ht(E[2],"--")?S=eh(r,!1,E.index+3):S=eh(r,!0,E.index+1);break}else{l.lastIndex=u.lastIndex;var rt=l.exec(r);if(qe(rt)||rt.index!==u.lastIndex)continue;E[1]==="/"?b-=1:Ya(c,E[2])||(b+=1),S=u.lastIndex+rt[0].length;break}}return S},tO=function(e,r){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(r))},eh=function(e,r,o){o===void 0&&(o=0);var u=e.toLowerCase();if(u.indexOf("[if ",o)!==-1&&tO(u,o)){var l=u.indexOf("[endif]",o);return u.indexOf(">",l)}else if(r){var c=u.indexOf(">",o);return c!==-1?c:u.length}else{var b=/--!?>/g;b.lastIndex=o;var S=b.exec(e);return S?S.index+S[0].length:u.length}},G4=function(e,r){var o=e.exec(r);if(o){var u=o[1],l=o[2];return typeof u=="string"&&u.toLowerCase()==="data-mce-bogus"?l:null}else return null},vx=function(e,r){r===void 0&&(r=Ul()),e=e||{};var o=Ng(),u=o.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var l=e.comment?e.comment:vt,c=e.cdata?e.cdata:vt,b=e.text?e.text:vt,S=e.start?e.start:vt,E=e.end?e.end:vt,rt=e.pi?e.pi:vt,bt=e.doctype?e.doctype:vt,Ct=function(Ut,Kt){Kt===void 0&&(Kt="html");for(var Yt=Ut.html,Qt,pn=0,sn,Fn,Ln=[],Cn,$n,vr,Dr,Fa,ra,pr,Ea,Lr,ta,Pr,Kr,va,Tr,ua,So,Vo,zo=0,Vu=rf.decode,Ii=ar.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Ns=Kt==="html"?0:1,Ml=function(Uo){var Mi,Ru;for(Mi=Ln.length;Mi--&&Ln[Mi].name!==Uo;);if(Mi>=0){for(Ru=Ln.length-1;Ru>=Mi;Ru--)Uo=Ln[Ru],Uo.valid&&E(Uo.name);Ln.length=Mi}},Ar=function(Uo,Mi){return b(lx(Uo,Ut),Mi)},Vr=function(Uo){Uo!==""&&(Uo.charAt(0)===">"&&(Uo=" "+Uo),!e.allow_conditional_comments&&Uo.substr(0,3).toLowerCase()==="[if"&&(Uo=" "+Uo),l(lx(Uo,Ut)))},ka=function(Uo){return lx(Uo,Ut)},Gn=function(Uo,Mi){var Ru=Uo||"",Df=!ht(Ru,"--"),Nf=eh(Yt,Df,Mi);return Uo=Yt.substr(Mi,Nf-Mi),Vr(Df?Ru+Uo:Uo),Nf+1},Nr=function(Uo,Mi,Ru,Df,Nf){if(Mi=Mi.toLowerCase(),Ru=ka(Mi in Nu?Mi:Vu(Ru||Df||Nf||"")),wu&&!Fa&&dx(Mi)===!1){var Rf=Pr[Mi];if(!Rf&&Kr){for(var Ov=Kr.length;Ov--&&(Rf=Kr[Ov],!Rf.pattern.test(Mi)););Ov===-1&&(Rf=null)}if(!Rf||Rf.validValues&&!(Ru in Rf.validValues))return}var e2=Mi==="name"||Mi==="id";e2&&Uo in Y4&&(Ru in o||Ru in u)||Ii[Mi]&&!vv.isDomSafe(Ru,Uo,e)||Fa&&(Mi in Ii||Mi.indexOf("on")===0)||(Cn.map[Mi]=Ru,Cn.push({name:Mi,value:Ru}))},Or=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Ma=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Ba=r.getShortEndedElements(),ui=e.self_closing_elements||r.getSelfClosingElements(),Nu=r.getBoolAttrs(),wu=e.validate,Ss=e.remove_internals,xs=e.fix_self_closing,Gs=r.getSpecialElements(),Cu=Yt+">";Qt=Or.exec(Cu);){var Zl=Qt[0];if(pn<Qt.index&&Ar(Vu(Yt.substr(pn,Qt.index-pn))),sn=Qt[7])sn=sn.toLowerCase(),sn.charAt(0)===":"&&(sn=sn.substr(1)),Ml(sn);else if(sn=Qt[8]){if(Qt.index+Zl.length>Yt.length){Ar(Vu(Yt.substr(Qt.index))),pn=Qt.index+Zl.length;continue}sn=sn.toLowerCase(),sn.charAt(0)===":"&&(sn=sn.substr(1)),ra=sn in Ba,xs&&ui[sn]&&Ln.length>0&&Ln[Ln.length-1].name===sn&&Ml(sn);var Xs=G4(Ma,Qt[9]);if(Xs!==null){if(Xs==="all"){pn=hy(r,Yt,Or.lastIndex),Or.lastIndex=pn;continue}Ea=!1}if(!wu||(pr=r.getElementRule(sn))){if(Ea=!0,wu&&(Pr=pr.attributes,Kr=pr.attributePatterns),(ta=Qt[9])?(Fa=ta.indexOf("data-mce-type")!==-1,Fa&&Ss&&(Ea=!1),Cn=[],Cn.map={},ta.replace(Ma,function(Uo,Mi,Ru,Df,Nf){return Nr(sn,Mi,Ru,Df,Nf),""})):(Cn=[],Cn.map={}),wu&&!Fa){if(va=pr.attributesRequired,Tr=pr.attributesDefault,ua=pr.attributesForced,So=pr.removeEmptyAttrs,So&&!Cn.length&&(Ea=!1),ua)for($n=ua.length;$n--;)Lr=ua[$n],Dr=Lr.name,Vo=Lr.value,Vo==="{$uid}"&&(Vo="mce_"+zo++),Cn.map[Dr]=Vo,Cn.push({name:Dr,value:Vo});if(Tr)for($n=Tr.length;$n--;)Lr=Tr[$n],Dr=Lr.name,Dr in Cn.map||(Vo=Lr.value,Vo==="{$uid}"&&(Vo="mce_"+zo++),Cn.map[Dr]=Vo,Cn.push({name:Dr,value:Vo}));if(va){for($n=va.length;$n--&&!(va[$n]in Cn.map););$n===-1&&(Ea=!1)}if(Lr=Cn.map["data-mce-bogus"]){if(Lr==="all"){pn=hy(r,Yt,Or.lastIndex),Or.lastIndex=pn;continue}Ea=!1}}Ea&&S(sn,Cn,ra)}else Ea=!1;if(Fn=Gs[sn]){Fn.lastIndex=pn=Qt.index+Zl.length,(Qt=Fn.exec(Yt))?(Ea&&(vr=Yt.substr(pn,Qt.index-pn)),pn=Qt.index+Qt[0].length):(vr=Yt.substr(pn),pn=Yt.length),Ea&&(vr.length>0&&Ar(vr,!0),E(sn)),Or.lastIndex=pn;continue}ra||(!ta||ta.indexOf("/")!==ta.length-1?Ln.push({name:sn,valid:Ea}):Ea&&E(sn))}else if(sn=Qt[1])Vr(sn);else if(sn=Qt[2]){var id=Ns===1||e.preserve_cdata||Ln.length>0&&r.isValidChild(Ln[Ln.length-1].name,"#cdata");if(id)c(sn);else{pn=Gn("",Qt.index+2),Or.lastIndex=pn;continue}}else if(sn=Qt[3])bt(sn);else if((sn=Qt[4])||Zl==="<!"){pn=Gn(sn,Qt.index+Zl.length),Or.lastIndex=pn;continue}else if(sn=Qt[5])if(Ns===1)rt(sn,Qt[6]);else{pn=Gn("?",Qt.index+2),Or.lastIndex=pn;continue}pn=Qt.index+Zl.length}for(pn<Yt.length&&Ar(Vu(Yt.substr(pn))),$n=Ln.length-1;$n>=0;$n--)sn=Ln[$n],sn.valid&&E(sn.name)},kt=function(Ut,Kt){Kt===void 0&&(Kt="html"),Ct(z4(Ut),Kt)};return{parse:kt}};vx.findEndTag=hy;var Cd=ar.makeMap,gy=ar.each,mx=ar.explode,Rg=ar.extend,by=function(e,r){r===void 0&&(r=Ul());var o={},u=[],l={},c={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var b=function(Kt){for(var Yt=Cd("tr,td,th,tbody,thead,tfoot,table"),Qt=r.getNonEmptyElements(),pn=r.getWhiteSpaceElements(),sn=r.getTextBlockElements(),Fn=r.getSpecialElements(),Ln=function(Kr,va){if(va===void 0&&(va=Kr.parent),Fn[Kr.name])Kr.empty().remove();else{for(var Tr=Kr.children(),ua=0,So=Tr;ua<So.length;ua++){var Vo=So[ua];r.isValidChild(va.name,Vo.name)||Ln(Vo,va)}Kr.unwrap()}},Cn=0;Cn<Kt.length;Cn++){var $n=Kt[Cn],vr=void 0,Dr=void 0,Fa=void 0;if(!(!$n.parent||$n.fixed)){if(sn[$n.name]&&$n.parent.name==="li"){for(var ra=$n.next;ra&&sn[ra.name];){ra.name="li",ra.fixed=!0,$n.parent.insert(ra,$n.parent);ra=ra.next}$n.unwrap();continue}var pr=[$n];for(vr=$n.parent;vr&&!r.isValidChild(vr.name,$n.name)&&!Yt[vr.name];vr=vr.parent)pr.push(vr);if(vr&&pr.length>1)if(r.isValidChild(vr.name,$n.name)){pr.reverse(),Dr=S(pr[0].clone());for(var Ea=Dr,Lr=0;Lr<pr.length-1;Lr++){r.isValidChild(Ea.name,pr[Lr].name)?(Fa=S(pr[Lr].clone()),Ea.append(Fa)):Fa=Ea;for(var ta=pr[Lr].firstChild;ta&&ta!==pr[Lr+1];){var Pr=ta.next;Fa.append(ta),ta=Pr}Ea=Fa}Zp(r,Qt,pn,Dr)?vr.insert($n,pr[0],!0):(vr.insert(Dr,pr[0],!0),vr.insert($n,Dr)),vr=pr[0],(Zp(r,Qt,pn,vr)||Y_(vr,"br"))&&vr.empty().remove()}else Ln($n);else if($n.parent){if($n.name==="li"){var ra=$n.prev;if(ra&&(ra.name==="ul"||ra.name==="ol")){ra.append($n);continue}if(ra=$n.next,ra&&(ra.name==="ul"||ra.name==="ol")){ra.insert($n,ra.firstChild,!0);continue}$n.wrap(S(new hc("ul",1)));continue}r.isValidChild($n.parent.name,"div")&&r.isValidChild("div",$n.name)?$n.wrap(S(new hc("div",1))):Ln($n)}}}},S=function(Kt){var Yt=Kt.name;if(Yt in o){var Qt=l[Yt];Qt?Qt.push(Kt):l[Yt]=[Kt]}for(var pn=u.length;pn--;){var sn=u[pn].name;if(sn in Kt.attributes.map){var Qt=c[sn];Qt?Qt.push(Kt):c[sn]=[Kt]}}return Kt},E=function(Kt,Yt){gy(mx(Kt),function(Qt){var pn=o[Qt];pn||(o[Qt]=pn=[]),pn.push(Yt)})},rt=function(){var Kt=[];for(var Yt in o)Ya(o,Yt)&&Kt.push({name:Yt,callbacks:o[Yt]});return Kt},bt=function(Kt,Yt){gy(mx(Kt),function(Qt){var pn;for(pn=0;pn<u.length;pn++)if(u[pn].name===Qt){u[pn].callbacks.push(Yt);return}u.push({name:Qt,callbacks:[Yt]})})},Ct=function(){return[].concat(u)},kt=function(Kt,Yt){var Qt,pn,sn,Fn,Ln,Cn,$n,vr=[],Dr,Fa=function(Gn){return Gn===!1?"":Gn===!0?"p":Gn};Yt=Yt||{},l={},c={};var ra=Rg(Cd("script,style,head,html,body,title,meta,param"),r.getBlockElements()),pr=wb(r),Ea=r.getNonEmptyElements(),Lr=r.children,ta=e.validate,Pr="forced_root_block"in Yt?Yt.forced_root_block:e.forced_root_block,Kr=Fa(Pr),va=r.getWhiteSpaceElements(),Tr=/^[ \t\r\n]+/,ua=/[ \t\r\n]+$/,So=/[ \t\r\n]+/g,Vo=/^[ \t\r\n]+$/,zo=Ya(va,Yt.context)||Ya(va,e.root_name),Vu=function(){var Gn=ka.firstChild,Nr=null,Or=function(Ba){Ba&&(Gn=Ba.firstChild,Gn&&Gn.type===3&&(Gn.value=Gn.value.replace(Tr,"")),Gn=Ba.lastChild,Gn&&Gn.type===3&&(Gn.value=Gn.value.replace(ua,"")))};if(r.isValidChild(ka.name,Kr.toLowerCase())){for(;Gn;){var Ma=Gn.next;Gn.type===3||Gn.type===1&&Gn.name!=="p"&&!ra[Gn.name]&&!Gn.attr("data-mce-type")?(Nr||(Nr=Ii(Kr,1),Nr.attr(e.forced_root_block_attrs),ka.insert(Nr,Gn)),Nr.append(Gn)):(Or(Nr),Nr=null),Gn=Ma}Or(Nr)}},Ii=function(Gn,Nr){var Or=new hc(Gn,Nr),Ma;return Gn in o&&(Ma=l[Gn],Ma?Ma.push(Or):l[Gn]=[Or]),Or},Ns=function(Gn){for(var Nr=r.getBlockElements(),Or=Gn.prev;Or&&Or.type===3;){var Ma=Or.value.replace(ua,"");if(Ma.length>0){Or.value=Ma;return}var Ba=Or.next;if(Ba){if(Ba.type===3&&Ba.value.length){Or=Or.prev;continue}if(!Nr[Ba.name]&&Ba.name!=="script"&&Ba.name!=="style"){Or=Or.prev;continue}}var ui=Or.prev;Or.remove(),Or=ui}},Ml=function(Gn){var Nr={};for(var Or in Gn)Or!=="li"&&Or!=="p"&&(Nr[Or]=Gn[Or]);return Nr},Ar=function(Gn){for(var Nr=Gn;It(Nr);){if(Nr.name in pr)return Zp(r,Ea,va,Nr);Nr=Nr.parent}return!1},Vr=vx({validate:ta,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Ml(r.getSelfClosingElements()),cdata:function(Gn){Dr.append(Ii("#cdata",4)).value=Gn},text:function(Gn,Nr){var Or;zo||(Gn=Gn.replace(So," "),V4(Dr.lastChild,ra)&&(Gn=Gn.replace(Tr,""))),Gn.length!==0&&(Or=Ii("#text",3),Or.raw=!!Nr,Dr.append(Or).value=Gn)},comment:function(Gn){Dr.append(Ii("#comment",8)).value=Gn},pi:function(Gn,Nr){Dr.append(Ii(Gn,7)).value=Nr,Ns(Dr)},doctype:function(Gn){var Nr=Dr.append(Ii("#doctype",10));Nr.value=Gn,Ns(Dr)},start:function(Gn,Nr,Or){var Ma=ta?r.getElementRule(Gn):{};if(Ma){var Ba=Ii(Ma.outputName||Gn,1);Ba.attributes=Nr,Ba.shortEnded=Or,Dr.append(Ba);var ui=Lr[Dr.name];ui&&Lr[Ba.name]&&!ui[Ba.name]&&vr.push(Ba);for(var Nu=u.length;Nu--;){var wu=u[Nu].name;wu in Nr.map&&(Cn=c[wu],Cn?Cn.push(Ba):c[wu]=[Ba])}ra[Gn]&&Ns(Ba),Or||(Dr=Ba),!zo&&va[Gn]&&(zo=!0)}},end:function(Gn){var Nr,Or,Ma,Ba=ta?r.getElementRule(Gn):{};if(Ba){if(ra[Gn]&&!zo){if(Nr=Dr.firstChild,Nr&&Nr.type===3)if(Or=Nr.value.replace(Tr,""),Or.length>0)Nr.value=Or,Nr=Nr.next;else for(Ma=Nr.next,Nr.remove(),Nr=Ma;Nr&&Nr.type===3;)Or=Nr.value,Ma=Nr.next,(Or.length===0||Vo.test(Or))&&(Nr.remove(),Nr=Ma),Nr=Ma;if(Nr=Dr.lastChild,Nr&&Nr.type===3)if(Or=Nr.value.replace(ua,""),Or.length>0)Nr.value=Or,Nr=Nr.prev;else for(Ma=Nr.prev,Nr.remove(),Nr=Ma;Nr&&Nr.type===3;)Or=Nr.value,Ma=Nr.prev,(Or.length===0||Vo.test(Or))&&(Nr.remove(),Nr=Ma),Nr=Ma}zo&&va[Gn]&&(zo=!1);var ui=Zp(r,Ea,va,Dr),Nu=Dr.parent;Ba.paddInEmptyBlock&&ui&&Ar(Dr)?cx(e,Yt,ra,Dr):Ba.removeEmpty&&ui?ra[Dr.name]?Dr.empty().remove():Dr.unwrap():Ba.paddEmpty&&(K_(Dr)||ui)&&cx(e,Yt,ra,Dr),Dr=Nu}}},r),ka=Dr=new hc(Yt.context||e.root_name,11);if(Vr.parse(Kt,Yt.format),ta&&vr.length&&(Yt.context?Yt.invalid=!0:b(vr)),Kr&&(ka.name==="body"||Yt.isRootContent)&&Vu(),!Yt.invalid){for($n in l)if(Ya(l,$n)){for(Cn=o[$n],Qt=l[$n],Fn=Qt.length;Fn--;)Qt[Fn].parent||Qt.splice(Fn,1);for(pn=0,sn=Cn.length;pn<sn;pn++)Cn[pn](Qt,$n,Yt)}for(pn=0,sn=u.length;pn<sn;pn++)if(Cn=u[pn],Cn.name in c){for(Qt=c[Cn.name],Fn=Qt.length;Fn--;)Qt[Fn].parent||Qt.splice(Fn,1);for(Fn=0,Ln=Cn.callbacks.length;Fn<Ln;Fn++)Cn.callbacks[Fn](Qt,Cn.name,Yt)}}return ka},Ut={schema:r,addAttributeFilter:bt,getAttributeFilters:Ct,addNodeFilter:E,getNodeFilters:rt,filterNode:S,parse:kt};return W4(Ut,e),Qp(Ut,e),Ut},nO=function(e,r,o){e.addAttributeFilter("data-mce-tabindex",function(u,l){for(var c=u.length;c--;){var b=u[c];b.attr("tabindex",b.attr("data-mce-tabindex")),b.attr(l,null)}}),e.addAttributeFilter("src,href,style",function(u,l){for(var c="data-mce-"+l,b=r.url_converter,S=r.url_converter_scope,E=u.length;E--;){var rt=u[E],bt=rt.attr(c);bt!==void 0?(rt.attr(l,bt.length>0?bt:null),rt.attr(c,null)):(bt=rt.attr(l),l==="style"?bt=o.serializeStyle(o.parseStyle(bt),rt.name):b&&(bt=b.call(S,bt,l,rt.name)),rt.attr(l,bt.length>0?bt:null))}}),e.addAttributeFilter("class",function(u){for(var l=u.length;l--;){var c=u[l],b=c.attr("class");b&&(b=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",b.length>0?b:null))}}),e.addAttributeFilter("data-mce-type",function(u,l,c){for(var b=u.length;b--;){var S=u[b];if(S.attr("data-mce-type")==="bookmark"&&!c.cleanup){var E=ot.from(S.firstChild).exists(function(rt){return!wl(rt.value)});E?S.unwrap():S.remove()}}}),e.addNodeFilter("noscript",function(u){for(var l=u.length;l--;){var c=u[l].firstChild;c&&(c.value=rf.decode(c.value))}}),e.addNodeFilter("script,style",function(u,l){for(var c=function(bt){return bt.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},b=u.length;b--;){var S=u[b],E=S.firstChild?S.firstChild.value:"";if(l==="script"){var rt=S.attr("type");rt&&S.attr("type",rt==="mce-no/type"?null:rt.replace(/^mce\-/,"")),r.element_format==="xhtml"&&E.length>0&&(S.firstChild.value=`// <![CDATA[
`+c(E)+`
// ]]>`)}else r.element_format==="xhtml"&&E.length>0&&(S.firstChild.value=`<!--
`+c(E)+`
-->`)}}),e.addNodeFilter("#comment",function(u){for(var l=u.length;l--;){var c=u[l];r.preserve_cdata&&c.value.indexOf("[CDATA[")===0?(c.name="#cdata",c.type=4,c.value=o.decode(c.value.replace(/^\[CDATA\[|\]\]$/g,""))):c.value.indexOf("mce:protected ")===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(u,l){for(var c=u.length;c--;){var b=u[c];b.type===7?b.remove():b.type===1&&l==="input"&&!b.attr("type")&&b.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(u){Ft(u,function(l){l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(u,l){for(var c=u.length;c--;)u[c].attr(l,null)})},rO=function(e){var r=function(l){return l&&l.name==="br"},o=e.lastChild;if(r(o)){var u=o.prev;r(u)&&(o.remove(),u.remove())}},aO=function(e,r,o){var u,l=e.dom,c=r.cloneNode(!0),b=document.implementation;if(b.createHTMLDocument){var S=b.createHTMLDocument("");ar.each(c.nodeName==="BODY"?c.childNodes:[c],function(E){S.body.appendChild(S.importNode(E,!0))}),c.nodeName!=="BODY"?c=S.body.firstChild:c=S.body,u=l.doc,l.doc=S}return c3(e,ga(ga({},o),{node:c})),u&&(l.doc=u),c},X4=function(e,r){return e&&e.hasEventListeners("PreProcess")&&!r.no_events},Q4=function(e,r,o){return X4(e,o)?aO(e,r,o):r},J4=function(e,r,o){ar.inArray(r,o)===-1&&(e.addAttributeFilter(o,function(u,l){for(var c=u.length;c--;)u[c].attr(l,null)}),r.push(o))},px=function(e,r,o){if(!r.no_events&&e){var u=OC(e,ga(ga({},r),{content:o}));return u.content}else return o},Z4=function(e,r,o){var u=Cl(o.getInner?r.innerHTML:e.getOuterHTML(r));return o.selection||Mh(ft.fromDom(r))?u:ar.trim(u)},eI=function(e,r,o){var u=o.selection?ga({forced_root_block:!1},o):o,l=e.parse(r,u);return rO(l),l},Lg=function(e,r,o){var u=im(e,r);return u.serialize(o)},hx=function(e,r,o,u,l){var c=Lg(r,o,u);return px(e,l,c)},tI=function(e,r){var o=["data-mce-selected"],u=r&&r.dom?r.dom:Li.DOM,l=r&&r.schema?r.schema:Ul(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var c=by(e,l);nO(c,e,u);var b=function(S,E){E===void 0&&(E={});var rt=ga({format:"html"},E),bt=Q4(r,S,rt),Ct=Z4(u,bt,rt),kt=eI(c,Ct,rt);return rt.format==="tree"?kt:hx(r,e,l,kt,rt)};return{schema:l,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:b,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:Ht(J4,c,o),getTempAttrs:At(o),getNodeFilters:c.getNodeFilters,getAttributeFilters:c.getAttributeFilters}},gx=function(e,r){var o=tI(e,r);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters}},nI="html",yy=function(e,r){r===void 0&&(r={});var o=r.format?r.format:nI;return k4(e,r,o)},wy=function(e,r,o){return o===void 0&&(o={}),T4(e,r,o)},Cy=Li.DOM,Du=function(e){Cy.setStyle(e.id,"display",e.orgDisplay)},Sy=function(e){return ot.from(e).each(function(r){return r.destroy()})},oO=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},rI=function(e){var r=e.formElement;r&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),Cy.unbind(r,"submit reset",e.formEventDelegate))},aI=function(e){if(!e.removed){var r=e._selectionOverrides,o=e.editorUpload,u=e.getBody(),l=e.getElement();u&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&l&&Cy.remove(l.nextSibling),sT(e),e.editorManager.remove(e),!e.inline&&u&&Du(e),lT(e),Cy.remove(e.getContainer()),Sy(r),Sy(o),e.destroy()}},iO=function(e,r){var o=e.selection,u=e.dom;if(!e.destroyed){if(!r&&!e.removed){e.remove();return}r||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Sy(o),Sy(u)),rI(e),oO(e),e.destroyed=!0}},oI=function(e,r){var o=ut(e)&&ut(r);return o?uO(e,r):r},bx=function(e){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var u={},l=0;l<r.length;l++){var c=r[l];for(var b in c)Ya(c,b)&&(u[b]=e(u[b],c[b]))}return u}},uO=bx(oI),sO="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),yx="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),iI="imagetools,toc".split(","),uI=function(e){var r=Jt(sO,function(u){return Ya(e,u)}),o=e.forced_root_block;return(o===!1||o==="")&&r.push("forced_root_block (false only)"),Pn(r)},sI=function(e){var r=ar.makeMap(e.plugins," "),o=function(l){return Ya(r,l)},u=Po(Po([],Jt(yx,o),!0),co(iI,function(l){return o(l)?[l+" (moving to premium)"]:[]}),!0);return Pn(u)},lI=function(e,r){var o=uI(e),u=sI(r),l=u.length>0,c=o.length>0,b=r.theme==="mobile";if(l||c||b)var S=`
- `,E=b?`

Themes:`+S+"mobile":"",rt=l?`

Plugins:`+S+u.join(S):"",bt=c?`

Settings:`+S+o.join(S):""},cI=function(e,r){return{sections:At(e),settings:At(r)}},xy=ba().deviceType,lO=xy.isTouch(),Ey=xy.isPhone(),cO=xy.isTablet(),fO=["lists","autolink","autosave"],wx={table_grid:!1,object_resizing:!1,resize:!1},th=function(e){var r=ct(e)?e.join(" "):e,o=ln(Ye(r)?r.split(" "):[],fn);return Jt(o,function(u){return u.length>0})},dO=function(e){return Jt(e,Ht(Zt,fO))},vO=function(e,r){var o=gr(r,function(u,l){return Zt(e,l)});return cI(o.t,o.f)},fI=function(e,r,o){o===void 0&&(o={});var u=e.sections(),l=Ka(u,r).getOr({});return ar.extend({},o,l)},nh=function(e,r){return Ya(e.sections(),r)},dI=function(e,r,o){var u=e.sections();return nh(e,r)&&u[r].theme===o},ky=function(e,r){return nh(e,r)?e.sections()[r]:{}},mO=function(e,r){return Ka(e,"toolbar_mode").orThunk(function(){return Ka(e,"toolbar_drawer").map(function(o){return o===!1?"wrap":o})}).getOr(r)},vI=function(e,r,o,u,l){var c={id:r,theme:"silver",toolbar_mode:mO(e,"floating"),plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l};return ga(ga({},c),u?wx:{})},mI=function(e,r){var o={resize:!1,toolbar_mode:mO(e,"scrolling"),toolbar_sticky:!1},u={menubar:!1};return ga(ga(ga({},wx),o),r?u:{})},pO=function(e,r){var o=r.external_plugins?r.external_plugins:{};return e&&e.external_plugins?ar.extend({},e.external_plugins,o):o},hO=function(e,r){return[].concat(th(e)).concat(th(r))},pI=function(e,r,o,u){return e&&dI(r,"mobile","mobile")?dO(u):e&&nh(r,"mobile")?u:o},hI=function(e,r,o,u){var l=th(o.forced_plugins),c=th(u.plugins),b=ky(r,"mobile"),S=b.plugins?th(b.plugins):c,E=pI(e,r,c,S),rt=hO(l,E);if(Na.browser.isIE()&&Zt(rt,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return ar.extend(u,{plugins:rt.join(" ")})},gI=function(e,r){return e&&nh(r,"mobile")},bI=function(e,r,o,u,l){var c=e?{mobile:mI(l.mobile||{},r)}:{},b=vO(["mobile"],uO(c,l)),S=ar.extend(o,u,b.settings(),gI(e,b)?fI(b,"mobile"):{},{validate:!0,external_plugins:pO(u,b.settings())});return hI(e,b,u,S)},gO=function(e,r,o,u,l){var c=vI(l,r,o,lO,e),b=bI(Ey||cO,Ey,c,u,l);return b.deprecation_warnings!==!1&&lI(l,b),b},gm=function(e,r,o){return ot.from(r.settings[o]).filter(e)},yI=function(e){var r={};return typeof e=="string"?Ft(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(o){var u=o.split("=");u.length>1?r[ar.trim(u[0])]=ar.trim(u[1]):r[ar.trim(u[0])]=ar.trim(u[0])}):r=e,r},wI=function(e){return function(r){return ct(r)&&Eo(r,e)}},CI=function(e,r,o,u){var l=r in e.settings?e.settings[r]:o;return u==="hash"?yI(l):u==="string"?gm(Ye,e,r).getOr(o):u==="number"?gm(mt,e,r).getOr(o):u==="boolean"?gm(lt,e,r).getOr(o):u==="object"?gm(ut,e,r).getOr(o):u==="array"?gm(ct,e,r).getOr(o):u==="string[]"?gm(wI(Ye),e,r).getOr(o):u==="function"?gm(Tt,e,r).getOr(o):l},SI=function(){var e={},r=function(l,c){e[l]=c},o=function(l){return e[l]?e[l]:{icons:{}}},u=function(l){return Ya(e,l)};return{add:r,get:o,has:u}},Ty=SI(),bO=function(e,r){var o=r.dom;return o[e]},yO=function(e,r){return parseInt(Ao(r,e),10)},wO=Ht(bO,"clientWidth"),xI=Ht(bO,"clientHeight"),EI=Ht(yO,"margin-top"),kI=Ht(yO,"margin-left"),TI=function(e){return e.dom.getBoundingClientRect()},AI=function(e,r,o){var u=wO(e),l=xI(e);return r>=0&&o>=0&&r<=u&&o<=l},Bg=function(e,r,o,u){var l=TI(r),c=e?l.left+r.dom.clientLeft+kI(r):0,b=e?l.top+r.dom.clientTop+EI(r):0,S=o-c,E=u-b;return{x:S,y:E}},CO=function(e,r,o){var u=ft.fromDom(e.getBody()),l=e.inline?u:ac(u),c=Bg(e.inline,l,r,o);return AI(l,c.x,c.y)},_I=function(e){return ot.from(e).map(ft.fromDom)},SO=function(e){var r=e.inline?e.getBody():e.getContentAreaContainer();return _I(r).map(Vt).getOr(!1)},xO=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},EO=function(e){var r=[],o=function(){var kt=e.theme;return kt&&kt.getNotificationManagerImpl?kt.getNotificationManagerImpl():xO()},u=function(){return ot.from(r[0])},l=function(kt,Ut){return kt.type===Ut.type&&kt.text===Ut.text&&!kt.progressBar&&!kt.timeout&&!Ut.progressBar&&!Ut.timeout},c=function(){r.length>0&&o().reposition(r)},b=function(kt){r.push(kt)},S=function(kt){la(r,function(Ut){return Ut===kt}).each(function(Ut){r.splice(Ut,1)})},E=function(kt,Ut){if(Ut===void 0&&(Ut=!0),!(e.removed||!SO(e)))return Ut&&e.fire("BeforeOpenNotification",{notification:kt}),Br(r,function(Kt){return l(o().getArgs(Kt),kt)}).getOrThunk(function(){e.editorManager.setActive(e);var Kt=o().open(kt,function(){S(Kt),c(),u().fold(function(){return e.focus()},function(Yt){return M3(ft.fromDom(Yt.getEl()))})});return b(Kt),c(),e.fire("OpenNotification",{notification:ga({},Kt)}),Kt})},rt=function(){u().each(function(kt){o().close(kt),S(kt),c()})},bt=At(r),Ct=function(kt){kt.on("SkinLoaded",function(){var Ut=Ek(kt);Ut&&E({text:Ut,type:"warning",timeout:0},!1),c()}),kt.on("show ResizeEditor ResizeWindow NodeChange",function(){vs.requestAnimationFrame(c)}),kt.on("remove",function(){Ft(r.slice(),function(Ut){o().close(Ut)})})};return Ct(e),{open:E,close:rt,getNotifications:bt}},kf=il.PluginManager,mv=il.ThemeManager;function Pg(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var Cx=function(e){var r=[],o=function(){var Yt=e.theme;return Yt&&Yt.getWindowManagerImpl?Yt.getWindowManagerImpl():Pg()},u=function(Yt,Qt){return function(){for(var pn=[],sn=0;sn<arguments.length;sn++)pn[sn]=arguments[sn];return Qt?Qt.apply(Yt,pn):void 0}},l=function(Yt){e.fire("OpenWindow",{dialog:Yt})},c=function(Yt){e.fire("CloseWindow",{dialog:Yt})},b=function(Yt){r.push(Yt),l(Yt)},S=function(Yt){c(Yt),r=Jt(r,function(Qt){return Qt!==Yt}),r.length===0&&e.focus()},E=function(){return ot.from(r[r.length-1])},rt=function(Yt){e.editorManager.setActive(e),_1(e);var Qt=Yt();return b(Qt),Qt},bt=function(Yt,Qt){return rt(function(){return o().open(Yt,Qt,S)})},Ct=function(Yt){return rt(function(){return o().openUrl(Yt,S)})},kt=function(Yt,Qt,pn){var sn=o();sn.alert(Yt,u(pn||sn,Qt))},Ut=function(Yt,Qt,pn){var sn=o();sn.confirm(Yt,u(pn||sn,Qt))},Kt=function(){E().each(function(Yt){o().close(Yt),S(Yt)})};return e.on("remove",function(){Ft(r,function(Yt){o().close(Yt)})}),{open:bt,openUrl:Ct,alert:kt,confirm:Ut,close:Kt}},Sx=function(e,r){e.notificationManager.open({type:"error",text:r})},Ay=function(e,r){e._skinLoaded?Sx(e,r):e.on("SkinLoaded",function(){Sx(e,r)})},kO=function(e,r){Ay(e,$s.translate(["Failed to upload image: {0}",r]))},xx=function(e,r,o){b1(e,r,{message:o})},Ex=function(e,r,o){return o?"Failed to load "+e+": "+o+" from url "+r:"Failed to load "+e+" url: "+r},kx=function(e,r,o){xx(e,"PluginLoadError",Ex("plugin",r,o))},TO=function(e,r,o){xx(e,"IconsLoadError",Ex("icons",r,o))},OI=function(e,r,o){xx(e,"LanguageLoadError",Ex("language",r,o))},MI=function(e,r,o){var u=$s.translate(["Failed to initialize plugin: {0}",r]);b1(e,"PluginLoadError",{message:u}),_y(u,o),Ay(e,u)},_y=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var u=window.console;u&&(u.error?u.error.apply(u,Po([e],r,!1)):u.log.apply(u,Po([e],r,!1)))},AO=function(e){return/^[a-z0-9\-]+$/i.test(e)},DI=function(e){return rh(e,yk(e))},NI=function(e){return rh(e,wk(e))},rh=function(e,r){var o=e.editorManager.baseURL+"/skins/content",u=e.editorManager.suffix,l="content"+u+".css",c=e.inline===!0;return ln(r,function(b){return AO(b)&&!c?o+"/"+b+"/"+l:e.documentBaseURI.toAbsolute(b)})},_O=function(e){e.contentCSS=e.contentCSS.concat(DI(e),NI(e))},Tx=function(){var e=1,r=2,o={},u=function(kt,Ut){return{status:kt,resultUri:Ut}},l=function(kt){return kt in o},c=function(kt){var Ut=o[kt];return Ut?Ut.resultUri:null},b=function(kt){return l(kt)?o[kt].status===e:!1},S=function(kt){return l(kt)?o[kt].status===r:!1},E=function(kt){o[kt]=u(e,null)},rt=function(kt,Ut){o[kt]=u(r,Ut)},bt=function(kt){delete o[kt]},Ct=function(){o={}};return{hasBlobUri:l,getResultUri:c,isPending:b,isUploaded:S,markPending:E,markUploaded:rt,removeFailed:bt,destroy:Ct}},RI=0,LI=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},r=new Date().getTime();return"s"+r.toString(36)+e()+e()+e()},OO=function(e){return e+RI+++LI()},MO=function(){var e=[],r=function(Ct){var kt={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return kt[Ct.toLowerCase()]||"dat"},o=function(Ct,kt,Ut,Kt,Yt){if(Ye(Ct)){var Qt=Ct;return u({id:Qt,name:Kt,filename:Yt,blob:kt,base64:Ut})}else{if(ut(Ct))return u(Ct);throw new Error("Unknown input type")}},u=function(Ct){if(!Ct.blob||!Ct.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var kt=Ct.id||OO("blobid"),Ut=Ct.name||kt,Kt=Ct.blob;return{id:At(kt),name:At(Ut),filename:At(Ct.filename||Ut+"."+r(Kt.type)),blob:At(Kt),base64:At(Ct.base64),blobUri:At(Ct.blobUri||URL.createObjectURL(Kt)),uri:At(Ct.uri)}},l=function(Ct){b(Ct.id())||e.push(Ct)},c=function(Ct){return Br(e,Ct).getOrUndefined()},b=function(Ct){return c(function(kt){return kt.id()===Ct})},S=function(Ct){return c(function(kt){return kt.blobUri()===Ct})},E=function(Ct,kt){return c(function(Ut){return Ut.base64()===Ct&&Ut.blob().type===kt})},rt=function(Ct){e=Jt(e,function(kt){return kt.blobUri()===Ct?(URL.revokeObjectURL(kt.blobUri()),!1):!0})},bt=function(){Ft(e,function(Ct){URL.revokeObjectURL(Ct.blobUri())}),e=[]};return{create:o,add:l,get:b,getByUri:S,getByData:E,findFirst:c,removeByUri:rt,destroy:bt}},BI=function(e,r){var o={},u=function(Kt,Yt){return Kt?Kt.replace(/\/$/,"")+"/"+Yt.replace(/^\//,""):Yt},l=function(Kt,Yt,Qt,pn){var sn=new XMLHttpRequest;sn.open("POST",r.url),sn.withCredentials=r.credentials,sn.upload.onprogress=function(Ln){pn(Ln.loaded/Ln.total*100)},sn.onerror=function(){Qt("Image upload failed due to a XHR Transport error. Code: "+sn.status)},sn.onload=function(){if(sn.status<200||sn.status>=300){Qt("HTTP Error: "+sn.status);return}var Ln=JSON.parse(sn.responseText);if(!Ln||typeof Ln.location!="string"){Qt("Invalid JSON: "+sn.responseText);return}Yt(u(r.basePath,Ln.location))};var Fn=new FormData;Fn.append("file",Kt.blob(),Kt.filename()),sn.send(Fn)},c=function(){return new Yu(function(Kt){Kt([])})},b=function(Kt,Yt){return{url:Yt,blobInfo:Kt,status:!0}},S=function(Kt,Yt,Qt){return{url:"",blobInfo:Kt,status:!1,error:{message:Yt,options:Qt}}},E=function(Kt,Yt){ar.each(o[Kt],function(Qt){Qt(Yt)}),delete o[Kt]},rt=function(Kt,Yt,Qt){return e.markPending(Kt.blobUri()),new Yu(function(pn){var sn,Fn;try{var Ln=function(){sn&&(sn.close(),Fn=vt)},Cn=function(vr){Ln(),e.markUploaded(Kt.blobUri(),vr),E(Kt.blobUri(),b(Kt,vr)),pn(b(Kt,vr))},$n=function(vr,Dr){var Fa=Dr||{};Ln(),e.removeFailed(Kt.blobUri()),E(Kt.blobUri(),S(Kt,vr,Fa)),pn(S(Kt,vr,Fa))};Fn=function(vr){vr<0||vr>100||ot.from(sn).orThunk(function(){return ot.from(Qt).map(Ve)}).each(function(Dr){sn=Dr,Dr.progressBar.value(vr)})},Yt(Kt,Cn,$n,Fn)}catch(vr){pn(S(Kt,vr.message,{}))}})},bt=function(Kt){return Kt===l},Ct=function(Kt){var Yt=Kt.blobUri();return new Yu(function(Qt){o[Yt]=o[Yt]||[],o[Yt].push(Qt)})},kt=function(Kt,Yt){return Kt=ar.grep(Kt,function(Qt){return!e.isUploaded(Qt.blobUri())}),Yu.all(ar.map(Kt,function(Qt){return e.isPending(Qt.blobUri())?Ct(Qt):rt(Qt,r.handler,Yt)}))},Ut=function(Kt,Yt){return!r.url&&bt(r.handler)?c():kt(Kt,Yt)};return Tt(r.handler)===!1&&(r.handler=l),{upload:Ut}},DO=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},NO=function(e,r){return BI(r,{url:cL(e),basePath:ev(e),credentials:Xb(e),handler:fL(e)})},PI=function(e){var r=Tx(),o=NO(e,r);return{upload:function(u,l){return l===void 0&&(l=!0),o.upload(u,l?DO(e):void 0)}}},II=function(e){var r=zs(null);e.on("change AddUndo",function(u){r.set(ga({},u.level))});var o=function(){var u=e.undoManager.data;$r(u).filter(function(l){return!uy(r.get(),l)}).each(function(l){e.setDirty(!0),e.fire("change",{level:l,lastLevel:zn(u,u.length-2).getOrNull()})})};return{fireIfChanged:o}},ws=function(e){var r=MO(),o,u,l=Tx(),c=[],b=II(e),S=function(Ln){return function(Cn){return e.selection?Ln(Cn):[]}},E=function(Ln){return Ln+(Ln.indexOf("?")===-1?"?":"&")+new Date().getTime()},rt=function(Ln,Cn,$n){var vr=0;do vr=Ln.indexOf(Cn,vr),vr!==-1&&(Ln=Ln.substring(0,vr)+$n+Ln.substr(vr+Cn.length),vr+=$n.length-Cn.length+1);while(vr!==-1);return Ln},bt=function(Ln,Cn,$n){var vr='src="'+$n+'"'+($n===Na.transparentSrc?' data-mce-placeholder="1"':"");return Ln=rt(Ln,'src="'+Cn+'"',vr),Ln=rt(Ln,'data-mce-src="'+Cn+'"','data-mce-src="'+$n+'"'),Ln},Ct=function(Ln,Cn){Ft(e.undoManager.data,function($n){$n.type==="fragmented"?$n.fragments=ln($n.fragments,function(vr){return bt(vr,Ln,Cn)}):$n.content=bt($n.content,Ln,Cn)})},kt=function(Ln,Cn){var $n=e.convertURL(Cn,"src");Ct(Ln.src,Cn),e.$(Ln).attr({src:Gw(e)?E(Cn):Cn,"data-mce-src":$n})},Ut=function(Ln){return o||(o=NO(e,l)),pn().then(S(function(Cn){var $n=ln(Cn,function(vr){return vr.blobInfo});return o.upload($n,DO(e)).then(S(function(vr){var Dr=[],Fa=ln(vr,function(ra,pr){var Ea=Cn[pr].blobInfo,Lr=Cn[pr].image;return ra.status&&lL(e)?(r.removeByUri(Lr.src),wd(e)||kt(Lr,ra.url)):ra.error&&(ra.error.options.remove&&(Ct(Lr.getAttribute("src"),Na.transparentSrc),Dr.push(Lr)),kO(e,ra.error.message)),{element:Lr,status:ra.status,uploadUri:ra.url,blobInfo:Ea}});return Fa.length>0&&b.fireIfChanged(),Dr.length>0&&(wd(e)||e.undoManager.transact(function(){Ft(Dr,function(ra){e.dom.remove(ra),r.removeByUri(ra.src)})})),Ln&&Ln(Fa),Fa}))}))},Kt=function(Ln){if(Yh(e))return Ut(Ln)},Yt=function(Ln){if(Eo(c,function($n){return $n(Ln)})===!1)return!1;if(Ln.getAttribute("src").indexOf("data:")===0){var Cn=Gb(e);return Cn(Ln)}return!0},Qt=function(Ln){c.push(Ln)},pn=function(){return u||(u=H4(l,r)),u.findAll(e.getBody(),Yt).then(S(function(Ln){return Ln=Jt(Ln,function(Cn){return typeof Cn=="string"?(Ay(e,Cn),!1):!0}),wd(e)||Ft(Ln,function(Cn){Ct(Cn.image.src,Cn.blobInfo.blobUri()),Cn.image.src=Cn.blobInfo.blobUri(),Cn.image.removeAttribute("data-mce-src")}),Ln}))},sn=function(){r.destroy(),l.destroy(),u=o=null},Fn=function(Ln){return Ln.replace(/src="(blob:[^"]+)"/g,function(Cn,$n){var vr=l.getResultUri($n);if(vr)return'src="'+vr+'"';var Dr=r.getByUri($n);if(Dr||(Dr=rr(e.editorManager.get(),function(ra,pr){return ra||pr.editorUpload&&pr.editorUpload.blobCache.getByUri($n)},null)),Dr){var Fa=Dr.blob();return'src="data:'+Fa.type+";base64,"+Dr.base64()+'"'}return Cn})};return e.on("SetContent",function(){Yh(e)?Kt():pn()}),e.on("RawSaveContent",function(Ln){Ln.content=Fn(Ln.content)}),e.on("GetContent",function(Ln){Ln.source_view||Ln.format==="raw"||Ln.format==="tree"||(Ln.content=Fn(Ln.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(Ln){Ft(Ln,function(Cn){var $n=Cn.attr("src");if(!r.getByUri($n)){var vr=l.getResultUri($n);vr&&Cn.attr("src",vr)}})})}),{blobCache:r,addFilter:Qt,uploadImages:Ut,uploadImagesAuto:Kt,scanForImages:pn,destroy:sn}},RO=function(e){var r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(o,u,l){return Da(o)&&o.hasAttribute("href")},onformat:function(o,u,l){ar.each(l,function(c,b){e.setAttrib(o,b,c)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(o){var u;return(u=o==null?void 0:o.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ar.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(o){r[o]={block:o,remove:"all"}}),r},FI=function(e){var r={},o=function(b){return It(b)?r[b]:r},u=function(b){return Ya(r,b)},l=function(b,S){b&&(Ye(b)?(ct(S)||(S=[S]),Ft(S,function(E){Ue(E.deep)&&(E.deep=!Kl(E)),Ue(E.split)&&(E.split=!Kl(E)||is(E)),Ue(E.remove)&&Kl(E)&&!is(E)&&(E.remove="none"),Kl(E)&&is(E)&&(E.mixed=!0,E.block_expand=!0),Ye(E.classes)&&(E.classes=E.classes.split(/\s+/))}),r[b]=S):Mr(b,function(E,rt){l(rt,E)}))},c=function(b){return b&&r[b]&&delete r[b],r};return l(RO(e.dom)),l(gL(e)),{get:o,has:u,register:l,unregister:c}},Oy=ar.each,Ys=Li.DOM,LO=function(e,r){var o,u,l,c=r&&r.schema||Ul({}),b=function(bt,Ct){Ct.classes.length&&Ys.addClass(bt,Ct.classes.join(" ")),Ys.setAttribs(bt,Ct.attrs)},S=function(bt){u=typeof bt=="string"?{name:bt,classes:[],attrs:{}}:bt;var Ct=Ys.create(u.name);return b(Ct,u),Ct},E=function(bt,Ct){var kt=typeof bt!="string"?bt.nodeName.toLowerCase():bt,Ut=c.getElementRule(kt),Kt=Ut&&Ut.parentsRequired;return Kt&&Kt.length?Ct&&ar.inArray(Kt,Ct)!==-1?Ct:Kt[0]:!1},rt=function(bt,Ct,kt){var Ut,Kt,Yt=Ct.length>0&&Ct[0],Qt=Yt&&Yt.name,pn=E(bt,Qt);if(pn)Qt===pn?(Kt=Ct[0],Ct=Ct.slice(1)):Kt=pn;else if(Yt)Kt=Ct[0],Ct=Ct.slice(1);else if(!kt)return bt;return Kt&&(Ut=S(Kt),Ut.appendChild(bt)),kt&&(Ut||(Ut=Ys.create("div"),Ut.appendChild(bt)),ar.each(kt,function(sn){var Fn=S(sn);Ut.insertBefore(Fn,bt)})),rt(Ut,Ct,Kt&&Kt.siblings)};return e&&e.length?(u=e[0],o=S(u),l=Ys.create("div"),l.appendChild(rt(o,e.slice(1),u.siblings)),l):""},Ho=function(e){var r,o={classes:[],attrs:{}};return e=o.selector=ar.trim(e),e!=="*"&&(r=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(u,l,c,b,S){switch(l){case"#":o.attrs.id=c;break;case".":o.classes.push(c);break;case":":ar.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(o.attrs[c]=c);break}if(b==="["){var E=S.match(/([\w\-]+)(?:\=\"([^\"]+))?/);E&&(o.attrs[E[1]]=E[2])}return""})),o.name=r||"div",o},HI=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ar.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(r){var o=ar.map(r.split(/(?:~\+|~|\+)/),Ho),u=o.pop();return o.length&&(u.siblings=o),u}).reverse())},zI=function(e,r){var o,u,l="",c,b=bL(e);if(b==="")return"";var S=function(Ct){return Ct.replace(/%(\w+)/g,"")};if(typeof r=="string"){if(r=e.formatter.get(r),!r)return;r=r[0]}if("preview"in r){var E=Ka(r,"preview");if(al(E,!1))return"";b=E.getOr(b)}o=r.block||r.inline||"span";var rt=HI(r.selector);rt.length?(rt[0].name||(rt[0].name=o),o=r.selector,u=LO(rt,e)):u=LO([o],e);var bt=Ys.select(o,u)[0]||u.firstChild;return Oy(r.styles,function(Ct,kt){var Ut=S(Ct);Ut&&Ys.setStyle(bt,kt,Ut)}),Oy(r.attributes,function(Ct,kt){var Ut=S(Ct);Ut&&Ys.setAttrib(bt,kt,Ut)}),Oy(r.classes,function(Ct){var kt=S(Ct);Ys.hasClass(bt,kt)||Ys.addClass(bt,kt)}),e.fire("PreviewFormats"),Ys.setStyles(u,{position:"absolute",left:-65535}),e.getBody().appendChild(u),c=Ys.getStyle(e.getBody(),"fontSize",!0),c=/px$/.test(c)?parseInt(c,10):0,Oy(b.split(" "),function(Ct){var kt=Ys.getStyle(bt,Ct,!0);if(!(Ct==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(kt)&&(kt=Ys.getStyle(e.getBody(),Ct,!0),Ys.toHex(kt).toLowerCase()==="#ffffff"))&&!(Ct==="color"&&Ys.toHex(kt).toLowerCase()==="#000000")){if(Ct==="font-size"&&/em|%$/.test(kt)){if(c===0)return;var Ut=parseFloat(kt)/(/%$/.test(kt)?100:1);kt=Ut*c+"px"}Ct==="border"&&kt&&(l+="padding:0 2px;"),l+=Ct+":"+kt+";"}}),e.fire("AfterPreviewFormats"),Ys.remove(u),l},$I=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var r=1;r<=6;r++)e.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},qi=function(e){var r=FI(e),o=zs(null);return $I(e),Q1(e),{get:r.get,has:r.has,register:r.register,unregister:r.unregister,apply:function(u,l,c){dy(e,u,l,c)},remove:function(u,l,c,b){S4(e,u,l,c,b)},toggle:function(u,l,c){x4(e,u,l,c)},match:function(u,l,c,b){return C4(e,u,l,c,b)},closest:function(u){return F_(e,u)},matchAll:function(u,l){return P_(e,u,l)},matchNode:function(u,l,c,b){return fy(e,u,l,c,b)},canApply:function(u){return I_(e,u)},formatChanged:function(u,l,c,b){return E4(e,o,u,l,c,b)},getCssText:Ht(zI,e)}},BO=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},Ig=function(e,r,o){var u=zs(!1),l=function(E){sy(r,!1,o),r.add({},E)};e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(E){var rt=E.command;BO(rt)||(T_(r,o),r.beforeChange())}),e.on("ExecCommand",function(E){var rt=E.command;BO(rt)||l(E)}),e.on("ObjectResizeStart cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",function(E){var rt=E.keyCode;E.isDefaultPrevented()||((rt>=33&&rt<=36||rt>=37&&rt<=40||rt===45||E.ctrlKey)&&(l(),e.nodeChanged()),(rt===46||rt===8)&&e.nodeChanged(),u.get()&&r.typing&&uy(Kp(e),r.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:r.data[0],lastLevel:null})),e.fire("TypingUndo"),u.set(!1),e.nodeChanged()))}),e.on("keydown",function(E){var rt=E.keyCode;if(!E.isDefaultPrevented()){if(rt>=33&&rt<=36||rt>=37&&rt<=40||rt===45){r.typing&&l(E);return}var bt=E.ctrlKey&&!E.altKey||E.metaKey;(rt<16||rt>20)&&rt!==224&&rt!==91&&!r.typing&&!bt&&(r.beforeChange(),sy(r,!0,o),r.add({},E),u.set(!0))}}),e.on("mousedown",function(E){r.typing&&l(E)});var c=function(E){return E.inputType==="insertReplacementText"},b=function(E){return E.inputType==="insertText"&&E.data===null},S=function(E){return E.inputType==="insertFromPaste"||E.inputType==="insertFromDrop"};e.on("input",function(E){E.inputType&&(c(E)||b(E)||S(E))&&l(E)}),e.on("AddUndo Undo Redo ClearUndos",function(E){E.isDefaultPrevented()||e.nodeChanged()})},VI=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},PO=function(e){var r=qv(),o=zs(0),u=zs(0),l={data:[],typing:!1,beforeChange:function(){ox(e,o,r)},add:function(c,b){return R_(e,l,u,o,r,c,b)},undo:function(){return cy(e,l,o,u)},redo:function(){return Gl(e,u,l.data)},clear:function(){Og(e,l,u)},reset:function(){hm(e,l)},hasUndo:function(){return b4(e,l,u)},hasRedo:function(){return L_(e,l,u)},transact:function(c){return B_(e,l,o,c)},ignore:function(c){y4(e,o,c)},extra:function(c,b){w4(e,l,u,c,b)}};return wd(e)||Ig(e,l,o),VI(e),l},UI=[9,27,qa.HOME,qa.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,qa.DOWN,qa.UP,qa.LEFT,qa.RIGHT].concat(Na.browser.isFirefox()?[224]:[]),Ax="data-mce-placeholder",Sd=function(e){return e.type==="keydown"||e.type==="keyup"},_l=function(e){var r=e.keyCode;return r===qa.BACKSPACE||r===qa.DELETE},Fg=function(e){if(Sd(e)){var r=e.keyCode;return!_l(e)&&(qa.metaKeyPressed(e)||e.altKey||r>=112&&r<=123||Zt(UI,r))}else return!1},bm=function(e){return Sd(e)&&!(_l(e)||e.type==="keyup"&&e.keyCode===229)},rd=function(e,r,o){if(ns(ft.fromDom(r),!1)){var u=o==="",l=r.firstElementChild;return l?e.getStyle(r.firstElementChild,"padding-left")||e.getStyle(r.firstElementChild,"padding-right")?!1:u?!e.isBlock(l):o===l.nodeName.toLowerCase():!0}else return!1},Hg=function(e){var r=e.dom,o=bs(e),u=xk(e),l=function(c,b){if(!Fg(c)){var S=e.getBody(),E=bm(c)?!1:rd(r,S,o),rt=r.getAttrib(S,Ax)!=="";(rt!==E||b)&&(r.setAttrib(S,Ax,E?u:null),r.setAttrib(S,"aria-placeholder",E?u:null),dT(e,E),e.on(E?"keydown":"keyup",l),e.off(E?"keyup":"keydown",l))}};u&&e.on("init",function(c){l(c,!0),e.on("change SetContent ExecCommand",l),e.on("paste",function(b){return vs.setEditorTimeout(e,function(){return l(b)})})})},_x=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Ox=function(e){return _x.test(e)},pv=function(e,r){return Qr(ft.fromDom(r),mL(e))},IO=function(e){return Li.DOM.getStyle(e,"direction",!0)==="rtl"||Ox(e.textContent)},jI=function(e,r,o){return Jt(Li.DOM.getParents(o.container(),"*",r),e)},xd=function(e,r,o){var u=jI(e,r,o);return ot.from(u[u.length-1])},FO=function(e,r,o){var u=mf(r,e),l=mf(o,e);return u&&u===l},WI=function(e){return $a(e)||q0(e)},Xl=function(e,r){if(!r)return r;var o=r.container(),u=r.offset();return e?Ei(o)?Gr(o.nextSibling)?nr(o.nextSibling,0):nr.after(o):$a(r)?nr(o,u+1):r:Ei(o)?Gr(o.previousSibling)?nr(o.previousSibling,o.previousSibling.data.length):nr.before(o):q0(r)?nr(o,u-1):r},HO=Ht(Xl,!0),ah=Ht(Xl,!1),zO=function(e){return function(r){return ja(e,ft.fromDom(r.dom.parentNode))}},$O=function(e){return dd(e)||Is(e)},Fc=function(e,r){return Zo(e,r)?fb(r,$O,zO(e)):ot.none()},Mx=function(e){var r=e.getBody(),o=r.firstChild&&e.dom.isBlock(r.firstChild)?r.firstChild:r;e.selection.setCursorLocation(o,0)},VO=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),Mx(e))},qI=function(e,r,o){return pu(js(o),bf(o),function(u,l){var c=Xl(!0,u),b=Xl(!1,l),S=Xl(!1,r);return e?hf(o,S).exists(function(E){return E.isEqual(b)&&r.isEqual(c)}):gf(o,S).exists(function(E){return E.isEqual(c)&&r.isEqual(b)})}).getOr(!0)},KI=function(e,r){return{block:e,position:r}},oh=function(e,r){return{from:e,to:r}},Dx=function(e,r){var o=ft.fromDom(e),u=ft.fromDom(r.container());return Fc(o,u).map(function(l){return KI(l,r)})},YI=function(e){return ja(e.from.block,e.to.block)===!1},us=function(e){return Vi(e.from.block).bind(function(r){return Vi(e.to.block).filter(function(o){return ja(r,o)})}).isSome()},GI=function(e){return Si(e.from.block.dom)===!1&&Si(e.to.block.dom)===!1},UO=function(e,r,o){return Qo(o.position.getNode())&&ns(o.block)===!1?nv(!1,o.block.dom).bind(function(u){return u.isEqual(o.position)?ql(r,e,u).bind(function(l){return Dx(e,l)}):ot.some(o)}).getOr(o):o},jO=function(e,r,o){var u=Dx(e,nr.fromRangeStart(o)),l=u.bind(function(c){return ql(r,e,c.position).bind(function(b){return Dx(e,b).map(function(S){return UO(e,r,S)})})});return pu(u,l,oh).filter(function(c){return YI(c)&&us(c)&&GI(c)})},WO=function(e,r,o){return o.collapsed?jO(e,r,o):ot.none()},qO=function(e){var r=cs(e);return la(r,uc).fold(At(r),function(o){return r.slice(0,o)})},My=function(e){var r=qO(e);return Ft(r,Bt),r},KO=function(e,r){var o=_a(r,e);return Br(o.reverse(),function(u){return ns(u)}).each(Bt)},XI=function(e){return Jt(ri(e),function(r){return!ns(r)}).length===0},QI=function(e,r,o,u){if(ns(o))return um(o),js(o.dom);XI(u)&&ns(r)&&gl(u,ft.fromTag("br"));var l=gf(o.dom,nr.before(u.dom));return Ft(My(r),function(c){gl(u,c)}),KO(e,r),l},JI=function(e,r,o){if(ns(o))return Bt(o),ns(r)&&um(r),js(r.dom);var u=bf(o.dom);return Ft(My(r),function(l){p(o,l)}),KO(e,r),u},ZI=function(e,r){var o=_a(r,e);return ot.from(o[o.length-1])},ad=function(e,r){return Zo(r,e)?ZI(r,e):ot.none()},YO=function(e,r){nv(e,r.dom).map(function(o){return o.getNode()}).map(ft.fromDom).filter(Km).each(Bt)},GO=function(e,r,o){return YO(!0,r),YO(!1,o),ad(r,o).fold(Ht(JI,e,r,o),Ht(QI,e,r,o))},XO=function(e,r,o,u){return r?GO(e,u,o):GO(e,o,u)},Dy=function(e,r){var o=ft.fromDom(e.getBody()),u=WO(o.dom,r,e.selection.getRng()).bind(function(l){return XO(o,r,l.from.block,l.to.block)});return u.each(function(l){e.selection.setRng(l.toRange())}),u.isSome()},eF=function(e,r){var o=r.getRng();return pu(Fc(e,ft.fromDom(o.startContainer)),Fc(e,ft.fromDom(o.endContainer)),function(u,l){return ja(u,l)===!1?(o.deleteContents(),XO(e,!0,u,l).each(function(c){r.setRng(c.toRange())}),!0):!1}).getOr(!1)},Ji=function(e,r){var o=ft.fromDom(r),u=Ht(ja,e);return _h(o,tf,u).isSome()},QO=function(e,r){return Ji(e,r.startContainer)||Ji(e,r.endContainer)},JO=function(e,r){var o=gf(e.dom,nr.fromRangeStart(r)).isNone(),u=hf(e.dom,nr.fromRangeEnd(r)).isNone();return!QO(e,r)&&o&&u},Tf=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},ZO=function(e){var r=ft.fromDom(e.getBody()),o=e.selection.getRng();return JO(r,o)?Tf(e):eF(r,e.selection)},Ny=function(e,r){return e.selection.isCollapsed()?!1:ZO(e)},tF=ds,Nx=Si,Ed=function(e,r,o,u,l){return ot.from(r._selectionOverrides.showCaret(e,o,u,l))},ih=function(e){var r=e.ownerDocument.createRange();return r.selectNode(e),r},uh=function(e,r){var o=e.fire("BeforeObjectSelected",{target:r});return o.isDefaultPrevented()?ot.none():ot.some(ih(r))},Rx=function(e,r,o){var u=n1(1,e.getBody(),r),l=nr.fromRangeStart(u),c=l.getNode();if(Jh(c))return Ed(1,e,c,!l.isAtEnd(),!1);var b=l.getNode(!0);if(Jh(b))return Ed(1,e,b,!1,!1);var S=e.dom.getParent(l.getNode(),function(E){return Nx(E)||tF(E)});return Jh(S)?Ed(1,e,S,!1,o):ot.none()},Ry=function(e,r,o){return r.collapsed?Rx(e,r,o).getOr(r):r},Lx=function(e){return iv(e)||Bp(e)},eM=function(e){return uv(e)||Pp(e)},Bx=function(e,r){Gr(r)&&r.data.length===0&&e.remove(r)},tM=function(e,r,o,u,l,c){return Ed(u,e,c.getNode(!l),l,!0).each(function(b){if(r.collapsed){var S=r.cloneRange();l?S.setEnd(b.startContainer,b.startOffset):S.setStart(b.endContainer,b.endOffset),S.deleteContents()}else r.deleteContents();e.selection.setRng(b)}),Bx(e.dom,o),!0},nF=function(e,r){var o=e.selection.getRng();if(!Gr(o.commonAncestorContainer))return!1;var u=r?os.Forwards:os.Backwards,l=Qi(e.getBody()),c=Ht(iC,r?l.next:l.prev),b=r?Lx:eM,S=Sp(u,e.getBody(),o),E=Xl(r,c(S));if(!E||!a1(S,E))return!1;if(b(E))return tM(e,o,S.getNode(),u,r,E);var rt=c(E);return rt&&b(rt)&&a1(E,rt)?tM(e,o,S.getNode(),u,r,rt):!1},Ly=function(e,r){return nF(e,r)},Hc=function(e){return tf(ft.fromDom(e))||Is(ft.fromDom(e))},Ql=Ra.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),rF=function(e,r){var o=r.getNode(e===!1),u=e?"after":"before";return Da(o)&&o.getAttribute("data-mce-caret")===u},aF=function(e,r,o,u){var l=function(c){return Ms(ft.fromDom(c))&&!pf(o,u,e)};return oC(!r,o).fold(function(){return oC(r,u).fold(cn,l)},l)},sh=function(e,r,o,u){var l=u.getNode(r===!1);return Fc(ft.fromDom(e),ft.fromDom(o.getNode())).map(function(c){return ns(c)?Ql.remove(c.dom):Ql.moveToElement(l)}).orThunk(function(){return ot.some(Ql.moveToElement(l))})},nM=function(e,r,o){return ql(r,e,o).bind(function(u){return Hc(u.getNode())||aF(e,r,o,u)?ot.none():r&&Si(u.getNode())||r===!1&&Si(u.getNode(!0))?sh(e,r,o,u):r&&uv(o)||r===!1&&iv(o)?ot.some(Ql.moveToPosition(u)):ot.none()})},rM=function(e,r){return e&&Si(r.nextSibling)?ot.some(Ql.moveToElement(r.nextSibling)):e===!1&&Si(r.previousSibling)?ot.some(Ql.moveToElement(r.previousSibling)):ot.none()},aM=function(e,r,o){return o.fold(function(u){return ot.some(Ql.remove(u))},function(u){return ot.some(Ql.moveToElement(u))},function(u){return pf(r,u,e)?ot.none():ot.some(Ql.moveToPosition(u))})},oM=function(e,r,o){return rF(r,o)?rM(r,o.getNode(r===!1)).fold(function(){return nM(e,r,o)},ot.some):nM(e,r,o).bind(function(u){return aM(e,o,u)})},oF=function(e,r,o){var u=n1(r?1:-1,e,o),l=nr.fromRangeStart(u),c=ft.fromDom(e);return r===!1&&uv(l)?ot.some(Ql.remove(l.getNode(!0))):r&&iv(l)?ot.some(Ql.remove(l.getNode())):r===!1&&iv(l)&&so(c,l)?vA(c,l).map(function(b){return Ql.remove(b.getNode())}):r&&uv(l)&&aS(c,l)?wB(c,l).map(function(b){return Ql.remove(b.getNode())}):oM(e,r,l)},iF=function(e,r){return function(o){return e._selectionOverrides.hideFakeCaret(),sm(e,r,ft.fromDom(o)),!0}},hv=function(e,r){return function(o){var u=r?nr.before(o):nr.after(o);return e.selection.setRng(u.toRange()),!0}},uF=function(e){return function(r){return e.selection.setRng(r.toRange()),!0}},iM=function(e,r){return ot.from(Op(e.getBody(),r))},sF=function(e,r){var o=e.selection.getNode();return iM(e,o).filter(Si).fold(function(){return oF(e.getBody(),r,e.selection.getRng()).exists(function(u){return u.fold(iF(e,r),hv(e,r),uF(e))})},yt)},lF=function(e){Ft(as(e,".mce-offscreen-selection"),Bt)},cF=function(e,r){var o=e.selection.getNode();if(Si(o)&&!Pa(o)){var u=iM(e,o.parentNode).filter(Si);return u.fold(function(){return lF(ft.fromDom(e.getBody())),sm(e,r,ft.fromDom(e.selection.getNode())),VO(e),!0},yt)}return!1},uM=function(e){var r=e.dom,o=e.selection,u=Op(e.getBody(),o.getNode());if(ds(u)&&r.isBlock(u)&&r.isEmpty(u)){var l=r.create("br",{"data-mce-bogus":"1"});r.setHTML(u,""),u.appendChild(l),o.setRng(nr.before(l).toRange())}return!0},By=function(e,r){return e.selection.isCollapsed()?sF(e,r):cF(e,r)},fF=function(e,r){var o=nr.fromRangeStart(e.selection.getRng());return ql(r,e.getBody(),o).filter(function(u){return r?fB(u):dB(u)}).bind(function(u){return ot.from(t1(r?0:-1,u))}).exists(function(u){return e.selection.select(u),!0})},Py=function(e,r){return e.selection.isCollapsed()?fF(e,r):!1},lh=Gr,sM=function(e){return lh(e)&&e.data[0]===Dn},lM=function(e){return lh(e)&&e.data[e.data.length-1]===Dn},ch=function(e){return e.ownerDocument.createTextNode(Dn)},dF=function(e){if(lh(e.previousSibling))return lM(e.previousSibling)||e.previousSibling.appendData(Dn),e.previousSibling;if(lh(e))return sM(e)||e.insertData(0,Dn),e;var r=ch(e);return e.parentNode.insertBefore(r,e),r},Px=function(e){if(lh(e.nextSibling))return sM(e.nextSibling)||e.nextSibling.insertData(0,Dn),e.nextSibling;if(lh(e))return lM(e)||e.appendData(Dn),e;var r=ch(e);return e.nextSibling?e.parentNode.insertBefore(r,e.nextSibling):e.parentNode.appendChild(r),r},Iy=function(e,r){return e?dF(r):Px(r)},vF=Ht(Iy,!0),mF=Ht(Iy,!1),cM=function(e,r){return Gr(e.container())?Iy(r,e.container()):Iy(r,e.getNode())},gv=function(e,r){var o=r.get();return o&&e.container()===o&&Ei(o)},kd=function(e,r){return r.fold(function(o){Yv(e.get());var u=vF(o);return e.set(u),ot.some(nr(u,u.length-1))},function(o){return js(o).map(function(u){if(gv(u,e))return nr(e.get(),1);Yv(e.get());var l=cM(u,!0);return e.set(l),nr(l,1)})},function(o){return bf(o).map(function(u){if(gv(u,e))return nr(e.get(),e.get().length-1);Yv(e.get());var l=cM(u,!1);return e.set(l),nr(l,l.length-1)})},function(o){Yv(e.get());var u=mF(o);return e.set(u),ot.some(nr(u,1))})},zg=function(e,r){for(var o=0;o<e.length;o++){var u=e[o].apply(null,r);if(u.isSome())return u}return ot.none()},ss=Ra.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),bv=function(e,r){var o=mf(r,e);return o||e},ym=function(e,r,o){var u=HO(o),l=bv(r,u.container());return xd(e,l,u).fold(function(){return hf(l,u).bind(Ht(xd,e,l)).map(function(c){return ss.before(c)})},ot.none)},Fy=function(e,r){return Jv(e,r)===null},$g=function(e,r,o){return xd(e,r,o).filter(Ht(Fy,r))},fM=function(e,r,o){var u=ah(o);return $g(e,r,u).bind(function(l){var c=gf(l,u);return c.isNone()?ot.some(ss.start(l)):ot.none()})},Ix=function(e,r,o){var u=HO(o);return $g(e,r,u).bind(function(l){var c=hf(l,u);return c.isNone()?ot.some(ss.end(l)):ot.none()})},Fx=function(e,r,o){var u=ah(o),l=bv(r,u.container());return xd(e,l,u).fold(function(){return gf(l,u).bind(Ht(xd,e,l)).map(function(c){return ss.after(c)})},ot.none)},Hx=function(e){return IO(yv(e))===!1},Af=function(e,r,o){var u=zg([ym,fM,Ix,Fx],[e,r,o]);return u.filter(Hx)},yv=function(e){return e.fold(nn,nn,nn,nn)},zx=function(e){return e.fold(At("before"),At("start"),At("end"),At("after"))},Vg=function(e){return e.fold(ss.before,ss.before,ss.after,ss.after)},Hy=function(e){return e.fold(ss.start,ss.start,ss.end,ss.end)},zy=function(e,r){return zx(e)===zx(r)&&yv(e)===yv(r)},dM=function(e,r,o,u,l,c){return pu(xd(r,o,u),xd(r,o,l),function(b,S){return b!==S&&FO(o,b,S)?ss.after(e?b:S):c}).getOr(c)},vM=function(e,r){return e.fold(yt,function(o){return!zy(o,r)})},mM=function(e,r,o,u,l){var c=Xl(e,l),b=ql(e,o,c).map(Ht(Xl,e)),S=b.fold(function(){return u.map(Vg)},function(E){return Af(r,o,E).map(Ht(dM,e,r,o,c,E)).filter(Ht(vM,u))});return S.filter(Hx)},pM=function(e,r){return e?r.fold(Et(ot.some,ss.start),ot.none,Et(ot.some,ss.after),ot.none):r.fold(ot.none,Et(ot.some,ss.before),ot.none,Et(ot.some,ss.end))},_f=function(e,r,o,u){var l=Xl(e,u),c=Af(r,o,l);return Af(r,o,l).bind(Ht(pM,e)).orThunk(function(){return mM(e,r,o,c,u)})};Ht(_f,!1),Ht(_f,!0);var hM=function(e){return Tt(e.selection.getSel().modify)},$x=function(e,r,o){var u=e?1:-1;return r.setRng(nr(o.container(),o.offset()+u).toRange()),r.getSel().modify("move",e?"forward":"backward","word"),!0},wv=function(e,r){var o=r.selection.getRng(),u=e?nr.fromRangeEnd(o):nr.fromRangeStart(o);return hM(r)?e&&$a(u)?$x(!0,r.selection,u):!e&&q0(u)?$x(!1,r.selection,u):!1:!1},Qu;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Qu||(Qu={}));var $y=function(e,r){return e===os.Backwards?hr(r):r},pF=function(e,r,o){return e===os.Forwards?r.next(o):r.prev(o)},hF=function(e,r,o,u){return Qo(u.getNode(r===os.Forwards))?Qu.Br:pf(o,u)===!1?Qu.Block:Qu.Wrap},gM=function(e,r,o,u){for(var l=Qi(o),c=u,b=[];c;){var S=pF(r,l,c);if(!S)break;if(Qo(S.getNode(!1)))return r===os.Forwards?{positions:$y(r,b).concat([S]),breakType:Qu.Br,breakAt:ot.some(S)}:{positions:$y(r,b),breakType:Qu.Br,breakAt:ot.some(S)};if(!S.isVisible()){c=S;continue}if(e(c,S)){var E=hF(o,r,c,S);return{positions:$y(r,b),breakType:E,breakAt:ot.some(S)}}b.push(S),c=S}return{positions:$y(r,b),breakType:Qu.Eol,breakAt:ot.none()}},bM=function(e,r,o,u){return r(o,u).breakAt.map(function(l){var c=r(o,l).positions;return e===os.Backwards?c.concat(l):[l].concat(c)}).getOr([])},Vx=function(e,r){return rr(e,function(o,u){return o.fold(function(){return ot.some(u)},function(l){return pu(kr(l.getClientRects()),kr(u.getClientRects()),function(c,b){var S=Math.abs(r-c.left),E=Math.abs(r-b.left);return E<=S?u:l}).or(o)})},ot.none())},yM=function(e,r){return kr(r.getClientRects()).bind(function(o){return Vx(e,o.left)})},Ug=Ht(gM,nr.isAbove,-1),jg=Ht(gM,nr.isBelow,1),gF=Ht(bM,-1,Ug),bF=Ht(bM,1,jg),yF=function(e,r){return Ug(e,r).breakAt.isNone()},Ux=function(e,r){return jg(e,r).breakAt.isNone()},jx=function(e){return js(e).map(function(r){return[r].concat(jg(e,r).positions)}).getOr([])},wM=function(e){return bf(e).map(function(r){return Ug(e,r).positions.concat(r)}).getOr([])},wF=function(e){var r=function(u){return ln(u,function(l){var c=Qd(l);return c.node=e,c})};if(Da(e))return r(e.getClientRects());if(Gr(e)){var o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),r(o.getClientRects())}},Wx=function(e){return co(e,wF)},Cv;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Cv||(Cv={}));var CM=function(e,r,o,u){for(;u=yp(u,e,Tu,r);)if(o(u))return},Vy=function(e,r,o,u,l,c){var b=0,S=[],E=function(Ct){var kt=Wx([Ct]);e===-1&&(kt=kt.reverse());for(var Ut=0;Ut<kt.length;Ut++){var Kt=kt[Ut];if(!o(Kt,rt)){if(S.length>0&&r(Kt,Hi(S))&&b++,Kt.line=b,l(Kt))return!0;S.push(Kt)}}},rt=Hi(c.getClientRects());if(!rt)return S;var bt=c.getNode();return E(bt),CM(e,u,E,bt),S},SM=function(e,r){return r.line>e},xM=function(e,r){return r.line===e},qx=Ht(Vy,Cv.Up,vp,mp),CF=Ht(Vy,Cv.Down,mp,vp),SF=function(e,r,o,u){var l=Qi(r),c,b,S,E,rt=[],bt=0,Ct=function(Yt){return Hi(Yt.getClientRects())};e===1?(c=l.next,b=mp,S=vp,E=nr.after(u)):(c=l.prev,b=vp,S=mp,E=nr.before(u));var kt=Ct(E);do if(E.isVisible()){var Ut=Ct(E);if(!S(Ut,kt)){rt.length>0&&b(Ut,Hi(rt))&&bt++;var Kt=Qd(Ut);if(Kt.position=E,Kt.line=bt,o(Kt))return rt;rt.push(Kt)}}while(E=c(E));return rt},Of=function(e){return function(r){return SM(e,r)}},Jl=function(e){return function(r){return xM(e,r)}},Uy=Si,Kx=yp,fh=function(e,r){return Math.abs(e.left-r)},jy=function(e,r){return Math.abs(e.right-r)},Yx=function(e,r){return e>=r.left&&e<=r.right},EM=function(e,r){return e>=r.top&&e<=r.bottom},kM=function(e){return ni(e,"node")},Wg=function(e,r,o){return o===void 0&&(o=yt),$i(e,function(u,l){if(Yx(r,l))return o(l)?l:u;if(Yx(r,u))return o(u)?u:l;var c=Math.min(fh(u,r),jy(u,r)),b=Math.min(fh(l,r),jy(l,r));return b===c&&kM(l)&&Uy(l.node)||b<c?l:u})},Gx=function(e,r,o,u,l){var c=Kx(u,e,Tu,r,!l);do if(!c||o(c))return;while(c=Kx(c,e,Tu,r))},Wy=function(e,r,o){o===void 0&&(o=!0);var u=[],l=function(c,b){var S=Jt(Wx([b]),function(E){return!c(E,r)});return u=u.concat(S),S.length===0};return u.push(r),Gx(Cv.Up,e,Ht(l,vp),r.node,o),Gx(Cv.Down,e,Ht(l,mp),r.node,o),u},qy=function(e){return Jt(Cr(e.getElementsByTagName("*")),Gv)},Xx=function(e,r){return{node:e.node,before:fh(e,r)<jy(e,r)}},xF=function(e,r,o){var u=Wx(qy(e)),l=Jt(u,Ht(EM,o)),c=function(E){return!nu(E.node)&&!Co(E.node)},b=Wg(l,r,c);if(b){var S=c(b);if(b=Wg(Wy(e,b,S),r,c),b&&Gv(b.node))return Xx(b,r)}return null},Td=function(e,r){e.selection.setRng(r),lg(e,e.selection.getRng())},Qx=function(e,r,o){return ot.some(Ry(e,r,o))},TM=function(e,r,o,u,l,c){var b=r===os.Forwards,S=Qi(e.getBody()),E=Ht(iC,b?S.next:S.prev),rt=b?u:l;if(!o.collapsed){var bt=Ub(o);if(c(bt))return Ed(r,e,bt,r===os.Backwards,!1)}var Ct=Sp(r,e.getBody(),o);if(rt(Ct))return uh(e,Ct.getNode(!b));var kt=Xl(b,E(Ct)),Ut=$f(o);if(!kt)return Ut?ot.some(o):ot.none();if(rt(kt))return Ed(r,e,kt.getNode(!b),b,!1);var Kt=E(kt);return Kt&&rt(Kt)&&a1(kt,Kt)?Ed(r,e,Kt.getNode(!b),b,!1):Ut?Qx(e,kt.toRange(),!1):ot.none()},Jx=function(e,r,o,u,l,c){var b=Sp(r,e.getBody(),o),S=Hi(b.getClientRects()),E=r===Cv.Down;if(!S)return ot.none();var rt=E?CF:qx,bt=rt(e.getBody(),Of(1),b),Ct=Jt(bt,Jl(1)),kt=S.left,Ut=Wg(Ct,kt);if(Ut&&c(Ut.node)){var Kt=Math.abs(kt-Ut.left),Yt=Math.abs(kt-Ut.right);return Ed(r,e,Ut.node,Kt<Yt,!1)}var Qt;if(u(b)?Qt=b.getNode():l(b)?Qt=b.getNode(!0):Qt=Ub(o),Qt){var pn=SF(r,e.getBody(),Of(1),Qt),sn=Wg(Jt(pn,Jl(1)),kt);if(sn||(sn=Hi(Jt(pn,Jl(0))),sn))return Qx(e,sn.position.toRange(),!1)}return Ct.length===0?Zx(e,E).filter(E?l:u).map(function(Fn){return Ry(e,Fn.toRange(),!1)}):ot.none()},Zx=function(e,r){var o=e.selection.getRng(),u=e.getBody();if(r){var l=nr.fromRangeEnd(o),c=jg(u,l);return $r(c.positions)}else{var l=nr.fromRangeStart(o),c=Ug(u,l);return kr(c.positions)}},AM=function(e,r,o){return Zx(e,r).filter(o).exists(function(u){return e.selection.setRng(u.toRange()),!0})},dh=function(e,r){var o=e.dom.createRng();o.setStart(r.container(),r.offset()),o.setEnd(r.container(),r.offset()),e.selection.setRng(o)},_M=function(e,r){e?r.setAttribute("data-mce-selected","inline-boundary"):r.removeAttribute("data-mce-selected")},OM=function(e,r,o){return kd(r,o).map(function(u){return dh(e,u),o})},EF=function(e,r,o){var u=e.getBody(),l=nr.fromRangeStart(e.selection.getRng()),c=Ht(pv,e),b=_f(o,c,u,l);return b.bind(function(S){return OM(e,r,S)})},kF=function(e,r,o){var u=ln(as(ft.fromDom(r.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(b){return b.dom}),l=Jt(u,e),c=Jt(o,e);Ft(yr(l,c),Ht(_M,!1)),Ft(yr(c,l),Ht(_M,!0))},TF=function(e,r){if(e.selection.isCollapsed()&&e.composing!==!0&&r.get()){var o=nr.fromRangeStart(e.selection.getRng());nr.isTextPosition(o)&&WI(o)===!1&&(dh(e,Nk(r.get(),o)),r.set(null))}},AF=function(e,r,o,u){if(r.selection.isCollapsed()){var l=Jt(u,e);Ft(l,function(c){var b=nr.fromRangeStart(r.selection.getRng());Af(e,r.getBody(),b).bind(function(S){return OM(r,o,S)})})}},MM=function(e,r,o){return Xh(e)?EF(e,r,o).isSome():!1},qg=function(e,r,o){return Xh(r)?wv(e,r):!1},Ky=function(e){var r=zs(null),o=Ht(pv,e);return e.on("NodeChange",function(u){Xh(e)&&!(Na.browser.isIE()&&u.initial)&&(kF(o,e.dom,u.parents),TF(e,r),AF(o,e,r,u.parents))}),r},eE=Ht(qg,!0),_F=Ht(qg,!1),Yy=function(e,r,o){if(Xh(e)){var u=Zx(e,r).getOrThunk(function(){var l=e.selection.getRng();return r?nr.fromRangeEnd(l):nr.fromRangeStart(l)});return Af(Ht(pv,e),e.getBody(),u).exists(function(l){var c=Vg(l);return kd(o,c).exists(function(b){return dh(e,b),!0})})}else return!1},OF=function(e,r){var o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(r.container(),r.offset()),o},MF=function(e){return pu(js(e),bf(e),function(r,o){var u=Xl(!0,r),l=Xl(!1,o);return hf(e,u).forall(function(c){return c.isEqual(l)})}).getOr(!0)},tE=function(e,r){return function(o){return kd(r,o).exists(function(u){return dh(e,u),!0})}},DM=function(e,r,o,u){var l=e.getBody(),c=Ht(pv,e);e.undoManager.ignore(function(){e.selection.setRng(OF(o,u)),e.execCommand("Delete"),Af(c,l,nr.fromRangeStart(e.selection.getRng())).map(Hy).map(tE(e,r))}),e.nodeChanged()},DF=function(e,r){var o=mf(r,e);return o||e},nE=function(e,r,o,u){var l=DF(e.getBody(),u.container()),c=Ht(pv,e),b=Af(c,l,u);return b.bind(function(S){return o?S.fold(At(ot.some(Hy(S))),ot.none,At(ot.some(Vg(S))),ot.none):S.fold(ot.none,At(ot.some(Vg(S))),ot.none,At(ot.some(Hy(S))))}).map(tE(e,r)).getOrThunk(function(){var S=Gf(o,l,u),E=S.bind(function(rt){return Af(c,l,rt)});return pu(b,E,function(){return xd(c,l,u).exists(function(rt){return MF(rt)?(sm(e,o,ft.fromDom(rt)),!0):!1})}).orThunk(function(){return E.bind(function(rt){return S.map(function(bt){return o?DM(e,r,u,bt):DM(e,r,bt,u),!0})})}).getOr(!1)})},Gy=function(e,r,o){if(e.selection.isCollapsed()&&Xh(e)){var u=nr.fromRangeStart(e.selection.getRng());return nE(e,r,o,u)}return!1},NF=function(e,r){var o=_a(r,e);return la(o,uc).fold(At(o),function(u){return o.slice(0,u)})},RF=function(e){return Hm(e)===1},LF=function(e,r,o,u){var l=Ht(QA,r),c=ln(Jt(u,l),function(S){return S.dom});if(c.length===0)sm(r,e,o);else{var b=wP(o.dom,c);r.selection.setRng(b.toRange())}},BF=function(e,r){var o=ft.fromDom(e.getBody()),u=ft.fromDom(e.selection.getStart()),l=Jt(NF(o,u),RF);return $r(l).exists(function(c){var b=nr.fromRangeStart(e.selection.getRng());return qI(r,b,c.dom)&&!JA(c)?(LF(r,e,c,l),!0):!1})},Xy=function(e,r){return e.selection.isCollapsed()?BF(e,r):!1},rE=function(e,r,o){return e._selectionOverrides.hideFakeCaret(),sm(e,r,ft.fromDom(o)),!0},Qy=function(e,r){var o=r?Bp:Pp,u=r?os.Forwards:os.Backwards,l=Sp(u,e.getBody(),e.selection.getRng());return o(l)?rE(e,r,l.getNode(!r)):ot.from(Xl(r,l)).filter(function(c){return o(c)&&a1(l,c)}).exists(function(c){return rE(e,r,c.getNode(!r))})},Jy=function(e,r){var o=e.selection.getNode();return Co(o)?rE(e,r,o):!1},Zy=function(e,r){return e.selection.isCollapsed()?Qy(e,r):Jy(e,r)},PF=function(e){return fb(e,function(r){return ds(r.dom)||Si(r.dom)}).exists(function(r){return ds(r.dom)})},vh=function(e){var r=parseInt(e,10);return isNaN(r)?0:r},NM=function(e,r){var o=e||aR(r)?"margin":"padding",u=Ao(r,"direction")==="rtl"?"-right":"-left";return o+u},IF=function(e,r,o,u,l,c){var b=NM(o,ft.fromDom(c));if(r==="outdent"){var S=Math.max(0,vh(c.style[b])-u);e.setStyle(c,b,S?S+l:"")}else{var S=vh(c.style[b])+u+l;e.setStyle(c,b,S)}},FF=function(e,r){return Eo(r,function(o){var u=NM(bk(e),o),l=Os(o,u).map(vh).getOr(0),c=e.dom.getContentEditable(o.dom);return c!=="false"&&l>0})},RM=function(e){var r=BM(e);return!e.mode.isReadOnly()&&(r.length>1||FF(e,r))},LM=function(e){return vb(e)||Is(e)},HF=function(e){return Vi(e).exists(LM)},BM=function(e){return Jt(gs(e.selection.getSelectedBlocks()),function(r){return!LM(r)&&!HF(r)&&PF(r)})},PM=function(e,r){var o=e.dom,u=e.selection,l=e.formatter,c=vL(e),b=/[a-z%]+$/i.exec(c)[0],S=parseInt(c,10),E=bk(e),rt=bs(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&rt===""&&!o.getParent(u.getNode(),o.isBlock)&&l.apply("div"),Ft(BM(e),function(bt){IF(o,r,E,S,b,bt.dom)})},IM=function(e,r){if(e.selection.isCollapsed()&&RM(e)){var o=e.dom,u=e.selection.getRng(),l=nr.fromRangeStart(u),c=o.getParent(u.startContainer,o.isBlock);if(c!==null&&P1(ft.fromDom(c),l))return PM(e,"outdent"),!0}return!1},FM=function(e,r){e.getDoc().execCommand(r,!1,null)},zF=function(e,r){if(!IM(e)){if(By(e,!1))return;if(Ly(e,!1))return;if(Gy(e,r,!1))return;if(Dy(e,!1))return;if(cm(e))return;if(Py(e,!1))return;if(Zy(e,!1))return;if(Ny(e))return;if(Xy(e,!1))return;FM(e,"Delete"),VO(e)}},$F=function(e,r){if(!By(e,!0)){if(Ly(e,!0))return;if(Gy(e,r,!0))return;if(Dy(e,!0))return;if(cm(e))return;if(Py(e,!0))return;if(Zy(e,!0))return;if(Ny(e))return;if(Xy(e,!0))return;FM(e,"ForwardDelete")}},zc=function(e,r){e.addCommand("delete",function(){zF(e,r)}),e.addCommand("forwardDelete",function(){$F(e,r)})},e0=5,HM=400,aE=function(e){return e.touches===void 0||e.touches.length!==1?ot.none():ot.some(e.touches[0])},VF=function(e,r){var o=Math.abs(e.clientX-r.x),u=Math.abs(e.clientY-r.y);return o>e0||u>e0},zM=function(e){var r=qv(),o=zs(!1),u=Gu(function(l){e.fire("longpress",ga(ga({},l),{type:"longpress"})),o.set(!0)},HM);e.on("touchstart",function(l){aE(l).each(function(c){u.cancel();var b={x:c.clientX,y:c.clientY,target:l.target};u.throttle(l),o.set(!1),r.set(b)})},!0),e.on("touchmove",function(l){u.cancel(),aE(l).each(function(c){r.on(function(b){VF(c,b)&&(r.clear(),o.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(l){u.cancel(),l.type!=="touchcancel"&&r.get().filter(function(c){return c.target.isEqualNode(l.target)}).each(function(){o.get()?l.preventDefault():e.fire("tap",ga(ga({},l),{type:"tap"}))})},!0)},oE=function(e,r){return Ya(e,r.nodeName)},$M=function(e,r){return Gr(r)?!0:Da(r)?!oE(e,r)&&!kl(r):!1},UF=function(e,r,o){return mn(lA(ft.fromDom(o),ft.fromDom(r)),function(u){return oE(e,u.dom)})},jF=function(e,r){if(Gr(r)){if(r.nodeValue.length===0)return!0;if(/^\s+$/.test(r.nodeValue)&&(!r.nextSibling||oE(e,r.nextSibling)))return!0}return!1},WF=function(e){var r=e.dom,o=e.selection,u=e.schema,l=u.getBlockElements(),c=o.getStart(),b=e.getBody(),S,E,rt,bt=bs(e);if(!(!c||!Da(c)||!bt)){var Ct=b.nodeName.toLowerCase();if(!(!u.isValidChild(Ct,bt.toLowerCase())||UF(l,b,c))){var kt=o.getRng(),Ut=kt.startContainer,Kt=kt.startOffset,Yt=kt.endContainer,Qt=kt.endOffset,pn=ed(e);for(c=b.firstChild;c;)if($M(l,c)){if(jF(l,c)){E=c,c=c.nextSibling,r.remove(E);continue}S||(S=r.create(bt,qh(e)),c.parentNode.insertBefore(S,c),rt=!0),E=c,c=c.nextSibling,S.appendChild(E)}else S=null,c=c.nextSibling;rt&&pn&&(kt.setStart(Ut,Kt),kt.setEnd(Yt,Qt),o.setRng(kt),e.nodeChanged())}}},mh=function(e){bs(e)&&e.on("NodeChange",Ht(WF,e))},VM=function(e){return jm(ft.fromDom(e.getBody()),"*[data-mce-caret]").map(function(r){return r.dom}).getOrNull()},UM=function(e){e.selection.setRng(e.selection.getRng())},iE=function(e,r){r.hasAttribute("data-mce-caret")&&(K0(r),UM(e),e.selection.scrollIntoView(r))},uE=function(e,r){var o=VM(e);if(o){if(r.type==="compositionstart"){r.preventDefault(),r.stopPropagation(),iE(e,o);return}Dh(o)&&(iE(e,o),e.undoManager.add())}},qF=function(e){e.on("keyup compositionstart",Ht(uE,e))},jM=Si,KF=function(e,r,o){return TM(r,e,o,iv,uv,jM)},YF=function(e,r,o){var u=function(c){return iv(c)||uA(c)},l=function(c){return uv(c)||sA(c)};return Jx(r,e,o,u,l,jM)},GF=function(e){var r=e.dom.create(bs(e));return(!Na.ie||Na.ie>=11)&&(r.innerHTML='<br data-mce-bogus="1">'),r},WM=function(e,r,o){var u=Qi(e.getBody()),l=Ht(iC,r===1?u.next:u.prev);if(o.collapsed&&kL(e)){var c=e.dom.getParent(o.startContainer,"PRE");if(!c)return;var b=l(nr.fromRangeStart(o));if(!b){var S=GF(e);r===1?e.$(c).after(S):e.$(c).before(S),e.selection.select(S,!0),e.selection.collapse()}}},Mf=function(e,r){var o=r?os.Forwards:os.Backwards,u=e.selection.getRng();return KF(o,e,u).orThunk(function(){return WM(e,o,u),ot.none()})},XF=function(e,r){var o=r?1:-1,u=e.selection.getRng();return YF(o,e,u).orThunk(function(){return WM(e,o,u),ot.none()})},qM=function(e,r){return Mf(e,r).exists(function(o){return Td(e,o),!0})},KM=function(e,r){return XF(e,r).exists(function(o){return Td(e,o),!0})},YM=function(e,r){var o=r?uv:iv;return AM(e,r,o)},QF=function(e){return Zt(["figcaption"],Xo(e))},GM=function(e){var r=document.createRange();return r.setStartBefore(e.dom),r.setEndBefore(e.dom),r},XM=function(e,r,o){o?p(e,r):v(e,r)},Sv=function(e,r){var o=ft.fromTag("br");return XM(e,o,r),GM(o)},JF=function(e,r,o,u){var l=ft.fromTag(o),c=ft.fromTag("br");return gt(l,u),p(l,c),XM(e,l,r),GM(c)},ZF=function(e,r,o,u){return r===""?Sv(e,u):JF(e,u,r,o)},QM=function(e,r){var o=Ht(ja,r);return fb(ft.fromDom(e.container()),uc,o).filter(QF)},sE=function(e,r,o){return r?Ux(e.dom,o):yF(e.dom,o)},e6=function(e,r){var o=ft.fromDom(e.getBody()),u=nr.fromRangeStart(e.selection.getRng()),l=bs(e),c=qh(e);return QM(u,o).exists(function(){if(sE(o,r,u)){var b=ZF(o,l,c,r);return e.selection.setRng(b),!0}else return!1})},JM=function(e,r){return e.selection.isCollapsed()?e6(e,r):!1},t6=function(e){return ln(e,function(r){return ga({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:vt},r)})},wm=function(e,r){return r.keyCode===e.keyCode&&r.shiftKey===e.shiftKey&&r.altKey===e.altKey&&r.ctrlKey===e.ctrlKey&&r.metaKey===e.metaKey},n6=function(e,r){return co(t6(e),function(o){return wm(o,r)?[o]:[]})},Bo=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){return e.apply(null,r)}},ph=function(e,r){return Br(n6(e,r),function(o){return o.action()})},ZM=function(e,r){var o=r?os.Forwards:os.Backwards,u=e.selection.getRng();return TM(e,o,u,Bp,Pp,Co).exists(function(l){return Td(e,l),!0})},t0=function(e,r){var o=r?1:-1,u=e.selection.getRng();return Jx(e,o,u,Bp,Pp,Co).exists(function(l){return Td(e,l),!0})},n0=function(e,r){var o=r?Pp:Bp;return AM(e,r,o)},eD=function(e,r){return{left:e.left-r,top:e.top-r,right:e.right+r*2,bottom:e.bottom+r*2,width:e.width+r,height:e.height+r}},tD=function(e,r){return co(r,function(o){var u=eD(Qd(o.getBoundingClientRect()),-1);return[{x:u.left,y:e(u),cell:o},{x:u.right,y:e(u),cell:o}]})},nD=function(e,r,o){return rr(e,function(u,l){return u.fold(function(){return ot.some(l)},function(c){var b=Math.sqrt(Math.abs(c.x-r)+Math.abs(c.y-o)),S=Math.sqrt(Math.abs(l.x-r)+Math.abs(l.y-o));return ot.some(S<b?l:c)})},ot.none())},rD=function(e,r,o,u,l){var c=as(ft.fromDom(o),"td,th,caption").map(function(S){return S.dom}),b=Jt(tD(e,c),function(S){return r(S,l)});return nD(b,u,l).map(function(S){return S.cell})},Kg=function(e){return e.bottom},r6=function(e){return e.top},a6=function(e,r){return e.y<r},o6=function(e,r){return e.y>r},hh=Ht(rD,Kg,a6),i6=Ht(rD,r6,o6),Ad=function(e,r){return kr(r.getClientRects()).bind(function(o){return hh(e,o.left,o.top)}).bind(function(o){return yM(wM(o),r)})},u6=function(e,r){return $r(r.getClientRects()).bind(function(o){return i6(e,o.left,o.top)}).bind(function(o){return yM(jx(o),r)})},lE=function(e,r,o){return o.breakAt.exists(function(u){return e(r,u).breakAt.isSome()})},cE=function(e){return e.breakType===Qu.Wrap&&e.positions.length===0},s6=function(e){return e.breakType===Qu.Br&&e.positions.length===1},aD=function(e,r,o){var u=e(r,o);return cE(u)||!Qo(o.getNode())&&s6(u)?!lE(e,r,u):u.breakAt.isNone()},l6=Ht(aD,Ug),oD=Ht(aD,jg),c6=function(e,r,o){var u=nr.fromRangeStart(r);return nv(!e,o).exists(function(l){return l.isEqual(u)})},f6=function(e,r,o,u){var l=e.selection.getRng(),c=r?1:-1;return Lk()&&c6(r,l,o)?(Ed(c,e,o,!r,!1).each(function(b){Td(e,b)}),!0):!1},d6=function(e,r,o){return Ad(r,o).orThunk(function(){return kr(o.getClientRects()).bind(function(u){return Vx(gF(e,nr.before(r)),u.left)})}).getOr(nr.before(r))},v6=function(e,r,o){return u6(r,o).orThunk(function(){return kr(o.getClientRects()).bind(function(u){return Vx(bF(e,nr.after(r)),u.left)})}).getOr(nr.after(r))},fE=function(e,r){var o=r.getNode(e);return Da(o)&&o.nodeName==="TABLE"?ot.some(o):ot.none()},m6=function(e,r,o,u){var l=bs(r);l?r.undoManager.transact(function(){var c=ft.fromTag(l);gt(c,qh(r)),p(c,ft.fromTag("br")),e?d(ft.fromDom(o),c):gl(ft.fromDom(o),c);var b=r.dom.createRng();b.setStart(c.dom,0),b.setEnd(c.dom,0),Td(r,b)}):Td(r,u.toRange())},xv=function(e,r,o){var u=fE(!!r,o),l=r===!1;u.fold(function(){return Td(e,o.toRange())},function(c){return nv(l,e.getBody()).filter(function(b){return b.isEqual(o)}).fold(function(){return Td(e,o.toRange())},function(b){return m6(r,e,c,o)})})},p6=function(e,r,o,u){var l=e.selection.getRng(),c=nr.fromRangeStart(l),b=e.getBody();if(!r&&l6(u,c)){var S=d6(b,o,c);return xv(e,r,S),!0}else if(r&&oD(u,c)){var S=v6(b,o,c);return xv(e,r,S),!0}else return!1},gh=function(e,r,o){return ot.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(u){return ot.from(e.dom.getParent(u,"table")).map(function(l){return o(e,r,l,u)})}).getOr(!1)},dE=function(e,r){return gh(e,r,f6)},r0=function(e,r){return gh(e,r,p6)},vE=function(e,r,o){var u=ba().os;ph([{keyCode:qa.RIGHT,action:Bo(qM,e,!0)},{keyCode:qa.LEFT,action:Bo(qM,e,!1)},{keyCode:qa.UP,action:Bo(KM,e,!1)},{keyCode:qa.DOWN,action:Bo(KM,e,!0)},{keyCode:qa.RIGHT,action:Bo(dE,e,!0)},{keyCode:qa.LEFT,action:Bo(dE,e,!1)},{keyCode:qa.UP,action:Bo(r0,e,!1)},{keyCode:qa.DOWN,action:Bo(r0,e,!0)},{keyCode:qa.RIGHT,action:Bo(ZM,e,!0)},{keyCode:qa.LEFT,action:Bo(ZM,e,!1)},{keyCode:qa.UP,action:Bo(t0,e,!1)},{keyCode:qa.DOWN,action:Bo(t0,e,!0)},{keyCode:qa.RIGHT,action:Bo(MM,e,r,!0)},{keyCode:qa.LEFT,action:Bo(MM,e,r,!1)},{keyCode:qa.RIGHT,ctrlKey:!u.isOSX(),altKey:u.isOSX(),action:Bo(eE,e,r)},{keyCode:qa.LEFT,ctrlKey:!u.isOSX(),altKey:u.isOSX(),action:Bo(_F,e,r)},{keyCode:qa.UP,action:Bo(JM,e,!1)},{keyCode:qa.DOWN,action:Bo(JM,e,!0)}],o).each(function(l){o.preventDefault()})},h6=function(e,r){e.on("keydown",function(o){o.isDefaultPrevented()===!1&&vE(e,r,o)})},g6=function(e,r,o){ph([{keyCode:qa.BACKSPACE,action:Bo(IM,e,!1)},{keyCode:qa.BACKSPACE,action:Bo(By,e,!1)},{keyCode:qa.DELETE,action:Bo(By,e,!0)},{keyCode:qa.BACKSPACE,action:Bo(Ly,e,!1)},{keyCode:qa.DELETE,action:Bo(Ly,e,!0)},{keyCode:qa.BACKSPACE,action:Bo(Gy,e,r,!1)},{keyCode:qa.DELETE,action:Bo(Gy,e,r,!0)},{keyCode:qa.BACKSPACE,action:Bo(cm,e,!1)},{keyCode:qa.DELETE,action:Bo(cm,e,!0)},{keyCode:qa.BACKSPACE,action:Bo(Py,e,!1)},{keyCode:qa.DELETE,action:Bo(Py,e,!0)},{keyCode:qa.BACKSPACE,action:Bo(Zy,e,!1)},{keyCode:qa.DELETE,action:Bo(Zy,e,!0)},{keyCode:qa.BACKSPACE,action:Bo(Ny,e,!1)},{keyCode:qa.DELETE,action:Bo(Ny,e,!0)},{keyCode:qa.BACKSPACE,action:Bo(Dy,e,!1)},{keyCode:qa.DELETE,action:Bo(Dy,e,!0)},{keyCode:qa.BACKSPACE,action:Bo(Xy,e,!1)},{keyCode:qa.DELETE,action:Bo(Xy,e,!0)}],o).each(function(u){o.preventDefault()})},b6=function(e,r){ph([{keyCode:qa.BACKSPACE,action:Bo(uM,e)},{keyCode:qa.DELETE,action:Bo(uM,e)}],r)},mE=function(e,r){e.on("keydown",function(o){o.isDefaultPrevented()===!1&&g6(e,r,o)}),e.on("keyup",function(o){o.isDefaultPrevented()===!1&&b6(e,o)})},y6=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Yg=function(e,r){var o,u=r,l=e.dom,c=e.schema.getMoveCaretBeforeOnEnterElements();if(r){if(/^(LI|DT|DD)$/.test(r.nodeName)){var b=y6(r.firstChild);b&&/^(UL|OL|DL)$/.test(b.nodeName)&&r.insertBefore(l.doc.createTextNode(yl),r.firstChild)}var S=l.createRng();if(r.normalize(),r.hasChildNodes()){for(var E=new bi(r,r);o=E.current();){if(Gr(o)){S.setStart(o,0),S.setEnd(o,0);break}if(c[o.nodeName.toLowerCase()]){S.setStartBefore(o),S.setEndBefore(o);break}u=o,o=E.next()}o||(S.setStart(u,0),S.setEnd(u,0))}else Qo(r)?r.nextSibling&&l.isBlock(r.nextSibling)?(S.setStartBefore(r),S.setEndBefore(r)):(S.setStartAfter(r),S.setEndAfter(r)):(S.setStart(r,0),S.setEnd(r,0));e.selection.setRng(S),lg(e,S)}},w6=function(e,r){var o=e.getRoot(),u,l;for(u=r;u!==o&&e.getContentEditable(u)!=="false";)e.getContentEditable(u)==="true"&&(l=u),u=u.parentNode;return u!==o?l:o},pE=function(e){return ot.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},iD=function(e){return pE(e).fold(At(""),function(r){return r.nodeName.toUpperCase()})},C6=function(e){return pE(e).filter(function(r){return Is(ft.fromDom(r))}).isSome()},S6=function(e,r){return e.firstChild&&e.firstChild.nodeName===r},x6=function(e){var r;return((r=e.parentNode)===null||r===void 0?void 0:r.firstChild)===e},uD=function(e,r){return e&&e.parentNode&&e.parentNode.nodeName===r},sD=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},E6=function(e){return sD(e)&&sD(e.parentNode)},a0=function(e){var r=e.parentNode;return/^(LI|DT|DD)$/.test(r.nodeName)?r:e},o0=function(e,r,o){for(var u=e[o?"firstChild":"lastChild"];u&&!Da(u);)u=u[o?"nextSibling":"previousSibling"];return u===r},lD=function(e,r,o,u,l){var c=e.dom,b=e.selection.getRng();if(o!==e.getBody()){E6(o)&&(l="LI");var S=l?r(l):c.create("BR");if(o0(o,u,!0)&&o0(o,u,!1))if(uD(o,"LI")){var E=a0(o);c.insertAfter(S,E),x6(o)?c.remove(E):c.remove(o)}else c.replace(S,o);else if(o0(o,u,!0))uD(o,"LI")?(c.insertAfter(S,a0(o)),S.appendChild(c.doc.createTextNode(" ")),S.appendChild(o)):o.parentNode.insertBefore(S,o),c.remove(u);else if(o0(o,u,!1))c.insertAfter(S,a0(o)),c.remove(u);else{o=a0(o);var rt=b.cloneRange();rt.setStartAfter(u),rt.setEndAfter(o);var bt=rt.extractContents();l==="LI"&&S6(bt,"LI")?(S=bt.firstChild,c.insertAfter(bt,o)):(c.insertAfter(bt,o),c.insertAfter(S,o)),c.remove(u)}Yg(e,S)}},k6=function(e){Ft(Mw(ft.fromDom(e),Yi),function(r){var o=r.dom;o.nodeValue=Cl(o.nodeValue)})},cD=function(e,r){return r&&r.nodeName==="A"&&e.isEmpty(r)},T6=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},hE=function(e){e.innerHTML='<br data-mce-bogus="1">'},gE=function(e,r){return e.nodeName===r||e.previousSibling&&e.previousSibling.nodeName===r},fD=function(e,r){return r&&e.isBlock(r)&&!/^(TD|TH|CAPTION|FORM)$/.test(r.nodeName)&&!/^(fixed|absolute)/i.test(r.style.position)&&e.getContentEditable(r)!=="true"},A6=function(e,r,o){var u=o,l=[],c;if(u){for(;u=u.firstChild;){if(e.isBlock(u))return;Da(u)&&!r[u.nodeName.toLowerCase()]&&l.push(u)}for(c=l.length;c--;)u=l[c],(!u.hasChildNodes()||u.firstChild===u.lastChild&&u.firstChild.nodeValue===""||cD(e,u))&&e.remove(u)}},bE=function(e,r,o){return Gr(r)===!1?o:e?o===1&&r.data.charAt(o-1)===Dn?0:o:o===r.data.length-1&&r.data.charAt(o)===Dn?r.data.length:o},_6=function(e){var r=e.cloneRange();return r.setStart(e.startContainer,bE(!0,e.startContainer,e.startOffset)),r.setEnd(e.endContainer,bE(!1,e.endContainer,e.endOffset)),r},O6=function(e){do Gr(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},dD=function(e,r){var o=e.getRoot(),u,l;for(u=r;u!==o&&e.getContentEditable(u)!=="false";)e.getContentEditable(u)==="true"&&(l=u),u=u.parentNode;return u!==o?l:o},M6=function(e,r,o){var u=e.dom;ot.from(o.style).map(u.parseStyle).each(function(E){var rt=cb(ft.fromDom(r)),bt=ga(ga({},rt),E);u.setStyles(r,bt)});var l=ot.from(o.class).map(function(E){return E.split(/\s+/)}),c=ot.from(r.className).map(function(E){return Jt(E.split(/\s+/),function(rt){return rt!==""})});pu(l,c,function(E,rt){var bt=Jt(rt,function(kt){return!Zt(E,kt)}),Ct=Po(Po([],E,!0),bt,!0);u.setAttrib(r,"class",Ct.join(" "))});var b=["style","class"],S=sa(o,function(E,rt){return!Zt(b,rt)});u.setAttribs(r,S)},Gg=function(e,r){var o=bs(e);if(o&&o.toLowerCase()===r.tagName.toLowerCase()){var u=qh(e);M6(e,r,u)}},D6=function(e,r,o,u,l){var c,b,S,E,rt,bt,Ct=r||"P",kt=e.dom,Ut=dD(kt,u);if(b=kt.getParent(u,kt.isBlock),!b||!fD(kt,b)){if(b=b||Ut,b===e.getBody()||T6(b)?bt=b.nodeName.toLowerCase():bt=b.parentNode.nodeName.toLowerCase(),!b.hasChildNodes())return c=kt.create(Ct),Gg(e,c),b.appendChild(c),o.setStart(c,0),o.setEnd(c,0),c;for(E=u;E.parentNode!==b;)E=E.parentNode;for(;E&&!kt.isBlock(E);)S=E,E=E.previousSibling;if(S&&e.schema.isValidChild(bt,Ct.toLowerCase())){for(c=kt.create(Ct),Gg(e,c),S.parentNode.insertBefore(c,S),E=S;E&&!kt.isBlock(E);)rt=E.nextSibling,c.appendChild(E),E=rt;o.setStart(u,l),o.setEnd(u,l)}}return u},N6=function(e,r){r.normalize();var o=r.lastChild;(!o||/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(r,"br")},vD=function(e,r){var o,u,l,c,b,S,E,rt,bt,Ct,kt=e.dom,Ut=e.schema,Kt=Ut.getNonEmptyElements(),Yt=e.selection.getRng(),Qt=function(vr){var Dr=u,Fa,ra,pr,Ea=Ut.getTextInlineElements();if(vr||rt==="TABLE"||rt==="HR"?Fa=kt.create(vr||bt):Fa=c.cloneNode(!1),pr=Fa,iL(e)===!1)kt.setAttrib(Fa,"style",null),kt.setAttrib(Fa,"class",null);else do if(Ea[Dr.nodeName]){if(Xf(Dr)||kl(Dr))continue;ra=Dr.cloneNode(!1),kt.setAttrib(ra,"id",""),Fa.hasChildNodes()?(ra.appendChild(Fa.firstChild),Fa.appendChild(ra)):(pr=ra,Fa.appendChild(ra))}while((Dr=Dr.parentNode)&&Dr!==Cn);return Gg(e,Fa),hE(pr),Fa},pn=function(vr){var Dr,Fa,ra=bE(vr,u,l);if(Gr(u)&&(vr?ra>0:ra<u.nodeValue.length))return!1;if(u.parentNode===c&&Ct&&!vr||vr&&Da(u)&&u===c.firstChild)return!0;if(gE(u,"TABLE")||gE(u,"HR"))return Ct&&!vr||!Ct&&vr;var pr=new bi(u,c);for(Gr(u)&&(vr&&ra===0?pr.prev():!vr&&ra===u.nodeValue.length&&pr.next());Dr=pr.current();){if(Da(Dr)){if(!Dr.getAttribute("data-mce-bogus")&&(Fa=Dr.nodeName.toLowerCase(),Kt[Fa]&&Fa!=="br"))return!1}else if(Gr(Dr)&&!nf(Dr.nodeValue))return!1;vr?pr.prev():pr.next()}return!0},sn=function(){/^(H[1-6]|PRE|FIGURE)$/.test(rt)&&$n!=="HGROUP"?b=Qt(bt):b=Qt(),uL(e)&&fD(kt,E)&&kt.isEmpty(c)?b=kt.split(E,c):kt.insertAfter(b,c),Yg(e,b)};C1(kt,Yt).each(function(vr){Yt.setStart(vr.startContainer,vr.startOffset),Yt.setEnd(vr.endContainer,vr.endOffset)}),u=Yt.startContainer,l=Yt.startOffset,bt=bs(e);var Fn=!!(r&&r.shiftKey),Ln=!!(r&&r.ctrlKey);Da(u)&&u.hasChildNodes()&&(Ct=l>u.childNodes.length-1,u=u.childNodes[Math.min(l,u.childNodes.length-1)]||u,Ct&&Gr(u)?l=u.nodeValue.length:l=0);var Cn=dD(kt,u);if(Cn){(bt&&!Fn||!bt&&Fn)&&(u=D6(e,bt,Yt,u,l)),c=kt.getParent(u,kt.isBlock),E=c?kt.getParent(c.parentNode,kt.isBlock):null,rt=c?c.nodeName.toUpperCase():"";var $n=E?E.nodeName.toUpperCase():"";if($n==="LI"&&!Ln&&(c=E,E=E.parentNode,rt=$n),/^(LI|DT|DD)$/.test(rt)&&kt.isEmpty(c)){lD(e,Qt,E,c,bt);return}bt&&c===e.getBody()||(bt=bt||"P",ji(c)?(b=K0(c),kt.isEmpty(c)&&hE(c),Gg(e,b),Yg(e,b)):pn()?sn():pn(!0)?(b=c.parentNode.insertBefore(Qt(),c),Yg(e,gE(c,"HR")?b:c)):(o=_6(Yt).cloneRange(),o.setEndAfter(c),S=o.extractContents(),k6(S),O6(S),b=S.firstChild,kt.insertAfter(S,c),A6(kt,Kt,b),N6(kt,c),kt.isEmpty(c)&&hE(c),b.normalize(),kt.isEmpty(b)?(kt.remove(b),sn()):(Gg(e,b),Yg(e,b))),kt.setAttrib(b,"id",""),e.fire("NewBlock",{newBlock:b}))}},R6=function(e,r,o){for(var u=new bi(r,o),l,c=e.getNonEmptyElements();l=u.next();)if(c[l.nodeName.toLowerCase()]||l.length>0)return!0},mD=function(e,r,o){var u=e.dom.createRng();o?(u.setStartBefore(r),u.setEndBefore(r)):(u.setStartAfter(r),u.setEndAfter(r)),e.selection.setRng(u),lg(e,u)},pD=function(e,r){var o=e.selection,u=e.dom,l=o.getRng(),c,b;C1(u,l).each(function(Kt){l.setStart(Kt.startContainer,Kt.startOffset),l.setEnd(Kt.endContainer,Kt.endOffset)});var S=l.startOffset,E=l.startContainer;if(E.nodeType===1&&E.hasChildNodes()){var rt=S>E.childNodes.length-1;E=E.childNodes[Math.min(S,E.childNodes.length-1)]||E,rt&&E.nodeType===3?S=E.nodeValue.length:S=0}var bt=u.getParent(E,u.isBlock),Ct=bt?u.getParent(bt.parentNode,u.isBlock):null,kt=Ct?Ct.nodeName.toUpperCase():"",Ut=!!(r&&r.ctrlKey);kt==="LI"&&!Ut&&(bt=Ct),E&&E.nodeType===3&&S>=E.nodeValue.length&&(R6(e.schema,E,bt)||(c=u.create("br"),l.insertNode(c),l.setStartAfter(c),l.setEndAfter(c),b=!0)),c=u.create("br"),jb(u,l,c),mD(e,c,b),e.undoManager.add()},hD=function(e,r){var o=ft.fromTag("br");gl(ft.fromDom(r),o),e.undoManager.add()},i0=function(e,r){yE(e.getBody(),r)||d(ft.fromDom(r),ft.fromTag("br"));var o=ft.fromTag("br");d(ft.fromDom(r),o),mD(e,o.dom,!1),e.undoManager.add()},gD=function(e){return Qo(e.getNode())},yE=function(e,r){return gD(nr.after(r))?!0:hf(e,nr.after(r)).map(function(o){return Qo(o.getNode())}).getOr(!1)},u0=function(e){return e&&e.nodeName==="A"&&"href"in e},bD=function(e){return e.fold(cn,u0,u0,cn)},L6=function(e){var r=Ht(pv,e),o=nr.fromRangeStart(e.selection.getRng());return Af(r,e.getBody(),o).filter(bD)},yD=function(e,r){r.fold(vt,Ht(hD,e),Ht(i0,e),vt)},Cm=function(e,r){var o=L6(e);o.isSome()?o.each(Ht(yD,e)):pD(e,r)},wE=function(e,r){return pE(e).filter(function(o){return r.length>0&&Qr(ft.fromDom(o),r)}).isSome()},CE=function(e){return wE(e,Kh(e))},B6=function(e){return wE(e,mk(e))},cl=Ra.generate([{br:[]},{block:[]},{none:[]}]),P6=function(e,r){return B6(e)},SE=function(e){return function(r,o){var u=bs(r)==="";return u===e}},wD=function(e){return function(r,o){return C6(r)===e}},CD=function(e,r){return function(o,u){var l=iD(o)===e.toUpperCase();return l===r}},s0=function(e){return CD("pre",e)},I6=function(){return CD("summary",!0)},Xg=function(e){return function(r,o){return oL(r)===e}},bh=function(e,r){return CE(e)},Qg=function(e,r){return r},l0=function(e){var r=bs(e),o=w6(e.dom,e.selection.getStart());return o&&e.schema.isValidChild(o.nodeName,r||"P")},bc=function(e,r){return function(o,u){var l=rr(e,function(c,b){return c&&b(o,u)},!0);return l?ot.some(r):ot.none()}},SD=function(e,r){return zg([bc([P6],cl.none()),bc([I6()],cl.br()),bc([s0(!0),Xg(!1),Qg],cl.br()),bc([s0(!0),Xg(!1)],cl.block()),bc([s0(!0),Xg(!0),Qg],cl.block()),bc([s0(!0),Xg(!0)],cl.br()),bc([wD(!0),Qg],cl.br()),bc([wD(!0)],cl.block()),bc([SE(!0),Qg,l0],cl.block()),bc([SE(!0)],cl.br()),bc([bh],cl.br()),bc([SE(!1),Qg],cl.br()),bc([l0],cl.block())],[e,!!(r&&r.shiftKey)]).getOr(cl.none())},xE=function(e,r){SD(e,r).fold(function(){Cm(e,r)},function(){vD(e,r)},vt)},xD=function(e,r){r.isDefaultPrevented()||(r.preventDefault(),s4(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),xE(e,r)}))},ED=function(e){e.on("keydown",function(r){r.keyCode===qa.ENTER&&xD(e,r)})},EE=function(e,r,o){ph([{keyCode:qa.END,action:Bo(YM,e,!0)},{keyCode:qa.HOME,action:Bo(YM,e,!1)},{keyCode:qa.END,action:Bo(n0,e,!0)},{keyCode:qa.HOME,action:Bo(n0,e,!1)},{keyCode:qa.END,action:Bo(Yy,e,!0,r)},{keyCode:qa.HOME,action:Bo(Yy,e,!1,r)}],o).each(function(u){o.preventDefault()})},kD=function(e,r){e.on("keydown",function(o){o.isDefaultPrevented()===!1&&EE(e,r,o)})},F6=ba().browser,H6=function(e){var r=Ib(function(){e.composing||xA(e)},0);F6.isIE()&&(e.on("keypress",function(o){r.throttle()}),e.on("remove",function(o){r.cancel()}))},c0=function(e){H6(e),e.on("input",function(r){r.isComposing===!1&&xA(e)})},z6=ba(),$6=function(e,r,o){ph([{keyCode:qa.PAGE_UP,action:Bo(Yy,e,!1,r)},{keyCode:qa.PAGE_DOWN,action:Bo(Yy,e,!0,r)}],o)},TD=function(e){return e.stopImmediatePropagation()},kE=function(e){return e.keyCode===qa.PAGE_UP||e.keyCode===qa.PAGE_DOWN},AD=function(e,r,o){o&&!e.get()?r.on("NodeChange",TD,!0):!o&&e.get()&&r.off("NodeChange",TD),e.set(o)},V6=function(e,r){if(!z6.os.isOSX()){var o=zs(!1);e.on("keydown",function(u){kE(u)&&AD(o,e,!0)}),e.on("keyup",function(u){u.isDefaultPrevented()===!1&&$6(e,r,u),kE(u)&&o.get()&&(AD(o,e,!1),e.nodeChanged())})}},Ol=function(e,r){var o=r.container(),u=r.offset();return Gr(o)?(o.insertData(u,e),ot.some(nr(o,u+e.length))):r1(r).map(function(l){var c=ft.fromText(e);return r.isAtEnd()?d(l,c):gl(l,c),nr(c.dom,e.length)})},U6=Ht(Ol,yl),TE=Ht(Ol," "),_D=function(e){return function(r){return r.fold(function(o){return gf(e.dom,nr.before(o))},function(o){return js(o)},function(o){return bf(o)},function(o){return hf(e.dom,nr.after(o))})}},AE=function(e,r){return function(o){return yA(e,o)?U6(r):TE(r)}},j6=function(e){return function(r){return e.selection.setRng(r.toRange()),e.nodeChanged(),!0}},W6=function(e){var r=nr.fromRangeStart(e.selection.getRng()),o=ft.fromDom(e.getBody());if(e.selection.isCollapsed()){var u=Ht(pv,e),l=nr.fromRangeStart(e.selection.getRng());return Af(u,e.getBody(),l).bind(_D(o)).bind(AE(o,r)).exists(j6(e))}else return!1},OD=function(e,r){ph([{keyCode:qa.SPACEBAR,action:Bo(W6,e)}],r).each(function(o){r.preventDefault()})},q6=function(e){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&OD(e,r)})},K6=function(e){var r=Ky(e);return qF(e),h6(e,r),mE(e,r),ED(e),q6(e),c0(e),kD(e,r),V6(e,r),r},Y6=function(e){return wd(e)?zs(null):K6(e)},G6=function(){function e(r){this.lastPath=[],this.editor=r;var o,u=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",function(l){var c=r.selection.getRng(),b={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(l.type==="nodechange"||!PC(b,o))&&r.fire("SelectionChange"),o=b}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var l=r.selection.getStart(!0);!l||!Na.range&&r.selection.isCollapsed()||p1(r)&&!u.isSameElementPath(l)&&r.dom.isChildOf(l,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",function(l){!l.isDefaultPrevented()&&p1(r)&&(r.selection.getNode().nodeName==="IMG"?vs.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())})}return e.prototype.nodeChanged=function(r){var o=this.editor.selection,u,l,c;this.editor.initialized&&o&&!AL(this.editor)&&!this.editor.mode.isReadOnly()&&(c=this.editor.getBody(),u=o.getStart(!0)||c,(u.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(u,c))&&(u=c),l=[],this.editor.dom.getParent(u,function(b){if(b===c)return!0;l.push(b)}),r=r||{},r.element=u,r.parents=l,this.editor.fire("NodeChange",r))},e.prototype.isSameElementPath=function(r){var o,u=this.editor.$(r).parentsUntil(this.editor.getBody()).add(r);if(u.length===this.lastPath.length){for(o=u.length;o>=0&&u[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=u,!0}return this.lastPath=u,!1},e}(),X6=function(e){e.on("click",function(r){e.dom.getParent(r.target,"details")&&r.preventDefault()})},Q6=function(e){e.parser.addNodeFilter("details",function(r){Ft(r,function(o){o.attr("data-mce-open",o.attr("open")),o.attr("open","open")})}),e.serializer.addNodeFilter("details",function(r){Ft(r,function(o){var u=o.attr("data-mce-open");o.attr("open",Ye(u)?u:null),o.attr("data-mce-open",null)})})},J6=function(e){X6(e),Q6(e)},MD=function(e){return Da(e)&&dd(ft.fromDom(e))},Z6=function(e){var r=e.selection.getRng(),o=nr.fromRangeStart(r),u=nr.fromRangeEnd(r);if(nr.isElementPosition(o)){var l=o.container();MD(l)&&js(l).each(function(c){return r.setStart(c.container(),c.offset())})}if(nr.isElementPosition(u)){var l=o.container();MD(l)&&bf(l).each(function(b){return r.setEnd(b.container(),b.offset())})}e.selection.setRng(wS(r))},Cs=function(e){e.on("click",function(r){r.detail>=3&&Z6(e)})},DD=function(e){var r=e.getBoundingClientRect(),o=e.ownerDocument,u=o.documentElement,l=o.defaultView;return{top:r.top+l.pageYOffset-u.clientTop,left:r.left+l.pageXOffset-u.clientLeft}},e5=function(e){return e.inline?DD(e.getBody()):{left:0,top:0}},t5=function(e){var r=e.getBody();return e.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0}},fl=function(e){var r=e.getBody(),o=e.getDoc().documentElement,u={left:r.scrollLeft,top:r.scrollTop},l={left:r.scrollLeft||o.scrollLeft,top:r.scrollTop||o.scrollTop};return e.inline?u:l},n5=function(e,r){if(r.target.ownerDocument!==e.getDoc()){var o=DD(e.getContentAreaContainer()),u=fl(e);return{left:r.pageX-o.left+u.left,top:r.pageY-o.top+u.top}}return{left:r.pageX,top:r.pageY}},ND=function(e,r,o){return{pageX:o.left-e.left+r.left,pageY:o.top-e.top+r.top}},r5=function(e,r){return ND(e5(e),t5(e),n5(e,r))},_d=Si,a5=ds,o5=function(e,r){return _d(r)&&r!==e},_E=function(e,r,o){return r===o||e.dom.isChildOf(r,o)?!1:!_d(r)},i5=function(e){var r=e.cloneNode(!0);return r.removeAttribute("data-mce-selected"),r},u5=function(e,r,o,u){var l=e.dom,c=r.cloneNode(!0);l.setStyles(c,{width:o,height:u}),l.setAttrib(c,"data-mce-selected",null);var b=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(b,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:u}),l.setStyles(c,{margin:0,boxSizing:"border-box"}),b.appendChild(c),b},s5=function(e,r){e.parentNode!==r&&r.appendChild(e)},l5=function(e,r,o,u,l,c){var b=0,S=0;e.style.left=r.pageX+"px",e.style.top=r.pageY+"px",r.pageX+o>l&&(b=r.pageX+o-l),r.pageY+u>c&&(S=r.pageY+u-c),e.style.width=o-b+"px",e.style.height=u-S+"px"},RD=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},c5=function(e){return e.button===0},f0=function(e,r){return{pageX:r.pageX-e.relX,pageY:r.pageY+5}},LD=function(e,r){return function(o){if(c5(o)){var u=Br(r.dom.getParents(o.target),jR(_d,a5)).getOr(null);if(o5(r.getBody(),u)){var l=r.dom.getPos(u),c=r.getBody(),b=r.getDoc().documentElement;e.set({element:u,dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(r.inline?c.scrollWidth:b.offsetWidth)-2,maxY:(r.inline?c.scrollHeight:b.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:u.offsetWidth,height:u.offsetHeight,ghost:u5(r,u,u.offsetWidth,u.offsetHeight)})}}}},f5=function(e,r){var o=vs.throttle(function(u,l){r._selectionOverrides.hideFakeCaret(),r.selection.placeCaretAt(u,l)},0);return r.on("remove",o.stop),function(u){return e.on(function(l){var c=Math.max(Math.abs(u.screenX-l.screenX),Math.abs(u.screenY-l.screenY));if(!l.dragging&&c>10){var b=r.fire("dragstart",{target:l.element});if(b.isDefaultPrevented())return;l.dragging=!0,r.focus()}if(l.dragging){var S=f0(l,r5(r,u));s5(l.ghost,r.getBody()),l5(l.ghost,S,l.width,l.height,l.maxX,l.maxY),o(u.clientX,u.clientY)}})}},d5=function(e){var r=e.getSel().getRangeAt(0),o=r.startContainer;return o.nodeType===3?o.parentNode:o},v5=function(e,r){return function(o){e.on(function(u){if(u.dragging){if(_E(r,d5(r.selection),u.element)){var l=i5(u.element),c=r.fire("drop",{clientX:o.clientX,clientY:o.clientY});c.isDefaultPrevented()||r.undoManager.transact(function(){RD(u.element),r.insertContent(r.dom.getOuterHTML(l)),r._selectionOverrides.hideFakeCaret()})}r.fire("dragend")}}),BD(e)}},m5=function(e,r){return function(){e.on(function(o){o.dragging&&r.fire("dragend")}),BD(e)}},BD=function(e){e.on(function(r){RD(r.ghost)}),e.clear()},OE=function(e){var r=qv(),o=Li.DOM,u=document,l=LD(r,e),c=f5(r,e),b=v5(r,e),S=m5(r,e);e.on("mousedown",l),e.on("mousemove",c),e.on("mouseup",b),o.bind(u,"mousemove",c),o.bind(u,"mouseup",S),e.on("remove",function(){o.unbind(u,"mousemove",c),o.unbind(u,"mouseup",S)}),e.on("keydown",function(E){E.keyCode===qa.ESC&&S()})},PD=function(e){e.on("drop",function(r){var o=typeof r.clientX!="undefined"?e.getDoc().elementFromPoint(r.clientX,r.clientY):null;(_d(o)||e.dom.getContentEditableParent(o)==="false")&&r.preventDefault()})},ID=function(e){var r=function(l){if(!l.isDefaultPrevented()){var c=l.dataTransfer;c&&(Zt(c.types,"Files")||c.files.length>0)&&(l.preventDefault(),l.type==="drop"&&Ay(e,"Dropped file type is not supported"))}},o=function(l){O1(e,l.target)&&r(l)},u=function(){var l=Li.DOM,c=e.dom,b=document,S=e.inline?e.getBody():e.getDoc(),E=["drop","dragover"];Ft(E,function(rt){l.bind(b,rt,o),c.bind(S,rt,r)}),e.on("remove",function(){Ft(E,function(rt){l.unbind(b,rt,o),c.unbind(S,rt,r)})})};e.on("init",function(){vs.setEditorTimeout(e,u,0)})},FD=function(e){OE(e),PD(e),Qh(e)&&ID(e)},p5=function(e){var r=Ib(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var o=e.selection.getRng();if(o.collapsed){var u=Ry(e,o,!1);e.selection.setRng(u)}}},0);e.on("focus",function(){r.throttle()}),e.on("blur",function(){r.cancel()})},h5=function(e){e.on("init",function(){e.on("focusin",function(r){var o=r.target;if(Co(o)){var u=Op(e.getBody(),o),l=Si(u)?u:o;e.selection.getNode()!==l&&uh(e,l).each(function(c){return e.selection.setRng(c)})}})})},HD=ds,Sm=Si,d0=function(e,r){return Op(e.getBody(),r)},g5=function(e){var r=e.selection,o=e.dom,u=o.isBlock,l=e.getBody(),c=Us(e,l,u,function(){return ed(e)}),b="sel-"+o.uniqueId(),S="data-mce-selected",E,rt=function(pr){return o.hasClass(pr,"mce-offscreen-selection")},bt=function(pr){return pr!==l&&(Sm(pr)||Co(pr))&&o.isChildOf(pr,l)},Ct=function(pr){return iv(pr)||uv(pr)||Bp(pr)||Pp(pr)},kt=function(){var pr=o.get(b);return pr&&pr.getElementsByTagName("*")[0]},Ut=function(pr){pr&&r.setRng(pr)},Kt=r.getRng,Yt=function(pr,Ea,Lr,ta){ta===void 0&&(ta=!0);var Pr=e.fire("ShowCaret",{target:Ea,direction:pr,before:Lr});return Pr.isDefaultPrevented()?null:(ta&&r.scrollIntoView(Ea,pr===-1),c.show(Lr,Ea))},Qt=function(pr){pr.hasAttribute("data-mce-caret")&&(K0(pr),Ut(Kt()),r.scrollIntoView(pr))},pn=function(){e.on("mouseup",function(Pr){var Kr=Kt();Kr.collapsed&&CO(e,Pr.clientX,Pr.clientY)&&Rx(e,Kr,!1).each(Ut)}),e.on("click",function(Pr){var Kr=d0(e,Pr.target);Kr&&(Sm(Kr)&&(Pr.preventDefault(),e.focus()),HD(Kr)&&o.isChildOf(Kr,r.getNode())&&Dr())}),e.on("blur NewBlock",Dr),e.on("ResizeWindow FullscreenStateChanged",c.reposition);var pr=function(Pr){var Kr=Pr.firstChild;if(pt(Kr))return!1;var va=nr.before(Kr);if(Qo(va.getNode())&&Pr.childNodes.length===1)return!Ct(va);var Tr=Qi(Pr),ua=Tr.next(va);return ua&&!Ct(ua)},Ea=function(Pr,Kr){var va=o.getParent(Pr,u),Tr=o.getParent(Kr,u);return va===Tr},Lr=function(Pr,Kr){var va=o.getParent(Pr,u),Tr=o.getParent(Kr,u);return pt(va)?!1:Pr!==Tr&&o.isChildOf(va,Tr)&&Sm(d0(e,va))===!1?!0:!o.isChildOf(Tr,va)&&!Ea(va,Tr)&&pr(va)};e.on("tap",function(Pr){var Kr=Pr.target,va=d0(e,Kr);Sm(va)?(Pr.preventDefault(),uh(e,va).each(vr)):bt(Kr)&&uh(e,Kr).each(vr)},!0),e.on("mousedown",function(Pr){var Kr=Pr.target;if(!(Kr!==l&&Kr.nodeName!=="HTML"&&!o.isChildOf(Kr,l))&&CO(e,Pr.clientX,Pr.clientY)!==!1){var va=d0(e,Kr);if(va)Sm(va)?(Pr.preventDefault(),uh(e,va).each(vr)):(Dr(),!(HD(va)&&Pr.shiftKey)&&!og(Pr.clientX,Pr.clientY,r.getRng())&&(ra(),r.placeCaretAt(Pr.clientX,Pr.clientY)));else if(bt(Kr))uh(e,Kr).each(vr);else if(Gv(Kr)===!1){Dr(),ra();var Tr=xF(l,Pr.clientX,Pr.clientY);if(Tr&&!Lr(Kr,Tr.node)){Pr.preventDefault();var ua=Yt(1,Tr.node,Tr.before,!1);Ut(ua),e.getBody().focus()}}}}),e.on("keypress",function(Pr){qa.modifierPressed(Pr)||Sm(r.getNode())&&Pr.preventDefault()}),e.on("GetSelectionRange",function(Pr){var Kr=Pr.range;if(E){if(!E.parentNode){E=null;return}Kr=Kr.cloneRange(),Kr.selectNode(E),Pr.range=Kr}}),e.on("SetSelectionRange",function(Pr){Pr.range=Ln(Pr.range);var Kr=vr(Pr.range,Pr.forward);Kr&&(Pr.range=Kr)});var ta=function(Pr){return Pr.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(Pr){var Kr=Pr.range,va=Kr.startContainer.parentNode;!Fn(Kr)&&!ta(va)&&ra(),rt(va)||Dr()}),e.on("copy",function(Pr){var Kr=Pr.clipboardData;if(!Pr.isDefaultPrevented()&&Pr.clipboardData&&!Na.ie){var va=kt();va&&(Pr.preventDefault(),Kr.clearData(),Kr.setData("text/html",va.outerHTML),Kr.setData("text/plain",va.outerText||va.innerText))}}),FD(e),p5(e),h5(e)},sn=function(pr){return lc(pr)||mb(pr)||pb(pr)},Fn=function(pr){return sn(pr.startContainer)||sn(pr.endContainer)},Ln=function(pr){var Ea=e.schema.getShortEndedElements(),Lr=o.createRng(),ta=pr.startContainer,Pr=pr.startOffset,Kr=pr.endContainer,va=pr.endOffset;return Ya(Ea,ta.nodeName.toLowerCase())?Pr===0?Lr.setStartBefore(ta):Lr.setStartAfter(ta):Lr.setStart(ta,Pr),Ya(Ea,Kr.nodeName.toLowerCase())?va===0?Lr.setEndBefore(Kr):Lr.setEndAfter(Kr):Lr.setEnd(Kr,va),Lr},Cn=function(pr,Ea,Lr){var ta=e.$,Pr=jm(ft.fromDom(e.getBody()),"#"+b).fold(function(){return ta([])},function(Tr){return ta([Tr.dom])});Pr.length===0&&(Pr=ta('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",b),Pr.appendTo(e.getBody()));var Kr=o.createRng();Ea===Lr&&Na.ie?(Pr.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(Ea),Kr.setStartAfter(Pr[0].firstChild.firstChild),Kr.setEndAfter(Ea)):(Pr.empty().append(yl).append(Ea).append(yl),Kr.setStart(Pr[0].firstChild,1),Kr.setEnd(Pr[0].lastChild,0)),Pr.css({top:o.getPos(pr,e.getBody()).y}),Pr[0].focus();var va=r.getSel();return va.removeAllRanges(),va.addRange(Kr),Kr},$n=function(pr){var Ea=pr.cloneNode(!0),Lr=e.fire("ObjectSelected",{target:pr,targetClone:Ea});if(Lr.isDefaultPrevented())return null;var ta=Cn(pr,Lr.targetClone,Ea),Pr=ft.fromDom(pr);return Ft(as(ft.fromDom(e.getBody()),"*[data-mce-selected]"),function(Kr){ja(Pr,Kr)||or(Kr,S)}),o.getAttrib(pr,S)||pr.setAttribute(S,"1"),E=pr,ra(),ta},vr=function(pr,Ea){if(!pr)return null;if(pr.collapsed){if(!Fn(pr)){var Lr=Ea?1:-1,ta=Sp(Lr,l,pr),Pr=ta.getNode(!Ea);if(Gv(Pr))return Yt(Lr,Pr,Ea?!ta.isAtEnd():!1,!1);var Kr=ta.getNode(Ea);if(Gv(Kr))return Yt(Lr,Kr,Ea?!1:!ta.isAtEnd(),!1)}return null}var va=pr.startContainer,Tr=pr.startOffset,ua=pr.endOffset;if(va.nodeType===3&&Tr===0&&Sm(va.parentNode)&&(va=va.parentNode,Tr=o.nodeIndex(va),va=va.parentNode),va.nodeType!==1)return null;if(ua===Tr+1&&va===pr.endContainer){var So=va.childNodes[Tr];if(bt(So))return $n(So)}return null},Dr=function(){E&&E.removeAttribute(S),jm(ft.fromDom(e.getBody()),"#"+b).each(Bt),E=null},Fa=function(){c.destroy(),E=null},ra=function(){c.hide()};return Na.ceFalse&&!wd(e)&&pn(),{showCaret:Yt,showBlockCaretContainer:Qt,hideFakeCaret:ra,destroy:Fa}},zD=function(e){var r=ar.each,o=qa.BACKSPACE,u=qa.DELETE,l=e.dom,c=e.selection,b=e.parser,S=Na.gecko,E=Na.ie,rt=Na.webkit,bt="data:text/mce-internal,",Ct=E?"Text":"URL",kt=function(Ar,Vr){try{e.getDoc().execCommand(Ar,!1,Vr)}catch(ka){}},Ut=function(Ar){return Ar.isDefaultPrevented()},Kt=function(Ar){var Vr,ka;Ar.dataTransfer&&(e.selection.isCollapsed()&&Ar.target.tagName==="IMG"&&c.select(Ar.target),Vr=e.selection.getContent(),Vr.length>0&&(ka=bt+escape(e.id)+","+escape(Vr),Ar.dataTransfer.setData(Ct,ka)))},Yt=function(Ar){var Vr;return Ar.dataTransfer&&(Vr=Ar.dataTransfer.getData(Ct),Vr&&Vr.indexOf(bt)>=0)?(Vr=Vr.substr(bt.length).split(","),{id:unescape(Vr[0]),html:unescape(Vr[1])}):null},Qt=function(Ar,Vr){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Ar,internal:Vr}):e.execCommand("mceInsertContent",!1,Ar)},pn=function(){var Ar=function(ka){var Gn=l.create("body"),Nr=ka.cloneContents();return Gn.appendChild(Nr),c.serializer.serialize(Gn,{format:"html"})},Vr=function(ka){var Gn=Ar(ka),Nr=l.createRng();Nr.selectNode(e.getBody());var Or=Ar(Nr);return Gn===Or};e.on("keydown",function(ka){var Gn=ka.keyCode,Nr,Or;if(!Ut(ka)&&(Gn===u||Gn===o)){if(Nr=e.selection.isCollapsed(),Or=e.getBody(),Nr&&!l.isEmpty(Or)||!Nr&&!Vr(e.selection.getRng()))return;ka.preventDefault(),e.setContent(""),Or.firstChild&&l.isBlock(Or.firstChild)?e.selection.setCursorLocation(Or.firstChild,0):e.selection.setCursorLocation(Or,0),e.nodeChanged()}})},sn=function(){e.shortcuts.add("meta+a",null,"SelectAll")},Fn=function(){e.inline||l.bind(e.getDoc(),"mousedown mouseup",function(Ar){var Vr;if(Ar.target===e.getDoc().documentElement)if(Vr=c.getRng(),e.getBody().focus(),Ar.type==="mousedown"){if(lc(Vr.startContainer))return;c.placeCaretAt(Ar.clientX,Ar.clientY)}else c.setRng(Vr)})},Ln=function(){e.on("keydown",function(Ar){if(!Ut(Ar)&&Ar.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){var Vr=c.getNode(),ka=Vr.previousSibling;if(Vr.nodeName==="HR"){l.remove(Vr),Ar.preventDefault();return}ka&&ka.nodeName&&ka.nodeName.toLowerCase()==="hr"&&(l.remove(ka),Ar.preventDefault())}}})},Cn=function(){Range.prototype.getClientRects||e.on("mousedown",function(Ar){if(!Ut(Ar)&&Ar.target.nodeName==="HTML"){var Vr=e.getBody();Vr.blur(),vs.setEditorTimeout(e,function(){Vr.focus()})}})},$n=function(){e.on("click",function(Ar){var Vr=Ar.target;/^(IMG|HR)$/.test(Vr.nodeName)&&l.getContentEditableParent(Vr)!=="false"&&(Ar.preventDefault(),e.selection.select(Vr),e.nodeChanged()),Vr.nodeName==="A"&&l.hasClass(Vr,"mce-item-anchor")&&(Ar.preventDefault(),c.select(Vr))})},vr=function(){var Ar=function(){var ka=l.getAttribs(c.getStart().cloneNode(!1));return function(){var Gn=c.getStart();Gn!==e.getBody()&&(l.setAttrib(Gn,"style",null),r(ka,function(Nr){Gn.setAttributeNode(Nr.cloneNode(!0))}))}},Vr=function(){return!c.isCollapsed()&&l.getParent(c.getStart(),l.isBlock)!==l.getParent(c.getEnd(),l.isBlock)};e.on("keypress",function(ka){var Gn;if(!Ut(ka)&&(ka.keyCode===8||ka.keyCode===46)&&Vr())return Gn=Ar(),e.getDoc().execCommand("delete",!1,null),Gn(),ka.preventDefault(),!1}),l.bind(e.getDoc(),"cut",function(ka){var Gn;!Ut(ka)&&Vr()&&(Gn=Ar(),vs.setEditorTimeout(e,function(){Gn()}))})},Dr=function(){e.on("keydown",function(Ar){if(!Ut(Ar)&&Ar.keyCode===o&&c.isCollapsed()&&c.getRng().startOffset===0){var Vr=c.getNode().previousSibling;if(Vr&&Vr.nodeName&&Vr.nodeName.toLowerCase()==="table")return Ar.preventDefault(),!1}})},Fa=function(){e.on("keydown",function(Ar){var Vr,ka;if(!(Ut(Ar)||Ar.keyCode!==qa.BACKSPACE)){Vr=c.getRng();var Gn=Vr.startContainer,Nr=Vr.startOffset,Or=l.getRoot();if(ka=Gn,!(!Vr.collapsed||Nr!==0)){for(;ka&&ka.parentNode&&ka.parentNode.firstChild===ka&&ka.parentNode!==Or;)ka=ka.parentNode;ka.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,ka),Vr=l.createRng(),Vr.setStart(Gn,0),Vr.setEnd(Gn,0),c.setRng(Vr))}}})},ra=function(){var Ar=function(){kt("StyleWithCSS",!1),kt("enableInlineTableEditing",!1),Sk(e)||kt("enableObjectResizing",!1)};_L(e)||e.on("BeforeExecCommand mousedown",Ar)},pr=function(){var Ar=function(){r(l.select("a"),function(Vr){var ka=Vr.parentNode,Gn=l.getRoot();if(ka.lastChild===Vr){for(;ka&&!l.isBlock(ka);){if(ka.parentNode.lastChild!==ka||ka===Gn)return;ka=ka.parentNode}l.add(ka,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(Vr){(Vr.type==="setcontent"||Vr.command==="mceInsertLink")&&Ar()})},Ea=function(){bs(e)&&e.on("init",function(){kt("DefaultParagraphSeparator",bs(e))})},Lr=function(){e.on("keyup focusin mouseup",function(Ar){qa.modifierPressed(Ar)||c.normalize()},!0)},ta=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Pr=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},Kr=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Ar){var Vr;if(Ar.target.nodeName==="HTML"){if(Na.ie>11){e.getBody().focus();return}Vr=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Vr),e.selection.normalize(),e.nodeChanged()}}))},va=function(){Na.mac&&e.on("keydown",function(Ar){if(qa.metaKeyPressed(Ar)&&!Ar.shiftKey&&(Ar.keyCode===37||Ar.keyCode===39)){Ar.preventDefault();var Vr=e.selection.getSel();Vr.modify("move",Ar.keyCode===37?"backward":"forward","lineboundary")}})},Tr=function(){kt("AutoUrlDetect",!1)},ua=function(){e.on("click",function(Ar){var Vr=Ar.target;do if(Vr.tagName==="A"){Ar.preventDefault();return}while(Vr=Vr.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},So=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Ar){Ar.preventDefault()})})},Vo=function(){b.addNodeFilter("br",function(Ar){for(var Vr=Ar.length;Vr--;)Ar[Vr].attr("class")==="Apple-interchange-newline"&&Ar[Vr].remove()})},zo=function(){e.on("dragstart",function(Ar){Kt(Ar)}),e.on("drop",function(Ar){if(!Ut(Ar)){var Vr=Yt(Ar);if(Vr&&Vr.id!==e.id){Ar.preventDefault();var ka=BC(Ar.x,Ar.y,e.getDoc());c.setRng(ka),Qt(Vr.html,!0)}}})},Vu=vt,Ii=function(){if(!S||e.removed)return!1;var Ar=e.selection.getSel();return!Ar||!Ar.rangeCount||Ar.rangeCount===0},Ns=function(){rt&&(Fn(),$n(),So(),sn(),Na.iOS&&(Pr(),Kr(),ua())),S&&(Cn(),ra(),ta(),va())},Ml=function(){Fa(),pn(),Na.windowsPhone||Lr(),rt&&(Fn(),$n(),Ea(),So(),Dr(),Vo(),Na.iOS?(Pr(),Kr(),ua()):sn()),Na.ie>=11&&(Kr(),Dr()),Na.ie&&(sn(),Tr(),zo()),S&&(Ln(),Cn(),vr(),ra(),pr(),ta(),va(),Dr())};return wd(e)?Ns():Ml(),{refreshContentEditable:Vu,isHidden:Ii}},ME=Li.DOM,b5=function(e,r){var o=ft.fromDom(e.getBody()),u=Qc(fs(o)),l=ft.fromTag("style");tt(l,"type","text/css"),p(l,ft.fromText(r)),p(u,l),e.on("remove",function(){Bt(l)})},y5=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},DE=function(e){return sa(e,function(r){return Ue(r)===!1})},NE=function(e){var r=e.settings;return DE({block_elements:r.block_elements,boolean_attributes:r.boolean_attributes,custom_elements:r.custom_elements,extended_valid_elements:r.extended_valid_elements,invalid_elements:r.invalid_elements,invalid_styles:r.invalid_styles,move_caret_before_on_enter_elements:r.move_caret_before_on_enter_elements,non_empty_elements:r.non_empty_elements,schema:r.schema,self_closing_elements:r.self_closing_elements,short_ended_elements:r.short_ended_elements,special:r.special,text_block_elements:r.text_block_elements,text_inline_elements:r.text_inline_elements,valid_children:r.valid_children,valid_classes:r.valid_classes,valid_elements:r.valid_elements,valid_styles:r.valid_styles,verify_html:r.verify_html,whitespace_elements:r.whitespace_elements,padd_empty_block_inline_children:r.format_empty_lines})},$D=function(e){var r=e.settings,o=e.editorUpload.blobCache;return DE({allow_conditional_comments:r.allow_conditional_comments,allow_html_data_urls:r.allow_html_data_urls,allow_svg_data_urls:r.allow_svg_data_urls,allow_html_in_named_anchor:r.allow_html_in_named_anchor,allow_script_urls:r.allow_script_urls,allow_unsafe_link_target:r.allow_unsafe_link_target,convert_fonts_to_spans:r.convert_fonts_to_spans,fix_list_elements:r.fix_list_elements,font_size_legacy_values:r.font_size_legacy_values,forced_root_block:r.forced_root_block,forced_root_block_attrs:r.forced_root_block_attrs,padd_empty_with_br:r.padd_empty_with_br,preserve_cdata:r.preserve_cdata,remove_trailing_brs:r.remove_trailing_brs,inline_styles:r.inline_styles,root_name:y5(e),validate:!0,blob_cache:o,document:e.getDoc(),images_dataimg_filter:r.images_dataimg_filter})},w5=function(e){var r=e.settings;return ga(ga(ga({},$D(e)),NE(e)),DE({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope,element_format:r.element_format,entities:r.entities,entity_encoding:r.entity_encoding,indent:r.indent,indent_after:r.indent_after,indent_before:r.indent_before}))},C5=function(e){var r=by($D(e),e.schema);return r.addAttributeFilter("src,href,style,tabindex",function(o,u){for(var l=o.length,c,b,S=e.dom,E="data-mce-"+u;l--;)if(c=o[l],b=c.attr(u),b&&!c.attr(E)){if(b.indexOf("data:")===0||b.indexOf("blob:")===0)continue;u==="style"?(b=S.serializeStyle(S.parseStyle(b),c.name),b.length||(b=null),c.attr(E,b),c.attr(u,b)):u==="tabindex"?(c.attr(E,b),c.attr(u,null)):c.attr(E,e.convertURL(b,u,c.name))}}),r.addNodeFilter("script",function(o){for(var u=o.length;u--;){var l=o[u],c=l.attr("type")||"no/type";c.indexOf("mce-")!==0&&l.attr("type","mce-"+c)}}),e.settings.preserve_cdata&&r.addNodeFilter("#cdata",function(o){for(var u=o.length;u--;){var l=o[u];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode(l.value)+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(o){for(var u=o.length,l=e.schema.getNonEmptyElements();u--;){var c=o[u];c.isEmpty(l)&&c.getAll("br").length===0&&(c.append(new hc("br",1)).shortEnded=!0)}}),r},S5=function(e){e.settings.auto_focus&&vs.setEditorTimeout(e,function(){var r;e.settings.auto_focus===!0?r=e:r=e.editorManager.get(e.settings.auto_focus),r.destroyed||r.focus()},100)},VD=function(e){var r=e.dom.getRoot();!e.inline&&(!p1(e)||e.selection.getStart(!0)===r)&&js(r).each(function(o){var u=o.getNode(),l=nu(u)?js(u).getOr(o):o;Na.browser.isIE()?F3(e,l.toRange()):e.selection.setRng(l.toRange())})},v0=function(e){e.bindPendingEventDelegates(),e.initialized=!0,fT(e),e.focus(!0),VD(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),S5(e)},RE=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},UD=function(e,r,o){var u=[new Yu(function(l,c){return RE(e).loadAll(r,l,c)})];return e.inline?u:u.concat([new Yu(function(l,c){return e.ui.styleSheetLoader.loadAll(o,l,c)})])},jD=function(e){var r=RE(e),o=wk(e),u=e.contentCSS,l=function(){r.unloadAll(u),e.inline||e.ui.styleSheetLoader.unloadAll(o)},c=function(){e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){var b="";ar.each(e.contentStyles,function(E){b+=E+`\r
`}),e.dom.addStyle(b)}var S=Yu.all(UD(e,u,o)).then(c).catch(c);return e.settings.content_style&&b5(e,e.settings.content_style),S},x5=function(e){var r=e.settings,o=e.getDoc(),u=e.getBody();Zf(e),!r.browser_spellcheck&&!r.gecko_spellcheck&&(o.body.spellcheck=!1,ME.setAttrib(u,"spellcheck","false")),e.quirks=zD(e),cT(e);var l=Ck(e);l!==void 0&&(u.dir=l),r.protect&&e.on("BeforeSetContent",function(c){ar.each(r.protect,function(b){c.content=c.content.replace(b,function(S){return"<!--mce:protected "+escape(S)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(c){e.composing=c.type==="compositionstart"})},LE=function(e){wd(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},BE=function(e){e.removed!==!0&&(LE(e),v0(e))},PE=function(e,r){var o=e.settings,u=e.getElement(),l=e.getDoc();o.inline||(e.getElement().style.visibility=e.orgVisibility),e.inline||(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&(ME.addClass(u,"mce-content-body"),e.contentDocument=l=document,e.contentWindow=window,e.bodyElement=u,e.contentAreaContainer=u);var c=e.getBody();c.disabled=!0,e.readonly=!!o.readonly,e.readonly||(e.inline&&ME.getStyle(c,"position",!0)==="static"&&(c.style.position="relative"),c.contentEditable=e.getParam("content_editable_state",!0)),c.disabled=!1,e.editorUpload=ws(e),e.schema=Ul(NE(e)),e.dom=Li(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:o.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:dL(e),referrerPolicy:pk(e),onSetAttrib:function(E){e.fire("SetAttrib",E)}}),e.parser=C5(e),e.serializer=gx(w5(e),e),e.selection=Xp(e.dom,e.getWin(),e.serializer,e),e.annotator=uT(e),e.formatter=qi(e),e.undoManager=PO(e),e._nodeChangeDispatcher=new G6(e),e._selectionOverrides=g5(e),zM(e),J6(e),wd(e)||Cs(e);var b=Y6(e);zc(e,b),mh(e),Hg(e);var S=g4(e);x5(e),S.fold(function(){jD(e).then(function(){return BE(e)})},function(E){e.setProgressState(!0),jD(e).then(function(){E().then(function(rt){e.setProgressState(!1),BE(e)},function(rt){e.notificationManager.open({type:"error",text:String(rt)}),BE(e)})})})},Jg=Li.DOM,E5=function(e,r){if(document.domain!==window.location.hostname&&Na.browser.isIE()){var o=OO("mce");e[o]=function(){PE(e)};var u='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+o+"(true);})()";return Jg.setAttrib(r,"src",u),!0}return!1},$c=function(e,r,o,u){var l=ft.fromTag("iframe");return gt(l,u),gt(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),dp(l,"tox-edit-area__iframe"),l},WD=function(e){var r=tL(e)+"<html><head>";nL(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var o=rL(e),u=aL(e),l=e.translate(Tk(e));return vk(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+vk(e)+'" />'),r+="</head>"+('<body id="'+o+'" class="mce-content-body '+u+'" data-id="'+e.id+'" aria-label="'+l+'">')+"<br></body></html>",r},qD=function(e,r){var o=e.translate("Rich Text Area"),u=$c(e.id,o,r.height,eL(e)).dom;u.onload=function(){u.onload=null,e.fire("load")};var l=E5(e,u);return e.contentAreaContainer=r.iframeContainer,e.iframeElement=u,e.iframeHTML=WD(e),Jg.add(r.iframeContainer,u),l},k5=function(e,r){var o=qD(e,r);r.editorContainer&&(Jg.get(r.editorContainer).style.display=e.orgDisplay,e.hidden=Jg.isHidden(r.editorContainer)),e.getElement().style.display="none",Jg.setAttrib(e.id,"aria-hidden","true"),o||PE(e)},KD=Li.DOM,YD=function(e,r,o){var u=kf.get(o),l=kf.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=ar.trim(o),u&&ar.inArray(r,o)===-1){if(ar.each(kf.dependencies(o),function(b){YD(e,r,b)}),e.plugins[o])return;try{var c=new u(e,l,e.$);e.plugins[o]=c,c.init&&(c.init(e,l),r.push(o))}catch(b){MI(e,o,b)}}},GD=function(e){return e.replace(/^\-/,"")},T5=function(e){var r=[];ar.each(eC(e).split(/[ ,]/),function(o){YD(e,r,GD(o))})},A5=function(e){var r=ar.trim(Kf(e)),o=e.ui.registry.getAll().icons,u=ga(ga({},Ty.get("default").icons),Ty.get(r).icons);Mr(u,function(l,c){Ya(o,c)||e.ui.registry.addIcon(c,l)})},_5=function(e){var r=Gh(e);if(Ye(r)){e.settings.theme=GD(r);var o=mv.get(r);e.theme=new o(e,mv.urls[r]),e.theme.init&&e.theme.init(e,mv.urls[r]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},IE=function(e){return e.theme.renderUI()},O5=function(e){var r=e.getElement(),o=Gh(e),u=o(e,r);return u.editorContainer.nodeType&&(u.editorContainer.id=u.editorContainer.id||e.id+"_parent"),u.iframeContainer&&u.iframeContainer.nodeType&&(u.iframeContainer.id=u.iframeContainer.id||e.id+"_iframecontainer"),u.height=u.iframeHeight?u.iframeHeight:r.offsetHeight,u},XD=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},QD=function(e){var r=KD.create("div");return KD.insertAfter(r,e),XD(r)},M5=function(e){var r=e.getElement();return e.inline?XD(null):QD(r)},D5=function(e){var r=e.getElement();return e.orgDisplay=r.style.display,Ye(Gh(e))?IE(e):Tt(Gh(e))?O5(e):M5(e)},N5=function(e,r){var o={show:ot.from(r.show).getOr(vt),hide:ot.from(r.hide).getOr(vt),disable:ot.from(r.disable).getOr(vt),isDisabled:ot.from(r.isDisabled).getOr(cn),enable:function(){e.mode.isReadOnly()||ot.from(r.enable).map(jt)}};e.ui=ga(ga({},e.ui),o)},JD=function(e){e.fire("ScriptsLoaded"),A5(e),_5(e),T5(e);var r=D5(e);N5(e,ot.from(r.api).getOr({}));var o={editorContainer:r.editorContainer,iframeContainer:r.iframeContainer};return e.editorContainer=o.editorContainer?o.editorContainer:null,_O(e),e.inline?PE(e):k5(e,o)},xm=Li.DOM,ZD=function(e){return e.charAt(0)==="-"},FE=function(e,r){var o=hk(r),u=gk(r);if($s.hasCode(o)===!1&&o!=="en"){var l=u!==""?u:r.editorManager.baseURL+"/langs/"+o+".js";e.add(l,vt,void 0,function(){OI(r,l,o)})}},R5=function(e,r,o,u){var l=Gh(r);if(Ye(l)){if(!ZD(l)&&!Ya(mv.urls,l)){var c=yL(r);c?mv.load(l,r.documentBaseURI.toAbsolute(c)):mv.load(l,"themes/"+l+"/theme"+o+".js")}e.loadQueue(function(){mv.waitFor(l,u)})}else u()},eN=function(e){return ot.from(Xw(e)).filter(function(r){return r.length>0}).map(function(r){return{url:r,name:ot.none()}})},tN=function(e,r,o){return ot.from(r).filter(function(u){return u.length>0&&!Ty.has(u)}).map(function(u){return{url:e.editorManager.baseURL+"/icons/"+u+"/icons"+o+".js",name:ot.some(u)}})},L5=function(e,r,o){var u=tN(r,"default",o),l=eN(r).orThunk(function(){return tN(r,Kf(r),"")});Ft(oc([u,l]),function(c){e.add(c.url,vt,void 0,function(){TO(r,c.url,c.name.getOrUndefined())})})},B5=function(e,r){ar.each(ML(e),function(o,u){kf.load(u,o,vt,void 0,function(){kx(e,o,u)}),e.settings.plugins+=" "+u}),ar.each(eC(e).split(/[ ,]/),function(o){if(o=ar.trim(o),o&&!kf.urls[o])if(ZD(o)){o=o.substr(1,o.length);var u=kf.dependencies(o);ar.each(u,function(c){var b={prefix:"plugins/",resource:c,suffix:"/plugin"+r+".js"},S=kf.createUrl(b,c);kf.load(S.resource,S,vt,void 0,function(){kx(e,S.prefix+S.resource+S.suffix,S.resource)})})}else{var l={prefix:"plugins/",resource:o,suffix:"/plugin"+r+".js"};kf.load(o,l,vt,void 0,function(){kx(e,l.prefix+l.resource+l.suffix,o)})}})},P5=function(e,r){var o=md.ScriptLoader;R5(o,e,r,function(){FE(o,e),L5(o,e,r),B5(e,r),o.loadQueue(function(){e.removed||JD(e)},e,function(){e.removed||JD(e)})})},$u=function(e,r){return ef.forElement(e,{contentCssCors:OL(r),referrerPolicy:pk(r)})},I5=function(e){var r=e.id;$s.setCode(hk(e));var o=function(){xm.unbind(window,"ready",o),e.render()};if(!np.Event.domLoaded){xm.bind(window,"ready",o);return}if(e.getElement()&&Na.contentEditable){var u=ft.fromDom(e.getElement()),l=Aa(u);e.on("remove",function(){bn(u.dom.attributes,function(b){return or(u,b.name)}),gt(u,l)}),e.ui.styleSheetLoader=$u(u,e),wL(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var c=e.getElement().form||xm.getParent(r,"form");c&&(e.formElement=c,CL(e)&&!mu(e.getElement())&&(xm.insertAfter(xm.create("input",{type:"hidden",name:r}),r),e.hasHiddenInput=!0),e.formEventDelegate=function(b){e.fire(b.type,b)},xm.bind(c,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),SL(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)})),e.windowManager=Cx(e),e.notificationManager=EO(e),xL(e)&&e.on("GetContent",function(b){b.save&&(b.content=xm.encode(b.content))}),EL(e)&&e.on("submit",function(){e.initialized&&e.save()}),Qb(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),P5(e,e.suffix)}},F5=function(e,r){return O4(e,r)},H5={"font-size":"size","font-family":"face"},nN=function(e,r,o){var u=function(c){return Os(c,e).orThunk(function(){return Xo(c)==="font"?Ka(H5,e).bind(function(b){return rn(c,b)}):ot.none()})},l=function(c){return ja(ft.fromDom(r),c)};return MS(ft.fromDom(o),function(c){return u(c)},l)},HE=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},z5=function(e,r){return ot.from(Li.DOM.getStyle(r,e,!0))},zE=function(e){return function(r,o){return ot.from(o).map(ft.fromDom).filter(Di).bind(function(u){return nN(e,r,u.dom).or(z5(e,u.dom))}).getOr("")}},$5=zE("font-size"),V5=Et(HE,zE("font-family")),U5=function(e){return js(e.getBody()).map(function(r){var o=r.container();return Gr(o)?o.parentNode:o})},j5=function(e){return ot.from(e.selection.getRng()).bind(function(r){var o=e.getBody(),u=r.startContainer===o&&r.startOffset===0;return u?ot.none():ot.from(e.selection.getStart(!0))})},W5=function(e,r){return j5(e).orThunk(Ht(U5,e)).map(ft.fromDom).filter(Di).bind(r)},$E=function(e,r){return W5(e,st(ot.some,r))},rN=function(e,r){if(/^[0-9.]+$/.test(r)){var o=parseInt(r,10);if(o>=1&&o<=7){var u=sL(e),l=gp(e);return l?l[o-1]||r:u[o-1]||r}else return r}else return r},q5=function(e){var r=e.split(/\s*,\s*/);return ln(r,function(o){return o.indexOf(" ")!==-1&&!(ht(o,'"')||ht(o,"'"))?"'"+o+"'":o}).join(",")},K5=function(e,r){var o=rN(e,r);e.formatter.toggle("fontname",{value:q5(o)}),e.nodeChanged()},Y5=function(e){return $E(e,function(r){return V5(e.getBody(),r.dom)}).getOr("")},G5=function(e,r){e.formatter.toggle("fontsize",{value:rN(e,r)}),e.nodeChanged()},X5=function(e){return $E(e,function(r){return $5(e.getBody(),r.dom)}).getOr("")},Q5=function(e){return $E(e,function(r){var o=ft.fromDom(e.getBody()),u=MS(r,function(c){return Os(c,"line-height")},Ht(ja,o)),l=function(){var c=parseFloat(Ao(r,"line-height")),b=parseFloat(Ao(r,"font-size"));return String(c/b)};return u.getOrThunk(l)}).getOr("")},aN=function(e,r){e.formatter.toggle("lineheight",{value:String(r)}),e.nodeChanged()},J5=function(e){if(typeof e!="string"){var r=ar.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:r}}return{content:e,details:{}}},Z5=function(e,r){var o=J5(r);A4(e,o.content,o.details)},m0=ar.each,eH=ar.map,oN=ar.inArray,iN=function(){function e(r){this.commands={state:{},exec:{},value:{}},this.editor=r,this.setupCommands(r)}return e.prototype.execCommand=function(r,o,u,l){var c,b=!1,S=this;if(!S.editor.removed){if(r.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(r)&&(!l||!l.skip_focus)?S.editor.focus():OT(S.editor)),l=S.editor.fire("BeforeExecCommand",{command:r,ui:o,value:u}),l.isDefaultPrevented())return!1;var E=r.toLowerCase();if(c=S.commands.exec[E])return c(E,o,u),S.editor.fire("ExecCommand",{command:r,ui:o,value:u}),!0;if(m0(this.editor.plugins,function(rt){if(rt.execCommand&&rt.execCommand(r,o,u))return S.editor.fire("ExecCommand",{command:r,ui:o,value:u}),b=!0,!1}),b)return b;if(S.editor.theme&&S.editor.theme.execCommand&&S.editor.theme.execCommand(r,o,u))return S.editor.fire("ExecCommand",{command:r,ui:o,value:u}),!0;try{b=S.editor.getDoc().execCommand(r,o,u)}catch(rt){}return b?(S.editor.fire("ExecCommand",{command:r,ui:o,value:u}),!0):!1}},e.prototype.queryCommandState=function(r){var o;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(r=r.toLowerCase(),o=this.commands.state[r])return o(r);try{return this.editor.getDoc().queryCommandState(r)}catch(u){}return!1}},e.prototype.queryCommandValue=function(r){var o;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(r=r.toLowerCase(),o=this.commands.value[r])return o(r);try{return this.editor.getDoc().queryCommandValue(r)}catch(u){}}},e.prototype.addCommands=function(r,o){o===void 0&&(o="exec");var u=this;m0(r,function(l,c){m0(c.toLowerCase().split(","),function(b){u.commands[o][b]=l})})},e.prototype.addCommand=function(r,o,u){var l=this;r=r.toLowerCase(),this.commands.exec[r]=function(c,b,S,E){return o.call(u||l.editor,b,S,E)}},e.prototype.queryCommandSupported=function(r){if(r=r.toLowerCase(),this.commands.exec[r])return!0;try{return this.editor.getDoc().queryCommandSupported(r)}catch(o){}return!1},e.prototype.addQueryStateHandler=function(r,o,u){var l=this;r=r.toLowerCase(),this.commands.state[r]=function(){return o.call(u||l.editor)}},e.prototype.addQueryValueHandler=function(r,o,u){var l=this;r=r.toLowerCase(),this.commands.value[r]=function(){return o.call(u||l.editor)}},e.prototype.hasCustomCommand=function(r){return r=r.toLowerCase(),!!this.commands.exec[r]},e.prototype.execNativeCommand=function(r,o,u){return o===void 0&&(o=!1),u===void 0&&(u=null),this.editor.getDoc().execCommand(r,o,u)},e.prototype.isFormatMatch=function(r){return this.editor.formatter.match(r)},e.prototype.toggleFormat=function(r,o){this.editor.formatter.toggle(r,o),this.editor.nodeChanged()},e.prototype.storeSelection=function(r){this.selectionBookmark=this.editor.selection.getBookmark(r)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(r){var o=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":vt,"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},mceFocus:function(l,c,b){VT(r,b)},"Cut,Copy,Paste":function(l){var c=r.getDoc(),b;try{o.execNativeCommand(l)}catch(E){b=!0}if(l==="paste"&&!c.queryCommandEnabled(l)&&(b=!0),b||!c.queryCommandSupported(l)){var S=r.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Na.mac&&(S=S.replace(/Ctrl\+/g,"⌘+")),r.notificationManager.open({text:S,type:"error"})}},unlink:function(){if(r.selection.isCollapsed()){var l=r.dom.getParent(r.selection.getStart(),"a");l&&r.dom.remove(l,!0);return}r.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(l){var c=l.substring(7);c==="full"&&(c="justify"),m0("left,center,right,justify".split(","),function(b){c!==b&&r.formatter.remove("align"+b)}),c!=="none"&&o.toggleFormat("align"+c)},"InsertUnorderedList,InsertOrderedList":function(l){var c;o.execNativeCommand(l);var b=r.dom.getParent(r.selection.getNode(),"ol,ul");b&&(c=b.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(c.nodeName)&&(o.storeSelection(),r.dom.split(c,b),o.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){o.toggleFormat(l)},"ForeColor,HiliteColor":function(l,c,b){o.toggleFormat(l,{value:b})},FontName:function(l,c,b){K5(r,b)},FontSize:function(l,c,b){G5(r,b)},LineHeight:function(l,c,b){aN(r,b)},Lang:function(l,c,b){o.toggleFormat(l,{value:b.code,customValue:b.customCode})},RemoveFormat:function(l){r.formatter.remove(l)},mceBlockQuote:function(){o.toggleFormat("blockquote")},FormatBlock:function(l,c,b){return o.toggleFormat(b||"p")},mceCleanup:function(){var l=r.selection.getBookmark();r.setContent(r.getContent()),r.selection.moveToBookmark(l)},mceRemoveNode:function(l,c,b){var S=b||r.selection.getNode();S!==r.getBody()&&(o.storeSelection(),r.dom.remove(S,!0),o.restoreSelection())},mceSelectNodeDepth:function(l,c,b){var S=0;r.dom.getParent(r.selection.getNode(),function(E){if(E.nodeType===1&&S++===b)return r.selection.select(E),!1},r.getBody())},mceSelectNode:function(l,c,b){r.selection.select(b)},mceInsertContent:function(l,c,b){Z5(r,b)},mceInsertRawHTML:function(l,c,b){r.selection.setContent("tiny_mce_marker");var S=r.getContent();r.setContent(S.replace(/tiny_mce_marker/g,function(){return b}))},mceInsertNewLine:function(l,c,b){xE(r,b)},mceToggleFormat:function(l,c,b){o.toggleFormat(b)},mceSetContent:function(l,c,b){r.setContent(b)},"Indent,Outdent":function(l){PM(r,l)},mceRepaint:vt,InsertHorizontalRule:function(){r.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual,r.addVisual()},mceReplaceContent:function(l,c,b){r.execCommand("mceInsertContent",!1,b.replace(/\{\$selection\}/g,r.selection.getContent({format:"text"})))},mceInsertLink:function(l,c,b){typeof b=="string"&&(b={href:b});var S=r.dom.getParent(r.selection.getNode(),"a");b.href=b.href.replace(/ /g,"%20"),(!S||!b.href)&&r.formatter.remove("link"),b.href&&r.formatter.apply("link",b,S)},selectAll:function(){var l=r.dom.getParent(r.selection.getStart(),ds);if(l){var c=r.dom.createRng();c.selectNodeContents(l),r.selection.setRng(c)}},mceNewDocument:function(){r.setContent("")},InsertLineBreak:function(l,c,b){return Cm(r,b),!0}});var u=function(l){return function(){var c=r.selection,b=c.isCollapsed()?[r.dom.getParent(c.getNode(),r.dom.isBlock)]:c.getSelectedBlocks(),S=eH(b,function(E){return!!r.formatter.matchNode(E,l)});return oN(S,!0)!==-1}};o.addCommands({JustifyLeft:u("alignleft"),JustifyCenter:u("aligncenter"),JustifyRight:u("alignright"),JustifyFull:u("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){return o.isFormatMatch(l)},mceBlockQuote:function(){return o.isFormatMatch("blockquote")},Outdent:function(){return RM(r)},"InsertUnorderedList,InsertOrderedList":function(l){var c=r.dom.getParent(r.selection.getNode(),"ul,ol");return c&&(l==="insertunorderedlist"&&c.tagName==="UL"||l==="insertorderedlist"&&c.tagName==="OL")}},"state"),o.addCommands({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}}),o.addQueryValueHandler("FontName",function(){return Y5(r)},this),o.addQueryValueHandler("FontSize",function(){return X5(r)},this),o.addQueryValueHandler("LineHeight",function(){return Q5(r)},this)},e}(),Ev="data-mce-contenteditable",uN=function(e,r,o){Ow(e,r)&&o===!1?U2(e,r):o&&dp(e,r)},p0=function(e,r,o){try{e.getDoc().execCommand(r,!1,String(o))}catch(u){}},h0=function(e,r){e.dom.contentEditable=r?"true":"false"},tH=function(e){Ft(as(e,'*[contenteditable="true"]'),function(r){tt(r,Ev,"true"),h0(r,!1)})},nH=function(e){Ft(as(e,"*["+Ev+'="true"]'),function(r){or(r,Ev),h0(r,!0)})},sN=function(e){ot.from(e.selection.getNode()).each(function(r){r.removeAttribute("data-mce-selected")})},rH=function(e){e.selection.setRng(e.selection.getRng())},aH=function(e,r){var o=ft.fromDom(e.getBody());uN(o,"mce-content-readonly",r),r?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),sN(e),e.readonly=!0,h0(o,!1),tH(o)):(e.readonly=!1,h0(o,!0),nH(o),p0(e,"StyleWithCSS",!1),p0(e,"enableInlineTableEditing",!1),p0(e,"enableObjectResizing",!1),$T(e)&&e.focus(),rH(e),e.nodeChanged())},kv=function(e){return e.readonly},lN=function(e){e.parser.addAttributeFilter("contenteditable",function(r){kv(e)&&Ft(r,function(o){o.attr(Ev,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Ev,function(r){kv(e)&&Ft(r,function(o){o.attr("contenteditable",o.attr(Ev))})}),e.serializer.addTempAttr(Ev)},oH=function(e){e.serializer?lN(e):e.on("PreInit",function(){lN(e)})},cN=function(e){return e.type==="click"},iH=function(e,r){var o=function(u){return ja(u,ft.fromDom(e.getBody()))};return su(r,"a",o).bind(function(u){return rn(u,"href")})},uH=function(e,r){if(cN(r)&&!qa.metaKeyPressed(r)){var o=ft.fromDom(r.target);iH(e,o).each(function(u){if(r.preventDefault(),/^#/.test(u)){var l=e.dom.select(u+',[name="'+Yn(u,"#")+'"]');l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(u,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},sH=function(e){e.on("ShowCaret",function(r){kv(e)&&r.preventDefault()}),e.on("ObjectSelected",function(r){kv(e)&&r.preventDefault()})},fN=ar.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),g0=function(){function e(r){this.bindings={},this.settings=r||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||cn}return e.isNative=function(r){return!!fN[r.toLowerCase()]},e.prototype.fire=function(r,o){var u=r.toLowerCase(),l=xr(u,o||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);var c=this.bindings[u];if(c)for(var b=0,S=c.length;b<S;b++){var E=c[b];if(!E.removed){if(E.once&&this.off(u,E.func),l.isImmediatePropagationStopped())return l;if(E.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l},e.prototype.on=function(r,o,u,l){if(o===!1&&(o=cn),o){var c={func:o,removed:!1};l&&ar.extend(c,l);for(var b=r.toLowerCase().split(" "),S=b.length;S--;){var E=b[S],rt=this.bindings[E];rt||(rt=[],this.toggleEvent(E,!0)),u?rt=Po([c],rt,!0):rt=Po(Po([],rt,!0),[c],!1),this.bindings[E]=rt}}return this},e.prototype.off=function(r,o){var u=this;if(r)for(var l=r.toLowerCase().split(" "),c=l.length;c--;){var b=l[c],S=this.bindings[b];if(!b)return Mr(this.bindings,function(rt,bt){u.toggleEvent(bt,!1),delete u.bindings[bt]}),this;if(S){if(!o)S.length=0;else{var E=Kn(S,function(rt){return rt.func===o});S=E.fail,this.bindings[b]=S,Ft(E.pass,function(rt){rt.removed=!0})}S.length||(this.toggleEvent(r,!1),delete this.bindings[b])}}else Mr(this.bindings,function(rt,bt){u.toggleEvent(bt,!1)}),this.bindings={};return this},e.prototype.once=function(r,o,u){return this.on(r,o,u,{once:!0})},e.prototype.has=function(r){return r=r.toLowerCase(),!(!this.bindings[r]||this.bindings[r].length===0)},e}(),Zg=function(e){return e._eventDispatcher||(e._eventDispatcher=new g0({scope:e,toggleEvent:function(r,o){g0.isNative(r)&&e.toggleNativeEvent&&e.toggleNativeEvent(r,o)}})),e._eventDispatcher},b0={fire:function(e,r,o){var u=this;if(u.removed&&e!=="remove"&&e!=="detach")return r;var l=Zg(u).fire(e,r);if(o!==!1&&u.parent)for(var c=u.parent();c&&!l.isPropagationStopped();)c.fire(e,l,!1),c=c.parent();return l},on:function(e,r,o){return Zg(this).on(e,r,o)},off:function(e,r){return Zg(this).off(e,r)},once:function(e,r){return Zg(this).once(e,r)},hasEventListeners:function(e){return Zg(this).has(e)}},y0=Li.DOM,Em,w0=function(e,r){if(r==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(r))return e.getDoc().documentElement;var o=Qw(e);return o?(e.eventRoot||(e.eventRoot=y0.select(o)[0]),e.eventRoot):e.getBody()},lH=function(e){return!e.hidden&&!kv(e)},dN=function(e,r,o){lH(e)?e.fire(r,o):kv(e)&&uH(e,o)},vN=function(e,r){var o;if(e.delegates||(e.delegates={}),!(e.delegates[r]||e.removed)){var u=w0(e,r);if(Qw(e)){if(Em||(Em={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Em&&(Mr(Em,function(l,c){e.dom.unbind(w0(e,c))}),Em=null)})),Em[r])return;o=function(l){for(var c=l.target,b=e.editorManager.get(),S=b.length;S--;){var E=b[S].getBody();(E===c||y0.isChildOf(c,E))&&dN(b[S],r,l)}},Em[r]=o,y0.bind(u,r,o)}else o=function(l){dN(e,r,l)},y0.bind(u,r,o),e.delegates[r]=o}},mN=ga(ga({},b0),{bindPendingEventDelegates:function(){var e=this;ar.each(e._pendingNativeEvents,function(r){vN(e,r)})},toggleNativeEvent:function(e,r){var o=this;e==="focus"||e==="blur"||o.removed||(r?o.initialized?vN(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&(o.dom.unbind(w0(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents:function(){var e=this,r=e.getBody(),o=e.dom;e.delegates&&(Mr(e.delegates,function(u,l){e.dom.unbind(w0(e,l),l,u)}),delete e.delegates),!e.inline&&r&&o&&(r.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(r),o.unbind(e.getContainer()))}}),cH=["design","readonly"],VE=function(e,r,o,u){var l=o[r.get()],c=o[u];try{c.activate()}catch(b){return}l.deactivate(),l.editorReadOnly!==c.editorReadOnly&&aH(e,c.editorReadOnly),r.set(u),MC(e,u)},pN=function(e,r,o,u){if(u!==o.get()){if(!Ya(r,u))throw new Error("Editor mode '"+u+"' is invalid");e.initialized?VE(e,o,r,u):e.on("init",function(){return VE(e,o,r,u)})}},hN=function(e,r,o){var u;if(Zt(cH,r))throw new Error("Cannot override default mode "+r);return ga(ga({},e),(u={},u[r]=ga(ga({},o),{deactivate:function(){try{o.deactivate()}catch(l){}}}),u))},fH=function(e){var r=zs("design"),o=zs({design:{activate:vt,deactivate:vt,editorReadOnly:!1},readonly:{activate:vt,deactivate:vt,editorReadOnly:!0}});return oH(e),sH(e),{isReadOnly:function(){return kv(e)},set:function(u){return pN(e,o.get(),r,u)},get:function(){return r.get()},register:function(u,l){o.set(hN(o.get(),u,l))}}},C0=ar.each,S0=ar.explode,dH={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},gN=ar.makeMap("alt,ctrl,shift,meta,access"),vH=function(e){var r,o={};C0(S0(e.toLowerCase(),"+"),function(l){l in gN?o[l]=!0:/^[0-9]{2,}$/.test(l)?o.keyCode=parseInt(l,10):(o.charCode=l.charCodeAt(0),o.keyCode=dH[l]||l.toUpperCase().charCodeAt(0))});var u=[o.keyCode];for(r in gN)o[r]?u.push(r):o[r]=!1;return o.id=u.join(","),o.access&&(o.alt=!0,Na.mac?o.ctrl=!0:o.shift=!0),o.meta&&(Na.mac?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o},x0=function(){function e(r){this.shortcuts={},this.pendingPatterns=[],this.editor=r;var o=this;r.on("keyup keypress keydown",function(u){(o.hasModifier(u)||o.isFunctionKey(u))&&!u.isDefaultPrevented()&&(C0(o.shortcuts,function(l){if(o.matchShortcut(u,l))return o.pendingPatterns=l.subpatterns.slice(0),u.type==="keydown"&&o.executeShortcutAction(l),!0}),o.matchShortcut(u,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&u.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}return e.prototype.add=function(r,o,u,l){var c=this,b=c.normalizeCommandFunc(u);return C0(S0(ar.trim(r)),function(S){var E=c.createShortcut(S,o,b,l);c.shortcuts[E.id]=E}),!0},e.prototype.remove=function(r){var o=this.createShortcut(r);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1},e.prototype.normalizeCommandFunc=function(r){var o=this,u=r;return typeof u=="string"?function(){o.editor.execCommand(u,!1,null)}:ar.isArray(u)?function(){o.editor.execCommand(u[0],u[1],u[2])}:u},e.prototype.createShortcut=function(r,o,u,l){var c=ar.map(S0(r,">"),vH);return c[c.length-1]=ar.extend(c[c.length-1],{func:u,scope:l||this.editor}),ar.extend(c[0],{desc:this.editor.translate(o),subpatterns:c.slice(1)})},e.prototype.hasModifier=function(r){return r.altKey||r.ctrlKey||r.metaKey},e.prototype.isFunctionKey=function(r){return r.type==="keydown"&&r.keyCode>=112&&r.keyCode<=123},e.prototype.matchShortcut=function(r,o){return!o||o.ctrl!==r.ctrlKey||o.meta!==r.metaKey||o.alt!==r.altKey||o.shift!==r.shiftKey?!1:r.keyCode===o.keyCode||r.charCode&&r.charCode===o.charCode?(r.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(r){return r.func?r.func.call(r.scope):null},e}(),mH=function(){var e={},r={},o={},u={},l={},c={},b={},S=function(rt,bt){return function(Ct,kt){return rt[Ct.toLowerCase()]=ga(ga({},kt),{type:bt})}},E=function(rt,bt){return u[rt.toLowerCase()]=bt};return{addButton:S(e,"button"),addGroupToolbarButton:S(e,"grouptoolbarbutton"),addToggleButton:S(e,"togglebutton"),addMenuButton:S(e,"menubutton"),addSplitButton:S(e,"splitbutton"),addMenuItem:S(r,"menuitem"),addNestedMenuItem:S(r,"nestedmenuitem"),addToggleMenuItem:S(r,"togglemenuitem"),addAutocompleter:S(o,"autocompleter"),addContextMenu:S(l,"contextmenu"),addContextToolbar:S(c,"contexttoolbar"),addContextForm:S(c,"contextform"),addSidebar:S(b,"sidebar"),addIcon:E,getAll:function(){return{buttons:e,menuItems:r,icons:u,popups:o,contextMenus:l,contextToolbars:c,sidebars:b}}}},UE=function(){var e=mH();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},km=Li.DOM,bN=ar.extend,pH=ar.each,jE=ar.resolve,hH=Na.ie,E0=function(){function e(r,o,u){var l=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=u,this.documentBaseUrl=u.documentBaseURL,bN(this,mN),this.settings=gO(this,r,this.documentBaseUrl,u.defaultSettings,o),this.settings.suffix&&(u.suffix=this.settings.suffix),this.suffix=u.suffix,this.settings.base_url&&u._setBaseUrl(this.settings.base_url),this.baseUri=u.baseURI,this.settings.referrer_policy&&(md.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Li.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),il.languageLoad=this.settings.language_load,il.baseURL=u.baseURL,this.id=r,this.setDirty(!1),this.documentBaseURI=new vv(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new x0(this),this.editorCommands=new iN(this),this.settings.cache_suffix&&(Na.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:UE(),styleSheetLoader:void 0,show:vt,hide:vt,enable:vt,disable:vt,isDisabled:cn};var c=this,b=fH(c);this.mode=b,this.setMode=b.set,u.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=po.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}return e.prototype.render=function(){I5(this)},e.prototype.focus=function(r){this.execCommand("mceFocus",!1,r)},e.prototype.hasFocus=function(){return ed(this)},e.prototype.execCallback=function(r){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];var l=this,c=l.settings[r],b;if(c)return l.callbackLookup&&(b=l.callbackLookup[r])&&(c=b.func,b=b.scope),typeof c=="string"&&(b=c.replace(/\.\w+$/,""),b=b?jE(b):0,c=jE(c),l.callbackLookup=l.callbackLookup||{},l.callbackLookup[r]={func:c,scope:b}),c.apply(b||l,o)},e.prototype.translate=function(r){return $s.translate(r)},e.prototype.getParam=function(r,o,u){return CI(this,r,o,u)},e.prototype.hasPlugin=function(r,o){var u=Zt(eC(this).split(/[ ,]/),r);return u?o?kf.get(r)!==void 0:!0:!1},e.prototype.nodeChanged=function(r){this._nodeChangeDispatcher.nodeChanged(r)},e.prototype.addCommand=function(r,o,u){this.editorCommands.addCommand(r,o,u)},e.prototype.addQueryStateHandler=function(r,o,u){this.editorCommands.addQueryStateHandler(r,o,u)},e.prototype.addQueryValueHandler=function(r,o,u){this.editorCommands.addQueryValueHandler(r,o,u)},e.prototype.addShortcut=function(r,o,u,l){this.shortcuts.add(r,o,u,l)},e.prototype.execCommand=function(r,o,u,l){return this.editorCommands.execCommand(r,o,u,l)},e.prototype.queryCommandState=function(r){return this.editorCommands.queryCommandState(r)},e.prototype.queryCommandValue=function(r){return this.editorCommands.queryCommandValue(r)},e.prototype.queryCommandSupported=function(r){return this.editorCommands.queryCommandSupported(r)},e.prototype.show=function(){var r=this;r.hidden&&(r.hidden=!1,r.inline?r.getBody().contentEditable="true":(km.show(r.getContainer()),km.hide(r.id)),r.load(),r.fire("show"))},e.prototype.hide=function(){var r=this,o=r.getDoc();r.hidden||(hH&&o&&!r.inline&&o.execCommand("SelectAll"),r.save(),r.inline?(r.getBody().contentEditable="false",r===r.editorManager.focusedEditor&&(r.editorManager.focusedEditor=null)):(km.hide(r.getContainer()),km.setStyle(r.id,"display",r.orgDisplay)),r.hidden=!0,r.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(r,o){this.fire("ProgressState",{state:r,time:o})},e.prototype.load=function(r){var o=this,u=o.getElement(),l;if(o.removed)return"";if(u){r=r||{},r.load=!0;var c=mu(u)?u.value:u.innerHTML;return l=o.setContent(c,r),r.element=u,r.no_events||o.fire("LoadContent",r),r.element=u=null,l}},e.prototype.save=function(r){var o=this,u=o.getElement(),l,c;if(!(!u||!o.initialized||o.removed))return r=r||{},r.save=!0,r.element=u,l=r.content=o.getContent(r),r.no_events||o.fire("SaveContent",r),r.format==="raw"&&o.fire("RawSaveContent",r),l=r.content,mu(u)?u.value=l:((r.is_removing||!o.inline)&&(u.innerHTML=l),(c=km.getParent(o.id,"form"))&&pH(c.elements,function(b){if(b.name===o.id)return b.value=l,!1})),r.element=u=null,r.set_dirty!==!1&&o.setDirty(!1),l},e.prototype.setContent=function(r,o){return wy(this,r,o)},e.prototype.getContent=function(r){return yy(this,r)},e.prototype.insertContent=function(r,o){o&&(r=bN({content:r},o)),this.execCommand("mceInsertContent",!1,r)},e.prototype.resetContent=function(r){r===void 0?wy(this,this.startContent,{format:"raw"}):wy(this,r),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(r){var o=!this.isNotDirty;this.isNotDirty=!r,r&&r!==o&&this.fire("dirty")},e.prototype.getContainer=function(){var r=this;return r.container||(r.container=km.get(r.editorContainer||r.id+"_parent")),r.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=km.get(this.id)),this.targetElm},e.prototype.getWin=function(){var r=this,o;return r.contentWindow||(o=r.iframeElement,o&&(r.contentWindow=o.contentWindow)),r.contentWindow},e.prototype.getDoc=function(){var r=this,o;return r.contentDocument||(o=r.getWin(),o&&(r.contentDocument=o.document)),r.contentDocument},e.prototype.getBody=function(){var r=this.getDoc();return this.bodyElement||(r?r.body:null)},e.prototype.convertURL=function(r,o,u){var l=this,c=l.settings;return c.urlconverter_callback?l.execCallback("urlconverter_callback",r,u,!0,o):!c.convert_urls||u&&u.nodeName==="LINK"||r.indexOf("file:")===0||r.length===0?r:c.relative_urls?l.documentBaseURI.toRelative(r):(r=l.documentBaseURI.toAbsolute(r,c.remove_script_host),r)},e.prototype.addVisual=function(r){F5(this,r)},e.prototype.remove=function(){aI(this)},e.prototype.destroy=function(r){iO(this,r)},e.prototype.uploadImages=function(r){return this.editorUpload.uploadImages(r)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Vc=Li.DOM,gH=ar.explode,od=ar.each,dl=ar.extend,Tm=0,yN=!1,k0,Tv=[],vl=[],bH=function(e){return e!=="length"},wN=function(e){var r=e.type;od(Av.get(),function(o){switch(r){case"scroll":o.fire("ScrollWindow",e);break;case"resize":o.fire("ResizeWindow",e);break}})},WE=function(e){e!==yN&&(e?po(window).on("resize scroll",wN):po(window).off("resize scroll",wN),yN=e)},Am=function(e){var r=vl;delete Tv[e.id];for(var o=0;o<Tv.length;o++)if(Tv[o]===e){Tv.splice(o,1);break}return vl=Jt(vl,function(u){return e!==u}),Av.activeEditor===e&&(Av.activeEditor=vl.length>0?vl[0]:null),Av.focusedEditor===e&&(Av.focusedEditor=null),r.length!==vl.length},yH=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(Am(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},wH=document.compatMode!=="CSS1Compat",Av=ga(ga({},b0),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:po,majorVersion:"5",minorVersion:"10.9",releaseDate:"2023-11-15",editors:Tv,i18n:$s,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,r,o,u="";o=vv.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/"));var l=window.tinymce||window.tinyMCEPreInit;if(l)r=l.base||l.baseURL,u=l.suffix;else{for(var c=document.getElementsByTagName("script"),b=0;b<c.length;b++){var S=c[b].src||"";if(S!==""){var E=S.substring(S.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(S)){E.indexOf(".min")!==-1&&(u=".min"),r=S.substring(0,S.lastIndexOf("/"));break}}}if(!r&&document.currentScript){var S=document.currentScript.src;S.indexOf(".min")!==-1&&(u=".min"),r=S.substring(0,S.lastIndexOf("/"))}}e.baseURL=new vv(o).toAbsolute(r),e.documentBaseURL=o,e.baseURI=new vv(e.baseURL),e.suffix=u,FT(e)},overrideDefaults:function(e){var r=e.base_url;r&&this._setBaseUrl(r);var o=e.suffix;e.suffix&&(this.suffix=o),this.defaultSettings=e;var u=e.plugin_base_urls;u!==void 0&&Mr(u,function(l,c){il.PluginManager.urls[c]=l})},init:function(e){var r=this,o,u=ar.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=function(Ct,kt){return Ct.inline&&kt.tagName.toLowerCase()in u},c=function(Ct){var kt=Ct.id;return kt||(kt=Ka(Ct,"name").filter(function(Ut){return!Vc.get(Ut)}).getOrThunk(Vc.uniqueId),Ct.setAttribute("id",kt)),kt},b=function(Ct){var kt=e[Ct];if(kt)return kt.apply(r,[])},S=function(Ct,kt){return kt.constructor===RegExp?kt.test(Ct.className):Vc.hasClass(Ct,kt)},E=function(Ct){var kt=[];if(Na.browser.isIE()&&Na.browser.version.major<11)return _y("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(wH)return _y("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(Ct.types)return od(Ct.types,function(Kt){kt=kt.concat(Vc.select(Kt.selector))}),kt;if(Ct.selector)return Vc.select(Ct.selector);if(Ct.target)return[Ct.target];switch(Ct.mode){case"exact":var Ut=Ct.elements||"";Ut.length>0&&od(gH(Ut),function(Kt){var Yt=Vc.get(Kt);Yt?kt.push(Yt):od(document.forms,function(Qt){od(Qt.elements,function(pn){pn.name===Kt&&(Kt="mce_editor_"+Tm++,Vc.setAttrib(pn,"id",Kt),kt.push(pn))})})});break;case"textareas":case"specific_textareas":od(Vc.select("textarea"),function(Kt){Ct.editor_deselector&&S(Kt,Ct.editor_deselector)||(!Ct.editor_selector||S(Kt,Ct.editor_selector))&&kt.push(Kt)});break}return kt},rt=function(Ct){o=Ct},bt=function(){var Ct=0,kt=[],Ut,Kt=function(Yt,Qt,pn){var sn=new E0(Yt,Qt,r);kt.push(sn),sn.on("init",function(){++Ct===Ut.length&&rt(kt)}),sn.targetElm=sn.targetElm||pn,sn.render()};if(Vc.unbind(window,"ready",bt),b("onpageload"),Ut=po.unique(E(e)),e.types){od(e.types,function(Yt){ar.each(Ut,function(Qt){return Vc.is(Qt,Yt.selector)?(Kt(c(Qt),dl({},e,Yt),Qt),!1):!0})});return}ar.each(Ut,function(Yt){yH(r.get(Yt.id))}),Ut=ar.grep(Ut,function(Yt){return!r.get(Yt.id)}),Ut.length===0?rt([]):od(Ut,function(Yt){l(e,Yt)?_y("Could not initialize inline editor on invalid inline target element",Yt):Kt(c(Yt),e,Yt)})};return r.settings=e,Vc.bind(window,"ready",bt),new Yu(function(Ct){o?Ct(o):rt=function(kt){Ct(kt)}})},get:function(e){return arguments.length===0?vl.slice(0):Ye(e)?Br(vl,function(r){return r.id===e}).getOr(null):mt(e)&&vl[e]?vl[e]:null},add:function(e){var r=this,o=Tv[e.id];return o===e||(r.get(e.id)===null&&(bH(e.id)&&(Tv[e.id]=e),Tv.push(e),vl.push(e)),WE(!0),r.activeEditor=e,r.fire("AddEditor",{editor:e}),k0||(k0=function(u){var l=r.fire("BeforeUnload");if(l.returnValue)return u.preventDefault(),u.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",k0))),e},createEditor:function(e,r){return this.add(new E0(e,r,this))},remove:function(e){var r=this,o,u;if(!e){for(o=vl.length-1;o>=0;o--)r.remove(vl[o]);return}if(Ye(e)){od(Vc.select(e),function(l){u=r.get(l.id),u&&r.remove(u)});return}return u=e,qe(r.get(u.id))?null:(Am(u)&&r.fire("RemoveEditor",{editor:u}),vl.length===0&&window.removeEventListener("beforeunload",k0),u.remove(),WE(vl.length>0),u)},execCommand:function(e,r,o){var u=this,l=u.get(o);switch(e){case"mceAddEditor":return u.get(o)||new E0(o,u.settings,u).render(),!0;case"mceRemoveEditor":return l&&l.remove(),!0;case"mceToggleEditor":return l?(l.isHidden()?l.show():l.hide(),!0):(u.execCommand("mceAddEditor",!1,o),!0)}return u.activeEditor?u.activeEditor.execCommand(e,r,o):!1},triggerSave:function(){od(vl,function(e){e.save()})},addI18n:function(e,r){$s.add(e,r)},translate:function(e){return $s.translate(e)},setActive:function(e){var r=this.activeEditor;this.activeEditor!==e&&(r&&r.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:r})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new vv(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new vv(this.baseURL)}});Av.setup();var Uc=Math.min,yh=Math.max,T0=Math.round,qE=function(e,r,o){var u=r.x,l=r.y,c=e.w,b=e.h,S=r.w,E=r.h,rt=(o||"").split("");return rt[0]==="b"&&(l+=E),rt[1]==="r"&&(u+=S),rt[0]==="c"&&(l+=T0(E/2)),rt[1]==="c"&&(u+=T0(S/2)),rt[3]==="b"&&(l-=b),rt[4]==="r"&&(u-=c),rt[3]==="c"&&(l-=T0(b/2)),rt[4]==="c"&&(u-=T0(c/2)),wh(u,l,c,b)},CH=function(e,r,o,u){var l,c;for(c=0;c<u.length;c++)if(l=qE(e,r,u[c]),l.x>=o.x&&l.x+l.w<=o.w+o.x&&l.y>=o.y&&l.y+l.h<=o.h+o.y)return u[c];return null},CN=function(e,r,o){return wh(e.x-r,e.y-o,e.w+r*2,e.h+o*2)},SN=function(e,r){var o=yh(e.x,r.x),u=yh(e.y,r.y),l=Uc(e.x+e.w,r.x+r.w),c=Uc(e.y+e.h,r.y+r.h);return l-o<0||c-u<0?null:wh(o,u,l-o,c-u)},KE=function(e,r,o){var u=e.x,l=e.y,c=e.x+e.w,b=e.y+e.h,S=r.x+r.w,E=r.y+r.h,rt=yh(0,r.x-u),bt=yh(0,r.y-l),Ct=yh(0,c-S),kt=yh(0,b-E);return u+=rt,l+=bt,o&&(c+=rt,b+=bt,u-=Ct,l-=kt),c-=Ct,b-=kt,wh(u,l,c-u,b-l)},wh=function(e,r,o,u){return{x:e,y:r,w:o,h:u}},SH=function(e){return wh(e.left,e.top,e.width,e.height)},xH={inflate:CN,relativePosition:qE,findBestRelativePosition:CH,intersect:SN,clamp:KE,create:wh,fromClientRect:SH},EH=function(e,r,o){o===void 0&&(o=1e3);var u=!1,l=null,c=function(rt){return function(){for(var bt=[],Ct=0;Ct<arguments.length;Ct++)bt[Ct]=arguments[Ct];u||(u=!0,l!==null&&(clearTimeout(l),l=null),rt.apply(null,bt))}},b=c(e),S=c(r),E=function(){for(var rt=[],bt=0;bt<arguments.length;bt++)rt[bt]=arguments[bt];!u&&l===null&&(l=setTimeout(function(){return S.apply(null,rt)},o))};return{start:E,resolve:b,reject:S}},kH=function(){var e={},r={},o=function(l,c){var b='Script at URL "'+c+'" failed to load',S='Script at URL "'+c+"\" did not call `tinymce.Resource.add('"+l+"', data)` within 1 second";if(e[l]!==void 0)return e[l];var E=new Yu(function(rt,bt){var Ct=EH(rt,bt);r[l]=Ct.resolve,md.ScriptLoader.loadScript(c,function(){return Ct.start(S)},function(){return Ct.reject(b)})});return e[l]=E,E},u=function(l,c){r[l]!==void 0&&(r[l](c),delete r[l]),e[l]=Yu.resolve(c)};return{load:o,add:u}},xN=kH(),eb=ar.each,TH=ar.extend,YE,GE,EN=function(){};EN.extend=YE=function(e){var r=this,o=r.prototype,u=function(){var S,E,rt,bt=this;if(!GE&&(bt.init&&bt.init.apply(bt,arguments),E=bt.Mixins,E))for(S=E.length;S--;)rt=E[S],rt.init&&rt.init.apply(bt,arguments)},l=function(){return this},c=function(S,E){return function(){var rt=this,bt=rt._super;rt._super=o[S];var Ct=E.apply(rt,arguments);return rt._super=bt,Ct}};GE=!0;var b=new r;return GE=!1,e.Mixins&&(eb(e.Mixins,function(S){for(var E in S)E!=="init"&&(e[E]=S[E])}),o.Mixins&&(e.Mixins=o.Mixins.concat(e.Mixins))),e.Methods&&eb(e.Methods.split(","),function(S){e[S]=l}),e.Properties&&eb(e.Properties.split(","),function(S){var E="_"+S;e[S]=function(rt){var bt=this;return rt!==void 0?(bt[E]=rt,bt):bt[E]}}),e.Statics&&eb(e.Statics,function(S,E){u[E]=S}),e.Defaults&&o.Defaults&&(e.Defaults=TH({},o.Defaults,e.Defaults)),Mr(e,function(S,E){typeof S=="function"&&o[E]?b[E]=c(E,S):b[E]=S}),u.prototype=b,u.constructor=u,u.extend=YE,u};var A0=Math.min,_0=Math.max,_v=Math.round,XE=function(e){var r={},o=0,u=0,l=0,c=function(Ct,kt,Ut){var Kt,Yt,Qt;Kt=0,Yt=0,Qt=0,Ct=Ct/255,kt=kt/255,Ut=Ut/255;var pn=A0(Ct,A0(kt,Ut)),sn=_0(Ct,_0(kt,Ut));if(pn===sn)return Qt=pn,{h:0,s:0,v:Qt*100};var Fn=Ct===pn?kt-Ut:Ut===pn?Ct-kt:Ut-Ct;return Kt=Ct===pn?3:Ut===pn?1:5,Kt=60*(Kt-Fn/(sn-pn)),Yt=(sn-pn)/sn,Qt=sn,{h:_v(Kt),s:_v(Yt*100),v:_v(Qt*100)}},b=function(Ct,kt,Ut){if(Ct=(parseInt(Ct,10)||0)%360,kt=parseInt(kt,10)/100,Ut=parseInt(Ut,10)/100,kt=_0(0,A0(kt,1)),Ut=_0(0,A0(Ut,1)),kt===0){o=u=l=_v(255*Ut);return}var Kt=Ct/60,Yt=Ut*kt,Qt=Yt*(1-Math.abs(Kt%2-1)),pn=Ut-Yt;switch(Math.floor(Kt)){case 0:o=Yt,u=Qt,l=0;break;case 1:o=Qt,u=Yt,l=0;break;case 2:o=0,u=Yt,l=Qt;break;case 3:o=0,u=Qt,l=Yt;break;case 4:o=Qt,u=0,l=Yt;break;case 5:o=Yt,u=0,l=Qt;break;default:o=u=l=0}o=_v(255*(o+pn)),u=_v(255*(u+pn)),l=_v(255*(l+pn))},S=function(){var Ct=function(kt){return kt=parseInt(kt,10).toString(16),kt.length>1?kt:"0"+kt};return"#"+Ct(o)+Ct(u)+Ct(l)},E=function(){return{r:o,g:u,b:l}},rt=function(){return c(o,u,l)},bt=function(Ct){var kt;return typeof Ct=="object"?"r"in Ct?(o=Ct.r,u=Ct.g,l=Ct.b):"v"in Ct&&b(Ct.h,Ct.s,Ct.v):(kt=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(Ct))?(o=parseInt(kt[1],10),u=parseInt(kt[2],10),l=parseInt(kt[3],10)):(kt=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(Ct))?(o=parseInt(kt[1],16),u=parseInt(kt[2],16),l=parseInt(kt[3],16)):(kt=/#([0-F])([0-F])([0-F])/gi.exec(Ct))&&(o=parseInt(kt[1]+kt[1],16),u=parseInt(kt[2]+kt[2],16),l=parseInt(kt[3]+kt[3],16)),o=o<0?0:o>255?255:o,u=u<0?0:u>255?255:u,l=l<0?0:l>255?255:l,r};return e&&bt(e),r.toRgb=E,r.toHsv=rt,r.toHex=S,r.parse=bt,r},kN=function(e){var r=JSON.stringify(e);return Ye(r)?r.replace(/[\u0080-\uFFFF]/g,function(o){var u=o.charCodeAt(0).toString(16);return"\\u"+"0000".substring(u.length)+u}):r},QE={serialize:kN,parse:function(e){try{return JSON.parse(e)}catch(r){}}},AH={callbacks:{},count:0,send:function(e){var r=this,o=Li.DOM,u=e.count!==void 0?e.count:r.count,l="tinymce_jsonp_"+u;r.callbacks[u]=function(c){o.remove(l),delete r.callbacks[u],e.callback(c)},o.add(o.doc.body,"script",{id:l,src:e.url,type:"text/javascript"}),r.count++}},Ch=ga(ga({},b0),{send:function(e){var r,o=0,u=function(){!e.async||r.readyState===4||o++>1e4?(e.success&&o<1e4&&r.status===200?e.success.call(e.success_scope,""+r.responseText,r,e):e.error&&e.error.call(e.error_scope,o>1e4?"TIMED_OUT":"GENERAL",r,e),r=null):vs.setTimeout(u,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",Ch.fire("beforeInitialize",{settings:e}),r=new XMLHttpRequest,r.overrideMimeType&&r.overrideMimeType(e.content_type),r.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(r.withCredentials=!0),e.content_type&&r.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&ar.each(e.requestheaders,function(l){r.setRequestHeader(l.key,l.value)}),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=Ch.fire("beforeSend",{xhr:r,settings:e}).xhr,r.send(e.data),!e.async)return u();vs.setTimeout(u,10)}}),JE=ar.extend,_H=function(){function e(r){this.settings=JE({},r),this.count=0}return e.sendRPC=function(r){return new e().send(r)},e.prototype.send=function(r){var o=r.error,u=r.success,l=JE(this.settings,r);l.success=function(c,b){c=QE.parse(c),typeof c=="undefined"&&(c={error:"JSON Parse error."}),c.error?o.call(l.error_scope||l.scope,c.error,b):u.call(l.success_scope||l.scope,c.result)},l.error=function(c,b){o&&o.call(l.error_scope||l.scope,c,b)},l.data=QE.serialize({id:r.id||"c"+this.count++,method:r.method,params:r.params}),l.content_type="application/json",Ch.send(l)},e}(),OH=function(){return function(){var e={},r=[],o={getItem:function(u){var l=e[u];return l||null},setItem:function(u,l){r.push(u),e[u]=String(l)},key:function(u){return r[u]},removeItem:function(u){r=r.filter(function(l){return l===u}),delete e[u]},clear:function(){r=[],e={}},length:0};return Object.defineProperty(o,"length",{get:function(){return r.length},configurable:!1,enumerable:!1}),o}()},tb;try{var ZE="__storage_test__";tb=window.localStorage,tb.setItem(ZE,ZE),tb.removeItem(ZE)}catch(e){tb=OH()}var MH=tb,DH={geom:{Rect:xH},util:{Promise:Yu,Delay:vs,Tools:ar,VK:qa,URI:vv,Class:EN,EventDispatcher:g0,Observable:b0,I18n:$s,XHR:Ch,JSON:QE,JSONRequest:_H,JSONP:AH,LocalStorage:MH,Color:XE,ImageUploader:PI},dom:{EventUtils:np,Sizzle:yi,DomQuery:po,TreeWalker:bi,TextSeeker:Lw,DOMUtils:Li,ScriptLoader:md,RangeUtils:ug,Serializer:gx,StyleSheetLoader:p2,ControlSelection:RC,BookmarkManager:rm,Selection:Xp,Event:np.Event},html:{Styles:Hh,Entities:rf,Node:hc,Schema:Ul,SaxParser:vx,DomParser:by,Writer:tS,Serializer:im},Env:Na,AddOnManager:il,Annotator:uT,Formatter:qi,UndoManager:PO,EditorCommands:iN,WindowManager:Cx,NotificationManager:EO,EditorObservable:mN,Shortcuts:x0,Editor:E0,FocusManager:MT,EditorManager:Av,DOM:Li.DOM,ScriptLoader:md.ScriptLoader,PluginManager:kf,ThemeManager:mv,IconManager:Ty,Resource:xN,trim:ar.trim,isArray:ar.isArray,is:ar.is,toArray:ar.toArray,makeMap:ar.makeMap,each:ar.each,map:ar.map,grep:ar.grep,inArray:ar.inArray,extend:ar.extend,create:ar.create,walk:ar.walk,createNS:ar.createNS,resolve:ar.resolve,explode:ar.explode,_addCacheSuffix:ar._addCacheSuffix,isOpera:Na.opera,isWebKit:Na.webkit,isIE:Na.ie,isGecko:Na.gecko,isMac:Na.mac},TN=ar.extend(Av,DH),NH=function(e){try{g.exports=e}catch(r){}},RH=function(e){window.tinymce=e,window.tinyMCE=e};RH(TN),NH(TN)})()})(tinymce$2);var tinymceExports=tinymce$2.exports;const tinymce$1=getDefaultExportFromCjs(tinymceExports);(function(){var g=function(n){var a=typeof n;return n===null?"null":a==="object"&&(Array.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="Array")?"array":a==="object"&&(String.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="String")?"string":a},w=function(n){return function(a){return g(a)===n}},C=function(n){return function(a){return typeof a===n}},x=function(n){return function(a){return n===a}},He=w("string"),Ge=w("object"),Xe=w("array"),ze=x(null),We=C("boolean"),at=x(void 0),nt=function(n){return n==null},A=function(n){return!nt(n)},Te=C("function"),et=C("number"),Qe=function(n,a){if(Xe(n)){for(var i=0,s=n.length;i<s;++i)if(!a(n[i]))return!1;return!0}return!1},$e=function(){},Ye=function(n){return function(){return n()}},ut=function(n,a){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n(a.apply(null,i))}},ct=function(n,a){return function(i){return n(a(i))}},qe=function(n){return function(){return n}},lt=function(n){return n},Ue=function(n,a){return n===a};function pt(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var m=a.concat(s);return n.apply(null,m)}}var It=function(n){return function(a){return!n(a)}},Tt=function(n){return function(){throw new Error(n)}},mt=qe(!1),vt=qe(!0),Et=tinymce.util.Tools.resolve("tinymce.ThemeManager"),st=function(){return st=Object.assign||function(a){for(var i,s=1,f=arguments.length;s<f;s++){i=arguments[s];for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&(a[m]=i[m])}return a},st.apply(this,arguments)};function At(n,a){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&a.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,s=Object.getOwnPropertySymbols(n);f<s.length;f++)a.indexOf(s[f])<0&&Object.prototype.propertyIsEnumerable.call(n,s[f])&&(i[s[f]]=n[s[f]]);return i}function nn(n,a,i){if(i||arguments.length===2)for(var s=0,f=a.length,m;s<f;s++)(m||!(s in a))&&(m||(m=Array.prototype.slice.call(a,0,s)),m[s]=a[s]);return n.concat(m||Array.prototype.slice.call(a))}var wn=function(){return Ht},Ht=function(){var n=function(s){return s()},a=lt,i={fold:function(s,f){return s()},isSome:mt,isNone:vt,getOr:a,getOrThunk:n,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:qe(null),getOrUndefined:qe(void 0),or:a,orThunk:n,map:wn,each:$e,bind:wn,exists:mt,forall:vt,filter:function(){return wn()},toArray:function(){return[]},toString:qe("none()")};return i}(),Sn=function(n){var a=qe(n),i=function(){return f},s=function(m){return m(n)},f={fold:function(m,y){return y(n)},isSome:vt,isNone:mt,getOr:a,getOrThunk:a,getOrDie:a,getOrNull:a,getOrUndefined:a,or:i,orThunk:i,map:function(m){return Sn(m(n))},each:function(m){m(n)},bind:s,exists:s,forall:s,filter:function(m){return m(n)?f:Ht},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return f},lr=function(n){return n==null?Ht:Sn(n)},Ve={some:Sn,none:wn,from:lr},jt=Array.prototype.slice,cn=Array.prototype.indexOf,yt=Array.prototype.push,Mt=function(n,a){return cn.call(n,a)},Lt=function(n,a){var i=Mt(n,a);return i===-1?Ve.none():Ve.some(i)},qt=function(n,a){return Mt(n,a)>-1},an=function(n,a){for(var i=0,s=n.length;i<s;i++){var f=n[i];if(a(f,i))return!0}return!1},ot=function(n,a){for(var i=[],s=0;s<n;s++)i.push(a(s));return i},En=function(n,a){for(var i=[],s=0;s<n.length;s+=a){var f=jt.call(n,s,s+a);i.push(f)}return i},Pt=function(n,a){for(var i=n.length,s=new Array(i),f=0;f<i;f++){var m=n[f];s[f]=a(m,f)}return s},xt=function(n,a){for(var i=0,s=n.length;i<s;i++){var f=n[i];a(f,i)}},vn=function(n,a){for(var i=n.length-1;i>=0;i--){var s=n[i];a(s,i)}},Ot=function(n,a){for(var i=[],s=[],f=0,m=n.length;f<m;f++){var y=n[f],O=a(y,f)?i:s;O.push(y)}return{pass:i,fail:s}},Zt=function(n,a){for(var i=[],s=0,f=n.length;s<f;s++){var m=n[s];a(m,s)&&i.push(m)}return i},mn=function(n,a,i){return vn(n,function(s,f){i=a(i,s,f)}),i},ln=function(n,a,i){return xt(n,function(s,f){i=a(i,s,f)}),i},Ft=function(n,a,i){for(var s=0,f=n.length;s<f;s++){var m=n[s];if(a(m,s))return Ve.some(m);if(i(m,s))break}return Ve.none()},bn=function(n,a){return Ft(n,a,mt)},Kn=function(n,a){for(var i=0,s=n.length;i<s;i++){var f=n[i];if(a(f,i))return Ve.some(i)}return Ve.none()},Jt=function(n){for(var a=[],i=0,s=n.length;i<s;++i){if(!Xe(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);yt.apply(a,n[i])}return a},Rn=function(n,a){return Jt(Pt(n,a))},rr=function(n,a){for(var i=0,s=n.length;i<s;++i){var f=n[i];if(a(f,i)!==!0)return!1}return!0},Vn=function(n){var a=jt.call(n,0);return a.reverse(),a},Br=function(n,a){return Zt(n,function(i){return!qt(a,i)})},la=function(n,a){for(var i={},s=0,f=n.length;s<f;s++){var m=n[s];i[String(m)]=a(m,s)}return i},fa=function(n){return[n]},co=function(n,a){var i=jt.call(n,0);return i.sort(a),i},Eo=function(n,a){return a>=0&&a<n.length?Ve.some(n[a]):Ve.none()},hr=function(n){return Eo(n,0)},yr=function(n){return Eo(n,n.length-1)},mr=Te(Array.from)?Array.from:function(n){return jt.call(n)},Pn=function(n,a){for(var i=0;i<n.length;i++){var s=a(n[i],i);if(s.isSome())return s}return Ve.none()},zn=Object.keys,kr=Object.hasOwnProperty,$r=function(n,a){for(var i=zn(n),s=0,f=i.length;s<f;s++){var m=i[s],y=n[m];a(y,m)}},Cr=function(n,a){return Nn(n,function(i,s){return{k:s,v:a(i,s)}})},Nn=function(n,a){var i={};return $r(n,function(s,f){var m=a(s,f);i[m.k]=m.v}),i},ir=function(n){return function(a,i){n[i]=a}},Ur=function(n,a,i,s){var f={};return $r(n,function(m,y){(a(m,y)?i:s)(m,y)}),f},Mr=function(n,a){var i={};return Ur(n,a,ir(i),$e),i},jr=function(n,a){var i=[];return $r(n,function(s,f){i.push(a(s,f))}),i},hn=function(n,a){for(var i=zn(n),s=0,f=i.length;s<f;s++){var m=i[s],y=n[m];if(a(y,m,n))return Ve.some(y)}return Ve.none()},Qn=function(n){return jr(n,lt)},jn=function(n,a){return gr(n,a)?Ve.from(n[a]):Ve.none()},gr=function(n,a){return kr.call(n,a)},sa=function(n,a){return gr(n,a)&&n[a]!==void 0&&n[a]!==null},Va=function(n,a,i){return i===void 0&&(i=Ue),n.exists(function(s){return i(s,a)})},_o=function(n,a,i){return i===void 0&&(i=Ue),ni(n,a,i).getOr(n.isNone()&&a.isNone())},Ka=function(n){for(var a=[],i=function(f){a.push(f)},s=0;s<n.length;s++)n[s].each(i);return a},Ya=function(n){for(var a=[],i=0;i<n.length;i++){var s=n[i];if(s.isSome())a.push(s.getOrDie());else return Ve.none()}return Ve.some(a)},ni=function(n,a,i){return n.isSome()&&a.isSome()?Ve.some(i(n.getOrDie(),a.getOrDie())):Ve.none()},Zi=function(n,a,i,s){return n.isSome()&&a.isSome()&&i.isSome()?Ve.some(s(n.getOrDie(),a.getOrDie(),i.getOrDie())):Ve.none()},wo=function(n,a){return n!=null?Ve.some(a(n)):Ve.none()},mi=function(n,a){return n?Ve.some(a):Ve.none()},ii=function(n,a){return n+a},ou=function(n,a){return n.substring(a)},pi=function(n,a,i){return a===""||n.length>=a.length&&n.substr(i,i+a.length)===a},wi=function(n,a){return Hi(n,a)?ou(n,a.length):n},$i=function(n,a){return ga(n,a)?n:ii(n,a)},fo=function(n,a){return n.indexOf(a)!==-1},Hi=function(n,a){return pi(n,a,0)},ga=function(n,a){return pi(n,a,n.length-a.length)},Iu=function(n){return function(a){return a.replace(n,"")}},Po=Iu(/^\s+|\s+$/g),eu=function(n){return n.length>0},Fu=function(n){return!eu(n)},iu=function(n){return n.style!==void 0&&Te(n.style.getPropertyValue)},Su=function(n,a){var i=a||document,s=i.createElement("div");if(s.innerHTML=n,!s.hasChildNodes()||s.childNodes.length>1)throw new Error("HTML must have a single root node");return Gt(s.childNodes[0])},ju=function(n,a){var i=a||document,s=i.createElement(n);return Gt(s)},ks=function(n,a){var i=a||document,s=i.createTextNode(n);return Gt(s)},Gt=function(n){if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},Mn=function(n,a,i){return Ve.from(n.dom.elementFromPoint(a,i)).map(Gt)},on={fromHtml:Su,fromTag:ju,fromText:ks,fromDom:Gt,fromPoint:Mn};typeof window!="undefined"||Function("return this;")();var Wn=9,zr=11,oa=1,Xt=3,dn=function(n){var a=n.dom.nodeName;return a.toLowerCase()},Yn=function(n){return n.dom.nodeType},sr=function(n){return function(a){return Yn(a)===n}},ht=sr(oa),$t=sr(Xt),fn=sr(Wn),Tn=sr(zr),Hn=function(n){var a=!1,i;return function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];return a||(a=!0,i=n.apply(null,s)),i}},Un=function(n,a,i,s){var f=n.isiOS()&&/ipad/i.test(i)===!0,m=n.isiOS()&&!f,y=n.isiOS()||n.isAndroid(),O=y||s("(pointer:coarse)"),De=f||!m&&y&&s("(min-device-width:768px)"),Je=m||y&&!De,it=a.isSafari()&&n.isiOS()&&/safari/i.test(i)===!1,dt=!Je&&!De&&!it;return{isiPad:qe(f),isiPhone:qe(m),isTablet:qe(De),isPhone:qe(Je),isTouch:qe(O),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:qe(it),isDesktop:qe(dt)}},Fr=function(n,a){for(var i=0;i<n.length;i++){var s=n[i];if(s.test(a))return s}},ea=function(n,a){var i=Fr(n,a);if(!i)return{major:0,minor:0};var s=function(f){return Number(a.replace(i,"$"+f))};return za(s(1),s(2))},Oa=function(n,a){var i=String(a).toLowerCase();return n.length===0?Ha():ea(n,i)},Ha=function(){return za(0,0)},za=function(n,a){return{major:n,minor:a}},Qa={nu:za,detect:Oa,unknown:Ha},Do=function(n,a){return Pn(a.brands,function(i){var s=i.brand.toLowerCase();return bn(n,function(f){var m;return s===((m=f.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(function(f){return{current:f.name,version:Qa.nu(parseInt(i.version,10),0)}})})},si=function(n,a){var i=String(a).toLowerCase();return bn(n,function(s){return s.search(i)})},du=function(n,a){return si(n,a).map(function(i){var s=Qa.detect(i.versionRegexes,a);return{current:i.name,version:s}})},ls=function(n,a){return si(n,a).map(function(i){var s=Qa.detect(i.versionRegexes,a);return{current:i.name,version:s}})},Wu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ci=function(n){return function(a){return fo(a,n)}},Zs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(n){return fo(n,"edge/")&&fo(n,"chrome")&&fo(n,"safari")&&fo(n,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Wu],search:function(n){return fo(n,"chrome")&&!fo(n,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(n){return fo(n,"msie")||fo(n,"trident")}},{name:"Opera",versionRegexes:[Wu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ci("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ci("firefox")},{name:"Safari",versionRegexes:[Wu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(n){return(fo(n,"safari")||fo(n,"mobile/"))&&fo(n,"applewebkit")}}],Ts=[{name:"Windows",search:Ci("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(n){return fo(n,"iphone")||fo(n,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ci("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ci("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ci("linux"),versionRegexes:[]},{name:"Solaris",search:Ci("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ci("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ci("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],go={browsers:qe(Zs),oses:qe(Ts)},Ki="Edge",el="Chrome",As="IE",ml="Opera",Ll="Firefox",Ju="Safari",Zu=function(){return Bl({current:void 0,version:Qa.unknown()})},Bl=function(n){var a=n.current,i=n.version,s=function(f){return function(){return a===f}};return{current:a,version:i,isEdge:s(Ki),isChrome:s(el),isIE:s(As),isOpera:s(ml),isFirefox:s(Ll),isSafari:s(Ju)}},tl={unknown:Zu,nu:Bl,edge:qe(Ki),chrome:qe(el),ie:qe(As),opera:qe(ml),firefox:qe(Ll),safari:qe(Ju)},pl="Windows",Rt="iOS",xn="Android",In="Linux",fr="OSX",Rr="Solaris",ba="FreeBSD",No="ChromeOS",jo=function(){return Xa({current:void 0,version:Qa.unknown()})},Xa=function(n){var a=n.current,i=n.version,s=function(f){return function(){return a===f}};return{current:a,version:i,isWindows:s(pl),isiOS:s(Rt),isAndroid:s(xn),isOSX:s(fr),isLinux:s(In),isSolaris:s(Rr),isFreeBSD:s(ba),isChromeOS:s(No)}},Go={unknown:jo,nu:Xa,windows:qe(pl),ios:qe(Rt),android:qe(xn),linux:qe(In),osx:qe(fr),solaris:qe(Rr),freebsd:qe(ba),chromeos:qe(No)},li=function(n,a,i){var s=go.browsers(),f=go.oses(),m=a.bind(function(De){return Do(s,De)}).orThunk(function(){return du(s,n)}).fold(tl.unknown,tl.nu),y=ls(f,n).fold(Go.unknown,Go.nu),O=Un(y,m,n,i);return{browser:m,os:y,deviceType:O}},Bs={detect:li},Sc=function(n){return window.matchMedia(n).matches},xc=Hn(function(){return Bs.detect(navigator.userAgent,Ve.from(navigator.userAgentData),Sc)}),Na=function(){return xc()},nl=function(n,a,i){return(n.compareDocumentPosition(a)&i)!==0},Ec=function(n,a){return nl(n,a,Node.DOCUMENT_POSITION_CONTAINED_BY)},_s=function(n,a){var i=n.dom;if(i.nodeType!==oa)return!1;var s=i;if(s.matches!==void 0)return s.matches(a);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(a);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(a);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")},kc=function(n){return n.nodeType!==oa&&n.nodeType!==Wn&&n.nodeType!==zr||n.childElementCount===0},ld=function(n,a){var i=a===void 0?document:a.dom;return kc(i)?[]:Pt(i.querySelectorAll(n),on.fromDom)},If=function(n,a){var i=a===void 0?document:a.dom;return kc(i)?Ve.none():Ve.from(i.querySelector(n)).map(on.fromDom)},Ti=function(n,a){return n.dom===a.dom},tc=function(n,a){var i=n.dom,s=a.dom;return i===s?!1:i.contains(s)},cd=function(n,a){return Ec(n.dom,a.dom)},es=function(n,a){return Na().browser.isIE()?cd(n,a):tc(n,a)},xu=function(n){return on.fromDom(n.dom.ownerDocument)},Tc=function(n){return fn(n)?n:xu(n)},ar=function(n){return on.fromDom(Tc(n).dom.documentElement)},nc=function(n){return on.fromDom(Tc(n).dom.defaultView)},tu=function(n){return Ve.from(n.dom.parentNode).map(on.fromDom)},Wc=function(n){return tu(n)},hl=function(n){return Ve.from(n.dom.offsetParent).map(on.fromDom)},rc=function(n){return Ve.from(n.dom.nextSibling).map(on.fromDom)},ft=function(n){return Pt(n.dom.childNodes,on.fromDom)},Ze=function(n,a){var i=n.dom.childNodes;return Ve.from(i[a]).map(on.fromDom)},wt=function(n){return Ze(n,0)},zt=function(n,a){return{element:n,offset:a}},gn=function(n,a){var i=ft(n);return i.length>0&&a<i.length?zt(i[a],0):zt(n,a)},qn=function(n){return Tn(n)&&A(n.dom.host)},_r=Te(Element.prototype.attachShadow)&&Te(Node.prototype.getRootNode),xa=qe(_r),Ua=_r?function(n){return on.fromDom(n.dom.getRootNode())}:Tc,Qr=function(n){return qn(n)?n:on.fromDom(Tc(n).dom.body)},wa=function(n){return ao(n).isSome()},ao=function(n){var a=Ua(n);return qn(a)?Ve.some(a):Ve.none()},bo=function(n){return on.fromDom(n.dom.host)},ja=function(n){if(xa()&&A(n.target)){var a=on.fromDom(n.target);if(ht(a)&&hi(a)&&n.composed&&n.composedPath){var i=n.composedPath();if(i)return hr(i)}}return Ve.from(n.target)},hi=function(n){return A(n.dom.shadowRoot)},Za=function(n){var a=$t(n)?n.dom.parentNode:n.dom;if(a==null||a.ownerDocument===null)return!1;var i=a.ownerDocument;return ao(on.fromDom(a)).fold(function(){return i.body.contains(a)},ct(Za,bo))},Zo=function(){return Xo(on.fromDom(document))},Xo=function(n){var a=n.dom.body;if(a==null)throw new Error("Body is not available yet");return on.fromDom(a)},qu=function(n,a,i){if(He(i)||We(i)||et(i))n.setAttribute(a,i+"");else throw new Error("Attribute value was not simple")},vo=function(n,a,i){qu(n.dom,a,i)},Md=function(n,a){var i=n.dom;$r(a,function(s,f){qu(i,f,s)})},Di=function(n,a){var i=n.dom.getAttribute(a);return i===null?void 0:i},Yi=function(n,a){return Ve.from(Di(n,a))},Im=function(n,a){var i=n.dom;return i&&i.hasAttribute?i.hasAttribute(a):!1},Eu=function(n,a){n.dom.removeAttribute(a)},Lv=function(n,a,i){if(!He(i))throw new Error("CSS value must be a string: "+i);iu(n)&&n.style.setProperty(a,i)},Dd=function(n,a){iu(n)&&n.style.removeProperty(a)},Ja=function(n,a,i){var s=n.dom;Lv(s,a,i)},ac=function(n,a){var i=n.dom;$r(a,function(s,f){Lv(i,f,s)})},Ac=function(n,a){var i=n.dom;$r(a,function(s,f){s.fold(function(){Dd(i,f)},function(m){Lv(i,f,m)})})},Vi=function(n,a){var i=n.dom,s=window.getComputedStyle(i),f=s.getPropertyValue(a);return f===""&&!Za(n)?Fm(i,a):f},Fm=function(n,a){return iu(n)?n.style.getPropertyValue(a):""},ku=function(n,a){var i=n.dom,s=Fm(i,a);return Ve.from(s).filter(function(f){return f.length>0})},qc=function(n){var a={},i=n.dom;if(iu(i))for(var s=0;s<i.style.length;s++){var f=i.style.item(s);a[f]=i.style[f]}return a},Ff=function(n,a,i){var s=on.fromTag(n);Ja(s,a,i);var f=ku(s,a);return f.isSome()},ri=function(n,a){var i=n.dom;Dd(i,a),Va(Yi(n,"style").map(Po),"")&&Eu(n,"style")},Kc=function(n){return n.dom.offsetWidth},cs=function(n,a){var i=function(O,De){if(!et(De)&&!De.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+De);var Je=O.dom;iu(Je)&&(Je.style[n]=De+"px")},s=function(O){var De=a(O);if(De<=0||De===null){var Je=Vi(O,n);return parseFloat(Je)||0}return De},f=s,m=function(O,De){return ln(De,function(Je,it){var dt=Vi(O,it),_t=dt===void 0?0:parseInt(dt,10);return isNaN(_t)?Je:Je+_t},0)},y=function(O,De,Je){var it=m(O,Je),dt=De>it?De-it:0;return dt};return{set:i,get:s,getOuter:f,aggregate:m,max:y}},Yc=cs("height",function(n){var a=n.dom;return Za(n)?a.getBoundingClientRect().height:a.offsetHeight}),uu=function(n){return Yc.get(n)},rl=function(n){return Yc.getOuter(n)},Hm=function(n,a){var i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=Yc.max(n,a,i);Ja(n,"max-height",s+"px")},Gc=function(n,a){var i=function(s,f){return Gc(n+s,a+f)};return{left:n,top:a,translate:i}},ci=Gc,Hf=function(n){var a=n.getBoundingClientRect();return ci(a.left,a.top)},Xc=function(n,a){return n!==void 0?n:a!==void 0?a:0},fs=function(n){var a=n.dom.ownerDocument,i=a.body,s=a.defaultView,f=a.documentElement;if(i===n.dom)return ci(i.offsetLeft,i.offsetTop);var m=Xc(s==null?void 0:s.pageYOffset,f.scrollTop),y=Xc(s==null?void 0:s.pageXOffset,f.scrollLeft),O=Xc(f.clientTop,i.clientTop),De=Xc(f.clientLeft,i.clientLeft);return Qc(n).translate(y-De,m-O)},Qc=function(n){var a=n.dom,i=a.ownerDocument,s=i.body;return s===a?ci(s.offsetLeft,s.offsetTop):Za(n)?Hf(a):ci(0,0)},Nd=cs("width",function(n){return n.dom.offsetWidth}),zm=function(n,a){return Nd.set(n,a)},ts=function(n){return Nd.get(n)},_c=function(n){return Nd.getOuter(n)},gl=function(n,a){var i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Nd.max(n,a,i);Ja(n,"max-width",s+"px")},d=function(n,a,i,s,f,m,y){return{target:n,x:a,y:i,stop:s,prevent:f,kill:m,raw:y}},v=function(n){var a=on.fromDom(ja(n).getOr(n.target)),i=function(){return n.stopPropagation()},s=function(){return n.preventDefault()},f=ut(s,i);return d(a,n.clientX,n.clientY,i,s,f,n)},p=function(n,a){return function(i){n(i)&&a(v(i))}},k=function(n,a,i,s,f){var m=p(i,s);return n.dom.addEventListener(a,m,f),{unbind:pt(St,n,a,m,f)}},N=function(n,a,i,s){return k(n,a,i,s,!1)},Ke=function(n,a,i,s){return k(n,a,i,s,!0)},St=function(n,a,i,s){n.dom.removeEventListener(a,i,s)},Bt=function(n,a){var i=tu(n);i.each(function(s){s.dom.insertBefore(a.dom,n.dom)})},en=function(n,a){var i=rc(n);i.fold(function(){var s=tu(n);s.each(function(f){yn(f,a)})},function(s){Bt(s,a)})},Vt=function(n,a){var i=wt(n);i.fold(function(){yn(n,a)},function(s){n.dom.insertBefore(a.dom,s.dom)})},yn=function(n,a){n.dom.appendChild(a.dom)},ur=function(n,a,i){Ze(n,i).fold(function(){yn(n,a)},function(s){Bt(s,a)})},da=function(n,a){xt(a,function(i){Bt(n,i)})},ia=function(n,a){xt(a,function(i){yn(n,i)})},na=function(n){n.dom.textContent="",xt(ft(n),function(a){Ta(a)})},Ta=function(n){var a=n.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Ca=function(n){var a=ft(n);a.length>0&&da(n,a),Ta(n)},qr=function(n){var a=n!==void 0?n.dom:document,i=a.body.scrollLeft||a.documentElement.scrollLeft,s=a.body.scrollTop||a.documentElement.scrollTop;return ci(i,s)},uo=function(n,a,i){var s=i!==void 0?i.dom:document,f=s.defaultView;f&&f.scrollTo(n,a)},Wa=function(n){var a=n===void 0?window:n;return Na().browser.isFirefox()?Ve.none():Ve.from(a.visualViewport)},yo=function(n,a,i,s){return{x:n,y:a,width:i,height:s,right:n+i,bottom:a+s}},gi=function(n){var a=n===void 0?window:n,i=a.document,s=qr(on.fromDom(i));return Wa(a).fold(function(){var f=a.document.documentElement,m=f.clientWidth,y=f.clientHeight;return yo(s.left,s.top,m,y)},function(f){return yo(Math.max(f.pageLeft,s.left),Math.max(f.pageTop,s.top),f.width,f.height)})},ai=function(n,a){var i=n.view(a);return i.fold(qe([]),function(s){var f=n.owner(s),m=ai(n,f);return[s].concat(m)})},Ai=function(n,a){var i=a.owner(n),s=ai(a,i);return Ve.some(s)},Da=function(n){var a,i=n.dom===document?Ve.none():Ve.from((a=n.dom.defaultView)===null||a===void 0?void 0:a.frameElement);return i.map(on.fromDom)},Ni=function(n){return xu(n)},Ku=Object.freeze({__proto__:null,view:Da,owner:Ni}),Ro=function(n){var a=on.fromDom(document),i=qr(a),s=Ai(n,Ku);return s.fold(pt(fs,n),function(f){var m=Qc(n),y=mn(f,function(O,De){var Je=Qc(De);return{left:O.left+Je.left,top:O.top+Je.top}},{left:0,top:0});return ci(y.left+m.left+i.left,y.top+m.top+i.top)})},vu=function(n,a,i){return{point:n,width:a,height:i}},Pl=function(n,a,i,s){return{x:n,y:a,width:i,height:s}},fi=function(n,a,i,s){return{x:n,y:a,width:i,height:s,right:n+i,bottom:a+s}},nu=function(n){var a=fs(n),i=_c(n),s=rl(n);return fi(a.left,a.top,i,s)},Ps=function(n){var a=Ro(n),i=_c(n),s=rl(n);return fi(a.left,a.top,i,s)},mu=function(){return gi(window)},Gr=function(n){var a=function(dt){return Gr(n)},i=function(dt){return Gr(n)},s=function(dt){return Gr(dt(n))},f=function(dt){return Gr(n)},m=function(dt){dt(n)},y=function(dt){return dt(n)},O=function(dt,_t){return _t(n)},De=function(dt){return dt(n)},Je=function(dt){return dt(n)},it=function(){return Ve.some(n)};return{isValue:vt,isError:mt,getOr:qe(n),getOrThunk:qe(n),getOrDie:qe(n),or:a,orThunk:i,fold:O,map:s,mapError:f,each:m,bind:y,exists:De,forall:Je,toOptional:it}},Oc=function(n){var a=function(Je){return Je()},i=function(){return Tt(String(n))()},s=lt,f=function(Je){return Je()},m=function(Je){return Oc(n)},y=function(Je){return Oc(Je(n))},O=function(Je){return Oc(n)},De=function(Je,it){return Je(n)};return{isValue:mt,isError:vt,getOr:lt,getOrThunk:a,getOrDie:i,or:s,orThunk:f,fold:De,map:m,mapError:y,each:$e,bind:O,exists:mt,forall:vt,toOptional:Ve.none}},zf=function(n,a){return n.fold(function(){return Oc(a)},Gr)},Ga={value:Gr,error:Oc,fromOption:zf},Qo;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Qo||(Qo={}));var Il=function(n,a,i){return n.stype===Qo.Error?a(n.serror):i(n.svalue)},ds=function(n){var a=[],i=[];return xt(n,function(s){Il(s,function(f){return i.push(f)},function(f){return a.push(f)})}),{values:a,errors:i}},Si=function(n,a){return n.stype===Qo.Error?{stype:Qo.Error,serror:a(n.serror)}:n},Pa=function(n,a){return n.stype===Qo.Value?{stype:Qo.Value,svalue:a(n.svalue)}:n},Co=function(n,a){return n.stype===Qo.Value?a(n.svalue):n},al=function(n,a){return n.stype===Qo.Error?a(n.serror):n},oc=function(n){return{stype:Qo.Value,svalue:n}},pu=function(n){return{stype:Qo.Error,serror:n}},Fl=function(n){return Il(n,Ga.error,Ga.value)},$m=function(n){return n.fold(pu,oc)},xi={fromResult:$m,toResult:Fl,svalue:oc,partition:ds,serror:pu,bind:Co,bindError:al,map:Pa,mapError:Si,fold:Il},Rd=function(n,a,i,s){return{tag:"field",key:n,newKey:a,presence:i,prop:s}},tt=function(n,a){return{tag:"custom",newKey:n,instantiator:a}},gt=function(n,a,i){switch(n.tag){case"field":return a(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},Dt=function(n,a){return a},rn=function(n,a){var i=Ge(n)&&Ge(a);return i?or(n,a):a},Bn=function(n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(a.length===0)throw new Error("Can't merge zero objects");for(var s={},f=0;f<a.length;f++){var m=a[f];for(var y in m)gr(m,y)&&(s[y]=n(s[y],m[y]))}return s}},or=Bn(rn),Aa=Bn(Dt),oo=function(){return{tag:"required",process:{}}},Fo=function(n){return{tag:"defaultedThunk",process:n}},Ao=function(n){return Fo(qe(n))},Ri=function(){return{tag:"option",process:{}}},Os=function(n){return{tag:"mergeWithThunk",process:n}},cb=function(n){return Os(qe(n))},YN=function(n,a){return n.length>0?xi.svalue(or(a,Aa.apply(void 0,n))):xi.svalue(a)},u2=function(n){return ut(xi.serror,Jt)(n)},s2=function(n,a){var i=xi.partition(n);return i.errors.length>0?u2(i.errors):YN(i.values,a)},GN=function(n){var a=xi.partition(n);return a.errors.length>0?u2(a.errors):xi.svalue(a.values)},I0={consolidateObj:s2,consolidateArr:GN},F0=function(n){return Ge(n)&&zn(n).length>100?" removed due to size":JSON.stringify(n,null,2)},l2=function(n){var a=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:qe("... (only showing first ten failures)")}]):n;return Pt(a,function(i){return"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo()})},Vm=function(n,a){return xi.serror([{path:n,getErrorInfo:a}])},H0=function(n,a,i){return Vm(n,function(){return'Could not find valid *required* value for "'+a+'" in '+F0(i)})},z0=function(n,a){return Vm(n,function(){return'Choice schema did not contain choice key: "'+a+'"'})},XN=function(n,a,i){return Vm(n,function(){return'The chosen schema: "'+i+'" did not exist in branches: '+F0(a)})},QN=function(n,a){return Vm(n,function(){return"There are unsupported fields: ["+a.join(", ")+"] specified"})},JN=function(n,a){return Vm(n,qe(a))},Jc=function(n){var a=function(s,f){return xi.bindError(n(f),function(m){return JN(s,m)})},i=qe("val");return{extract:a,toString:i}},c2=Jc(xi.svalue),ZN=function(n,a,i,s){return jn(a,i).fold(function(){return H0(n,i,a)},s)},$0=function(n,a,i,s){var f=jn(n,a).getOrThunk(function(){return i(n)});return s(f)},eR=function(n,a,i){return i(jn(n,a))},tR=function(n,a,i,s){var f=jn(n,a).map(function(m){return m===!0?i(n):m});return s(f)},Um=function(n,a,i,s,f){var m=function(O){return f.extract(a.concat([s]),O)},y=function(O){return O.fold(function(){return xi.svalue(Ve.none())},function(De){var Je=f.extract(a.concat([s]),De);return xi.map(Je,Ve.some)})};switch(n.tag){case"required":return ZN(a,i,s,m);case"defaultedThunk":return $0(i,s,n.process,m);case"option":return eR(i,s,y);case"defaultedOptionThunk":return tR(i,s,n.process,y);case"mergeWithThunk":return $0(i,s,qe({}),function(O){var De=or(n.process(i),O);return m(De)})}},Ah=function(n,a,i){for(var s={},f=[],m=0,y=i;m<y.length;m++){var O=y[m];gt(O,function(De,Je,it,dt){var _t=Um(it,n,a,De,dt);xi.fold(_t,function(Nt){f.push.apply(f,Nt)},function(Nt){s[Je]=Nt})},function(De,Je){s[De]=Je(a)})}return f.length>0?xi.serror(f):xi.svalue(s)},f2=function(n){var a=function(s,f){return n().extract(s,f)},i=function(){return n().toString()};return{extract:a,toString:i}},d2=function(n){return zn(Mr(n,A))},Hl=function(n){var a=Ra(n),i=mn(n,function(f,m){return gt(m,function(y){var O;return or(f,(O={},O[y]=!0,O))},qe(f))},{}),s=function(f,m){var y=We(m)?[]:d2(m),O=Zt(y,function(De){return!sa(i,De)});return O.length===0?a.extract(f,m):QN(f,O)};return{extract:s,toString:a.toString}},Ra=function(n){var a=function(s,f){return Ah(s,f,n)},i=function(){var s=Pt(n,function(f){return gt(f,function(m,y,O,De){return m+" -> "+De.toString()},function(m,y){return"state("+m+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:a,toString:i}},fd=function(n){var a=function(s,f){var m=Pt(f,function(y,O){return n.extract(s.concat(["["+O+"]"]),y)});return I0.consolidateArr(m)},i=function(){return"array("+n.toString()+")"};return{extract:a,toString:i}},V0=function(n){var a=function(s,f){for(var m=[],y=0,O=n;y<O.length;y++){var De=O[y],Je=De.extract(s,f);if(Je.stype===Qo.Value)return Je;m.push(Je)}return I0.consolidateArr(m)},i=function(){return"oneOf("+Pt(n,function(s){return s.toString()}).join(", ")+")"};return{extract:a,toString:i}},_h=function(n,a){var i=function(m,y){return fd(Jc(n)).extract(m,y)},s=function(m,y){var O=zn(y),De=i(m,O);return xi.bind(De,function(Je){var it=Pt(Je,function(dt){return Rd(dt,dt,oo(),a)});return Ra(it).extract(m,y)})},f=function(){return"setOf("+a.toString()+")"};return{extract:s,toString:f}},fb=function(n,a){var i=Hn(a),s=function(m,y){return i().extract(m,y)},f=function(){return i().toString()};return{extract:s,toString:f}},U0=ut(fd,Ra),Zc=qe(c2),Bv=function(n,a){return Jc(function(i){var s=typeof i;return n(i)?xi.svalue(i):xi.serror("Expected type: "+a+" but got: "+s)})},jm=Bv(et,"number"),su=Bv(He,"string"),Yu=Bv(We,"boolean"),Oh=Bv(Te,"function"),v2=function(n){if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(function(a){return v2(n[a])});default:return!1}},j0=Jc(function(n){return v2(n)?xi.svalue(n):xi.serror("Expected value to be acceptable for sending via postMessage")}),m2=function(n,a,i,s){var f=jn(i,s);return f.fold(function(){return XN(n,i,s)},function(m){return m.extract(n.concat(["branch: "+s]),a)})},db=function(n,a){var i=function(f,m){var y=jn(m,n);return y.fold(function(){return z0(f,n)},function(O){return m2(f,m,a,O)})},s=function(){return"chooseOn("+n+"). Possible values: "+zn(a)};return{extract:i,toString:s}},nR=function(){return fd(c2)},Wm=function(n){return Jc(function(a){return n(a).fold(xi.serror,xi.svalue)})},vs=function(n,a){return _h(function(i){return xi.fromResult(n(i))},a)},p2=function(n,a,i){var s=a.extract([n],i);return xi.mapError(s,function(f){return{input:i,errors:f}})},Ui=function(n,a,i){return xi.toResult(p2(n,a,i))},ef=function(n){return n.fold(function(a){throw new Error(qm(a))},lt)},bi=function(n,a,i){return ef(Ui(n,a,i))},qm=function(n){return`Errors: 
`+l2(n.errors).join(`
`)+`

Input object: `+F0(n.input)},ic=function(n,a){return db(n,Cr(a,Ra))},rR=function(n,a){return fb(n,a)},Hu=Rd,ol=tt,h2=function(n){return Wm(function(a){return qt(n,a)?Ga.value(a):Ga.error('Unsupported value: "'+a+'", choose one of "'+n.join(", ")+'".')})},Sr=function(n){return Hu(n,n,oo(),Zc())},bl=function(n,a){return Hu(n,n,oo(),a)},Ld=function(n){return bl(n,jm)},eo=function(n){return bl(n,su)},uc=function(n,a){return Hu(n,n,oo(),h2(a))},aR=function(n){return bl(n,Yu)},Ms=function(n){return bl(n,Oh)},Km=function(n,a){return Hu(n,n,Ri(),Jc(function(i){return xi.serror("The field: "+n+" is forbidden. "+a)}))},dd=function(n,a){return Hu(n,n,oo(),Ra(a))},vb=function(n,a){return Hu(n,n,oo(),U0(a))},Is=function(n,a){return Hu(n,n,oo(),fd(a))},ei=function(n){return Hu(n,n,Ri(),Zc())},tf=function(n,a){return Hu(n,n,Ri(),a)},Mh=function(n){return tf(n,jm)},_i=function(n){return tf(n,su)},Pv=function(n){return tf(n,Oh)},yl=function(n,a){return tf(n,fd(a))},zl=function(n,a){return tf(n,Ra(a))},oR=function(n,a){return tf(n,Hl(a))},Dn=function(n,a){return Hu(n,n,Ao(a),Zc())},wl=function(n,a,i){return Hu(n,n,Ao(a),i)},Cl=function(n,a){return wl(n,a,jm)},Ym=function(n,a){return wl(n,a,su)},sc=function(n,a,i){return wl(n,a,h2(i))},ji=function(n,a){return wl(n,a,Yu)},Ei=function(n,a){return wl(n,a,Oh)},lc=function(n,a){return wl(n,a,j0)},Dh=function(n,a,i){return wl(n,a,fd(i))},W0=function(n,a,i){return wl(n,a,Ra(i))},$a=function(n){var a=n,i=function(){return a},s=function(f){a=f};return{get:i,set:s}},q0=function(n){if(!Xe(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");var a=[],i={};return xt(n,function(s,f){var m=zn(s);if(m.length!==1)throw new Error("one and only one name per case");var y=m[0],O=s[y];if(i[y]!==void 0)throw new Error("duplicate key detected:"+y);if(y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Xe(O))throw new Error("case arguments must be an array");a.push(y),i[y]=function(){for(var De=[],Je=0;Je<arguments.length;Je++)De[Je]=arguments[Je];var it=De.length;if(it!==O.length)throw new Error("Wrong number of arguments to case "+y+". Expected "+O.length+" ("+O+"), got "+it);var dt=function(_t){var Nt=zn(_t);if(a.length!==Nt.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+Nt.join(","));var Wt=rr(a,function(un){return qt(Nt,un)});if(!Wt)throw new Error("Not all branches were specified when using match. Specified: "+Nt.join(", ")+`
Required: `+a.join(", "));return _t[y].apply(null,De)};return{fold:function(){for(var _t=[],Nt=0;Nt<arguments.length;Nt++)_t[Nt]=arguments[Nt];if(_t.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+_t.length);var Wt=_t[f];return Wt.apply(null,De)},match:dt,log:function(_t){}}}}),i},cc={generate:q0};cc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var iR=function(n){var a=[],i=[];return xt(n,function(s){s.fold(function(f){a.push(f)},function(f){i.push(f)})}),{errors:a,values:i}},mb=function(n,a){var i={};return $r(n,function(s,f){qt(a,f)||(i[f]=s)}),i},pb=function(n,a){var i;return i={},i[n]=a,i},uR=function(n){var a={};return xt(n,function(i){a[i.key]=i.value}),a},K0=function(n,a){return mb(n,a)},$f=function(n,a){return pb(n,a)},Iv=function(n){return uR(n)},sR=function(n,a){return n.length===0?Ga.value(a):Ga.value(or(a,Aa.apply(void 0,n)))},lR=function(n){return Ga.error(Jt(n))},cR=function(n,a){var i=iR(n);return i.errors.length>0?lR(i.errors):sR(i.values,a)},g2=function(n){return Te(n)?n:mt},Y0=function(n,a,i){for(var s=n.dom,f=g2(i);s.parentNode;){s=s.parentNode;var m=on.fromDom(s),y=a(m);if(y.isSome())return y;if(f(m))break}return Ve.none()},G0=function(n,a,i){var s=a(n),f=g2(i);return s.orThunk(function(){return f(n)?Ve.none():Y0(n,a,f)})},b2=function(n,a){return Ti(n.element,a.event.target)},Vf={can:vt,abort:mt,run:$e},Gm=function(n){if(!sa(n,"can")&&!sa(n,"abort")&&!sa(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return st(st({},Vf),n)},X0=function(n,a){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return ln(n,function(f,m){return f&&a(m).apply(void 0,i)},!0)}},fR=function(n,a){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return ln(n,function(f,m){return f||a(m).apply(void 0,i)},!1)}},dR=function(n){return Te(n)?{can:vt,abort:mt,run:n}:n},vR=function(n){var a=X0(n,function(f){return f.can}),i=fR(n,function(f){return f.abort}),s=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];xt(n,function(y){y.run.apply(void 0,f)})};return{can:a,abort:i,run:s}},Tu=qe,vd=Tu("touchstart"),nf=Tu("touchmove"),Nh=Tu("touchend"),y2=Tu("touchcancel"),Mc=Tu("mousedown"),Fv=Tu("mousemove"),Q0=Tu("mouseout"),J0=Tu("mouseup"),Bd=Tu("mouseover"),Pd=Tu("focusin"),ns=Tu("focusout"),hb=Tu("keydown"),w2=Tu("keyup"),Xm=Tu("input"),Qm=Tu("change"),Rh=Tu("click"),mR=Tu("transitioncancel"),Lh=Tu("transitionend"),Z0=Tu("transitionstart"),pR=Tu("selectstart"),Wi=function(n){return qe("alloy."+n)},gb={tap:Wi("tap")},Jm=Wi("focus"),ew=Wi("blur.post"),tw=Wi("paste.post"),fc=Wi("receive"),$l=Wi("execute"),Bh=Wi("focus.item"),Zm=gb.tap,nw=Wi("longpress"),Ph=Wi("sandbox.close"),rw=Wi("typeahead.cancel"),Ih=Wi("system.init"),aw=Wi("system.touchmove"),hR=Wi("system.touchend"),ow=Wi("system.scroll"),rf=Wi("system.resize"),Vl=Wi("system.attached"),Fh=Wi("system.detached"),af=Wi("system.dismissRequested"),ms=Wi("system.repositionRequested"),bb=Wi("focusmanager.shifted"),yb=Wi("slotcontainer.visibility"),C2=Wi("change.tab"),rs=Wi("dismiss.tab"),iw=Wi("highlight"),wb=Wi("dehighlight"),$o=function(n,a){Hh(n,n.element,a,{})},Ia=function(n,a,i){Hh(n,n.element,a,i)},Ul=function(n){$o(n,$l())},Cb=function(n,a,i){Hh(n,a,i,{})},Hh=function(n,a,i,s){var f=st({target:a},s);n.getSystem().triggerEvent(i,a,f)},S2=function(n,a,i,s){n.getSystem().triggerEvent(i,a,s.event)},di=function(n){return Iv(n)},x2=function(n,a){return{key:n,value:Gm({abort:a})}},gR=function(n,a){return{key:n,value:Gm({can:a})}},E2=function(n){return{key:n,value:Gm({run:function(a,i){i.event.prevent()}})}},xr=function(n,a){return{key:n,value:Gm({run:a})}},uw=function(n,a,i){return{key:n,value:Gm({run:function(s,f){a.apply(void 0,[s,f].concat(i))}})}},bR=function(n){return function(a){return xr(n,a)}},ep=function(n){return function(a){return{key:n,value:Gm({run:function(i,s){b2(i,s)&&a(i,s)}})}}},Sb=function(n,a){return xr(n,function(i,s){i.getSystem().getByUid(a).each(function(f){S2(f,f.element,n,s)})})},tp=function(n,a,i){var s=a.partUids[i];return Sb(n,s)},Id=function(n,a){return xr(n,function(i,s){var f=s.event,m=i.getSystem().getByDom(f.target).getOrThunk(function(){var y=G0(f.target,function(O){return i.getSystem().getByDom(O).toOptional()},mt);return y.getOr(i)});a(i,m,s)})},Hv=function(n){return xr(n,function(a,i){i.cut()})},np=function(n){return xr(n,function(a,i){i.stop()})},lu=function(n,a){return ep(n)(a)},mo=ep(Vl()),dc=ep(Fh()),k2=ep(Ih()),vc=bR($l()),sw=function(n,a){var i=a||document,s=i.createElement("div");return s.innerHTML=n,ft(on.fromDom(s))},xb=function(n){return n.dom.innerHTML},Fd=function(n,a){var i=xu(n),s=i.dom,f=on.fromDom(s.createDocumentFragment()),m=sw(a,s);ia(f,m),na(n),yn(n,f)},Hd=function(n){var a=on.fromTag("div"),i=on.fromDom(n.dom.cloneNode(!0));return yn(a,i),xb(a)},rp=function(n,a){return on.fromDom(n.dom.cloneNode(a))},zd=function(n){return rp(n,!1)},mc=function(n){if(qn(n))return"#shadow-root";var a=zd(n);return Hd(a)},$d=function(n){return mc(n)},Uf=function(n,a,i){return Ti(a,n.element)&&!Ti(a,i)},Vd=di([gR(Jm(),function(n,a){var i=a.event,s=i.originator,f=i.target;return!Uf(n,s,f)})]),ap=Object.freeze({__proto__:null,events:Vd}),T2=0,ha=function(n){var a=new Date,i=a.getTime(),s=Math.floor(Math.random()*1e9);return T2++,n+"_"+s+T2+String(i)},Ds=qe("alloy-id-"),of=qe("data-alloy-id"),jf=Ds(),A2=of(),_2=function(n,a){var i=ha(jf+n);return Eb(a,i),i},Eb=function(n,a){Object.defineProperty(n.dom,A2,{value:a,writable:!0})},op=function(n){var a=ht(n)?n.dom[A2]:null;return Ve.from(a)},Ud=function(n){return ha(n)},kb=lt,zh=function(n){var a=function(f){return"The component must be in a context to execute: "+f+(n?`
`+$d(n().element)+" is not in context.":"")},i=function(f){return function(){throw new Error(a(f))}},s=function(f){return function(){}};return{debugInfo:qe("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:i("build"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:mt}},yR=zh(),jd=function(n,a,i){var s=i.toString(),f=s.indexOf(")")+1,m=s.indexOf("("),y=s.substring(m+1,f-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:a,parameters:lw(y.slice(0,1).concat(y.slice(3)))}},n},lw=function(n){return Pt(n,function(a){return ga(a,"/*")?a.substring(0,a.length-2):a})},cw=function(n,a){var i=n.toString(),s=i.indexOf(")")+1,f=i.indexOf("("),m=i.substring(f+1,s-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:a,parameters:lw(m)}},n},Wd=function(n,a){var i=a.toString(),s=i.indexOf(")")+1,f=i.indexOf("("),m=i.substring(f+1,s-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:lw(m.slice(1))}},n},fw=ha("alloy-premade"),qd=function(n){return $f(fw,n)},wR=function(n){return jn(n,fw)},Gi=function(n){return Wd(function(a){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return n.apply(void 0,nn([a.getApis(),a],i,!1))},n)},Fs={init:function(){return Sl({readState:qe("No State required")})}},Sl=function(n){return n},O2=function(n,a){var i=Pt(a,function(f){return zl(f.name(),[Sr("config"),Dn("state",Fs)])}),s=Ui("component.behaviours",Ra(i),n.behaviours).fold(function(f){throw new Error(qm(f)+`
Complete spec:
`+JSON.stringify(n,null,2))},lt);return{list:a,data:Cr(s,function(f){var m=f.map(function(y){return{config:y.config,state:y.state.init(y.config)}});return qe(m)})}},Tb=function(n){return n.list},CR=function(n){return n.data},M2=function(n,a){var i={};return $r(n,function(s,f){$r(s,function(m,y){var O=jn(i,y).getOr([]);i[y]=O.concat([a(f,m)])})}),i},Dc=function(n){return{classes:at(n.classes)?[]:n.classes,attributes:at(n.attributes)?{}:n.attributes,styles:at(n.styles)?{}:n.styles}},SR=function(n,a){return st(st({},n),{attributes:st(st({},n.attributes),a.attributes),styles:st(st({},n.styles),a.styles),classes:n.classes.concat(a.classes)})},xR=function(n,a,i,s){var f=st({},a);xt(i,function(it){f[it.name()]=it.exhibit(n,s)});var m=M2(f,function(it,dt){return{name:it,modification:dt}}),y=function(it){return mn(it,function(dt,_t){return st(st({},_t.modification),dt)},{})},O=mn(m.classes,function(it,dt){return dt.modification.concat(it)},[]),De=y(m.attributes),Je=y(m.styles);return Dc({classes:O,attributes:De,styles:Je})},Ab=function(n,a,i,s){try{var f=co(i,function(m,y){var O=m[a],De=y[a],Je=s.indexOf(O),it=s.indexOf(De);if(Je===-1)throw new Error("The ordering for "+n+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(s,null,2));if(it===-1)throw new Error("The ordering for "+n+" does not have an entry for "+De+`.
Order specified: `+JSON.stringify(s,null,2));return Je<it?-1:it<Je?1:0});return Ga.value(f)}catch(m){return Ga.error([m])}},ER=function(n,a){return{handler:n,purpose:a}},kR=function(n,a){return{cHandler:n,purpose:a}},dw=function(n,a){return kR(pt.apply(void 0,[n.handler].concat(a)),n.purpose)},vw=function(n){return n.cHandler},mw=function(n,a){return{name:n,handler:a}},TR=function(n,a){var i={};return xt(n,function(s){i[s.name()]=s.handlers(a)}),i},Kd=function(n,a,i){var s=st(st({},i),TR(a,n));return M2(s,mw)},Yd=function(n,a,i,s){var f=Kd(n,i,s);return D2(f,a)},yi=function(n){var a=dR(n);return function(i,s){for(var f=[],m=2;m<arguments.length;m++)f[m-2]=arguments[m];var y=[i,s].concat(f);a.abort.apply(void 0,y)?s.stop():a.can.apply(void 0,y)&&a.run.apply(void 0,y)}},pw=function(n,a){return Ga.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Pt(a,function(i){return i.name}),null,2)])},uf=function(n,a,i){var s=a[i];return s?Ab("Event: "+i,"name",n,s).map(function(f){var m=Pt(f,function(y){return y.handler});return vR(m)}):pw(i,n)},D2=function(n,a){var i=jr(n,function(s,f){var m=s.length===1?Ga.value(s[0].handler):uf(s,a,f);return m.map(function(y){var O=yi(y),De=s.length>1?Zt(a[f],function(Je){return an(s,function(it){return it.name===Je})}).join(" > "):s[0].name;return $f(f,ER(O,De))})});return cR(i,{})},sf,zv="alloy.base.behaviour",$v=Ra([Hu("dom","dom",oo(),Ra([Sr("tag"),Dn("styles",{}),Dn("classes",[]),Dn("attributes",{}),ei("value"),ei("innerHtml")])),Sr("components"),Sr("uid"),Dn("events",{}),Dn("apis",{}),Hu("eventOrder","eventOrder",cb((sf={},sf[$l()]=["disabling",zv,"toggling","typeaheadevents"],sf[Jm()]=[zv,"focusing","keying"],sf[Ih()]=[zv,"disabling","toggling","representing"],sf[Xm()]=[zv,"representing","streaming","invalidating"],sf[Fh()]=[zv,"representing","item-events","tooltipping"],sf[Mc()]=["focusing",zv,"item-type-events"],sf[vd()]=["focusing",zv,"item-type-events"],sf[Bd()]=["item-type-events","tooltipping"],sf[fc()]=["receiving","reflecting","tooltipping"],sf)),Zc()),ei("domModification")]),hw=function(n){return Ui("custom.definition",$v,n)},N2=function(n){return st(st({},n.dom),{uid:n.uid,domChildren:Pt(n.components,function(a){return a.element})})},_b=function(n){return n.domModification.fold(function(){return Dc({})},Dc)},gw=function(n){return n.events},$h=function(n,a){var i=Di(n,a);return i===void 0||i===""?[]:i.split(" ")},AR=function(n,a,i){var s=$h(n,a),f=s.concat([i]);return vo(n,a,f.join(" ")),!0},Ob=function(n,a,i){var s=Zt($h(n,a),function(f){return f!==i});return s.length>0?vo(n,a,s.join(" ")):Eu(n,a),!1},ip=function(n){return n.dom.classList!==void 0},bw=function(n){return $h(n,"class")},_R=function(n,a){return AR(n,"class",a)},R2=function(n,a){return Ob(n,"class",a)},Au=function(n,a){ip(n)?n.dom.classList.add(a):_R(n,a)},OR=function(n){var a=ip(n)?n.dom.classList:bw(n);a.length===0&&Eu(n,"class")},hu=function(n,a){if(ip(n)){var i=n.dom.classList;i.remove(a)}else R2(n,a);OR(n)},Hs=function(n,a){return ip(n)&&n.dom.classList.contains(a)},Vv=function(n,a){xt(a,function(i){Au(n,i)})},jl=function(n,a){xt(a,function(i){hu(n,i)})},yw=function(n,a){return rr(a,function(i){return Hs(n,i)})},Gd=function(n){return n.dom.value},up=function(n,a){if(a===void 0)throw new Error("Value.set was undefined");n.dom.value=a},sp=function(n){var a=on.fromTag(n.tag);Md(a,n.attributes),Vv(a,n.classes),ac(a,n.styles),n.innerHtml.each(function(s){return Fd(a,s)});var i=n.domChildren;return ia(a,i),n.value.each(function(s){up(a,s)}),n.uid,Eb(a,n.uid),a},L2=function(n){var a=jn(n,"behaviours").getOr({});return Rn(zn(a),function(i){var s=a[i];return A(s)?[s.me]:[]})},B2=function(n,a){return O2(n,a)},MR=function(n){var a=L2(n);return B2(n,a)},DR=function(n,a,i){var s=N2(n),f=_b(n),m={"alloy.base.modification":f},y=a.length>0?xR(i,m,a,s):f;return SR(s,y)},NR=function(n,a,i){var s={"alloy.base.behaviour":gw(n)};return Yd(i,n.eventOrder,a,s).getOrDie()},RR=function(n){var a=function(){return On},i=$a(yR),s=ef(hw(n)),f=MR(n),m=Tb(f),y=CR(f),O=DR(s,m,y),De=sp(O),Je=NR(s,m,y),it=$a(s.components),dt=function(tr){i.set(tr)},_t=function(){i.set(zh(a))},Nt=function(){var tr=ft(De),Zn=Rn(tr,function(_n){return i.get().getByDom(_n).fold(function(){return[]},fa)});it.set(Zn)},Wt=function(tr){var Zn=y,_n=Te(Zn[tr.name()])?Zn[tr.name()]:function(){throw new Error("Could not find "+tr.name()+" in "+JSON.stringify(n,null,2))};return _n()},un=function(tr){return Te(y[tr.name()])},kn=function(){return s.apis},tn=function(tr){return y[tr]().map(function(Zn){return Zn.state.readState()}).getOr("not enabled")},On={uid:n.uid,getSystem:i.get,config:Wt,hasConfigured:un,spec:n,readState:tn,getApis:kn,connect:dt,disconnect:_t,element:De,syncComponents:Nt,components:it.get,events:Je};return On},ww=function(n){var a=jn(n,"components").getOr([]);return Pt(a,cu)},Cw=function(n){var a=kb(n),i=a.events,s=At(a,["events"]),f=ww(s),m=st(st({},s),{events:st(st({},ap),i),components:f});return Ga.value(RR(m))},ps=function(n){var a=on.fromText(n);return Sw({element:a})},Sw=function(n){var a=bi("external.component",Hl([Sr("element"),ei("uid")]),n),i=$a(zh()),s=function(O){i.set(O)},f=function(){i.set(zh(function(){return y}))},m=a.uid.getOrThunk(function(){return Ud("external")});Eb(a.element,m);var y={uid:m,getSystem:i.get,config:Ve.none,hasConfigured:mt,connect:s,disconnect:f,getApis:function(){return{}},element:a.element,spec:n,readState:qe("No state"),syncComponents:$e,components:qe([]),events:{}};return qd(y)},LR=Ud,P2=function(n){return gr(n,"uid")},cu=function(n){return wR(n).getOrThunk(function(){var a=P2(n)?n:st({uid:LR("")},n);return Cw(a).getOrDie()})},Wl=qd;function Mb(n,a,i,s,f){return n(i,s)?Ve.some(i):Te(f)&&f(i)?Ve.none():a(i,s,f)}var xw=function(n,a,i){for(var s=n.dom,f=Te(i)?i:mt;s.parentNode;){s=s.parentNode;var m=on.fromDom(s);if(a(m))return Ve.some(m);if(f(m))break}return Ve.none()},Db=function(n,a,i){var s=function(f,m){return m(f)};return Mb(s,xw,n,a,i)},I2=function(n,a){var i=function(f){return a(on.fromDom(f))},s=bn(n.dom.childNodes,i);return s.map(on.fromDom)},po=function(n,a){var i=function(s){for(var f=0;f<s.childNodes.length;f++){var m=on.fromDom(s.childNodes[f]);if(a(m))return Ve.some(m);var y=i(s.childNodes[f]);if(y.isSome())return y}return Ve.none()};return i(n.dom)},lp=function(n,a,i){return Db(n,a,i).isSome()},Nb=function(n,a,i){return xw(n,function(s){return _s(s,a)},i)},Ew=function(n,a){return I2(n,function(i){return _s(i,a)})},_u=function(n,a){return If(a,n)},lf=function(n,a,i){var s=function(f,m){return _s(f,m)};return Mb(s,Nb,n,a,i)},F2=function(n){var a=Db(n,function(i){if(!ht(i))return!1;var s=Di(i,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return a.bind(function(i){var s=Di(i,"id"),f=Ua(i);return _u(f,'[aria-owns="'+s+'"]')})},Uv=function(){var n=ha("aria-owns"),a=function(s){vo(s,"aria-owns",n)},i=function(s){Eu(s,"aria-owns")};return{id:n,link:a,unlink:i}},Li=function(n,a){return F2(a).exists(function(i){return jv(n,i)})},jv=function(n,a){return lp(a,function(i){return Ti(i,n.element)},mt)||Li(n,a)},Rb="unknown",cp;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(cp||(cp={}));var kw=$a({}),H2=function(n,a){var i=[],s=new Date().getTime();return{logEventCut:function(f,m,y){i.push({outcome:"cut",target:m,purpose:y})},logEventStopped:function(f,m,y){i.push({outcome:"stopped",target:m,purpose:y})},logNoParent:function(f,m,y){i.push({outcome:"no-parent",target:m,purpose:y})},logEventNoHandlers:function(f,m){i.push({outcome:"no-handlers-left",target:m})},logEventResponse:function(f,m,y){i.push({outcome:"response",purpose:y,target:m})},write:function(){var f=new Date().getTime();qt(["mousemove","mouseover","mouseout",Ih()],n)}}},Lb=function(n,a,i){var s=jn(kw.get(),n).orThunk(function(){var y=zn(kw.get());return Pn(y,function(O){return n.indexOf(O)>-1?Ve.some(kw.get()[O]):Ve.none()})}).getOr(cp.NORMAL);switch(s){case cp.NORMAL:return i(BR());case cp.LOGGING:{var f=H2(n,a),m=i(f);return f.write(),m}case cp.STOP:return!0}},z2=["alloy/data/Fields","alloy/debugging/Debugging"],md=function(){var n=new Error;if(n.stack!==void 0){var a=n.stack.split(`
`);return bn(a,function(i){return i.indexOf("alloy")>0&&!an(z2,function(s){return i.indexOf(s)>-1})}).getOr(Rb)}else return Rb},zs={logEventCut:$e,logEventStopped:$e,logNoParent:$e,logEventNoHandlers:$e,logEventResponse:$e,write:$e},Tw=function(n,a,i){return Lb(n,a,i)},BR=qe(zs),fp=qe([Sr("menu"),Sr("selectedMenu")]),Vh=qe([Sr("item"),Sr("selectedItem")]);qe(Ra(Vh().concat(fp())));var $2=qe(Ra(Vh())),PR=dd("initSize",[Sr("numColumns"),Sr("numRows")]),IR=function(){return bl("markers",$2())},Bb=function(){return dd("markers",[Sr("backgroundMenu")].concat(fp()).concat(Vh()))},Wv=function(n){return dd("markers",Pt(n,Sr))},Pb=function(n,a,i){return md(),Hu(a,a,i,Wm(function(s){return Ga.value(function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];return s.apply(void 0,f)})}))},Wo=function(n){return Pb("onHandler",n,Ao($e))},xl=function(n){return Pb("onKeyboardHandler",n,Ao(Ve.none))},$s=function(n){return Pb("onHandler",n,oo())},il=function(n){return Pb("onKeyboardHandler",n,oo())},Oi=function(n,a){return ol(n,qe(a))},qv=function(n){return ol(n,lt)},Ib=qe(PR),Gu=function(n,a,i,s,f,m,y,O){return O===void 0&&(O=!1),{x:n,y:a,bubble:i,direction:s,placement:f,restriction:m,label:y+"-"+f,alwaysFit:O}},Wf=cc.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),FR=function(n,a,i,s,f,m,y,O,De){return n.fold(a,i,s,f,m,y,O,De)},HR=function(n,a,i,s){return n.fold(a,a,s,s,a,s,i,i)},Fb=function(n,a,i,s){return n.fold(a,s,a,s,i,i,a,s)},Hb=Wf.southeast,Aw=Wf.southwest,_w=Wf.northeast,dp=Wf.northwest,V2=Wf.south,U2=Wf.north,Ow=Wf.east,Mw=Wf.west,as=function(n,a,i,s){var f=n+a;return f>s?i:f<i?s:f},El=function(n,a,i){return Math.min(Math.max(n,a),i)},Uh=function(n,a){switch(a){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},Ou=function(n,a){return la(["left","right","top","bottom"],function(i){return jn(a,i).map(function(s){return Uh(n,s)})})},j2=function(n,a,i){var s=function(De,Je){return a[De].map(function(it){var dt=De==="top"||De==="bottom",_t=dt?i.top:i.left,Nt=De==="left"||De==="top"?Math.max:Math.min,Wt=Nt(it,Je)+_t;return dt?El(Wt,n.y,n.bottom):El(Wt,n.x,n.right)}).getOr(Je)},f=s("left",n.x),m=s("top",n.y),y=s("right",n.right),O=s("bottom",n.bottom);return fi(f,m,y-f,O-m)},Xd="layout",W2=function(n){return n.x},q2=function(n,a){return n.x+n.width/2-a.width/2},K2=function(n,a){return n.x+n.width-a.width},Dw=function(n,a){return n.y-a.height},Nw=function(n){return n.y+n.height},Rw=function(n,a){return n.y+n.height/2-a.height/2},Y2=function(n){return n.x+n.width},zR=function(n,a){return n.x-a.width},hs=function(n,a,i){return Gu(W2(n),Nw(n),i.southeast(),Hb(),"southeast",Ou(n,{left:1,top:3}),Xd)},gs=function(n,a,i){return Gu(K2(n,a),Nw(n),i.southwest(),Aw(),"southwest",Ou(n,{right:0,top:3}),Xd)},ul=function(n,a,i){return Gu(W2(n),Dw(n,a),i.northeast(),_w(),"northeast",Ou(n,{left:1,bottom:2}),Xd)},Vs=function(n,a,i){return Gu(K2(n,a),Dw(n,a),i.northwest(),dp(),"northwest",Ou(n,{right:0,bottom:2}),Xd)},sl=function(n,a,i){return Gu(q2(n,a),Dw(n,a),i.north(),U2(),"north",Ou(n,{bottom:2}),Xd)},gu=function(n,a,i){return Gu(q2(n,a),Nw(n),i.south(),V2(),"south",Ou(n,{top:3}),Xd)},zb=function(n,a,i){return Gu(Y2(n),Rw(n,a),i.east(),Ow(),"east",Ou(n,{left:0}),Xd)},$b=function(n,a,i){return Gu(zR(n,a),Rw(n,a),i.west(),Mw(),"west",Ou(n,{right:1}),Xd)},Lw=function(){return[hs,gs,ul,Vs,gu,sl,zb,$b]},Kv=function(){return[gs,hs,Vs,ul,gu,sl,zb,$b]},Qd=function(){return[ul,Vs,hs,gs,sl,gu]},Bw=function(){return[Vs,ul,gs,hs,sl,gu]},Pw=function(){return[hs,gs,ul,Vs,gu,sl]},Vb=function(){return[gs,hs,Vs,ul,gu,sl]},vp=function(n,a){return a.universal?n:Zt(n,function(i){return qt(a.channels,i)})},mp=function(n){return di([xr(fc(),function(a,i){var s=n.channels,f=zn(s),m=i,y=vp(f,m);xt(y,function(O){var De=s[O],Je=De.schema,it=bi("channel["+O+`] data
Receiver: `+$d(a.element),Je,m.data);De.onReceive(a,it)})})])},G2=Object.freeze({__proto__:null,events:mp}),$R=[bl("channels",vs(Ga.value,Hl([$s("onReceive"),Dn("schema",Zc())])))],Ub=function(n,a,i){return vc(function(s){i(s,n,a)})},qf=function(n,a,i){return k2(function(s,f){i(s,n,a)})},VR=function(n,a,i,s,f,m){var y=Hl(n),O=zl(a,[oR("config",n)]);return Q2(y,O,a,i,s,f,m)},UR=function(n,a,i,s,f,m){var y=n,O=zl(a,[tf("config",n)]);return Q2(y,O,a,i,s,f,m)},X2=function(n,a,i){var s=function(f){for(var m=[],y=1;y<arguments.length;y++)m[y-1]=arguments[y];var O=[f].concat(m);return f.config({name:qe(n)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+i)},function(De){var Je=Array.prototype.slice.call(O,1);return a.apply(void 0,[f,De.config,De.state].concat(Je))})};return jd(s,i,a)},jR=function(n){return{key:n,value:void 0}},Q2=function(n,a,i,s,f,m,y){var O=function(dt){return sa(dt,i)?dt[i]():Ve.none()},De=Cr(f,function(dt,_t){return X2(i,dt,_t)}),Je=Cr(m,function(dt,_t){return cw(dt,_t)}),it=st(st(st({},Je),De),{revoke:pt(jR,i),config:function(dt){var _t=bi(i+"-config",n,dt);return{key:i,value:{config:_t,me:it,configAsRaw:Hn(function(){return bi(i+"-config",n,dt)}),initialConfig:dt,state:y}}},schema:qe(a),exhibit:function(dt,_t){return ni(O(dt),jn(s,"exhibit"),function(Nt,Wt){return Wt(_t,Nt.config,Nt.state)}).getOrThunk(function(){return Dc({})})},name:qe(i),handlers:function(dt){return O(dt).map(function(_t){var Nt=jn(s,"events").getOr(function(){return{}});return Nt(_t.config,_t.state)}).getOr({})}});return it},Wr=function(n){return Iv(n)},WR=Hl([Sr("fields"),Sr("name"),Dn("active",{}),Dn("apis",{}),Dn("state",Fs),Dn("extra",{})]),zu=function(n){var a=bi("Creating behaviour: "+n.name,WR,n);return VR(a.fields,a.name,a.active,a.apis,a.extra,a.state)},qR=Hl([Sr("branchKey"),Sr("branches"),Sr("name"),Dn("active",{}),Dn("apis",{}),Dn("state",Fs),Dn("extra",{})]),pp=function(n){var a=bi("Creating behaviour: "+n.name,qR,n);return UR(ic(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},KR=qe(void 0),ll=zu({fields:$R,name:"receiving",active:G2}),Iw=function(n,a){return Dc({classes:[],styles:a.useFixed()?{}:{position:"relative"}})},J2=Object.freeze({__proto__:null,exhibit:Iw}),jh=function(){return on.fromDom(document)},cf=function(n){return n.dom.focus()},Fw=function(n){return n.dom.blur()},Hw=function(n){var a=Ua(n).dom;return n.dom===a.activeElement},ff=function(n){return n===void 0&&(n=jh()),Ve.from(n.dom.activeElement).map(on.fromDom)},df=function(n){return ff(Ua(n)).filter(function(a){return n.dom.contains(a.dom)})},Z2=function(n,a){var i=Ua(a),s=ff(i).bind(function(m){var y=function(O){return Ti(m,O)};return y(a)?Ve.some(a):po(a,y)}),f=n(a);return s.each(function(m){ff(i).filter(function(y){return Ti(y,m)}).fold(function(){cf(m)},$e)}),f},Nc=function(n,a,i,s,f){var m=function(y){return y+"px"};return{position:n,left:a.map(m),top:i.map(m),right:s.map(m),bottom:f.map(m)}},Jd=function(n){return st(st({},n),{position:Ve.some(n.position)})},Zd=function(n,a){Ac(n,Jd(a))},zw=cc.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),nr=function(n,a,i,s,f,m){var y=a.rect,O=y.x-i,De=y.y-s,Je=y.width,it=y.height,dt=f-(O+Je),_t=m-(De+it),Nt=Ve.some(O),Wt=Ve.some(De),un=Ve.some(dt),kn=Ve.some(_t),tn=Ve.none();return FR(a.direction,function(){return Nc(n,Nt,Wt,tn,tn)},function(){return Nc(n,tn,Wt,un,tn)},function(){return Nc(n,Nt,tn,tn,kn)},function(){return Nc(n,tn,tn,un,kn)},function(){return Nc(n,Nt,Wt,tn,tn)},function(){return Nc(n,Nt,tn,tn,kn)},function(){return Nc(n,Nt,Wt,tn,tn)},function(){return Nc(n,tn,Wt,un,tn)})},Wh=function(n,a){return n.fold(function(){var i=a.rect;return Nc("absolute",Ve.some(i.x),Ve.some(i.y),Ve.none(),Ve.none())},function(i,s,f,m){return nr("absolute",a,i,s,f,m)},function(i,s,f,m){return nr("fixed",a,i,s,f,m)})},$w=function(n,a){var i=pt(Ro,a),s=n.fold(i,i,function(){var y=qr();return Ro(a).translate(-y.left,-y.top)}),f=_c(a),m=rl(a);return fi(s.left,s.top,f,m)},YR=function(n,a){return a.fold(function(){return n.fold(mu,mu,fi)},function(i){return n.fold(i,i,function(){var s=i(),f=jb(n,s.x,s.y);return fi(f.left,f.top,s.width,s.height)})})},jb=function(n,a,i){var s=ci(a,i),f=function(){var m=qr();return s.translate(-m.left,-m.top)};return n.fold(qe(s),qe(s),f)},vf=function(n,a,i,s){return n.fold(a,i,s)};zw.none;var ek=zw.relative,tk=zw.fixed,nk=function(n,a){return{anchorBox:n,origin:a}},Vw=function(n,a){return nk(n,a)},Uw="data-alloy-placement",rk=function(n,a){vo(n,Uw,a)},ak=function(n){return Yi(n,Uw)},ok=function(n){return Eu(n,Uw)},Wb=cc.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),ik=function(n,a){var i=a.x,s=a.y,f=a.right,m=a.bottom,y=n.x,O=n.y,De=n.right,Je=n.bottom,it=n.width,dt=n.height,_t=y>=i&&y<=f,Nt=O>=s&&O<=m,Wt=_t&&Nt,un=De<=f&&De>=i,kn=Je<=m&&Je>=s,tn=un&&kn,On=Math.min(it,y>=i?f-y:De-i),tr=Math.min(dt,O>=s?m-O:Je-s);return{originInBounds:Wt,sizeInBounds:tn,visibleW:On,visibleH:tr}},GR=function(n,a){var i=a.x,s=a.y,f=a.right,m=a.bottom,y=n.x,O=n.y,De=n.width,Je=n.height,it=Math.max(i,f-De),dt=Math.max(s,m-Je),_t=El(y,i,it),Nt=El(O,s,dt),Wt=Math.min(_t+De,f)-_t,un=Math.min(Nt+Je,m)-Nt;return fi(_t,Nt,Wt,un)},XR=function(n,a,i){var s=qe(a.bottom-i.y),f=qe(i.bottom-a.y),m=HR(n,f,f,s),y=qe(a.right-i.x),O=qe(i.right-a.x),De=Fb(n,O,O,y);return{maxWidth:De,maxHeight:m}},uk=function(n,a,i,s){var f=n.bubble,m=f.offset,y=j2(s,n.restriction,m),O=n.x+m.left,De=n.y+m.top,Je=fi(O,De,a,i),it=ik(Je,y),dt=it.originInBounds,_t=it.sizeInBounds,Nt=it.visibleW,Wt=it.visibleH,un=dt&&_t,kn=un?Je:GR(Je,y),tn=kn.width>0&&kn.height>0,On=XR(n.direction,kn,s),tr=On.maxWidth,Zn=On.maxHeight,_n={rect:kn,maxHeight:Zn,maxWidth:tr,direction:n.direction,placement:n.placement,classes:{on:f.classesOn,off:f.classesOff},layout:n.label,testY:De};return un||n.alwaysFit?Wb.fit(_n):Wb.nofit(_n,Nt,Wt,tn)},qb=function(n,a,i,s,f,m){var y=s.width,O=s.height,De=function(it,dt,_t,Nt,Wt){var un=it(i,s,f,n,m),kn=uk(un,y,O,m);return kn.fold(qe(kn),function(tn,On,tr,Zn){var _n=Wt===Zn?tr>Nt||On>_t:!Wt&&Zn;return _n?kn:Wb.nofit(dt,_t,Nt,Wt)})},Je=ln(a,function(it,dt){var _t=pt(De,dt);return it.fold(qe(it),_t)},Wb.nofit({rect:i,maxHeight:s.height,maxWidth:s.width,direction:Hb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1));return Je.fold(lt,lt)},jw=function(n){var a=$a(Ve.none()),i=function(){return a.get().each(n)},s=function(){i(),a.set(Ve.none())},f=function(){return a.get().isSome()},m=function(){return a.get()},y=function(O){i(),a.set(Ve.some(O))};return{clear:s,isSet:f,get:m,set:y}},Ww=function(){return jw(function(n){return n.destroy()})},hp=function(){return jw(function(n){return n.unbind()})},qw=function(){var n=Ww(),a=function(i){return n.get().each(i)};return st(st({},n),{run:a})},Xi=function(){var n=jw($e),a=function(i){return n.get().each(i)};return st(st({},n),{on:a})},Kw=vt,fu=function(n,a,i){return N(n,a,Kw,i)},Kb=function(n,a,i){return Ke(n,a,Kw,i)},Yw=v,sk=["top","bottom","right","left"],Yb="data-alloy-transition-timer",lk=function(n,a){return yw(n,a.classes)},ck=function(n,a,i){return i.exists(function(s){var f=n.mode;return f==="all"?!0:s[f]!==a[f]})},QR=function(n,a){var i=function(s){return parseFloat(s).toFixed(3)};return hn(a,function(s,f){var m=n[f].map(i),y=s.map(i);return!_o(m,y)}).isSome()},fk=function(n){var a=function(m){var y=Vi(n,m),O=He(y)?y.split(/\s*,\s*/):[];return Zt(O,eu)},i=function(m){if(He(m)&&/^[\d.]+/.test(m)){var y=parseFloat(m);return ga(m,"ms")?y:y*1e3}else return 0},s=a("transition-delay"),f=a("transition-duration");return ln(f,function(m,y,O){var De=i(s[O])+i(y);return Math.max(m,De)},0)},JR=function(n,a){var i=hp(),s=hp(),f,m=function(it){var dt,_t=(dt=it.raw.pseudoElement)!==null&&dt!==void 0?dt:"";return Ti(it.target,n)&&Fu(_t)&&qt(sk,it.raw.propertyName)},y=function(it){if(nt(it)||m(it)){i.clear(),s.clear();var dt=it==null?void 0:it.raw.type;(nt(dt)||dt===Lh())&&(clearTimeout(f),Eu(n,Yb),jl(n,a.classes))}},O=function(){i.set(fu(n,Lh(),y)),s.set(fu(n,mR(),y))};if("ontransitionstart"in n.dom)var De=fu(n,Z0(),function(it){m(it)&&(De.unbind(),O())});else O();var Je=fk(n);requestAnimationFrame(function(){f=setTimeout(y,Je+17),vo(n,Yb,f)})},ZR=function(n,a){Vv(n,a.classes),Yi(n,Yb).each(function(i){clearTimeout(parseInt(i,10)),Eu(n,Yb)}),JR(n,a)},dk=function(n,a,i,s,f,m){var y=ck(s,f,m);if(y||lk(n,s)){Ja(n,"position",i.position);var O=$w(a,n),De=Wh(a,st(st({},f),{rect:O})),Je=la(sk,function(it){return De[it]});QR(i,Je)&&(Ac(n,Je),y&&ZR(n,s),Kc(n))}else jl(n,s.classes)},eL=function(n){return{width:_c(n),height:rl(n)}},tL=function(n,a,i,s){ri(a,"max-height"),ri(a,"max-width");var f=eL(a);return qb(a,s.preference,n,f,i,s.bounds)},nL=function(n,a){var i=a.classes;jl(n,i.off),Vv(n,i.on)},rL=function(n,a,i){var s=i.maxHeightFunction;s(n,a.maxHeight)},aL=function(n,a,i){var s=i.maxWidthFunction;s(n,a.maxWidth)},vk=function(n,a,i){var s=Wh(i.origin,a);i.transition.each(function(f){dk(n,i.origin,s,f,a,i.lastPlacement)}),Zd(n,s)},oL=function(n,a){rk(n,a.placement)},bs=function(n,a){Hm(n,Math.floor(a))},qh=qe(function(n,a){bs(n,a),ac(n,{"overflow-x":"hidden","overflow-y":"auto"})}),Kh=qe(function(n,a){bs(n,a)}),mk=function(n,a,i){return n[a]===void 0?i:n[a]},iL=function(n,a,i,s,f,m,y,O){var De=mk(y,"maxHeightFunction",qh()),Je=mk(y,"maxWidthFunction",$e),it=n.anchorBox,dt=n.origin,_t={bounds:YR(dt,m),origin:dt,preference:s,maxHeightFunction:De,maxWidthFunction:Je,lastPlacement:f,transition:O};return uL(it,a,i,_t)},uL=function(n,a,i,s){var f=tL(n,a,i,s);return vk(a,f,s),oL(a,f),nL(a,f),rL(a,f,s),aL(a,f,s),{layout:f.layout,placement:f.placement}},sL=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],gp=function(n,a,i,s){s===void 0&&(s=1);var f=n*s,m=a*s,y=function(De){return jn(i,De).getOr([])},O=function(De,Je,it){var dt=Br(sL,it);return{offset:ci(De,Je),classesOn:Rn(it,y),classesOff:Rn(dt,y)}};return{southeast:function(){return O(-n,a,["top","alignLeft"])},southwest:function(){return O(n,a,["top","alignRight"])},south:function(){return O(-n/2,a,["top","alignCentre"])},northeast:function(){return O(-n,-a,["bottom","alignLeft"])},northwest:function(){return O(n,-a,["bottom","alignRight"])},north:function(){return O(-n/2,-a,["bottom","alignCentre"])},east:function(){return O(n,-a/2,["valignCentre","left"])},west:function(){return O(-n,-a/2,["valignCentre","right"])},insetNortheast:function(){return O(f,m,["top","alignLeft","inset"])},insetNorthwest:function(){return O(-f,m,["top","alignRight","inset"])},insetNorth:function(){return O(-f/2,m,["top","alignCentre","inset"])},insetSoutheast:function(){return O(f,-m,["bottom","alignLeft","inset"])},insetSouthwest:function(){return O(-f,-m,["bottom","alignRight","inset"])},insetSouth:function(){return O(-f/2,-m,["bottom","alignCentre","inset"])},insetEast:function(){return O(-f,-m/2,["valignCentre","right","inset"])},insetWest:function(){return O(f,-m/2,["valignCentre","left","inset"])}}},Gb=function(){return gp(0,0,{})},Yh=lt,Gw=function(n,a){return function(i){return lL(i)==="rtl"?a:n}},lL=function(n){return Vi(n,"direction")==="rtl"?"rtl":"ltr"},Kf;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Kf||(Kf={}));var Xw="data-alloy-vertical-dir",cL=function(n){return lp(n,function(a){return ht(a)&&Di(a,"data-alloy-vertical-dir")===Kf.BottomToTop})},ev=function(){return zl("layouts",[Sr("onLtr"),Sr("onRtl"),ei("onBottomLtr"),ei("onBottomRtl")])},Xb=function(n,a,i,s,f,m,y){var O=y.map(cL).getOr(!1),De=a.layouts.map(function(Nt){return Nt.onLtr(n)}),Je=a.layouts.map(function(Nt){return Nt.onRtl(n)}),it=O?a.layouts.bind(function(Nt){return Nt.onBottomLtr.map(function(Wt){return Wt(n)})}).or(De).getOr(f):De.getOr(i),dt=O?a.layouts.bind(function(Nt){return Nt.onBottomRtl.map(function(Wt){return Wt(n)})}).or(Je).getOr(m):Je.getOr(s),_t=Gw(it,dt);return _t(n)},fL=function(n,a,i){var s=a.hotspot,f=$w(i,s.element),m=Xb(n.element,a,Pw(),Vb(),Qd(),Bw(),Ve.some(a.hotspot.element));return Ve.some(Yh({anchorBox:f,bubble:a.bubble.getOr(Gb()),overrides:a.overrides,layouts:m,placer:Ve.none()}))},dL=[Sr("hotspot"),ei("bubble"),Dn("overrides",{}),ev(),Oi("placement",fL)],pk=function(n,a,i){var s=jb(i,a.x,a.y),f=fi(s.left,s.top,a.width,a.height),m=Xb(n.element,a,Lw(),Kv(),Lw(),Kv(),Ve.none());return Ve.some(Yh({anchorBox:f,bubble:a.bubble,overrides:a.overrides,layouts:m,placer:Ve.none()}))},hk=[Sr("x"),Sr("y"),Dn("height",0),Dn("width",0),Dn("bubble",Gb()),Dn("overrides",{}),ev(),Oi("placement",pk)],gk=cc.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),bk=function(n){return n.fold(lt,function(a,i,s){return a.translate(-i,-s)})},vL=function(n){return n.fold(lt,lt)},yk=function(n){return ln(n,function(a,i){return a.translate(i.left,i.top)},ci(0,0))},wk=function(n){var a=Pt(n,bk);return yk(a)},Ck=function(n){var a=Pt(n,vL);return yk(a)},mL=gk.screen,Sk=gk.absolute,pL=function(n,a,i){var s=nc(i.root).dom,f=function(m){var y=xu(m),O=xu(n.element);return Ti(y,O)};return Ve.from(s.frameElement).map(on.fromDom).filter(f).map(fs)},xk=function(n,a,i){var s=xu(n.element),f=qr(s),m=pL(n,a,i).getOr(f);return Sk(m,f.left,f.top)},Qw=function(n,a,i,s){var f=mL(ci(n,a));return Ve.some(vu(f,i,s))},Ek=function(n,a,i,s,f){return n.map(function(m){var y=[a,m.point],O=vf(s,function(){return Ck(y)},function(){return Ck(y)},function(){return wk(y)}),De=Pl(O.left,O.top,m.width,m.height),Je=i.showAbove?Qd():Pw(),it=i.showAbove?Bw():Vb(),dt=Xb(f,i,Je,it,Je,it,Ve.none());return Yh({anchorBox:De,bubble:i.bubble.getOr(Gb()),overrides:i.overrides,layouts:dt,placer:Ve.none()})})},Gh=function(n,a,i){var s=xk(n,i,a);return a.node.filter(Za).bind(function(f){var m=f.dom.getBoundingClientRect(),y=Qw(m.left,m.top,m.width,m.height),O=a.node.getOr(n.element);return Ek(y,s,a,i,O)})},hL=[Sr("node"),Sr("root"),ei("bubble"),ev(),Dn("overrides",{}),Dn("showAbove",!1),Oi("placement",Gh)],Xh="\uFEFF",gL=" ",bL=function(n,a,i,s){return{start:n,soffset:a,finish:i,foffset:s}},Jw={create:bL},Zw=cc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),yL=function(n,a,i,s){return n.fold(a,i,s)},wL=function(n){return n.fold(lt,lt,lt)},CL=Zw.before,SL=Zw.on,xL=Zw.after,EL={before:CL,on:SL,after:xL,cata:yL,getStart:wL},Qb=cc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),kL=function(n){return Qb.exact(n.start,n.soffset,n.finish,n.foffset)},TL=function(n){return n.match({domRange:function(a){return on.fromDom(a.startContainer)},relative:function(a,i){return EL.getStart(a)},exact:function(a,i,s,f){return a}})},AL=Qb.domRange,_L=Qb.relative,OL=Qb.exact,eC=function(n){var a=TL(n);return nc(a)},ML=Jw.create,Qh={domRange:AL,relative:_L,exact:OL,exactFromRange:kL,getWin:eC,range:ML},DL=function(n,a){a.fold(function(i){n.setStartBefore(i.dom)},function(i,s){n.setStart(i.dom,s)},function(i){n.setStartAfter(i.dom)})},NL=function(n,a){a.fold(function(i){n.setEndBefore(i.dom)},function(i,s){n.setEnd(i.dom,s)},function(i){n.setEndAfter(i.dom)})},kk=function(n,a,i){var s=n.document.createRange();return DL(s,a),NL(s,i),s},Tk=function(n,a,i,s,f){var m=n.document.createRange();return m.setStart(a.dom,i),m.setEnd(s.dom,f),m},Ak=function(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}},_k=function(n){var a=n.getClientRects(),i=a.length>0?a[0]:n.getBoundingClientRect();return i.width>0||i.height>0?Ve.some(i).map(Ak):Ve.none()},Ok=function(n){var a=n.getBoundingClientRect();return a.width>0||a.height>0?Ve.some(a).map(Ak):Ve.none()},bp=cc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),tC=function(n,a,i){return a(on.fromDom(i.startContainer),i.startOffset,on.fromDom(i.endContainer),i.endOffset)},Mk=function(n,a){return a.match({domRange:function(i){return{ltr:qe(i),rtl:Ve.none}},relative:function(i,s){return{ltr:Hn(function(){return kk(n,i,s)}),rtl:Hn(function(){return Ve.some(kk(n,s,i))})}},exact:function(i,s,f,m){return{ltr:Hn(function(){return Tk(n,i,s,f,m)}),rtl:Hn(function(){return Ve.some(Tk(n,f,m,i,s))})}}})},RL=function(n,a){var i=a.ltr();if(i.collapsed){var s=a.rtl().filter(function(f){return f.collapsed===!1});return s.map(function(f){return bp.rtl(on.fromDom(f.endContainer),f.endOffset,on.fromDom(f.startContainer),f.startOffset)}).getOrThunk(function(){return tC(n,bp.ltr,i)})}else return tC(n,bp.ltr,i)},LL=function(n,a){var i=Mk(n,a);return RL(n,i)},Dk=function(n,a){var i=LL(n,a);return i.match({ltr:function(s,f,m,y){var O=n.document.createRange();return O.setStart(s.dom,f),O.setEnd(m.dom,y),O},rtl:function(s,f,m,y){var O=n.document.createRange();return O.setStart(m.dom,y),O.setEnd(s.dom,f),O}})};bp.ltr,bp.rtl;var BL=function(n,a){var i=function(m){if(!n(m))throw new Error("Can only get "+a+" value of a "+a+" node");return s(m).getOr("")},s=function(m){return n(m)?Ve.from(m.dom.nodeValue):Ve.none()},f=function(m,y){if(!n(m))throw new Error("Can only set raw "+a+" value of a "+a+" node");m.dom.nodeValue=y};return{get:i,getOption:s,set:f}},Nk=BL($t,"text"),Yv=function(n){return Nk.get(n)},Jb=function(n){return Nk.getOption(n)},PL=function(n){return dn(n)==="img"?1:Jb(n).fold(function(){return ft(n).length},function(a){return a.length})},IL=function(n){return Jb(n).filter(function(a){return a.trim().length!==0||a.indexOf(gL)>-1}).isSome()},FL=["img","br"],HL=function(n){var a=IL(n);return a||qt(FL,dn(n))},Rk=function(n){return zL(n,HL)},zL=function(n,a){var i=function(s){for(var f=ft(s),m=f.length-1;m>=0;m--){var y=f[m];if(a(y))return Ve.some(y);var O=i(y);if(O.isSome())return O}return Ve.none()};return i(n)},Us=function(n,a){return ld(a,n)},Lk=function(n,a,i,s){var f=xu(n),m=f.dom.createRange();return m.setStart(n.dom,a),m.setEnd(i.dom,s),m},Jh=function(n,a,i,s){var f=Lk(n,a,i,s),m=Ti(n,i)&&a===s;return f.collapsed&&!m},Gv=function(n){return Ve.from(n.getSelection())},Zb=function(n){if(n.rangeCount>0){var a=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return Ve.some(Jw.create(on.fromDom(a.startContainer),a.startOffset,on.fromDom(i.endContainer),i.endOffset))}else return Ve.none()},$L=function(n){if(n.anchorNode===null||n.focusNode===null)return Zb(n);var a=on.fromDom(n.anchorNode),i=on.fromDom(n.focusNode);return Jh(a,n.anchorOffset,i,n.focusOffset)?Ve.some(Jw.create(a,n.anchorOffset,i,n.focusOffset)):Zb(n)},VL=function(n){return Gv(n).filter(function(a){return a.rangeCount>0}).bind($L)},nC=function(n,a){var i=Dk(n,a);return _k(i)},Bk=function(n,a){var i=Dk(n,a);return Ok(i)},Zh=function(n,a){return{element:n,offset:a}},UL=function(n,a){var i=ft(n);if(i.length===0)return Zh(n,a);if(a<i.length)return Zh(i[a],0);var s=i[i.length-1],f=$t(s)?Yv(s).length:ft(s).length;return Zh(s,f)},Xv=function(n,a){return $t(n)?Zh(n,a):UL(n,a)},tv=function(n,a){var i=a.getSelection.getOrThunk(function(){return function(){return VL(n)}});return i().map(function(s){var f=Xv(s.start,s.soffset),m=Xv(s.finish,s.foffset);return Qh.range(f.element,f.offset,m.element,m.offset)})},e1=function(n,a,i){var s=nc(a.root).dom,f=xk(n,i,a),m=tv(s,a).bind(function(De){var Je=Bk(s,Qh.exactFromRange(De)).orThunk(function(){var it=on.fromText(Xh);Bt(De.start,it);var dt=nC(s,Qh.exact(it,0,it,1));return Ta(it),dt});return Je.bind(function(it){return Qw(it.left,it.top,it.width,it.height)})}),y=tv(s,a).bind(function(De){return ht(De.start)?Ve.some(De.start):Wc(De.start)}),O=y.getOr(n.element);return Ek(m,f,a,i,O)},yp=[ei("getSelection"),Sr("root"),ei("bubble"),ev(),Dn("overrides",{}),Dn("showAbove",!1),Oi("placement",e1)],mf="link-layout",pf=function(n){return n.x+n.width},t1=function(n,a){return n.x-a.width},rC=function(n,a){return n.y-a.height+n.height},Pk=function(n){return n.y},aC=function(n,a,i){return Gu(pf(n),Pk(n),i.southeast(),Hb(),"southeast",Ou(n,{left:0,top:2}),mf)},wp=function(n,a,i){return Gu(t1(n,a),Pk(n),i.southwest(),Aw(),"southwest",Ou(n,{right:1,top:2}),mf)},Cp=function(n,a,i){return Gu(pf(n),rC(n,a),i.northeast(),_w(),"northeast",Ou(n,{left:0,bottom:3}),mf)},n1=function(n,a,i){return Gu(t1(n,a),rC(n,a),i.northwest(),dp(),"northwest",Ou(n,{right:1,bottom:3}),mf)},oC=function(){return[aC,wp,Cp,n1]},Sp=function(){return[wp,aC,n1,Cp]},r1=function(n,a,i){var s=$w(i,a.item.element),f=Xb(n.element,a,oC(),Sp(),oC(),Sp(),Ve.none());return Ve.some(Yh({anchorBox:s,bubble:Gb(),overrides:a.overrides,layouts:f,placer:Ve.none()}))},jL=[Sr("item"),ev(),Dn("overrides",{}),Oi("placement",r1)],iC=ic("type",{selection:yp,node:hL,hotspot:dL,submenu:jL,makeshift:hk}),a1=[Is("classes",su),sc("mode","all",["all","layout","placement"])],os=[Dn("useFixed",mt),ei("getBounds")],WL=[bl("anchor",iC),zl("transition",a1)],Yf=function(){var n=document.documentElement;return tk(0,0,n.clientWidth,n.clientHeight)},Ik=function(n){var a=fs(n.element),i=n.element.dom.getBoundingClientRect();return ek(a.left,a.top,i.width,i.height)},uC=function(n,a,i,s,f,m,y){var O=Vw(i.anchorBox,a);return iL(O,f.element,i.bubble,i.layouts,m,s,i.overrides,y)},xp=function(n,a,i,s,f){sC(n,a,i,s,f,Ve.none())},sC=function(n,a,i,s,f,m){var y=m.map(nu);return eg(n,a,i,s,f,y)},eg=function(n,a,i,s,f,m){var y=bi("placement.info",Ra(WL),f),O=y.anchor,De=s.element,Je=i.get(s.uid);Z2(function(){Ja(De,"position","fixed");var it=ku(De,"visibility");Ja(De,"visibility","hidden");var dt=a.useFixed()?Yf():Ik(n),_t=O.placement,Nt=m.map(qe).or(a.getBounds);_t(n,O,dt).each(function(Wt){var un=Wt.placer.getOr(uC),kn=un(n,dt,Wt,Nt,s,Je,y.transition);i.set(s.uid,kn)}),it.fold(function(){ri(De,"visibility")},function(Wt){Ja(De,"visibility",Wt)}),ku(De,"left").isNone()&&ku(De,"top").isNone()&&ku(De,"right").isNone()&&ku(De,"bottom").isNone()&&Va(ku(De,"position"),"fixed")&&ri(De,"position")},De)},qL=function(n,a,i){return a.useFixed()?"fixed":"absolute"},Fk=function(n,a,i,s){var f=s.element;xt(["position","left","right","top","bottom"],function(m){return ri(f,m)}),ok(f),i.clear(s.uid)},Hk=Object.freeze({__proto__:null,position:xp,positionWithin:sC,positionWithinBounds:eg,getMode:qL,reset:Fk}),KL=function(){var n={},a=function(f,m){n[f]=m},i=function(f){return jn(n,f)},s=function(f){A(f)?delete n[f]:n={}};return Sl({readState:function(){return n},clear:s,set:a,get:i})},lC=Object.freeze({__proto__:null,init:KL}),Qi=zu({fields:os,name:"positioning",active:J2,apis:Hk,state:lC}),o1=function(n){$o(n,Fh());var a=n.components();xt(a,o1)},i1=function(n){var a=n.components();xt(a,i1),$o(n,Vl())},cC=function(n,a){yn(n.element,a.element)},zk=function(n){xt(n.components(),function(a){return Ta(a.element)}),na(n.element),n.syncComponents()},fC=function(n,a){var i=n.components();zk(n);var s=Br(i,a);xt(s,function(f){o1(f),n.getSystem().removeFromWorld(f)}),xt(a,function(f){f.getSystem().isConnected()?cC(n,f):(n.getSystem().addToWorld(f),cC(n,f),Za(n.element)&&i1(f)),n.syncComponents()})},Qv=function(n,a){$k(n,a,yn)},$k=function(n,a,i){n.getSystem().addToWorld(a),i(n.element,a.element),Za(n.element)&&i1(a),n.syncComponents()},ql=function(n){o1(n),Ta(n.element),n.getSystem().removeFromWorld(n)},Gf=function(n){var a=tu(n.element).bind(function(i){return n.getSystem().getByDom(i).toOptional()});ql(n),a.each(function(i){i.syncComponents()})},dC=function(n){var a=n.components();xt(a,ql),na(n.element),n.syncComponents()},nv=function(n,a){gf(n,a,yn)},hf=function(n,a){gf(n,a,en)},gf=function(n,a,i){i(n,a.element);var s=ft(a.element);xt(s,function(f){a.getByDom(f).each(i1)})},js=function(n){var a=ft(n.element);xt(a,function(i){n.getByDom(i).each(o1)}),Ta(n.element)},bf=function(n,a,i,s){i.get().each(function(y){dC(n)});var f=a.getAttachPoint(n);Qv(f,n);var m=n.getSystem().build(s);return Qv(n,m),i.set(m),m},vC=function(n,a,i,s){var f=bf(n,a,i,s);return a.onOpen(n,f),f},Xf=function(n,a,i,s){return i.get().map(function(){return bf(n,a,i,s)})},Jv=function(n,a,i,s,f){qk(n,a),vC(n,a,i,s),f(),Kk(n,a)},Vk=function(n,a,i){i.get().each(function(s){dC(n),Gf(n),a.onClose(n,s),i.clear()})},Uk=function(n,a,i){return i.isOpen()},YL=function(n,a,i,s){return Uk(n,a,i)&&i.get().exists(function(f){return a.isPartOf(n,f,s)})},GL=function(n,a,i){return i.get()},jk=function(n,a,i,s){ku(n.element,a).fold(function(){Eu(n.element,i)},function(f){vo(n.element,i,f)}),Ja(n.element,a,s)},Wk=function(n,a,i){Yi(n.element,i).fold(function(){return ri(n.element,a)},function(s){return Ja(n.element,a,s)})},qk=function(n,a,i){var s=a.getAttachPoint(n);Ja(n.element,"position",Qi.getMode(s)),jk(n,"visibility",a.cloakVisibilityAttr,"hidden")},XL=function(n){return an(["top","left","right","bottom"],function(a){return ku(n,a).isSome()})},Kk=function(n,a,i){XL(n.element)||ri(n.element,"position"),Wk(n,"visibility",a.cloakVisibilityAttr)},QL=Object.freeze({__proto__:null,cloak:qk,decloak:Kk,open:vC,openWhileCloaked:Jv,close:Vk,isOpen:Uk,isPartOf:YL,getState:GL,setContent:Xf}),Yk=function(n,a){return di([xr(Ph(),function(i,s){Vk(i,n,a)})])},Gk=Object.freeze({__proto__:null,events:Yk}),mC=[Wo("onOpen"),Wo("onClose"),Sr("isPartOf"),Sr("getAttachPoint"),Dn("cloakVisibilityAttr","data-precloak-visibility")],Xk=function(){var n=Xi(),a=qe("not-implemented");return Sl({readState:a,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})},JL=Object.freeze({__proto__:null,init:Xk}),Lo=zu({fields:mC,name:"sandboxing",active:Gk,apis:QL,state:JL}),Zv=qe("dismiss.popups"),Ep=qe("reposition.popups"),pC=qe("mouse.released"),ZL=Hl([Dn("isExtraPart",mt),zl("fireEventInstead",[Dn("event",af())])]),kl=function(n){var a,i=bi("Dismissal",ZL,n);return a={},a[Zv()]={schema:Hl([Sr("target")]),onReceive:function(s,f){if(Lo.isOpen(s)){var m=Lo.isPartOf(s,f.target)||i.isExtraPart(s,f.target);m||i.fireEventInstead.fold(function(){return Lo.close(s)},function(y){return $o(s,y.event)})}}},a},e3=Hl([zl("fireEventInstead",[Dn("event",ms())]),Ms("doReposition")]),em=function(n){var a,i=bi("Reposition",e3,n);return a={},a[Ep()]={onReceive:function(s){Lo.isOpen(s)&&i.fireEventInstead.fold(function(){return i.doReposition(s)},function(f){return $o(s,f.event)})}},a},rv=function(n,a,i){a.store.manager.onLoad(n,a,i)},u1=function(n,a,i){a.store.manager.onUnload(n,a,i)},s1=function(n,a,i,s){a.store.manager.setValue(n,a,i,s)},t3=function(n,a,i){return a.store.manager.getValue(n,a,i)},Qk=function(n,a,i){return i},hC=Object.freeze({__proto__:null,onLoad:rv,onUnload:u1,setValue:s1,getValue:t3,getState:Qk}),gC=function(n,a){var i=n.resetOnDom?[mo(function(s,f){rv(s,n,a)}),dc(function(s,f){u1(s,n,a)})]:[qf(n,a,rv)];return di(i)},kp=Object.freeze({__proto__:null,events:gC}),l1=function(){var n=$a(null),a=function(){return{mode:"memory",value:n.get()}},i=function(){return n.get()===null},s=function(){n.set(null)};return Sl({set:n.set,get:n.get,isNotSet:i,clear:s,readState:a})},n3=function(){var n=$e;return Sl({readState:n})},Qf=function(){var n=$a({}),a=$a({}),i=function(){return{mode:"dataset",dataByValue:n.get(),dataByText:a.get()}},s=function(){n.set({}),a.set({})},f=function(y){return jn(n.get(),y).orThunk(function(){return jn(a.get(),y)})},m=function(y){var O=n.get(),De=a.get(),Je={},it={};xt(y,function(dt){Je[dt.value]=dt,jn(dt,"meta").each(function(_t){jn(_t,"text").each(function(Nt){it[Nt]=dt})})}),n.set(st(st({},O),Je)),a.set(st(st({},De),it))};return Sl({readState:i,lookup:f,update:m,clear:s})},bC=function(n){return n.store.manager.state(n)},yC=Object.freeze({__proto__:null,memory:l1,dataset:Qf,manual:n3,init:bC}),tg=function(n,a,i,s){var f=a.store;i.update([s]),f.setValue(n,s),a.onSetValue(n,s)},Jk=function(n,a,i){var s=a.store,f=s.getDataKey(n);return i.lookup(f).getOrThunk(function(){return s.getFallbackEntry(f)})},c1=function(n,a,i){var s=a.store;s.initialValue.each(function(f){tg(n,a,i,f)})},r3=function(n,a,i){i.clear()},a3=[ei("initialValue"),Sr("getFallbackEntry"),Sr("getDataKey"),Sr("setValue"),Oi("manager",{setValue:tg,getValue:Jk,onLoad:c1,onUnload:r3,state:Qf})],Jf=function(n,a,i){return a.store.getValue(n)},Kl=function(n,a,i,s){a.store.setValue(n,s),a.onSetValue(n,s)},is=function(n,a,i){a.store.initialValue.each(function(s){a.store.setValue(n,s)})},o3=[Sr("getValue"),Dn("setValue",$e),ei("initialValue"),Oi("manager",{setValue:Kl,getValue:Jf,onLoad:is,onUnload:$e,state:Fs.init})],wC=function(n,a,i,s){i.set(s),a.onSetValue(n,s)},Tp=function(n,a,i){return i.get()},Zk=function(n,a,i){a.store.initialValue.each(function(s){i.isNotSet()&&i.set(s)})},eT=function(n,a,i){i.clear()},i3=[ei("initialValue"),Oi("manager",{setValue:wC,getValue:Tp,onLoad:Zk,onUnload:eT,state:l1})],u3=[wl("store",{mode:"memory"},ic("mode",{memory:i3,manual:o3,dataset:a3})),Wo("onSetValue"),Dn("resetOnDom",!1)],Zr=zu({fields:u3,name:"representing",active:kp,apis:hC,extra:{setValueFrom:function(n,a){var i=Zr.getValue(a);Zr.setValue(n,i)}},state:yC}),Mu=function(n,a){return W0(n,{},Pt(a,function(i){return Km(i.name(),"Cannot configure "+i.name()+" for "+n)}).concat([ol("dump",lt)]))},f1=function(n){return n.dump},Xu=function(n,a){return st(st({},Wr(a)),n.dump)},pc={field:Mu,augment:Xu,get:f1},CC="placeholder",ng=cc.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),d1=function(n){return gr(n,"uiType")},v1=function(n,a,i,s){return n.exists(function(f){return f!==i.owner})?ng.single(!0,qe(i)):jn(s,i.name).fold(function(){throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+zn(s)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},function(f){return f.replace()})},tT=function(n,a,i,s){return d1(i)&&i.uiType===CC?v1(n,a,i,s):ng.single(!1,qe(i))},tm=function(n,a,i,s){var f=tT(n,a,i,s);return f.fold(function(m,y){var O=d1(i)?y(a,i.config,i.validated):y(a),De=jn(O,"components").getOr([]),Je=Rn(De,function(it){return tm(n,a,it,s)});return[st(st({},O),{components:Je})]},function(m,y){if(d1(i)){var O=y(a,i.config,i.validated),De=i.validated.preprocess.getOr(lt);return De(O)}else return y(a)})},rg=function(n,a,i,s){return Rn(i,function(f){return tm(n,a,f,s)})},SC=function(n,a){var i=!1,s=function(){return i},f=function(){if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,a},m=function(){return a.fold(function(y,O){return y},function(y,O){return y})};return{name:qe(n),required:m,used:s,replace:f}},s3=function(n,a,i,s){var f=Cr(s,function(y,O){return SC(O,y)}),m=rg(n,a,i,f);return $r(f,function(y){if(y.used()===!1&&y.required())throw new Error("Placeholder: "+y.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(a.components,null,2))}),m},nT=ng.single,l3=ng.multiple,rT=qe(CC),ag=cc.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),pd=Dn("factory",{sketch:lt}),nm=Dn("schema",[]),m1=Sr("name"),xC=Hu("pname","pname",Fo(function(n){return"<alloy."+ha(n.name)+">"}),Zc()),aT=ol("schema",function(){return[ei("preprocess")]}),Ap=Dn("defaults",qe({})),_p=Dn("overrides",qe({})),EC=Ra([pd,nm,m1,xC,Ap,_p]),p1=Ra([pd,nm,m1,Ap,_p]),kC=Ra([pd,nm,m1,xC,Ap,_p]),TC=Ra([pd,aT,m1,Sr("unit"),xC,Ap,_p]),oT=function(n){return n.fold(Ve.some,Ve.none,Ve.some,Ve.some)},iT=function(n){var a=function(i){return i.name};return n.fold(a,a,a,a)},AC=function(n){return n.fold(lt,lt,lt,lt)},h1=function(n,a){return function(i){var s=bi("Converting part type",a,i);return n(s)}},ys=h1(ag.required,EC),Rc=h1(ag.external,p1),Lc=h1(ag.optional,kC),g1=h1(ag.group,TC),_C=qe("entirety"),uT=Object.freeze({__proto__:null,required:ys,external:Rc,optional:Lc,group:g1,asNamedPart:oT,name:iT,asCommon:AC,original:_C}),rm=function(n,a,i,s){return or(a.defaults(n,i,s),i,{uid:n.partUids[a.name]},a.overrides(n,i,s))},Op=function(n,a,i){var s={},f={};return xt(i,function(m){m.fold(function(y){s[y.pname]=nT(!0,function(O,De,Je){return y.factory.sketch(rm(O,y,De,Je))})},function(y){var O=a.parts[y.name];f[y.name]=qe(y.factory.sketch(rm(a,y,O[_C()]),O))},function(y){s[y.pname]=nT(!1,function(O,De,Je){return y.factory.sketch(rm(O,y,De,Je))})},function(y){s[y.pname]=l3(!0,function(O,De,Je){var it=O[y.name];return Pt(it,function(dt){return y.factory.sketch(or(y.defaults(O,dt,Je),dt,y.overrides(O,dt)))})})})}),{internals:qe(s),externals:qe(f)}},og=function(n,a){var i={};return xt(a,function(s){oT(s).each(function(f){var m=c3(n,f.pname);i[f.name]=function(y){var O=bi("Part: "+f.name+" in "+n,Ra(f.schema),y);return st(st({},m),{config:y,validated:O})}})}),i},c3=function(n,a){return{uiType:rT(),owner:n,name:a}},OC=function(n,a,i){return{uiType:rT(),owner:n,name:a,config:i,validated:{}}},sT=function(n){return Rn(n,function(a){return a.fold(Ve.none,Ve.some,Ve.none,Ve.none).map(function(i){return dd(i.name,i.schema.concat([qv(_C())]))}).toArray()})},lT=function(n){return Pt(n,iT)},MC=function(n,a,i){return Op(n,a,i)},DC=function(n,a,i){return s3(Ve.some(n),a,a.components,i)},vi=function(n,a,i){var s=a.partUids[i];return n.getSystem().getByUid(s).toOptional()},Zf=function(n,a,i){return vi(n,a,i).getOrDie("Could not find part: "+i)},cT=function(n,a,i){var s={},f=a.partUids,m=n.getSystem();return xt(i,function(y){s[y]=qe(m.getByUid(f[y]))}),s},fT=function(n,a){var i=n.getSystem();return Cr(a.partUids,function(s,f){return qe(i.getByUid(s))})},dT=function(n){return zn(n.partUids)},b1=function(n,a,i){var s={},f=a.partUids,m=n.getSystem();return xt(i,function(y){s[y]=qe(m.getByUid(f[y]).getOrDie())}),s},NC=function(n,a){var i=lT(a);return Iv(Pt(i,function(s){return{key:s,value:n+"-"+s}}))},ig=function(n){return Hu("partUids","partUids",Os(function(a){return NC(a.uid,n)}),Zc())},qa=Object.freeze({__proto__:null,generate:og,generateOne:OC,schemas:sT,names:lT,substitutes:MC,components:DC,defaultUids:NC,defaultUidsSchema:ig,getAllParts:fT,getAllPartNames:dT,getPart:vi,getPartOrDie:Zf,getParts:cT,getPartsOrDie:b1}),f3=function(n,a){var i=n.length>0?[dd("parts",n)]:[];return i.concat([Sr("uid"),Dn("dom",{}),Dn("components",[]),qv("originalSpec"),Dn("debug.sketcher",{})]).concat(a)},RC=function(n,a,i,s,f){var m=f3(s,f);return bi(n+" [SpecSchema]",Hl(m.concat(a)),i)},d3=function(n,a,i,s){var f=vT(s),m=RC(n,a,f,[],[]);return i(m,f)},LC=function(n,a,i,s,f){var m=vT(f),y=sT(i),O=ig(i),De=RC(n,a,m,y,[O]),Je=MC(n,De,i),it=DC(n,De,Je.internals());return s(De,it,m,Je.externals())},v3=function(n){return gr(n,"uid")},vT=function(n){return v3(n)?n:st(st({},n),{uid:Ud("uid")})},BC=function(n){return n.uid!==void 0},PC=Hl([Sr("name"),Sr("factory"),Sr("configFields"),Dn("apis",{}),Dn("extraApis",{})]),m3=Hl([Sr("name"),Sr("factory"),Sr("configFields"),Sr("partFields"),Dn("apis",{}),Dn("extraApis",{})]),Yl=function(n){var a=bi("Sketcher for "+n.name,PC,n),i=function(m){return d3(a.name,a.configFields,a.factory,m)},s=Cr(a.apis,Gi),f=Cr(a.extraApis,function(m,y){return cw(m,y)});return st(st({name:a.name,configFields:a.configFields,sketch:i},s),f)},Ws=function(n){var a=bi("Sketcher for "+n.name,m3,n),i=function(y){return LC(a.name,a.configFields,a.partFields,a.factory,y)},s=og(a.name,a.partFields),f=Cr(a.apis,Gi),m=Cr(a.extraApis,function(y,O){return cw(y,O)});return st(st({name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:i,parts:s},f),m)},av=function(n){return dn(n)==="input"&&Di(n,"type")!=="radio"||dn(n)==="textarea"},p3=function(n,a,i){return a.find(n)},h3=Object.freeze({__proto__:null,getCurrent:p3}),mT=[Sr("find")],Oo=zu({fields:mT,name:"composing",apis:h3}),g3=["input","button","textarea","select"],y1=function(n,a,i){var s=a.disabled()?IC:E1;s(n,a)},w1=function(n,a){return a.useNative===!0&&qt(g3,dn(n.element))},C1=function(n){return Im(n.element,"disabled")},S1=function(n){vo(n.element,"disabled","disabled")},x1=function(n){Eu(n.element,"disabled")},ug=function(n){return Di(n.element,"aria-disabled")==="true"},b3=function(n){vo(n.element,"aria-disabled","true")},y3=function(n){vo(n.element,"aria-disabled","false")},IC=function(n,a,i){a.disableClass.each(function(f){Au(n.element,f)});var s=w1(n,a)?S1:b3;s(n),a.onDisabled(n)},E1=function(n,a,i){a.disableClass.each(function(f){hu(n.element,f)});var s=w1(n,a)?x1:y3;s(n),a.onEnabled(n)},pT=function(n,a){return w1(n,a)?C1(n):ug(n)},w3=function(n,a,i,s){var f=s?IC:E1;f(n,a)},C3=Object.freeze({__proto__:null,enable:E1,disable:IC,isDisabled:pT,onLoad:y1,set:w3}),S3=function(n,a){return Dc({classes:a.disabled()?a.disableClass.toArray():[]})},x3=function(n,a){return di([x2($l(),function(i,s){return pT(i,n)}),qf(n,a,y1)])},FC=Object.freeze({__proto__:null,exhibit:S3,events:x3}),E3=[Ei("disabled",mt),Dn("useNative",!0),ei("disableClass"),Wo("onDisabled"),Wo("onEnabled")],La=zu({fields:E3,name:"disabling",active:FC,apis:C3}),hT=function(n,a,i,s){var f=Us(n.element,"."+a.highlightClass);xt(f,function(m){an(s,function(y){return y.element===m})||(hu(m,a.highlightClass),n.getSystem().getByDom(m).each(function(y){a.onDehighlight(n,y),$o(y,wb())}))})},gT=function(n,a,i){return hT(n,a,i,[])},k3=function(n,a,i,s){HC(n,a,i,s)&&(hu(s.element,a.highlightClass),a.onDehighlight(n,s),$o(s,wb()))},sg=function(n,a,i,s){hT(n,a,i,[s]),HC(n,a,i,s)||(Au(s.element,a.highlightClass),a.onHighlight(n,s),$o(s,iw()))},bT=function(n,a,i){$C(n,a).each(function(s){sg(n,a,i,s)})},yT=function(n,a,i){VC(n,a).each(function(s){sg(n,a,i,s)})},T3=function(n,a,i,s){CT(n,a,i,s).fold(function(f){throw f},function(f){sg(n,a,i,f)})},wT=function(n,a,i,s){var f=xT(n,a),m=bn(f,s);m.each(function(y){sg(n,a,i,y)})},HC=function(n,a,i,s){return Hs(s.element,a.highlightClass)},zC=function(n,a,i){return _u(n.element,"."+a.highlightClass).bind(function(s){return n.getSystem().getByDom(s).toOptional()})},CT=function(n,a,i,s){var f=Us(n.element,"."+a.itemClass);return Ve.from(f[s]).fold(function(){return Ga.error(new Error("No element found with index "+s))},n.getSystem().getByDom)},$C=function(n,a,i){return _u(n.element,"."+a.itemClass).bind(function(s){return n.getSystem().getByDom(s).toOptional()})},VC=function(n,a,i){var s=Us(n.element,"."+a.itemClass),f=s.length>0?Ve.some(s[s.length-1]):Ve.none();return f.bind(function(m){return n.getSystem().getByDom(m).toOptional()})},ST=function(n,a,i,s){var f=Us(n.element,"."+a.itemClass),m=Kn(f,function(y){return Hs(y,a.highlightClass)});return m.bind(function(y){var O=as(y,s,0,f.length-1);return n.getSystem().getByDom(f[O]).toOptional()})},A3=function(n,a,i){return ST(n,a,i,-1)},_3=function(n,a,i){return ST(n,a,i,1)},xT=function(n,a,i){var s=Us(n.element,"."+a.itemClass);return Ka(Pt(s,function(f){return n.getSystem().getByDom(f).toOptional()}))},O3=Object.freeze({__proto__:null,dehighlightAll:gT,dehighlight:k3,highlight:sg,highlightFirst:bT,highlightLast:yT,highlightAt:T3,highlightBy:wT,isHighlighted:HC,getHighlighted:zC,getFirst:$C,getLast:VC,getPrevious:A3,getNext:_3,getCandidates:xT}),lg=[Sr("highlightClass"),Sr("itemClass"),Wo("onHighlight"),Wo("onDehighlight")],ti=zu({fields:lg,name:"highlighting",apis:O3}),M3=[8],hd=[9],Bc=[13],k1=[27],Tl=[32],T1=[37],am=[38],A1=[39],Mp=[40],D3=function(n,a,i){var s=Vn(n.slice(0,a)),f=Vn(n.slice(a+1));return bn(s.concat(f),i)},N3=function(n,a,i){var s=Vn(n.slice(0,a));return bn(s,i)},R3=function(n,a,i){var s=n.slice(0,a),f=n.slice(a+1);return bn(f.concat(s),i)},L3=function(n,a,i){var s=n.slice(a+1);return bn(s,i)},ko=function(n){return function(a){var i=a.raw;return qt(n,i.which)}},yf=function(n){return function(a){return rr(n,function(i){return i(a)})}},Dp=function(n){var a=n.raw;return a.shiftKey===!0},B3=function(n){var a=n.raw;return a.ctrlKey===!0},cg=It(Dp),Io=function(n,a){return{matches:n,classification:a}},P3=function(n,a){var i=bn(n,function(s){return s.matches(a)});return i.map(function(s){return s.classification})},ET=function(n,a,i){var s=a.exists(function(f){return i.exists(function(m){return Ti(m,f)})});s||Ia(n,bb(),{prevFocus:a,newFocus:i})},fg=function(){var n=function(i){return df(i.element)},a=function(i,s){var f=n(i);i.getSystem().triggerFocus(s,i.element);var m=n(i);ET(i,f,m)};return{get:n,set:a}},kT=function(){var n=function(i){return ti.getHighlighted(i).map(function(s){return s.element})},a=function(i,s){var f=n(i);i.getSystem().getByDom(s).fold($e,function(y){ti.highlight(i,y)});var m=n(i);ET(i,f,m)};return{get:n,set:a}},dg;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(dg||(dg={}));var om=function(n,a,i,s,f){var m=function(){return n.concat([Dn("focusManager",fg()),wl("focusInside","onFocus",Wm(function(Je){return qt(["onFocus","onEnterOrSpace","onApi"],Je)?Ga.value(Je):Ga.error("Invalid value for focusInside")})),Oi("handler",De),Oi("state",a),Oi("sendFocusIn",f)])},y=function(Je,it,dt,_t,Nt){var Wt=dt(Je,it,_t,Nt);return P3(Wt,it.event).bind(function(un){return un(Je,it,_t,Nt)})},O=function(Je,it){var dt=Je.focusInside!==dg.OnFocusMode?Ve.none():f(Je).map(function(Wt){return xr(Jm(),function(un,kn){Wt(un,Je,it),kn.stop()})}),_t=function(Wt,un){var kn=ko(Tl.concat(Bc))(un.event);Je.focusInside===dg.OnEnterOrSpaceMode&&kn&&b2(Wt,un)&&f(Je).each(function(tn){tn(Wt,Je,it),un.stop()})},Nt=[xr(hb(),function(Wt,un){y(Wt,un,i,Je,it).fold(function(){_t(Wt,un)},function(kn){un.stop()})}),xr(w2(),function(Wt,un){y(Wt,un,s,Je,it).each(function(kn){un.stop()})})];return di(dt.toArray().concat(Nt))},De={schema:m,processKey:y,toEvents:O};return De},UC=function(n){var a=[ei("onEscape"),ei("onEnter"),Dn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Dn("firstTabstop",0),Dn("useTabstopAt",vt),ei("visibilitySelector")].concat([n]),i=function(un,kn){var tn=un.visibilitySelector.bind(function(On){return lf(kn,On)}).getOr(kn);return uu(tn)>0},s=function(un,kn){var tn=Us(un.element,kn.selector),On=Zt(tn,function(tr){return i(kn,tr)});return Ve.from(On[kn.firstTabstop])},f=function(un,kn){return kn.focusManager.get(un).bind(function(tn){return lf(tn,kn.selector)})},m=function(un,kn){return i(un,kn)&&un.useTabstopAt(kn)},y=function(un,kn,tn){s(un,kn).each(function(On){kn.focusManager.set(un,On)})},O=function(un,kn,tn,On,tr){return tr(kn,tn,function(Zn){return m(On,Zn)}).fold(function(){return On.cyclic?Ve.some(!0):Ve.none()},function(Zn){return On.focusManager.set(un,Zn),Ve.some(!0)})},De=function(un,kn,tn,On){var tr=Us(un.element,tn.selector);return f(un,tn).bind(function(Zn){var _n=Kn(tr,pt(Ti,Zn));return _n.bind(function(Xn){return O(un,tr,Xn,tn,On)})})},Je=function(un,kn,tn){var On=tn.cyclic?D3:N3;return De(un,kn,tn,On)},it=function(un,kn,tn){var On=tn.cyclic?R3:L3;return De(un,kn,tn,On)},dt=function(un,kn,tn){return tn.onEnter.bind(function(On){return On(un,kn)})},_t=function(un,kn,tn){return tn.onEscape.bind(function(On){return On(un,kn)})},Nt=qe([Io(yf([Dp,ko(hd)]),Je),Io(ko(hd),it),Io(ko(k1),_t),Io(yf([cg,ko(Bc)]),dt)]),Wt=qe([]);return om(a,Fs.init,Nt,Wt,function(){return Ve.some(y)})},jC=UC(ol("cyclic",mt)),TT=UC(ol("cyclic",vt)),AT=function(n,a,i){return Cb(n,i,$l()),Ve.some(!0)},vg=function(n,a,i){var s=av(i)&&ko(Tl)(a.event);return s?Ve.none():AT(n,a,i)},Np=function(n,a){return Ve.some(!0)},I3=[Dn("execute",vg),Dn("useSpace",!1),Dn("useEnter",!0),Dn("useControlEnter",!1),Dn("useDown",!1)],_T=function(n,a,i){return i.execute(n,a,n.element)},_1=function(n,a,i,s){var f=i.useSpace&&!av(n.element)?Tl:[],m=i.useEnter?Bc:[],y=i.useDown?Mp:[],O=f.concat(m).concat(y);return[Io(ko(O),_T)].concat(i.useControlEnter?[Io(yf([B3,ko(Bc)]),_T)]:[])},F3=function(n,a,i,s){return i.useSpace&&!av(n.element)?[Io(ko(Tl),Np)]:[]},WC=om(I3,Fs.init,_1,F3,function(){return Ve.none()}),OT=function(){var n=Xi(),a=function(f,m){n.set({numRows:f,numColumns:m})},i=function(){return n.get().map(function(f){return f.numRows})},s=function(){return n.get().map(function(f){return f.numColumns})};return Sl({readState:function(){return n.get().map(function(f){return{numRows:String(f.numRows),numColumns:String(f.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:a,getNumRows:i,getNumColumns:s})},H3=function(n){return n.state(n)},MT=Object.freeze({__proto__:null,flatgrid:OT,init:H3}),DT=function(n){return function(a,i,s,f){var m=n(a.element);return NT(m,a,i,s,f)}},qC=function(n,a){var i=Gw(n,a);return DT(i)},KC=function(n,a){var i=Gw(a,n);return DT(i)},YC=function(n){return function(a,i,s,f){return NT(n,a,i,s,f)}},NT=function(n,a,i,s,f){var m=s.focusManager.get(a).bind(function(y){return n(a.element,y,s,f)});return m.map(function(y){return s.focusManager.set(a,y),!0})},RT=YC,Rp=YC,Lp=YC,z3=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0},LT=function(n){return!z3(n.dom)},O1=function(n,a){return Kn(n,a).map(function(i){return{index:i,candidates:n}})},BT=function(n,a,i){var s=function(y){return Ti(y,a)},f=Us(n,i),m=Zt(f,LT);return O1(m,s)},PT=function(n,a){return Kn(n,function(i){return Ti(a,i)})},IT=function(n,a,i,s){var f=Math.floor(a/i),m=a%i;return s(f,m).bind(function(y){var O=y.row*i+y.column;return O>=0&&O<n.length?Ve.some(n[O]):Ve.none()})},FT=function(n,a,i,s,f){return IT(n,a,s,function(m,y){var O=m===i-1,De=O?n.length-m*s:s,Je=as(y,f,0,De-1);return Ve.some({row:m,column:Je})})},HT=function(n,a,i,s,f){return IT(n,a,s,function(m,y){var O=as(m,f,0,i-1),De=O===i-1,Je=De?n.length-O*s:s,it=El(y,0,Je-1);return Ve.some({row:O,column:it})})},$3=function(n,a,i,s){return FT(n,a,i,s,1)},V3=function(n,a,i,s){return FT(n,a,i,s,-1)},zT=function(n,a,i,s){return HT(n,a,i,s,-1)},GC=function(n,a,i,s){return HT(n,a,i,s,1)},U3=[Sr("selector"),Dn("execute",vg),xl("onEscape"),Dn("captureTab",!1),Ib()],j3=function(n,a,i){_u(n.element,a.selector).each(function(s){a.focusManager.set(n,s)})},W3=function(n,a){return a.focusManager.get(n).bind(function(i){return lf(i,a.selector)})},q3=function(n,a,i,s){return W3(n,i).bind(function(f){return i.execute(n,a,f)})},ed=function(n){return function(a,i,s,f){return BT(a,i,s.selector).bind(function(m){return n(m.candidates,m.index,f.getNumRows().getOr(s.initSize.numRows),f.getNumColumns().getOr(s.initSize.numColumns))})}},$T=function(n,a,i){return i.captureTab?Ve.some(!0):Ve.none()},K3=function(n,a,i){return i.onEscape(n,a)},M1=ed(V3),VT=ed($3),UT=ed(zT),jT=ed(GC),WT=qe([Io(ko(T1),qC(M1,VT)),Io(ko(A1),KC(M1,VT)),Io(ko(am),RT(UT)),Io(ko(Mp),Rp(jT)),Io(yf([Dp,ko(hd)]),$T),Io(yf([cg,ko(hd)]),$T),Io(ko(k1),K3),Io(ko(Tl.concat(Bc)),q3)]),qT=qe([Io(ko(Tl),Np)]),Y3=om(U3,OT,WT,qT,function(){return Ve.some(j3)}),D1=function(n,a,i,s){var f=function(y){return dn(y)==="button"&&Di(y,"disabled")==="disabled"},m=function(y,O,De){var Je=as(O,s,0,De.length-1);return Je===y?Ve.none():f(De[Je])?m(y,Je,De):Ve.from(De[Je])};return BT(n,i,a).bind(function(y){var O=y.index,De=y.candidates;return m(O,O,De)})},G3=[Sr("selector"),Dn("getInitial",Ve.none),Dn("execute",vg),xl("onEscape"),Dn("executeOnMove",!1),Dn("allowVertical",!0)],XC=function(n,a){return a.focusManager.get(n).bind(function(i){return lf(i,a.selector)})},QC=function(n,a,i){return XC(n,i).bind(function(s){return i.execute(n,a,s)})},N1=function(n,a,i){a.getInitial(n).orThunk(function(){return _u(n.element,a.selector)}).each(function(s){a.focusManager.set(n,s)})},KT=function(n,a,i){return D1(n,i.selector,a,-1)},JC=function(n,a,i){return D1(n,i.selector,a,1)},hc=function(n){return function(a,i,s,f){return n(a,i,s,f).bind(function(){return s.executeOnMove?QC(a,i,s):Ve.some(!0)})}},X3=function(n,a,i){return i.onEscape(n,a)},YT=function(n,a,i,s){var f=T1.concat(i.allowVertical?am:[]),m=A1.concat(i.allowVertical?Mp:[]);return[Io(ko(f),hc(qC(KT,JC))),Io(ko(m),hc(KC(KT,JC))),Io(ko(Bc),QC),Io(ko(Tl),QC),Io(ko(k1),X3)]},GT=qe([Io(ko(Tl),Np)]),Q3=om(G3,Fs.init,YT,GT,function(){return Ve.some(N1)}),mg=function(n,a,i){return Ve.from(n[a]).bind(function(s){return Ve.from(s[i]).map(function(f){return{rowIndex:a,columnIndex:i,cell:f}})})},ZC=function(n,a,i,s){var f=n[a],m=f.length,y=as(i,s,0,m-1);return mg(n,a,y)},eS=function(n,a,i,s){var f=as(i,s,0,n.length-1),m=n[f].length,y=El(a,0,m-1);return mg(n,f,y)},XT=function(n,a,i,s){var f=n[a],m=f.length,y=El(i+s,0,m-1);return mg(n,a,y)},QT=function(n,a,i,s){var f=El(i+s,0,n.length-1),m=n[f].length,y=El(a,0,m-1);return mg(n,f,y)},J3=function(n,a,i){return ZC(n,a,i,1)},Z3=function(n,a,i){return ZC(n,a,i,-1)},JT=function(n,a,i){return eS(n,i,a,-1)},eB=function(n,a,i){return eS(n,i,a,1)},tB=function(n,a,i){return XT(n,a,i,-1)},ZT=function(n,a,i){return XT(n,a,i,1)},nB=function(n,a,i){return QT(n,i,a,-1)},rB=function(n,a,i){return QT(n,i,a,1)},aB=[dd("selectors",[Sr("row"),Sr("cell")]),Dn("cycles",!0),Dn("previousSelector",Ve.none),Dn("execute",vg)],oB=function(n,a,i){var s=a.previousSelector(n).orThunk(function(){var f=a.selectors;return _u(n.element,f.cell)});s.each(function(f){a.focusManager.set(n,f)})},iB=function(n,a,i){return df(n.element).bind(function(s){return i.execute(n,a,s)})},eA=function(n,a){return Pt(n,function(i){return Us(i,a.selectors.cell)})},pg=function(n,a){return function(i,s,f){var m=f.cycles?n:a;return lf(s,f.selectors.row).bind(function(y){var O=Us(y,f.selectors.cell);return PT(O,s).bind(function(De){var Je=Us(i,f.selectors.row);return PT(Je,y).bind(function(it){var dt=eA(Je,f);return m(dt,it,De).map(function(_t){return _t.cell})})})})}},tS=pg(Z3,tB),im=pg(J3,ZT),tA=pg(JT,nB),nA=pg(eB,rB),nS=qe([Io(ko(T1),qC(tS,im)),Io(ko(A1),KC(tS,im)),Io(ko(am),RT(tA)),Io(ko(Mp),Rp(nA)),Io(ko(Tl.concat(Bc)),iB)]),uB=qe([Io(ko(Tl),Np)]),sB=om(aB,Fs.init,nS,uB,function(){return Ve.some(oB)}),lB=[Sr("selector"),Dn("execute",vg),Dn("moveOnTab",!1)],rA=function(n,a,i){return i.focusManager.get(n).bind(function(s){return i.execute(n,a,s)})},aA=function(n,a,i){_u(n.element,a.selector).each(function(s){a.focusManager.set(n,s)})},R1=function(n,a,i){return D1(n,i.selector,a,-1)},L1=function(n,a,i){return D1(n,i.selector,a,1)},cB=function(n,a,i,s){return i.moveOnTab?Lp(R1)(n,a,i,s):Ve.none()},ov=function(n,a,i,s){return i.moveOnTab?Lp(L1)(n,a,i,s):Ve.none()},oA=qe([Io(ko(am),Lp(R1)),Io(ko(Mp),Lp(L1)),Io(yf([Dp,ko(hd)]),cB),Io(yf([cg,ko(hd)]),ov),Io(ko(Bc),rA),Io(ko(Tl),rA)]),iA=qe([Io(ko(Tl),Np)]),fB=om(lB,Fs.init,oA,iA,function(){return Ve.some(aA)}),dB=[xl("onSpace"),xl("onEnter"),xl("onShiftEnter"),xl("onLeft"),xl("onRight"),xl("onTab"),xl("onShiftTab"),xl("onUp"),xl("onDown"),xl("onEscape"),Dn("stopSpaceKeyup",!1),ei("focusIn")],Bp=function(n,a,i){return[Io(ko(Tl),i.onSpace),Io(yf([cg,ko(Bc)]),i.onEnter),Io(yf([Dp,ko(Bc)]),i.onShiftEnter),Io(yf([Dp,ko(hd)]),i.onShiftTab),Io(yf([cg,ko(hd)]),i.onTab),Io(ko(am),i.onUp),Io(ko(Mp),i.onDown),Io(ko(T1),i.onLeft),Io(ko(A1),i.onRight),Io(ko(Tl),i.onSpace),Io(ko(k1),i.onEscape)]},Pp=function(n,a,i){return i.stopSpaceKeyup?[Io(ko(Tl),Np)]:[]},uA=om(dB,Fs.init,Bp,Pp,function(n){return n.focusIn}),sA=jC.schema(),iv=TT.schema(),uv=Q3.schema(),vB=Y3.schema(),mB=sB.schema(),um=WC.schema(),pB=fB.schema(),hB=uA.schema(),gB=Object.freeze({__proto__:null,acyclic:sA,cyclic:iv,flow:uv,flatgrid:vB,matrix:mB,execution:um,menu:pB,special:hB}),lA=function(n){return sa(n,"setGridSize")},_a=pp({branchKey:"mode",branches:gB,name:"keying",active:{events:function(n,a){var i=n.handler;return i.toEvents(n,a)}},apis:{focusIn:function(n,a,i){a.sendFocusIn(a).fold(function(){n.getSystem().triggerFocus(n.element,n.element)},function(s){s(n,a,i)})},setGridSize:function(n,a,i,s,f){lA(i)&&i.setGridSize(s,f)}},state:MT}),rS=function(n,a,i,s){Z2(function(){var f=Pt(s,n.getSystem().build);fC(n,f)},n.element)},B1=function(n,a,i,s){var f=n.getSystem().build(s);$k(n,f,i)},cA=function(n,a,i,s){B1(n,a,yn,s)},fA=function(n,a,i,s){B1(n,a,Vt,s)},P1=function(n,a,i,s){var f=hg(n),m=bn(f,function(y){return Ti(s.element,y.element)});m.each(Gf)},hg=function(n,a){return n.components()},dA=function(n,a,i,s,f){var m=hg(n);return Ve.from(m[s]).map(function(y){return P1(n,a,i,y),f.each(function(O){B1(n,a,function(De,Je){ur(De,Je,s)},O)}),y})},bB=function(n,a,i,s,f){var m=hg(n);return Kn(m,s).bind(function(y){return dA(n,a,i,y,f)})},yB=Object.freeze({__proto__:null,append:cA,prepend:fA,remove:P1,replaceAt:dA,replaceBy:bB,set:rS,contents:hg}),to=zu({fields:[],name:"replacing",apis:yB}),aS=function(n,a){var i=di(a);return zu({fields:[Sr("enabled")],name:n,active:{events:qe(i)}})},so=function(n,a){var i=aS(n,a);return{key:n,value:{config:{},me:i,configAsRaw:qe({}),initialConfig:{},state:Fs}}},vA=function(n,a){a.ignore||(cf(n.element),a.onFocus(n))},wB=function(n,a){a.ignore||Fw(n.element)},mA=function(n){return Hw(n.element)},pA=Object.freeze({__proto__:null,focus:vA,blur:wB,isFocused:mA}),hA=function(n,a){var i=a.ignore?{}:{attributes:{tabindex:"-1"}};return Dc(i)},gA=function(n){return di([xr(Jm(),function(a,i){vA(a,n),i.stop()})].concat(n.stopMousedown?[xr(Mc(),function(a,i){i.event.prevent()})]:[]))},CB=Object.freeze({__proto__:null,exhibit:hA,events:gA}),oS=[Wo("onFocus"),Dn("stopMousedown",!1),Dn("ignore",!1)],no=zu({fields:oS,name:"focusing",active:CB,apis:pA}),SB=function(n){var a=function(){var i=$a(n),s=function(){return i.get()},f=function(O){return i.set(O)},m=function(){return i.set(n)},y=function(){return i.get()};return{get:s,set:f,clear:m,readState:y}};return{init:a}},bA=function(n,a,i){var s=a.aria;s.update(n,s,i.get())},yA=function(n,a,i){a.toggleClass.each(function(s){i.get()?Au(n.element,s):hu(n.element,s)})},gg=function(n,a,i){I1(n,a,i,!i.get())},wA=function(n,a,i){i.set(!0),yA(n,a,i),bA(n,a,i)},bg=function(n,a,i){i.set(!1),yA(n,a,i),bA(n,a,i)},I1=function(n,a,i,s){var f=s?wA:bg;f(n,a,i)},CA=function(n,a,i){return i.get()},SA=function(n,a,i){I1(n,a,i,a.selected)},xB=Object.freeze({__proto__:null,onLoad:SA,toggle:gg,isOn:CA,on:wA,off:bg,set:I1}),EB=function(){return Dc({})},kB=function(n,a){var i=Ub(n,a,gg),s=qf(n,a,SA);return di(Jt([n.toggleOnExecute?[i]:[],[s]]))},TB=Object.freeze({__proto__:null,exhibit:EB,events:kB}),AB=function(n,a,i){vo(n.element,"aria-pressed",i),a.syncWithExpanded&&iS(n,a,i)},xA=function(n,a,i){vo(n.element,"aria-selected",i)},_B=function(n,a,i){vo(n.element,"aria-checked",i)},iS=function(n,a,i){vo(n.element,"aria-expanded",i)},F1=[Dn("selected",!1),ei("toggleClass"),Dn("toggleOnExecute",!0),wl("aria",{mode:"none"},ic("mode",{pressed:[Dn("syncWithExpanded",!1),Oi("update",AB)],checked:[Oi("update",_B)],expanded:[Oi("update",iS)],selected:[Oi("update",xA)],none:[Oi("update",$e)]}))],Mo=zu({fields:F1,name:"toggling",active:TB,apis:xB,state:SB(!1)}),H1=function(){var n=function(a,i){i.stop(),Ul(a)};return[xr(Rh(),n),xr(Zm(),n),Hv(vd()),Hv(Mc())]},z1=function(n){var a=function(i){return vc(function(s,f){i(s),f.stop()})};return di(Jt([n.map(a).toArray(),H1()]))},EA="alloy.item-hover",kA="alloy.item-focus",TA=function(n){(df(n.element).isNone()||no.isFocused(n))&&(no.isFocused(n)||no.focus(n),Ia(n,EA,{item:n}))},uS=function(n){Ia(n,kA,{item:n})},sS=qe(EA),OB=qe(kA),MB=function(n){return{dom:n.dom,domModification:st(st({},n.domModification),{attributes:st(st(st({role:n.toggling.isSome()?"menuitemcheckbox":"menuitem"},n.domModification.attributes),{"aria-haspopup":n.hasSubmenu}),n.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:pc.augment(n.itemBehaviours,[n.toggling.fold(Mo.revoke,function(a){return Mo.config(st({aria:{mode:"checked"}},a))}),no.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:function(a){uS(a)}}),_a.config({mode:"execution"}),Zr.config({store:{mode:"memory",initialValue:n.data}}),so("item-type-events",nn(nn([],H1(),!0),[xr(Bd(),TA),xr(Bh(),no.focus)],!1))]),components:n.components,eventOrder:n.eventOrder}},DB=[Sr("data"),Sr("components"),Sr("dom"),Dn("hasSubmenu",!1),ei("toggling"),pc.field("itemBehaviours",[Mo,no,_a,Zr]),Dn("ignoreFocus",!1),Dn("domModification",{}),Oi("builder",MB),Dn("eventOrder",{})],NB=function(n){return{dom:n.dom,components:n.components,events:di([np(Bh())])}},RB=[Sr("dom"),Sr("components"),Oi("builder",NB)],lS=qe("item-widget"),$1=qe([ys({name:"widget",overrides:function(n){return{behaviours:Wr([Zr.config({store:{mode:"manual",getValue:function(a){return n.data},setValue:$e}})])}}})]),LB=function(n){var a=MC(lS(),n,$1()),i=DC(lS(),n,a.internals()),s=function(m){return vi(m,n,"widget").map(function(y){return _a.focusIn(y),y})},f=function(m,y){return av(y.event.target)?Ve.none():function(){return n.autofocus&&y.setSource(m.element),Ve.none()}()};return{dom:n.dom,components:i,domModification:n.domModification,events:di([vc(function(m,y){s(m).each(function(O){y.stop()})}),xr(Bd(),TA),xr(Bh(),function(m,y){n.autofocus?s(m):no.focus(m)})]),behaviours:pc.augment(n.widgetBehaviours,[Zr.config({store:{mode:"memory",initialValue:n.data}}),no.config({ignore:n.ignoreFocus,onFocus:function(m){uS(m)}}),_a.config({mode:"special",focusIn:n.autofocus?function(m){s(m)}:KR(),onLeft:f,onRight:f,onEscape:function(m,y){return!no.isFocused(m)&&!n.autofocus?(no.focus(m),Ve.some(!0)):(n.autofocus&&y.setSource(m.element),Ve.none())}})])}},BB=[Sr("uid"),Sr("data"),Sr("components"),Sr("dom"),Dn("autofocus",!1),Dn("ignoreFocus",!1),pc.field("widgetBehaviours",[Zr,no,_a]),Dn("domModification",{}),ig($1()),Oi("builder",LB)],PB=ic("type",{widget:BB,item:DB,separator:RB}),IB=function(n,a){return{mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:n.focusManager}},FB=function(n,a){return{mode:"matrix",selectors:{row:a.rowSelector,cell:"."+n.markers.item},focusManager:n.focusManager}},sm=function(n,a){return{mode:"menu",selector:"."+n.markers.item,moveOnTab:a.moveOnTab,focusManager:n.focusManager}},HB=qe([g1({factory:{sketch:function(n){var a=bi("menu.spec item",PB,n);return a.builder(a)}},name:"items",unit:"item",defaults:function(n,a){return gr(a,"uid")?a:st(st({},a),{uid:Ud("item")})},overrides:function(n,a){return{type:a.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}}}})]),cS=qe([Sr("value"),Sr("items"),Sr("dom"),Sr("components"),Dn("eventOrder",{}),Mu("menuBehaviours",[ti,Zr,Oo,_a]),wl("movement",{mode:"menu",moveOnTab:!0},ic("mode",{grid:[Ib(),Oi("config",IB)],matrix:[Oi("config",FB),Sr("rowSelector")],menu:[Dn("moveOnTab",!0),Oi("config",sm)]})),IR(),Dn("fakeFocus",!1),Dn("focusManager",fg()),Wo("onHighlight")]),AA=qe("alloy.menu-focus"),fS=function(n,a,i,s){return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Xu(n.menuBehaviours,[ti.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight}),Zr.config({store:{mode:"memory",initialValue:n.value}}),Oo.config({find:Ve.some}),_a.config(n.movement.config(n,n.movement))]),events:di([xr(OB(),function(f,m){var y=m.event;f.getSystem().getByDom(y.target).each(function(O){ti.highlight(f,O),m.stop(),Ia(f,AA(),{menu:f,item:O})})}),xr(sS(),function(f,m){var y=m.event.item;ti.highlight(f,y)})]),components:a,eventOrder:n.eventOrder,domModification:{attributes:{role:"menu"}}}},sv=Ws({name:"Menu",configFields:cS(),partFields:HB(),factory:fS}),yg=function(n){return Nn(n,function(a,i){return{k:a,v:i}})},wg=function(n,a,i,s){return jn(i,s).bind(function(f){return jn(n,f).bind(function(m){var y=wg(n,a,i,m);return Ve.some([m].concat(y))})}).getOr([])},_A=function(n,a){var i={};$r(n,function(y,O){xt(y,function(De){i[De]=O})});var s=a,f=yg(a),m=Cr(f,function(y,O){return[O].concat(wg(i,s,f,O))});return Cr(i,function(y){return jn(m,y).getOr([y])})},OA=function(){var n=$a({}),a=$a({}),i=$a({}),s=Xi(),f=$a({}),m=function(){n.set({}),a.set({}),i.set({}),s.clear()},y=function(){return s.get().isNone()},O=function(_n,Xn){var dr;a.set(st(st({},a.get()),(dr={},dr[_n]={type:"prepared",menu:Xn},dr)))},De=function(_n,Xn,dr,Xr){s.set(_n),n.set(dr),a.set(Xn),f.set(Xr);var wr=_A(Xr,dr);i.set(wr)},Je=function(_n){return hn(n.get(),function(Xn,dr){return Xn===_n})},it=function(_n,Xn,dr){return un(_n).bind(function(Xr){return Je(_n).bind(function(wr){return Xn(wr).map(function(Jr){return{triggeredMenu:Xr,triggeringItem:Jr,triggeringPath:dr}})})})},dt=function(_n,Xn){var dr=Zt(tn(_n).toArray(),function(Xr){return un(Xr).isSome()});return jn(i.get(),_n).bind(function(Xr){var wr=Vn(dr.concat(Xr)),Jr=Rn(wr,function(Er,cr){return it(Er,Xn,wr.slice(0,cr+1)).fold(function(){return Va(s.get(),Er)?[]:[Ve.none()]},function(Hr){return[Ve.some(Hr)]})});return Ya(Jr)})},_t=function(_n){return jn(n.get(),_n).map(function(Xn){var dr=jn(i.get(),_n).getOr([]);return[Xn].concat(dr)})},Nt=function(_n){return jn(i.get(),_n).bind(function(Xn){return Xn.length>1?Ve.some(Xn.slice(1)):Ve.none()})},Wt=function(_n){return jn(i.get(),_n)},un=function(_n){return kn(_n).bind(MA)},kn=function(_n){return jn(a.get(),_n)},tn=function(_n){return jn(n.get(),_n)},On=function(_n){var Xn=f.get();return Br(zn(Xn),_n)},tr=function(){return s.get().bind(un)},Zn=function(){return a.get()};return{setMenuBuilt:O,setContents:De,expand:_t,refresh:Wt,collapse:Nt,lookupMenu:kn,lookupItem:tn,otherMenus:On,getPrimary:tr,getMenus:Zn,clear:m,isClear:y,getTriggeringPath:dt}},MA=function(n){return n.type==="prepared"?Ve.some(n.menu):Ve.none()},DA={init:OA,extractPreparedMenu:MA},zB=function(n,a){var i=Xi(),s=function(br,ma,Sa){return Cr(Sa,function(To,Yo){var ki=function(){return sv.sketch(st(st({},To),{value:Yo,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:n.onHighlight,focusManager:n.fakeFocus?kT():fg()}))};return Yo===ma?{type:"prepared",menu:br.getSystem().build(ki())}:{type:"notbuilt",nbMenu:ki}})},f=DA.init(),m=function(br){var ma=s(br,n.data.primary,n.data.menus),Sa=De();return f.setContents(n.data.primary,ma,n.data.expansions,Sa),f.getPrimary()},y=function(br){return Zr.getValue(br).value},O=function(br,ma,Sa){return Pn(ma,function(To){if(!To.getSystem().isConnected())return Ve.none();var Yo=ti.getCandidates(To);return bn(Yo,function(ki){return y(ki)===Sa})})},De=function(br){return Cr(n.data.menus,function(ma,Sa){return Rn(ma.items,function(To){return To.type==="separator"?[]:[To.data.value]})})},Je=function(br,ma){ti.highlight(br,ma),ti.getHighlighted(ma).orThunk(function(){return ti.getFirst(ma)}).each(function(Sa){Cb(br,Sa.element,Bh())})},it=function(br,ma){return Ka(Pt(ma,function(Sa){return br.lookupMenu(Sa).bind(function(To){return To.type==="prepared"?Ve.some(To.menu):Ve.none()})}))},dt=function(br,ma,Sa){var To=it(ma,ma.otherMenus(Sa));xt(To,function(Yo){jl(Yo.element,[n.markers.backgroundMenu]),n.stayInDom||to.remove(br,Yo)})},_t=function(br){return i.get().getOrThunk(function(){var ma={},Sa=Us(br.element,"."+n.markers.item),To=Zt(Sa,function(Yo){return Di(Yo,"aria-haspopup")==="true"});return xt(To,function(Yo){br.getSystem().getByDom(Yo).each(function(ki){var Fi=y(ki);ma[Fi]=ki})}),i.set(ma),ma})},Nt=function(br,ma){var Sa=_t(br);$r(Sa,function(To,Yo){var ki=qt(ma,Yo);vo(To.element,"aria-expanded",ki)})},Wt=function(br,ma,Sa){return Ve.from(Sa[0]).bind(function(To){return ma.lookupMenu(To).bind(function(Yo){if(Yo.type==="notbuilt")return Ve.none();var ki=Yo.menu,Fi=it(ma,Sa.slice(1));return xt(Fi,function(Dl){Au(Dl.element,n.markers.backgroundMenu)}),Za(ki.element)||to.append(br,Wl(ki)),jl(ki.element,[n.markers.backgroundMenu]),Je(br,ki),dt(br,ma,Sa),Ve.some(ki)})})},un;(function(br){br[br.HighlightSubmenu=0]="HighlightSubmenu",br[br.HighlightParent=1]="HighlightParent"})(un||(un={}));var kn=function(br,ma,Sa){if(Sa.type==="notbuilt"){var To=br.getSystem().build(Sa.nbMenu());return f.setMenuBuilt(ma,To),To}else return Sa.menu},tn=function(br,ma,Sa){if(Sa===void 0&&(Sa=un.HighlightSubmenu),ma.hasConfigured(La)&&La.isDisabled(ma))return Ve.some(ma);var To=y(ma);return f.expand(To).bind(function(Yo){return Nt(br,Yo),Ve.from(Yo[0]).bind(function(ki){return f.lookupMenu(ki).bind(function(Fi){var Dl=kn(br,ki,Fi);return Za(Dl.element)||to.append(br,Wl(Dl)),n.onOpenSubmenu(br,ma,Dl,Vn(Yo)),Sa===un.HighlightSubmenu?(ti.highlightFirst(Dl),Wt(br,f,Yo)):(ti.dehighlightAll(Dl),Ve.some(ma))})})})},On=function(br,ma){var Sa=y(ma);return f.collapse(Sa).bind(function(To){return Nt(br,To),Wt(br,f,To).map(function(Yo){return n.onCollapseMenu(br,ma,Yo),Yo})})},tr=function(br,ma){var Sa=y(ma);return f.refresh(Sa).bind(function(To){return Nt(br,To),Wt(br,f,To)})},Zn=function(br,ma){return av(ma.element)?Ve.none():tn(br,ma,un.HighlightSubmenu)},_n=function(br,ma){return av(ma.element)?Ve.none():On(br,ma)},Xn=function(br,ma){return On(br,ma).orThunk(function(){return n.onEscape(br,ma).map(function(){return br})})},dr=function(br){return function(ma,Sa){return lf(Sa.getSource(),"."+n.markers.item).bind(function(To){return ma.getSystem().getByDom(To).toOptional().bind(function(Yo){return br(ma,Yo).map(vt)})})}},Xr=di([xr(AA(),function(br,ma){var Sa=ma.event.item;f.lookupItem(y(Sa)).each(function(){var To=ma.event.menu;ti.highlight(br,To);var Yo=y(ma.event.item);f.refresh(Yo).each(function(ki){return dt(br,f,ki)})})}),vc(function(br,ma){var Sa=ma.event.target;br.getSystem().getByDom(Sa).each(function(To){var Yo=y(To);Yo.indexOf("collapse-item")===0&&On(br,To),tn(br,To,un.HighlightSubmenu).fold(function(){n.onExecute(br,To)},$e)})}),mo(function(br,ma){m(br).each(function(Sa){to.append(br,Wl(Sa)),n.onOpenMenu(br,Sa),n.highlightImmediately&&Je(br,Sa)})})].concat(n.navigateOnHover?[xr(sS(),function(br,ma){var Sa=ma.event.item;tr(br,Sa),tn(br,Sa,un.HighlightParent),n.onHover(br,Sa)})]:[])),wr=function(br){return ti.getHighlighted(br).bind(ti.getHighlighted)},Jr=function(br){wr(br).each(function(ma){On(br,ma)})},Er=function(br){f.getPrimary().each(function(ma){Je(br,ma)})},cr=function(br){return Ve.from(br.components()[0]).filter(function(ma){return Di(ma.element,"role")==="menu"})},Hr=function(br){var ma=f.getPrimary().bind(function(Sa){return wr(br).bind(function(To){var Yo=y(To),ki=Qn(f.getMenus()),Fi=Ka(Pt(ki,DA.extractPreparedMenu));return f.getTriggeringPath(Yo,function(Dl){return O(br,Fi,Dl)})}).map(function(To){return{primary:Sa,triggeringPath:To}})});ma.fold(function(){cr(br).each(function(Sa){n.onRepositionMenu(br,Sa,[])})},function(Sa){var To=Sa.primary,Yo=Sa.triggeringPath;n.onRepositionMenu(br,To,Yo)})},pa={collapseMenu:Jr,highlightPrimary:Er,repositionMenus:Hr};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Xu(n.tmenuBehaviours,[_a.config({mode:"special",onRight:dr(Zn),onLeft:dr(_n),onEscape:dr(Xn),focusIn:function(br,ma){f.getPrimary().each(function(Sa){Cb(br,Sa.element,Bh())})}}),ti.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),Oo.config({find:function(br){return ti.getHighlighted(br)}}),to.config({})]),eventOrder:n.eventOrder,apis:pa,events:Xr}},$B=qe("collapse-item"),dS=function(n,a,i){return{primary:n,menus:a,expansions:i}},NA=function(n,a){return{primary:n,menus:$f(n,a),expansions:{}}},RA=function(n){return{value:ha($B()),meta:{text:n}}},gd=Yl({name:"TieredMenu",configFields:[il("onExecute"),il("onEscape"),$s("onOpenMenu"),$s("onOpenSubmenu"),Wo("onRepositionMenu"),Wo("onCollapseMenu"),Dn("highlightImmediately",!0),dd("data",[Sr("primary"),Sr("menus"),Sr("expansions")]),Dn("fakeFocus",!1),Wo("onHighlight"),Wo("onHover"),Bb(),Sr("dom"),Dn("navigateOnHover",!0),Dn("stayInDom",!1),Mu("tmenuBehaviours",[_a,ti,Oo,to]),Dn("eventOrder",{})],apis:{collapseMenu:function(n,a){n.collapseMenu(a)},highlightPrimary:function(n,a){n.highlightPrimary(a)},repositionMenus:function(n,a){n.repositionMenus(a)}},factory:zB,extraApis:{tieredData:dS,singleData:NA,collapseItem:RA}}),VB=function(n,a,i,s,f){var m=function(){return n.lazySink(a)},y=s.type==="horizontal"?{layouts:{onLtr:function(){return Pw()},onRtl:function(){return Vb()}}}:{},O=function(Je){return Je.length===2},De=function(Je){return O(Je)?y:{}};return gd.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return Lo.close(a),n.onEscape.map(function(Je){return Je(a)}),Ve.some(!0)},onExecute:function(){return Ve.some(!0)},onOpenMenu:function(Je,it){Qi.positionWithinBounds(m().getOrDie(),it,i,f())},onOpenSubmenu:function(Je,it,dt,_t){var Nt=m().getOrDie();Qi.position(Nt,dt,{anchor:st({type:"submenu",item:it},De(_t))})},onRepositionMenu:function(Je,it,dt){var _t=m().getOrDie();Qi.positionWithinBounds(_t,it,i,f()),xt(dt,function(Nt){var Wt=De(Nt.triggeringPath);Qi.position(_t,Nt.triggeredMenu,{anchor:st({type:"submenu",item:Nt.triggeringItem},Wt)})})}})},LA=function(n,a){var i=function(Nt,Wt){var un=n.getRelated(Nt);return un.exists(function(kn){return jv(kn,Wt)})},s=function(Nt,Wt){Lo.setContent(Nt,Wt)},f=function(Nt,Wt,un){m(Nt,Wt,un,Ve.none())},m=function(Nt,Wt,un,kn){y(Nt,Wt,un,function(){return kn.map(function(tn){return nu(tn)})})},y=function(Nt,Wt,un,kn){var tn=n.lazySink(Nt).getOrDie();Lo.openWhileCloaked(Nt,Wt,function(){return Qi.positionWithinBounds(tn,Nt,un,kn())}),Zr.setValue(Nt,Ve.some({mode:"position",config:un,getBounds:kn}))},O=function(Nt,Wt,un){De(Nt,Wt,un,Ve.none)},De=function(Nt,Wt,un,kn){var tn=VB(n,Nt,Wt,un,kn);Lo.open(Nt,tn),Zr.setValue(Nt,Ve.some({mode:"menu",menu:tn}))},Je=function(Nt){Lo.isOpen(Nt)&&(Zr.setValue(Nt,Ve.none()),Lo.close(Nt))},it=function(Nt){return Lo.getState(Nt)},dt=function(Nt){Lo.isOpen(Nt)&&Zr.getValue(Nt).each(function(Wt){switch(Wt.mode){case"menu":Lo.getState(Nt).each(gd.repositionMenus);break;case"position":var un=n.lazySink(Nt).getOrDie();Qi.positionWithinBounds(un,Nt,Wt.config,Wt.getBounds());break}})},_t={setContent:s,showAt:f,showWithin:m,showWithinBounds:y,showMenuAt:O,showMenuWithinBounds:De,hide:Je,getContent:it,reposition:dt,isOpen:Lo.isOpen};return{uid:n.uid,dom:n.dom,behaviours:Xu(n.inlineBehaviours,[Lo.config({isPartOf:function(Nt,Wt,un){return jv(Wt,un)||i(Nt,un)},getAttachPoint:function(Nt){return n.lazySink(Nt).getOrDie()},onOpen:function(Nt){n.onShow(Nt)},onClose:function(Nt){n.onHide(Nt)}}),Zr.config({store:{mode:"memory",initialValue:Ve.none()}}),ll.config({channels:st(st({},kl(st({isExtraPart:a.isExtraPart},n.fireDismissalEventInstead.map(function(Nt){return{fireEventInstead:{event:Nt.event}}}).getOr({})))),em(st(st({},n.fireRepositionEventInstead.map(function(Nt){return{fireEventInstead:{event:Nt.event}}}).getOr({})),{doReposition:dt})))})]),eventOrder:n.eventOrder,apis:_t}},zi=Yl({name:"InlineView",configFields:[Sr("lazySink"),Wo("onShow"),Wo("onHide"),Pv("onEscape"),Mu("inlineBehaviours",[Lo,Zr,ll]),zl("fireDismissalEventInstead",[Dn("event",af())]),zl("fireRepositionEventInstead",[Dn("event",ms())]),Dn("getRelated",Ve.none),Dn("isExtraPart",mt),Dn("eventOrder",Ve.none)],factory:LA,apis:{showAt:function(n,a,i,s){n.showAt(a,i,s)},showWithin:function(n,a,i,s,f){n.showWithin(a,i,s,f)},showWithinBounds:function(n,a,i,s,f){n.showWithinBounds(a,i,s,f)},showMenuAt:function(n,a,i,s){n.showMenuAt(a,i,s)},showMenuWithinBounds:function(n,a,i,s,f){n.showMenuWithinBounds(a,i,s,f)},hide:function(n,a){n.hide(a)},isOpen:function(n,a){return n.isOpen(a)},getContent:function(n,a){return n.getContent(a)},setContent:function(n,a,i){n.setContent(a,i)},reposition:function(n,a){n.reposition(a)}}}),lv="layout-inset",vS=function(n){return n.x},mS=function(n,a){return n.x+n.width/2-a.width/2},V1=function(n,a){return n.x+n.width-a.width},pS=function(n){return n.y},hS=function(n,a){return n.y+n.height-a.height},U1=function(n,a){return n.y+n.height/2-a.height/2},Cg=function(n,a,i){return Gu(V1(n,a),hS(n,a),i.insetSouthwest(),dp(),"southwest",Ou(n,{right:0,bottom:3}),lv)},Sg=function(n,a,i){return Gu(vS(n),hS(n,a),i.insetSoutheast(),_w(),"southeast",Ou(n,{left:1,bottom:3}),lv)},xg=function(n,a,i){return Gu(V1(n,a),pS(n),i.insetNorthwest(),Aw(),"northwest",Ou(n,{right:0,top:2}),lv)},lm=function(n,a,i){return Gu(vS(n),pS(n),i.insetNortheast(),Hb(),"northeast",Ou(n,{left:1,top:2}),lv)},wf=function(n,a,i){return Gu(mS(n,a),pS(n),i.insetNorth(),V2(),"north",Ou(n,{top:2}),lv)},Ip=function(n,a,i){return Gu(mS(n,a),hS(n,a),i.insetSouth(),U2(),"south",Ou(n,{bottom:3}),lv)},BA=function(n,a,i){return Gu(V1(n,a),U1(n,a),i.insetEast(),Mw(),"east",Ou(n,{right:0}),lv)},PA=function(n,a,i){return Gu(vS(n),U1(n,a),i.insetWest(),Ow(),"west",Ou(n,{left:1}),lv)},UB=function(n){switch(n){case"north":return wf;case"northeast":return lm;case"northwest":return xg;case"south":return Ip;case"southeast":return Sg;case"southwest":return Cg;case"east":return BA;case"west":return PA}},gS=function(n,a,i,s,f){var m=ak(s).map(UB).getOr(wf);return m(n,a,i,s,f)},bS=function(n){switch(n){case"north":return Ip;case"northeast":return Sg;case"northwest":return Cg;case"south":return wf;case"southeast":return lm;case"southwest":return xg;case"east":return PA;case"west":return BA}},jB=function(n,a,i,s,f){var m=ak(s).map(bS).getOr(wf);return m(n,a,i,s,f)},Cf=tinymce.util.Tools.resolve("tinymce.util.Delay"),WB=function(n){var a=z1(n.action),i=n.dom.tag,s=function(m){return jn(n.dom,"attributes").bind(function(y){return jn(y,m)})},f=function(){if(i==="button"){var m=s("type").getOr("button"),y=s("role").map(function(De){return{role:De}}).getOr({});return st({type:m},y)}else{var O=s("role").getOr("button");return{role:O}}};return{uid:n.uid,dom:n.dom,components:n.components,events:a,behaviours:pc.augment(n.buttonBehaviours,[no.config({}),_a.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:f()},eventOrder:n.eventOrder}},qs=Yl({name:"Button",factory:WB,configFields:[Dn("uid",void 0),Sr("dom"),Dn("components",[]),pc.field("buttonBehaviours",[no,_a]),ei("action"),ei("role"),Dn("eventOrder",{})]}),qB=function(n){var a=n.dom.attributes!==void 0?n.dom.attributes:[];return ln(a,function(i,s){var f;return s.name==="class"?i:st(st({},i),(f={},f[s.name]=s.value,f))},{})},KB=function(n){return Array.prototype.slice.call(n.dom.classList,0)},bd=function(n){var a=on.fromHtml(n),i=ft(a),s=qB(a),f=KB(a),m=i.length===0?{}:{innerHtml:xb(a)};return st({tag:dn(a),classes:f,attributes:s},m)},qo=function(n){var a=BC(n)&&sa(n,"uid")?n.uid:Ud("memento"),i=function(m){return m.getSystem().getByUid(a).getOrDie()},s=function(m){return m.getSystem().getByUid(a).toOptional()},f=function(){return st(st({},n),{uid:a})};return{get:i,getOpt:s,asSpec:f}};function cv(n){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},cv(n)}function yS(n,a){return yS=Object.setPrototypeOf||function(s,f){return s.__proto__=f,s},yS(n,a)}function YB(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function cm(n,a,i){return YB()?cm=Reflect.construct:cm=function(f,m,y){var O=[null];O.push.apply(O,m);var De=Function.bind.apply(f,O),Je=new De;return y&&yS(Je,y.prototype),Je},cm.apply(null,arguments)}function Sf(n){return GB(n)||wS(n)||XB(n)||QB()}function GB(n){if(Array.isArray(n))return CS(n)}function wS(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function XB(n,a){if(n){if(typeof n=="string")return CS(n,a);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return CS(n,a)}}function CS(n,a){(a==null||a>n.length)&&(a=n.length);for(var i=0,s=new Array(a);i<a;i++)s[i]=n[i];return s}function QB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var JB=Object.hasOwnProperty,IA=Object.setPrototypeOf,ZB=Object.isFrozen,eP=Object.getPrototypeOf,tP=Object.getOwnPropertyDescriptor,Al=Object.freeze,td=Object.seal,nP=Object.create,FA=typeof Reflect!="undefined"&&Reflect,Fp=FA.apply,SS=FA.construct;Fp||(Fp=function(a,i,s){return a.apply(i,s)}),Al||(Al=function(a){return a}),td||(td=function(a){return a}),SS||(SS=function(a,i){return cm(a,Sf(i))});var rP=xf(Array.prototype.forEach),HA=xf(Array.prototype.pop),Hp=xf(Array.prototype.push),j1=xf(String.prototype.toLowerCase),aP=xf(String.prototype.match),fv=xf(String.prototype.replace),oP=xf(String.prototype.indexOf),iP=xf(String.prototype.trim),Ks=xf(RegExp.prototype.test),xS=uP(TypeError);function xf(n){return function(a){for(var i=arguments.length,s=new Array(i>1?i-1:0),f=1;f<i;f++)s[f-1]=arguments[f];return Fp(n,a,s)}}function uP(n){return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return SS(n,i)}}function oi(n,a){IA&&IA(n,null);for(var i=a.length;i--;){var s=a[i];if(typeof s=="string"){var f=j1(s);f!==s&&(ZB(a)||(a[i]=f),s=f)}n[s]=!0}return n}function fm(n){var a=nP(null),i;for(i in n)Fp(JB,n,[i])&&(a[i]=n[i]);return a}function W1(n,a){for(;n!==null;){var i=tP(n,a);if(i){if(i.get)return xf(i.get);if(typeof i.value=="function")return xf(i.value)}n=eP(n)}function s(f){return null}return s}var zA=Al(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ES=Al(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kS=Al(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sP=Al(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),TS=Al(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),AS=Al(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$A=Al(["#text"]),VA=Al(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),_S=Al(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),q1=Al(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),K1=Al(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),OS=td(/\{\{[\w\W]*|[\w\W]*\}\}/gm),lP=td(/<%[\w\W]*|[\w\W]*%>/gm),cP=td(/^data-[\-\w.\u00B7-\uFFFF]/),fP=td(/^aria-[\-\w]+$/),dP=td(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vP=td(/^(?:\w+script|data):/i),UA=td(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mP=td(/^html$/i),MS=function(){return typeof window=="undefined"?null:window},DS=function(a,i){if(cv(a)!=="object"||typeof a.createPolicy!="function")return null;var s=null,f="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(f)&&(s=i.currentScript.getAttribute(f));var m="dompurify"+(s?"#"+s:"");try{return a.createPolicy(m,{createHTML:function(O){return O}})}catch(y){return null}};function NS(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:MS(),a=function(er){return NS(er)};if(a.version="2.3.8",a.removed=[],!n||!n.document||n.document.nodeType!==9)return a.isSupported=!1,a;var i=n.document,s=n.document,f=n.DocumentFragment,m=n.HTMLTemplateElement,y=n.Node,O=n.Element,De=n.NodeFilter,Je=n.NamedNodeMap,it=Je===void 0?n.NamedNodeMap||n.MozNamedAttrMap:Je,dt=n.HTMLFormElement,_t=n.DOMParser,Nt=n.trustedTypes,Wt=O.prototype,un=W1(Wt,"cloneNode"),kn=W1(Wt,"nextSibling"),tn=W1(Wt,"childNodes"),On=W1(Wt,"parentNode");if(typeof m=="function"){var tr=s.createElement("template");tr.content&&tr.content.ownerDocument&&(s=tr.content.ownerDocument)}var Zn=DS(Nt,i),_n=Zn?Zn.createHTML(""):"",Xn=s,dr=Xn.implementation,Xr=Xn.createNodeIterator,wr=Xn.createDocumentFragment,Jr=Xn.getElementsByTagName,Er=i.importNode,cr={};try{cr=fm(s).documentMode?s.documentMode:{}}catch(xo){}var Hr={};a.isSupported=typeof On=="function"&&dr&&typeof dr.createHTMLDocument!="undefined"&&cr!==9;var pa=OS,br=lP,ma=cP,Sa=fP,To=vP,Yo=UA,ki=dP,Fi=null,Dl=oi({},[].concat(Sf(zA),Sf(ES),Sf(kS),Sf(TS),Sf($A))),Es=null,P0=oi({},[].concat(Sf(VA),Sf(_S),Sf(q1),Sf(K1))),Lu=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Mm=null,Dm=null,ib=!0,Nm=!0,ub=!1,Qs=!1,Bf=!1,Rs=!1,sb=!1,Dv=!1,xh=!1,Bu=!1,Od=!0,Nv=!0,Rm=!1,Pf={},Rv=null,aa=oi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),lo=null,Jo=oi({},["audio","video","img","source","image","track"]),Pi=null,Js=oi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ls="http://www.w3.org/1998/Math/MathML",Nl="http://www.w3.org/2000/svg",wc="http://www.w3.org/1999/xhtml",Eh=wc,lb=!1,kh,x8=["application/xhtml+xml","text/html"],E8="text/html",Lm,Th=null,vq=s.createElement("form"),A$=function(er){return er instanceof RegExp||er instanceof Function},k8=function(er){Th&&Th===er||((!er||cv(er)!=="object")&&(er={}),er=fm(er),Fi="ALLOWED_TAGS"in er?oi({},er.ALLOWED_TAGS):Dl,Es="ALLOWED_ATTR"in er?oi({},er.ALLOWED_ATTR):P0,Pi="ADD_URI_SAFE_ATTR"in er?oi(fm(Js),er.ADD_URI_SAFE_ATTR):Js,lo="ADD_DATA_URI_TAGS"in er?oi(fm(Jo),er.ADD_DATA_URI_TAGS):Jo,Rv="FORBID_CONTENTS"in er?oi({},er.FORBID_CONTENTS):aa,Mm="FORBID_TAGS"in er?oi({},er.FORBID_TAGS):{},Dm="FORBID_ATTR"in er?oi({},er.FORBID_ATTR):{},Pf="USE_PROFILES"in er?er.USE_PROFILES:!1,ib=er.ALLOW_ARIA_ATTR!==!1,Nm=er.ALLOW_DATA_ATTR!==!1,ub=er.ALLOW_UNKNOWN_PROTOCOLS||!1,Qs=er.SAFE_FOR_TEMPLATES||!1,Bf=er.WHOLE_DOCUMENT||!1,Dv=er.RETURN_DOM||!1,xh=er.RETURN_DOM_FRAGMENT||!1,Bu=er.RETURN_TRUSTED_TYPE||!1,sb=er.FORCE_BODY||!1,Od=er.SANITIZE_DOM!==!1,Nv=er.KEEP_CONTENT!==!1,Rm=er.IN_PLACE||!1,ki=er.ALLOWED_URI_REGEXP||ki,Eh=er.NAMESPACE||wc,er.CUSTOM_ELEMENT_HANDLING&&A$(er.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Lu.tagNameCheck=er.CUSTOM_ELEMENT_HANDLING.tagNameCheck),er.CUSTOM_ELEMENT_HANDLING&&A$(er.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Lu.attributeNameCheck=er.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),er.CUSTOM_ELEMENT_HANDLING&&typeof er.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Lu.allowCustomizedBuiltInElements=er.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),kh=x8.indexOf(er.PARSER_MEDIA_TYPE)===-1?kh=E8:kh=er.PARSER_MEDIA_TYPE,Lm=kh==="application/xhtml+xml"?function(ya){return ya}:j1,Qs&&(Nm=!1),xh&&(Dv=!0),Pf&&(Fi=oi({},Sf($A)),Es=[],Pf.html===!0&&(oi(Fi,zA),oi(Es,VA)),Pf.svg===!0&&(oi(Fi,ES),oi(Es,_S),oi(Es,K1)),Pf.svgFilters===!0&&(oi(Fi,kS),oi(Es,_S),oi(Es,K1)),Pf.mathMl===!0&&(oi(Fi,TS),oi(Es,q1),oi(Es,K1))),er.ADD_TAGS&&(Fi===Dl&&(Fi=fm(Fi)),oi(Fi,er.ADD_TAGS)),er.ADD_ATTR&&(Es===P0&&(Es=fm(Es)),oi(Es,er.ADD_ATTR)),er.ADD_URI_SAFE_ATTR&&oi(Pi,er.ADD_URI_SAFE_ATTR),er.FORBID_CONTENTS&&(Rv===aa&&(Rv=fm(Rv)),oi(Rv,er.FORBID_CONTENTS)),Nv&&(Fi["#text"]=!0),Bf&&oi(Fi,["html","head","body"]),Fi.table&&(oi(Fi,["tbody"]),delete Mm.tbody),Al&&Al(er),Th=er)},_$=oi({},["mi","mo","mn","ms","mtext"]),O$=oi({},["foreignobject","desc","title","annotation-xml"]),mq=oi({},["title","style","font","a","script"]),qN=oi({},ES);oi(qN,kS),oi(qN,sP);var T8=oi({},TS);oi(T8,AS);var pq=function(er){var ya=On(er);(!ya||!ya.tagName)&&(ya={namespaceURI:wc,tagName:"template"});var io=j1(er.tagName),au=j1(ya.tagName);return er.namespaceURI===Nl?ya.namespaceURI===wc?io==="svg":ya.namespaceURI===Ls?io==="svg"&&(au==="annotation-xml"||_$[au]):!!qN[io]:er.namespaceURI===Ls?ya.namespaceURI===wc?io==="math":ya.namespaceURI===Nl?io==="math"&&O$[au]:!!T8[io]:er.namespaceURI===wc?ya.namespaceURI===Nl&&!O$[au]||ya.namespaceURI===Ls&&!_$[au]?!1:!T8[io]&&(mq[io]||!qN[io]):!1},Bm=function(er){Hp(a.removed,{element:er});try{er.parentNode.removeChild(er)}catch(ya){try{er.outerHTML=_n}catch(io){er.remove()}}},M$=function(er,ya){try{Hp(a.removed,{attribute:ya.getAttributeNode(er),from:ya})}catch(io){Hp(a.removed,{attribute:null,from:ya})}if(ya.removeAttribute(er),er==="is"&&!Es[er])if(Dv||xh)try{Bm(ya)}catch(io){}else try{ya.setAttribute(er,"")}catch(io){}},D$=function(er){var ya,io;if(sb)er="<remove></remove>"+er;else{var au=aP(er,/^[\r\n\t ]+/);io=au&&au[0]}kh==="application/xhtml+xml"&&(er='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+er+"</body></html>");var jc=Zn?Zn.createHTML(er):er;if(Eh===wc)try{ya=new _t().parseFromString(jc,kh)}catch(Rl){}if(!ya||!ya.documentElement){ya=dr.createDocument(Eh,"template",null);try{ya.documentElement.innerHTML=lb?"":jc}catch(Rl){}}var ec=ya.body||ya.documentElement;return er&&io&&ec.insertBefore(s.createTextNode(io),ec.childNodes[0]||null),Eh===wc?Jr.call(ya,Bf?"html":"body")[0]:Bf?ya.documentElement:ec},N$=function(er){return Xr.call(er.ownerDocument||er,er,De.SHOW_ELEMENT|De.SHOW_COMMENT|De.SHOW_TEXT,null,!1)},hq=function(er){return er instanceof dt&&(typeof er.nodeName!="string"||typeof er.textContent!="string"||typeof er.removeChild!="function"||!(er.attributes instanceof it)||typeof er.removeAttribute!="function"||typeof er.setAttribute!="function"||typeof er.namespaceURI!="string"||typeof er.insertBefore!="function")},i2=function(er){return cv(y)==="object"?er instanceof y:er&&cv(er)==="object"&&typeof er.nodeType=="number"&&typeof er.nodeName=="string"},Pm=function(er,ya,io){Hr[er]&&rP(Hr[er],function(au){au.call(a,ya,io,Th)})},R$=function(er){var ya;if(Pm("beforeSanitizeElements",er,null),hq(er)||Ks(/[\u0080-\uFFFF]/,er.nodeName))return Bm(er),!0;var io=Lm(er.nodeName);if(Pm("uponSanitizeElement",er,{tagName:io,allowedTags:Fi}),er.hasChildNodes()&&!i2(er.firstElementChild)&&(!i2(er.content)||!i2(er.content.firstElementChild))&&Ks(/<[/\w]/g,er.innerHTML)&&Ks(/<[/\w]/g,er.textContent)||io==="select"&&Ks(/<template/i,er.innerHTML))return Bm(er),!0;if(!Fi[io]||Mm[io]){if(!Mm[io]&&B$(io)&&(Lu.tagNameCheck instanceof RegExp&&Ks(Lu.tagNameCheck,io)||Lu.tagNameCheck instanceof Function&&Lu.tagNameCheck(io)))return!1;if(Nv&&!Rv[io]){var au=On(er)||er.parentNode,jc=tn(er)||er.childNodes;if(jc&&au)for(var ec=jc.length,Rl=ec-1;Rl>=0;--Rl)au.insertBefore(un(jc[Rl],!0),kn(er))}return Bm(er),!0}return er instanceof O&&!pq(er)||(io==="noscript"||io==="noembed")&&Ks(/<\/no(script|embed)/i,er.innerHTML)?(Bm(er),!0):(Qs&&er.nodeType===3&&(ya=er.textContent,ya=fv(ya,pa," "),ya=fv(ya,br," "),er.textContent!==ya&&(Hp(a.removed,{element:er.cloneNode()}),er.textContent=ya)),Pm("afterSanitizeElements",er,null),!1)},L$=function(er,ya,io){if(Od&&(ya==="id"||ya==="name")&&(io in s||io in vq))return!1;if(!(Nm&&!Dm[ya]&&Ks(ma,ya))){if(!(ib&&Ks(Sa,ya))){if(!Es[ya]||Dm[ya]){if(!(B$(er)&&(Lu.tagNameCheck instanceof RegExp&&Ks(Lu.tagNameCheck,er)||Lu.tagNameCheck instanceof Function&&Lu.tagNameCheck(er))&&(Lu.attributeNameCheck instanceof RegExp&&Ks(Lu.attributeNameCheck,ya)||Lu.attributeNameCheck instanceof Function&&Lu.attributeNameCheck(ya))||ya==="is"&&Lu.allowCustomizedBuiltInElements&&(Lu.tagNameCheck instanceof RegExp&&Ks(Lu.tagNameCheck,io)||Lu.tagNameCheck instanceof Function&&Lu.tagNameCheck(io))))return!1}else if(!Pi[ya]){if(!Ks(ki,fv(io,Yo,""))){if(!((ya==="src"||ya==="xlink:href"||ya==="href")&&er!=="script"&&oP(io,"data:")===0&&lo[er])){if(!(ub&&!Ks(To,fv(io,Yo,"")))){if(io)return!1}}}}}}return!0},B$=function(er){return er.indexOf("-")>0},P$=function(er){var ya,io,au,jc;Pm("beforeSanitizeAttributes",er,null);var ec=er.attributes;if(ec){var Rl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Es};for(jc=ec.length;jc--;){ya=ec[jc];var KN=ya,Cc=KN.name,I$=KN.namespaceURI;if(io=Cc==="value"?ya.value:iP(ya.value),au=Lm(Cc),Rl.attrName=au,Rl.attrValue=io,Rl.keepAttr=!0,Rl.forceKeepAttr=void 0,Pm("uponSanitizeAttribute",er,Rl),io=Rl.attrValue,!Rl.forceKeepAttr&&(M$(Cc,er),!!Rl.keepAttr)){if(Ks(/\/>/i,io)){M$(Cc,er);continue}Qs&&(io=fv(io,pa," "),io=fv(io,br," "));var bq=Lm(er.nodeName);if(L$(bq,au,io))try{I$?er.setAttributeNS(I$,Cc,io):er.setAttribute(Cc,io),HA(a.removed)}catch(Eq){}}}Pm("afterSanitizeAttributes",er,null)}},gq=function xo(er){var ya,io=N$(er);for(Pm("beforeSanitizeShadowDOM",er,null);ya=io.nextNode();)Pm("uponSanitizeShadowNode",ya,null),!R$(ya)&&(ya.content instanceof f&&xo(ya.content),P$(ya));Pm("afterSanitizeShadowDOM",er,null)};return a.sanitize=function(xo,er){var ya,io,au,jc,ec;if(lb=!xo,lb&&(xo="<!-->"),typeof xo!="string"&&!i2(xo)){if(typeof xo.toString!="function")throw xS("toString is not a function");if(xo=xo.toString(),typeof xo!="string")throw xS("dirty is not a string, aborting")}if(!a.isSupported){if(cv(n.toStaticHTML)==="object"||typeof n.toStaticHTML=="function"){if(typeof xo=="string")return n.toStaticHTML(xo);if(i2(xo))return n.toStaticHTML(xo.outerHTML)}return xo}if(Rs||k8(er),a.removed=[],typeof xo=="string"&&(Rm=!1),Rm){if(xo.nodeName){var Rl=Lm(xo.nodeName);if(!Fi[Rl]||Mm[Rl])throw xS("root node is forbidden and cannot be sanitized in-place")}}else if(xo instanceof y)ya=D$("<!---->"),io=ya.ownerDocument.importNode(xo,!0),io.nodeType===1&&io.nodeName==="BODY"||io.nodeName==="HTML"?ya=io:ya.appendChild(io);else{if(!Dv&&!Qs&&!Bf&&xo.indexOf("<")===-1)return Zn&&Bu?Zn.createHTML(xo):xo;if(ya=D$(xo),!ya)return Dv?null:Bu?_n:""}ya&&sb&&Bm(ya.firstChild);for(var KN=N$(Rm?xo:ya);au=KN.nextNode();)au.nodeType===3&&au===jc||R$(au)||(au.content instanceof f&&gq(au.content),P$(au),jc=au);if(jc=null,Rm)return xo;if(Dv){if(xh)for(ec=wr.call(ya.ownerDocument);ya.firstChild;)ec.appendChild(ya.firstChild);else ec=ya;return Es.shadowroot&&(ec=Er.call(i,ec,!0)),ec}var Cc=Bf?ya.outerHTML:ya.innerHTML;return Bf&&Fi["!doctype"]&&ya.ownerDocument&&ya.ownerDocument.doctype&&ya.ownerDocument.doctype.name&&Ks(mP,ya.ownerDocument.doctype.name)&&(Cc="<!DOCTYPE "+ya.ownerDocument.doctype.name+`>
`+Cc),Qs&&(Cc=fv(Cc,pa," "),Cc=fv(Cc,br," ")),Zn&&Bu?Zn.createHTML(Cc):Cc},a.setConfig=function(xo){k8(xo),Rs=!0},a.clearConfig=function(){Th=null,Rs=!1},a.isValidAttribute=function(xo,er,ya){Th||k8({});var io=Lm(xo),au=Lm(er);return L$(io,au,ya)},a.addHook=function(xo,er){typeof er=="function"&&(Hr[xo]=Hr[xo]||[],Hp(Hr[xo],er))},a.removeHook=function(xo){if(Hr[xo])return HA(Hr[xo])},a.removeHooks=function(xo){Hr[xo]&&(Hr[xo]=[])},a.removeAllHooks=function(){Hr={}},a}var RS=NS(),Y1=function(n){return RS().sanitize(n)},Pc=tinymce.util.Tools.resolve("tinymce.util.I18n"),nd={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},G1="temporary-placeholder",LS=function(n){return function(){return jn(n,G1).getOr("!not found!")}},BS=function(n,a){var i=n.toLowerCase();if(Pc.isRtl()){var s=$i(i,"-rtl");return gr(a,s)?s:i}else return i},jA=function(n,a){return jn(a,BS(n,a))},WA=function(n,a){var i=a();return jA(n,i).getOrThunk(LS(i))},zp=function(n,a,i){var s=a();return jA(n,s).or(i).getOrThunk(LS(s))},qA=function(n){return Pc.isRtl()?gr(nd,n):!1},PS=function(){return so("add-focusable",[mo(function(n){Ew(n.element,"svg").each(function(a){return vo(a,"focusable","false")})})])},KA=function(n,a,i,s){var f,m,y=qA(a)?["tox-icon--flip"]:[],O=jn(i,BS(a,i)).or(s).getOrThunk(LS(i));return{dom:{tag:n.tag,attributes:(f=n.attributes)!==null&&f!==void 0?f:{},classes:n.classes.concat(y),innerHtml:O},behaviours:Wr(nn(nn([],(m=n.behaviours)!==null&&m!==void 0?m:[],!0),[PS()],!1))}},Ic=function(n,a,i,s){return s===void 0&&(s=Ve.none()),KA(a,n,i(),s)},YA=function(n,a,i){var s=i(),f=bn(n,function(m){return gr(s,BS(m,s))});return KA(a,f.getOr(G1),s,Ve.none())},IS={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},pP=function(n){var a=qo({dom:bd("<p>"+Y1(n.translationProvider(n.text))+"</p>"),behaviours:Wr([to.config({})])}),i=function(Nt){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+Nt+"%"}}}},s=function(Nt){return{dom:{tag:"div",classes:["tox-text"],innerHtml:Nt+"%"}}},f=qo({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},s(0)],behaviours:Wr([to.config({})])}),m=function(Nt,Wt){Nt.getSystem().isConnected()&&f.getOpt(Nt).each(function(un){to.set(un,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(Wt)]},s(Wt)])})},y=function(Nt,Wt){if(Nt.getSystem().isConnected()){var un=a.get(Nt);to.set(un,[ps(Wt)])}},O={updateProgress:m,updateText:y},De=Jt([n.icon.toArray(),n.level.toArray(),n.level.bind(function(Nt){return Ve.from(IS[Nt])}).toArray()]),Je=qo(qs.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Ic("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":n.translationProvider("Close")}},n.iconProvider)],action:function(Nt){n.onAction(Nt)}})),it=YA(De,{tag:"div",classes:["tox-notification__icon"]},n.iconProvider),dt={dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:Wr([to.config({})])},_t=[it,dt];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert"},classes:n.level.map(function(Nt){return["tox-notification","tox-notification--in","tox-notification--"+Nt]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Wr([no.config({}),so("notification-events",[xr(Pd(),function(Nt){Je.getOpt(Nt).each(no.focus)})])]),components:_t.concat(n.progress?[f.asSpec()]:[]).concat(n.closeButton?[Je.asSpec()]:[]),apis:O}},Eg=Yl({name:"Notification",factory:pP,configFields:[ei("level"),Sr("progress"),Sr("icon"),Sr("onAction"),Sr("text"),Sr("iconProvider"),Sr("translationProvider"),ji("closeButton",!0)],apis:{updateProgress:function(n,a,i){n.updateProgress(a,i)},updateText:function(n,a,i){n.updateText(a,i)}}});function FS(n,a,i){var s=a.backstage.shared,f=function(Je){switch(Je){case"bc-bc":return Ip;case"tc-tc":return wf;case"tc-bc":return sl;case"bc-tc":default:return gu}},m=function(Je){Je.length>0&&xt(Je,function(it,dt){dt===0?it.moveRel(null,"banner"):it.moveRel(Je[dt-1].getEl(),"bc-tc")})},y=function(Je,it){var dt=!Je.closeButton&&Je.timeout&&(Je.timeout>0||Je.timeout<0),_t=function(){it(),zi.hide(Wt)},Nt=cu(Eg.sketch({text:Je.text,level:qt(["success","error","warning","warn","info"],Je.type)?Je.type:void 0,progress:Je.progressBar===!0,icon:Ve.from(Je.icon),closeButton:!dt,onAction:_t,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),Wt=cu(zi.sketch(st({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));i.add(Wt),Je.timeout>0&&Cf.setTimeout(function(){_t()},Je.timeout);var un=function(){var kn=nu(on.fromDom(n.getContentAreaContainer())),tn=mu(),On=El(tn.x,kn.x,kn.right),tr=El(tn.y,kn.y,kn.bottom),Zn=Math.max(kn.right,tn.right),_n=Math.max(kn.bottom,tn.bottom);return Ve.some(fi(On,tr,Zn-On,_n-tr))};return{close:_t,moveTo:function(kn,tn){zi.showAt(Wt,Wl(Nt),{anchor:{type:"makeshift",x:kn,y:tn}})},moveRel:function(kn,tn){var On=Wl(Nt),tr={maxHeightFunction:Kh()};if(tn!=="banner"&&A(kn)){var Zn=f(tn),_n={type:"node",root:Zo(),node:Ve.some(on.fromDom(kn)),overrides:tr,layouts:{onRtl:function(){return[Zn]},onLtr:function(){return[Zn]}}};zi.showWithinBounds(Wt,On,{anchor:_n},un)}else{var Xn=st(st({},s.anchors.banner()),{overrides:tr});zi.showWithinBounds(Wt,On,{anchor:Xn},un)}},text:function(kn){Eg.updateText(Nt,kn)},settings:Je,getEl:function(){return Nt.element.dom},progressBar:{value:function(kn){Eg.updateProgress(Nt,kn)}}}},O=function(Je){Je.close()},De=function(Je){return Je.settings};return{open:y,close:O,reposition:m,getArgs:De}}var hP=function(n,a){var i=null,s=function(){ze(i)||(clearTimeout(i),i=null)},f=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];ze(i)&&(i=setTimeout(function(){i=null,n.apply(null,m)},a))};return{cancel:s,throttle:f}},X1=function(n,a){var i=null,s=function(){ze(i)||(clearTimeout(i),i=null)},f=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];s(),i=setTimeout(function(){i=null,n.apply(null,m)},a)};return{cancel:s,throttle:f}},GA=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),gP=function(n,a){return n.isBlock(a)||qt(["BR","IMG","HR","INPUT"],a.nodeName)||n.getContentEditable(a)==="false"},XA=function(n,a,i,s,f){var m=GA(n,function(y){return gP(n,y)});return Ve.from(m.backwards(a,i,s,f))},bP="[data-mce-autocompleter]",yP=function(n,a){return Q1(on.fromDom(n.selection.getNode())).getOrThunk(function(){var i=on.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',n.getDoc());return yn(i,on.fromDom(a.extractContents())),a.insertNode(i.dom),tu(i).each(function(s){return s.dom.normalize()}),Rk(i).map(function(s){n.selection.setCursorLocation(s.dom,PL(s))}),i})},Q1=function(n){return lf(n,bP)},wP=function(n){return n.collapsed&&n.startContainer.nodeType===3},QA=function(n){return n.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},JA=function(n){return n!==""&&`  \f
\r	\v`.indexOf(n)!==-1},$p=function(n,a){return n.substring(a.length)},ZA=function(n,a,i){var s;for(s=a-1;s>=0;s--){var f=n.charAt(s);if(JA(f))return Ve.none();if(f===i)break}return Ve.some(s)},e_=function(n,a,i,s){if(s===void 0&&(s=0),!wP(a))return Ve.none();var f=function(y,O,De){return ZA(De,O,i).getOr(O)},m=n.getParent(a.startContainer,n.isBlock)||n.getRoot();return XA(n,a.startContainer,a.startOffset,f,m).bind(function(y){var O=a.cloneRange();if(O.setStart(y.container,y.offset),O.setEnd(a.endContainer,a.endOffset),O.collapsed)return Ve.none();var De=QA(O),Je=De.lastIndexOf(i);return Je!==0||$p(De,i).length<s?Ve.none():Ve.some({text:$p(De,i),range:O,triggerChar:i})})},HS=function(n,a,i,s){return s===void 0&&(s=0),Q1(on.fromDom(a.startContainer)).fold(function(){return e_(n,a,i,s)},function(f){var m=n.createRng();m.selectNode(f.dom);var y=QA(m);return Ve.some({range:m,text:$p(y,i),triggerChar:i})})},CP=function(n,a){a.on("keypress compositionend",n.onKeypress.throttle),a.on("remove",n.onKeypress.cancel);var i=function(s,f){Ia(s,hb(),{raw:f})};a.on("keydown",function(s){var f=function(){return n.getView().bind(ti.getHighlighted)};s.which===8&&n.onKeypress.throttle(s),n.isActive()&&(s.which===27&&n.cancelIfNecessary(),n.isMenuOpen()?s.which===13?(f().each(Ul),s.preventDefault()):s.which===40?(f().fold(function(){n.getView().each(ti.highlightFirst)},function(m){i(m,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&f().each(function(m){i(m,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&n.cancelIfNecessary())}),a.on("NodeChange",function(s){n.isActive()&&!n.isProcessingAction()&&Q1(on.fromDom(s.element)).isNone()&&n.cancelIfNecessary()})},zS={setup:CP},dm=tinymce.util.Tools.resolve("tinymce.util.Promise"),J1=function(n,a){return{container:n,offset:a}},t_=function(n){return n.nodeType===Xt},n_=function(n){return n.nodeType===oa},r_=function(n){if(t_(n))return J1(n,n.data.length);var a=n.childNodes;return a.length>0?r_(a[a.length-1]):J1(n,a.length)},Z1=function(n,a){var i=n.childNodes;return i.length>0&&a<i.length?Z1(i[a],0):i.length>0&&n_(n)&&i.length===a?r_(i[i.length-1]):J1(n,a)},SP=function(n,a){return XA(n,a.container,a.offset,function(i,s){return s===0?-1:s},n.getRoot()).filter(function(i){var s=i.container.data.charAt(i.offset-1);return!JA(s)}).isSome()},a_=function(n){return function(a){var i=Z1(a.startContainer,a.startOffset);return!SP(n,i)}},o_=function(n,a,i){return Pn(i.triggerChars,function(s){return HS(n,a,s)})},kg=function(n,a){var i=a(),s=n.selection.getRng();return o_(n.dom,s,i).bind(function(f){return i_(n,a,f)})},i_=function(n,a,i,s){s===void 0&&(s={});var f=a(),m=n.selection.getRng(),y=m.startContainer.nodeValue,O=Zt(f.lookupByChar(i.triggerChar),function(Je){return i.text.length>=Je.minChars&&Je.matches.getOrThunk(function(){return a_(n.dom)})(i.range,y,i.text)});if(O.length===0)return Ve.none();var De=dm.all(Pt(O,function(Je){var it=Je.fetch(i.text,Je.maxResults,s);return it.then(function(dt){return{matchText:i.text,items:dt,columns:Je.columns,onAction:Je.onAction,highlightOn:Je.highlightOn}})}));return Ve.some({lookupData:De,context:i})},ey=Ra([eo("type"),_i("text")]),Vp=function(n){return Ui("separatormenuitem",ey,n)},xP=Ra([Dn("type","autocompleteitem"),Dn("active",!1),Dn("disabled",!1),Dn("meta",{}),eo("value"),_i("text"),_i("icon")]),u_=Ra([eo("type"),eo("ch"),Cl("minChars",1),Dn("columns",1),Cl("maxResults",10),Pv("matches"),Ms("fetch"),Ms("onAction"),Dh("highlightOn",[],su)]),s_=function(n){return Ui("Autocompleter.Separator",ey,n)},l_=function(n){return Ui("Autocompleter.Item",xP,n)},$S=function(n){return Ui("Autocompleter",u_,n)},Up=[ji("disabled",!1),_i("tooltip"),_i("icon"),_i("text"),Ei("onSetup",function(){return $e})],EP=Ra([eo("type"),Ms("onAction")].concat(Up)),c_=function(n){return Ui("toolbarbutton",EP,n)},jp=[ji("active",!1)].concat(Up),kP=Ra(jp.concat([eo("type"),Ms("onAction")])),VS=function(n){return Ui("ToggleButton",kP,n)},vm=[Ei("predicate",mt),sc("scope","node",["node","editor"]),sc("position","selection",["node","selection","line"])],TP=Up.concat([Dn("type","contextformbutton"),Dn("primary",!1),Ms("onAction"),ol("original",lt)]),AP=jp.concat([Dn("type","contextformbutton"),Dn("primary",!1),Ms("onAction"),ol("original",lt)]),_P=Up.concat([Dn("type","contextformbutton")]),f_=jp.concat([Dn("type","contextformtogglebutton")]),d_=ic("type",{contextformbutton:TP,contextformtogglebutton:AP}),OP=Ra([Dn("type","contextform"),Ei("initValue",qe("")),_i("label"),Is("commands",d_),tf("launch",ic("type",{contextformbutton:_P,contextformtogglebutton:f_}))].concat(vm)),MP=function(n){return Ui("ContextForm",OP,n)},DP=Ra([Dn("type","contexttoolbar"),eo("items")].concat(vm)),NP=function(n){return Ui("ContextToolbar",DP,n)},RP=function(n){var a={};return xt(n,function(i){a[i]={}}),zn(a)},ty=function(n){var a=n.ui.registry.getAll().popups,i=Cr(a,function(y){return $S(y).fold(function(O){throw new Error(qm(O))},lt)}),s=RP(jr(i,function(y){return y.ch})),f=Qn(i),m=function(y){return Zt(f,function(O){return O.ch===y})};return{dataset:i,triggerChars:s,lookupByChar:m}},US;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(US||(US={}));var Ef=US,Tg="tox-menu-nav__js",ny="tox-collection__item",jS="tox-swatch",v_={normal:Tg,color:jS},WS="tox-collection__item--enabled",m_="tox-collection__group-heading",qS="tox-collection__item-icon",KS="tox-collection__item-label",LP="tox-collection__item-accessory",p_="tox-collection__item-caret",BP="tox-collection__item-checkmark",mm="tox-collection__item--active",ry="tox-collection__item-container",h_="tox-collection__item-container--column",g_="tox-collection__item-container--row",b_="tox-collection__item-container--align-right",PP="tox-collection__item-container--align-left",IP="tox-collection__item-container--valign-top",FP="tox-collection__item-container--valign-middle",y_="tox-collection__item-container--valign-bottom",YS=function(n){return jn(v_,n).getOr(Tg)},w_=function(n){return n==="color"?"tox-swatches":"tox-menu"},GS=function(n){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:w_(n),tieredMenu:"tox-tiered-menu"}},Wp=function(n){var a=GS(n);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:YS(n)}},HP=function(n,a,i){var s=GS(i);return{tag:"div",classes:Jt([[s.menu,"tox-menu-"+a+"-column"],n?[s.hasIcons]:[]])}},zP=[sv.parts.items({})],ay=function(n,a,i){var s=GS(i),f={tag:"div",classes:Jt([[s.tieredMenu]])};return{dom:f,markers:Wp(i)}},XS=function(n,a){return function(i){var s=En(i,a);return Pt(s,function(f){return{dom:n,components:f}})}},$P=function(n){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[sv.parts.items({preprocess:n!=="auto"?XS({tag:"div",classes:["tox-swatches__row"]},n):lt})]}]}},VP=function(n){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[sv.parts.items({preprocess:XS({tag:"div",classes:["tox-collection__group"]},n)})]}},C_=function(n,a){var i=[],s=[];return xt(n,function(f,m){a(f,m)?(s.length>0&&i.push(s),s=[],gr(f.dom,"innerHtml")&&s.push(f)):s.push(f)}),s.length>0&&i.push(s),Pt(i,function(f){return{dom:{tag:"div",classes:["tox-collection__group"]},components:f}})},QS=function(n,a,i){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[sv.parts.items({preprocess:function(s){return n!=="auto"&&n>1?XS({tag:"div",classes:["tox-collection__group"]},n)(s):C_(s,function(f,m){return a[m].type==="separator"})}})]}},UP=function(n,a){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[sv.parts.items({preprocess:function(i){return C_(i,function(s,f){return n[f].type==="separator"})}})]}},Ag=function(n){return an(n,function(a){return"icon"in a&&a.icon!==void 0})},yd=function(n){return Ve.none()},jP=function(n,a,i,s,f){var m=UP(i);return{value:n,dom:m.dom,components:m.components,items:i}},JS=function(n,a,i,s,f){if(f==="color"){var m=$P(s);return{value:n,dom:m.dom,components:m.components,items:i}}if(f==="normal"&&s==="auto"){var m=QS(s,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(f==="normal"&&s===1){var m=QS(1,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(f==="normal"){var m=QS(s,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(f==="listpreview"&&s!=="auto"){var m=VP(s);return{value:n,dom:m.dom,components:m.components,items:i}}return{value:n,dom:HP(a,s,f),components:zP,items:i}},WP=[eo("type"),eo("src"),_i("alt"),Dh("classes",[],su)],qP=Ra(WP),KP=[eo("type"),eo("text"),_i("name"),Dh("classes",["tox-collection__item-label"],su)],oy=Ra(KP),ZS=f2(function(){return db("type",{cardimage:qP,cardtext:oy,cardcontainer:YP})}),YP=Ra([eo("type"),Ym("direction","horizontal"),Ym("align","left"),Ym("valign","middle"),Is("items",ZS)]),qp=[ji("disabled",!1),_i("text"),_i("shortcut"),Hu("value","value",Fo(function(){return ha("menuitem-value")}),Zc()),Dn("meta",{})],GP=Ra([eo("type"),_i("label"),Is("items",ZS),Ei("onSetup",function(){return $e}),Ei("onAction",$e)].concat(qp)),XP=function(n){return Ui("cardmenuitem",GP,n)},QP=Ra([eo("type"),ji("active",!1),_i("icon")].concat(qp)),ex=function(n){return Ui("choicemenuitem",QP,n)},tx=[eo("type"),eo("fancytype"),Ei("onAction",$e)],S_=[Dn("initData",{})].concat(tx),JP=[W0("initData",{},[ji("allowCustomColors",!0),yl("colors",Zc())])].concat(tx),x_=ic("fancytype",{inserttable:S_,colorswatch:JP}),ZP=function(n){return Ui("fancymenuitem",x_,n)},e4=Ra([eo("type"),Ei("onSetup",function(){return $e}),Ei("onAction",$e),_i("icon")].concat(qp)),t4=function(n){return Ui("menuitem",e4,n)},n4=Ra([eo("type"),Ms("getSubmenuItems"),Ei("onSetup",function(){return $e}),_i("icon")].concat(qp)),r4=function(n){return Ui("nestedmenuitem",n4,n)},a4=Ra([eo("type"),_i("icon"),ji("active",!1),Ei("onSetup",function(){return $e}),Ms("onAction")].concat(qp)),o4=function(n){return Ui("togglemenuitem",a4,n)},nx=function(n,a,i){var s=Us(n.element,"."+i);if(s.length>0){var f=Kn(s,function(m){var y=m.dom.getBoundingClientRect().top,O=s[0].dom.getBoundingClientRect().top;return Math.abs(y-O)>a}).getOr(s.length);return Ve.some({numColumns:f,numRows:Math.ceil(s.length/f)})}else return Ve.none()},E_=function(n,a){return Wr([so(n,a)])},i4=function(n){return E_(ha("unnamed-events"),n)},Kp={namedEvents:E_,unnamedEvents:i4},iy=ha("tooltip.exclusive"),pm=ha("tooltip.show"),Yp=ha("tooltip.hide"),k_=function(n,a,i){n.getSystem().broadcastOn([iy],{})},u4=function(n,a,i,s){i.getTooltip().each(function(f){f.getSystem().isConnected()&&to.set(f,s)})},uy=Object.freeze({__proto__:null,hideAllExclusive:k_,setComponents:u4}),rx=function(n,a){var i=function(f){a.getTooltip().each(function(m){Gf(m),n.onHide(f,m),a.clearTooltip()}),a.clearTimer()},s=function(f){if(!a.isShowing()){k_(f);var m=n.lazySink(f).getOrDie(),y=f.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:di(n.mode==="normal"?[xr(Bd(),function(O){$o(f,pm)}),xr(Q0(),function(O){$o(f,Yp)})]:[]),behaviours:Wr([to.config({})])});a.setTooltip(y),Qv(m,y),n.onShow(f,y),Qi.position(m,y,{anchor:n.anchor(f)})}};return di(Jt([[xr(pm,function(f){a.resetTimer(function(){s(f)},n.delay)}),xr(Yp,function(f){a.resetTimer(function(){i(f)},n.delay)}),xr(fc(),function(f,m){var y=m;y.universal||qt(y.channels,iy)&&i(f)}),dc(function(f){i(f)})],n.mode==="normal"?[xr(Pd(),function(f){$o(f,pm)}),xr(ew(),function(f){$o(f,Yp)}),xr(Bd(),function(f){$o(f,pm)}),xr(Q0(),function(f){$o(f,Yp)})]:[xr(iw(),function(f,m){$o(f,pm)}),xr(wb(),function(f){$o(f,Yp)})]]))},sy=Object.freeze({__proto__:null,events:rx}),T_=[Sr("lazySink"),Sr("tooltipDom"),Dn("exclusive",!0),Dn("tooltipComponents",[]),Dn("delay",300),sc("mode","normal",["normal","follow-highlight"]),Dn("anchor",function(n){return{type:"hotspot",hotspot:n,layouts:{onLtr:qe([gu,sl,hs,ul,gs,Vs]),onRtl:qe([gu,sl,hs,ul,gs,Vs])}}}),Wo("onHide"),Wo("onShow")],s4=function(){var n=Xi(),a=Xi(),i=function(){n.on(clearTimeout)},s=function(m,y){i(),n.set(setTimeout(m,y))},f=qe("not-implemented");return Sl({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:i,resetTimer:s,readState:f})},l4=Object.freeze({__proto__:null,init:s4}),A_=zu({fields:T_,name:"tooltipping",active:sy,state:l4,apis:uy}),c4=function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},_g=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),f4=tinymce.util.Tools.resolve("tinymce.EditorManager"),d4=function(n){var a=n.getParam("skin"),i=n.getParam("skin_url");if(a!==!1){var s=a||"oxide";i?i=n.documentBaseURI.toAbsolute(i):i=f4.baseURL+"/skins/ui/"+s}return i},v4=function(n){return n.getParam("readonly",!1,"boolean")},m4=function(n){return n.getParam("skin")===!1},__=function(n){return n.getParam("height",Math.max(n.getElement().offsetHeight,200))},O_=function(n){return n.getParam("width",_g.DOM.getStyle(n.getElement(),"width"))},M_=function(n){return Ve.from(n.getParam("min_width")).filter(et)},D_=function(n){return Ve.from(n.getParam("min_height")).filter(et)},ly=function(n){return Ve.from(n.getParam("max_width")).filter(et)},N_=function(n){return Ve.from(n.getParam("max_height")).filter(et)},p4=function(n){return Ve.from(n.getParam("style_formats")).filter(Xe)},wd=function(n){return n.getParam("style_formats_merge",!1,"boolean")},h4=function(n){return n.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},g4=function(n){return n.getParam("content_langs",void 0,"array")},ax=function(n){return n.getParam("removed_menuitems","")},bu=function(n){return n.getParam("menubar",!0,"boolean")!==!1},ox=function(n){var a=n.getParam("toolbar",!0),i=a===!0,s=He(a),f=Xe(a)&&a.length>0;return!cy(n)&&(f||s||i)},R_=function(n){var a=ot(9,function(s){return n.getParam("toolbar"+(s+1),!1,"string")}),i=Zt(a,function(s){return typeof s=="string"});return i.length>0?Ve.some(i):Ve.none()},cy=function(n){return R_(n).fold(function(){var a=n.getParam("toolbar",[],"string[]");return a.length>0},vt)},Gl;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(Gl||(Gl={}));var Og=function(n){return n.getParam("toolbar_mode","","string")},hm;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})(hm||(hm={}));var b4=function(n){return n.getParam("toolbar_groups",{},"object")},L_=function(n){return n.getParam("toolbar_location",hm.auto,"string")},B_=function(n){return L_(n)===hm.bottom},y4=function(n){return n.getParam("fixed_toolbar_container","","string")},w4=function(n){return n.getParam("fixed_toolbar_container_target")},C4=function(n){return n.getParam("toolbar_persist",!1,"boolean")},P_=function(n){if(!n.inline)return Ve.none();var a=y4(n);if(a.length>0)return _u(Zo(),a);var i=w4(n);return A(i)?Ve.some(on.fromDom(i)):Ve.none()},fy=function(n){return n.inline&&P_(n).isSome()},I_=function(n){var a=P_(n);return a.getOrThunk(function(){return Qr(Ua(on.fromDom(n.getElement())))})},F_=function(n){return n.inline&&!bu(n)&&!ox(n)&&!cy(n)},dy=function(n){var a=n.getParam("toolbar_sticky",!1,"boolean");return(a||n.inline)&&!fy(n)&&!F_(n)},S4=function(n){return n.getParam("toolbar_sticky_offset",0,"number")},x4=function(n){return n.getParam("draggable_modal",!1,"boolean")},E4=function(n){var a=n.getParam("menu");return a?Cr(a,function(i){return st(st({},i),{items:i.items})}):{}},k4=function(n){return n.getParam("menubar")},T4=function(n){return n.getParam("toolbar",!0)},A4=function(n){return n.getParam("file_picker_callback")},_4=function(n){return n.getParam("file_picker_types")},O4=function(n){return n.getParam("file_browser_callback_types")},M4=function(n){return n.getParam("typeahead_urls")===!1},H_=function(n){return n.getParam("anchor_top","#top")},D4=function(n){return n.getParam("anchor_bottom","#bottom")},N4=function(n){var a=n.getParam("file_picker_validator_handler",void 0,"function");return a===void 0?n.getParam("filepicker_validator_handler",void 0,"function"):a},ix="silver.readonly",z_=Ra([aR("readonly")]),Gp=function(n,a){var i=n.outerContainer,s=i.element;a&&(n.mothership.broadcastOn([Zv()],{target:s}),n.uiMothership.broadcastOn([Zv()],{target:s})),n.mothership.broadcastOn([ix],{readonly:a}),n.uiMothership.broadcastOn([ix],{readonly:a})},$_=function(n,a){n.on("init",function(){n.mode.isReadOnly()&&Gp(a,!0)}),n.on("SwitchMode",function(){return Gp(a,n.mode.isReadOnly())}),v4(n)&&n.setMode("readonly")},yu=function(){var n;return ll.config({channels:(n={},n[ix]={schema:z_,onReceive:function(a,i){La.set(a,i.readonly)}},n)})},R4=function(n){return La.config({disabled:n,disableClass:"tox-collection__item--state-disabled"})},V_=function(n){return La.config({disabled:n})},L4=function(n){return La.config({disabled:n,disableClass:"tox-tbtn--disabled"})},U_=function(n){return La.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},gc={item:R4,button:V_,splitButton:L4,toolbarButton:U_},vy=function(n,a){var i=n.getApi(a);return function(s){s(i)}},Xp=function(n,a){return mo(function(i){var s=vy(n,i);s(function(f){var m=n.onSetup(f);Te(m)&&a.set(m)})})},Mg=function(n,a){return dc(function(i){return vy(n,i)(a.get())})},ux,B4=function(n,a){return vc(function(i,s){vy(n,i)(n.onAction),!n.triggersSubmenu&&a===Ef.CLOSE_ON_EXECUTE&&($o(i,Ph()),s.stop())})},P4=(ux={},ux[$l()]=["disabling","alloy.base.behaviour","toggling","item-events"],ux),Qp=Ka,Jp=function(n,a,i,s){var f=$a($e);return{type:"item",dom:a.dom,components:Qp(a.optComponents),data:n.data,eventOrder:P4,hasSubmenu:n.triggersSubmenu,itemBehaviours:Wr([so("item-events",[B4(n,i),Xp(n,f),Mg(n,f)]),gc.item(function(){return n.disabled||s.isDisabled()}),yu(),to.config({})].concat(n.itemBehaviours))}},dv=function(n){return{value:n.value,meta:st({text:n.text.getOr("")},n.meta)}},my=tinymce.util.Tools.resolve("tinymce.Env"),I4=function(n){var a={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},i={meta:"Ctrl",access:"Shift+Alt"},s=my.mac?a:i,f=n.split("+"),m=Pt(f,function(y){var O=y.toLowerCase().trim();return gr(s,O)?s[O]:y});return my.mac?m.join(""):m.join("+")},py=function(n,a,i){return i===void 0&&(i=[qS]),Ic(n,{tag:"div",classes:i},a)},j_=function(n){return{dom:{tag:"div",classes:[KS]},components:[ps(Pc.translate(n))]}},W_=function(n,a){return{dom:{tag:"div",classes:a,innerHtml:n}}},sx=function(n,a){return{dom:{tag:"div",classes:[KS]},components:[{dom:{tag:n.tag,styles:n.styles},components:[ps(Pc.translate(a))]}]}},F4=function(n){return{dom:{tag:"div",classes:[LP],innerHtml:I4(n)}}},q_=function(n){return py("checkmark",n,[BP])},H4=function(n){return py("chevron-right",n,[p_])},z4=function(n){return py("chevron-down",n,[p_])},lx=function(n,a){var i=n.direction==="vertical"?h_:g_,s=n.align==="left"?PP:b_,f=function(){switch(n.valign){case"top":return IP;case"middle":return FP;case"bottom":return y_}};return{dom:{tag:"div",classes:[ry,i,s,f()]},components:a}},$4=function(n,a,i){return{dom:{tag:"img",classes:a,attributes:{src:n,alt:i.getOr("")}}}},cx=function(n,a,i){var s="custom",f="remove",m=n.ariaLabel,y=n.value,O=n.iconContent.map(function(Je){return zp(Je,a.icons,i)}),De=function(){var Je=jS,it=O.getOr(""),dt=m.map(function(Nt){return{title:a.translate(Nt)}}).getOr({}),_t={tag:"div",attributes:dt,classes:[Je]};return y===s?st(st({},_t),{tag:"button",classes:nn(nn([],_t.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:it}):y===f?st(st({},_t),{classes:nn(nn([],_t.classes,!0),["tox-swatch--remove"],!1),innerHtml:it}):st(st({},_t),{attributes:st(st({},_t.attributes),{"data-mce-color":y}),styles:{"background-color":y}})};return{dom:De(),optComponents:[]}},K_=function(n){var a=n.map(function(i){return{attributes:{title:Pc.translate(i)}}}).getOr({});return st({tag:"div",classes:[Tg,ny]},a)},Y_=function(n,a,i,s){var f={tag:"div",classes:[qS]},m=function(_t){return Ic(_t,f,a.icons,s)},y=function(){return Ve.some({dom:f})},O=i?n.iconContent.map(m).orThunk(y):Ve.none(),De=n.checkMark,Je=Ve.from(n.meta).fold(function(){return j_},function(_t){return gr(_t,"style")?pt(sx,_t.style):j_}),it=n.htmlContent.fold(function(){return n.textContent.map(Je)},function(_t){return Ve.some(W_(_t,[KS]))}),dt={dom:K_(n.ariaLabel),optComponents:[O,it,n.shortcutContent.map(F4),De,n.caret]};return dt},Dg=function(n,a,i,s){return s===void 0&&(s=Ve.none()),n.presets==="color"?cx(n,a,s):Y_(n,a,i,s)},Zp=function(n,a){return jn(n,"tooltipWorker").map(function(i){return[A_.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:Kh}}},mode:"follow-highlight",onShow:function(s,f){i(function(m){A_.setComponents(s,[Sw({element:on.fromDom(m)})])})}})]}).getOr([])},V4=function(n){return _g.DOM.encode(n)},G_=function(n,a){var i=Pc.translate(n),s=V4(i);if(a.length>0){var f=new RegExp(c4(a),"gi");return s.replace(f,function(m){return'<span class="tox-autocompleter-highlight">'+m+"</span>"})}else return s},U4=function(n,a,i,s,f,m,y,O){O===void 0&&(O=!0);var De=Dg({presets:s,textContent:Ve.none(),htmlContent:i?n.text.map(function(Je){return G_(Je,a)}):Ve.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:Ve.none(),checkMark:Ve.none(),caret:Ve.none(),value:n.value},y.providers,O,n.icon);return Jp({data:dv(n),disabled:n.disabled,getApi:qe({}),onAction:function(Je){return f(n.value,n.meta)},onSetup:qe($e),triggersSubmenu:!1,itemBehaviours:Zp(n.meta,y)},De,m,y.providers)},X_=function(n,a){return Pt(n,function(i){switch(i.type){case"cardcontainer":return lx(i,X_(i.items,a));case"cardimage":return $4(i.src,i.classes,i.alt);case"cardtext":var s=i.name.exists(function(m){return qt(a.cardText.highlightOn,m)}),f=s?Ve.from(a.cardText.matchText).getOr(""):"";return W_(G_(i.text,f),i.classes)}})},j4=function(n,a,i,s){var f=function(y){return{isDisabled:function(){return La.isDisabled(y)},setDisabled:function(O){La.set(y,O),xt(Us(y.element,"*"),function(De){y.getSystem().getByDom(De).each(function(Je){Je.hasConfigured(La)&&La.set(Je,O)})})}}},m={dom:K_(n.label),optComponents:[Ve.some({dom:{tag:"div",classes:[ry,g_]},components:X_(n.items,s)})]};return Jp({data:dv(st({text:Ve.none()},n)),disabled:n.disabled,getApi:f,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:Ve.from(s.itemBehaviours).getOr([])},m,a,i.providers)},W4=function(n,a,i,s,f,m,y,O){O===void 0&&(O=!0);var De=function(it){return{setActive:function(dt){Mo.set(it,dt)},isActive:function(){return Mo.isOn(it)},isDisabled:function(){return La.isDisabled(it)},setDisabled:function(dt){return La.set(it,dt)}}},Je=Dg({presets:i,textContent:a?n.text:Ve.none(),htmlContent:Ve.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:a?n.shortcut:Ve.none(),checkMark:a?Ve.some(q_(y.icons)):Ve.none(),caret:Ve.none(),value:n.value},y,O);return or(Jp({data:dv(n),disabled:n.disabled,getApi:De,onAction:function(it){return s(n.value)},onSetup:function(it){return it.setActive(f),$e},triggersSubmenu:!1,itemBehaviours:[]},Je,m,y),{toggling:{toggleClass:WS,toggleOnExecute:!1,selected:n.active}})},fx=og(lS(),$1()),Q_=function(n){return{value:n}},J_=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Z_=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,eO=function(n){return J_.test(n)||Z_.test(n)},q4=function(n){return wi(n,"#").toUpperCase()},K4=function(n){return eO(n)?Ve.some({value:q4(n)}):Ve.none()},vv=function(n){var a=n.value.replace(J_,function(i,s,f,m){return s+s+f+f+m+m});return{value:a}},Y4=function(n){var a=vv(n),i=Z_.exec(a.value);return i===null?["FFFFFF","FF","FF","FF"]:i},dx=function(n){var a=n.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},Ng=function(n){var a=dx(n.red)+dx(n.green)+dx(n.blue);return Q_(a)},hy=Math.min,tO=Math.max,eh=Math.round,G4=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,vx=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Cd=function(n,a,i,s){return{red:n,green:a,blue:i,alpha:s}},gy=function(n){var a=parseInt(n,10);return a.toString()===n&&a>=0&&a<=255},mx=function(n){var a,i,s,f=(n.hue||0)%360,m=n.saturation/100,y=n.value/100;if(m=tO(0,hy(m,1)),y=tO(0,hy(y,1)),m===0)return a=i=s=eh(255*y),Cd(a,i,s,1);var O=f/60,De=y*m,Je=De*(1-Math.abs(O%2-1)),it=y-De;switch(Math.floor(O)){case 0:a=De,i=Je,s=0;break;case 1:a=Je,i=De,s=0;break;case 2:a=0,i=De,s=Je;break;case 3:a=0,i=Je,s=De;break;case 4:a=Je,i=0,s=De;break;case 5:a=De,i=0,s=Je;break;default:a=i=s=0}return a=eh(255*(a+it)),i=eh(255*(i+it)),s=eh(255*(s+it)),Cd(a,i,s,1)},Rg=function(n){var a=Y4(n),i=parseInt(a[1],16),s=parseInt(a[2],16),f=parseInt(a[3],16);return Cd(i,s,f,1)},by=function(n,a,i,s){var f=parseInt(n,10),m=parseInt(a,10),y=parseInt(i,10),O=parseFloat(s);return Cd(f,m,y,O)},nO=function(n){if(n==="transparent")return Ve.some(Cd(0,0,0,0));var a=G4.exec(n);if(a!==null)return Ve.some(by(a[1],a[2],a[3],"1"));var i=vx.exec(n);return i!==null?Ve.some(by(i[1],i[2],i[3],i[4])):Ve.none()},rO=function(n){return"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")"},aO=Cd(255,0,0,1),X4=function(n){return n.fire("SkinLoaded")},Q4=function(n,a){return n.fire("SkinLoadError",a)},J4=function(n){return n.fire("ResizeEditor")},px=function(n,a){return n.fire("ResizeContent",a)},Z4=function(n,a){return n.fire("ScrollContent",a)},eI=function(n,a){return n.fire("TextColorChange",a)},Lg=function(n,a,i){return{hue:n,saturation:a,value:i}},hx=function(n){var a=0,i=0,s=0,f=n.red/255,m=n.green/255,y=n.blue/255,O=Math.min(f,Math.min(m,y)),De=Math.max(f,Math.max(m,y));if(O===De)return s=O,Lg(0,0,s*100);var Je=f===O?m-y:y===O?f-m:y-f;return a=f===O?3:y===O?1:5,a=60*(a-Je/(De-O)),i=(De-O)/De,s=De,Lg(Math.round(a),Math.round(i*100),Math.round(s*100))},tI=function(n){return hx(Rg(n))},gx=function(n){return Ng(mx(n))},nI=function(n){return K4(n).orThunk(function(){return nO(n).map(Ng)}).getOrThunk(function(){var a=document.createElement("canvas");a.height=1,a.width=1;var i=a.getContext("2d");i.clearRect(0,0,a.width,a.height),i.fillStyle="#FFFFFF",i.fillStyle=n,i.fillRect(0,0,1,1);var s=i.getImageData(0,0,1,1).data,f=s[0],m=s[1],y=s[2],O=s[3];return Ng(Cd(f,m,y,O))})},yy=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),wy="tinymce-custom-colors";function Cy(n){var a=yy.getItem(wy),i=He(a)?JSON.parse(a):[],s=function(De){var Je=n-De.length;return Je<0?De.slice(0,n):De},f=s(i),m=function(De){Lt(f,De).each(y),f.unshift(De),f.length>n&&f.pop(),yy.setItem(wy,JSON.stringify(f))},y=function(De){f.splice(De,1)},O=function(){return f.slice(0)};return{add:m,state:O}}var Du="choiceitem",Sy=[{type:Du,text:"Light Green",value:"#BFEDD2"},{type:Du,text:"Light Yellow",value:"#FBEEB8"},{type:Du,text:"Light Red",value:"#F8CAC6"},{type:Du,text:"Light Purple",value:"#ECCAFA"},{type:Du,text:"Light Blue",value:"#C2E0F4"},{type:Du,text:"Green",value:"#2DC26B"},{type:Du,text:"Yellow",value:"#F1C40F"},{type:Du,text:"Red",value:"#E03E2D"},{type:Du,text:"Purple",value:"#B96AD9"},{type:Du,text:"Blue",value:"#3598DB"},{type:Du,text:"Dark Turquoise",value:"#169179"},{type:Du,text:"Orange",value:"#E67E23"},{type:Du,text:"Dark Red",value:"#BA372A"},{type:Du,text:"Dark Purple",value:"#843FA1"},{type:Du,text:"Dark Blue",value:"#236FA1"},{type:Du,text:"Light Gray",value:"#ECF0F1"},{type:Du,text:"Medium Gray",value:"#CED4D9"},{type:Du,text:"Gray",value:"#95A5A6"},{type:Du,text:"Dark Gray",value:"#7E8C8D"},{type:Du,text:"Navy Blue",value:"#34495E"},{type:Du,text:"Black",value:"#000000"},{type:Du,text:"White",value:"#ffffff"}],oO=Cy(10),rI=function(n){for(var a=[],i=0;i<n.length;i+=2)a.push({text:n[i+1],value:"#"+nI(n[i]).value,type:"choiceitem"});return a},aI=function(n,a){return n.getParam("color_cols",a,"number")},iO=function(n){return n.getParam("custom_colors")!==!1},oI=function(n){return n.getParam("color_map")},bx=function(n){var a=oI(n);return a!==void 0?rI(a):Sy},uO=function(){return Pt(oO.state(),function(n){return{type:Du,text:n,value:n}})},sO=function(n){oO.add(n)},yx="#000000",iI=function(n,a){var i;return n.dom.getParents(n.selection.getStart(),function(s){var f;(f=s.style[a==="forecolor"?"color":"background-color"])&&(i=i||f)}),Ve.from(i)},uI=function(n,a,i){n.undoManager.transact(function(){n.focus(),n.formatter.apply(a,{value:i}),n.nodeChanged()})},sI=function(n,a){n.undoManager.transact(function(){n.focus(),n.formatter.remove(a,{value:null},null,!0),n.nodeChanged()})},lI=function(n){n.addCommand("mceApplyTextcolor",function(a,i){uI(n,a,i)}),n.addCommand("mceRemoveTextcolor",function(a){sI(n,a)})},cI=function(n){return Math.max(5,Math.ceil(Math.sqrt(n)))},xy=function(n){var a=bx(n),i=cI(a.length);return aI(n,i)},lO=function(n){var a="choiceitem",i={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:a,text:"Custom color",icon:"color-picker",value:"custom"};return n?[i,s]:[i]},Ey=function(n,a,i,s){if(i==="custom"){var f=vO(n);f(function(m){m.each(function(y){sO(y),n.execCommand("mceApplyTextcolor",a,y),s(y)})},yx)}else i==="remove"?(s(""),n.execCommand("mceRemoveTextcolor",a)):(s(i),n.execCommand("mceApplyTextcolor",a,i))},cO=function(n,a){return n.concat(uO().concat(lO(a)))},fO=function(n,a){return function(i){i(cO(n,a))}},wx=function(n,a,i){var s=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(s,i)},th=function(n,a,i,s,f){n.ui.registry.addSplitButton(a,{tooltip:s,presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:function(m){var y=iI(n,i);return y.bind(function(O){return nO(O).map(function(De){var Je=Ng(De).value;return fo(m.toLowerCase(),Je)})}).getOr(!1)},columns:xy(n),fetch:fO(bx(n),iO(n)),onAction:function(m){Ey(n,i,f.get(),$e)},onItemAction:function(m,y){Ey(n,i,y,function(O){f.set(O),eI(n,{name:a,color:O})})},onSetup:function(m){wx(m,a,f.get());var y=function(O){O.name===a&&wx(m,O.name,O.color)};return n.on("TextColorChange",y),function(){n.off("TextColorChange",y)}}})},dO=function(n,a,i,s){n.ui.registry.addNestedMenuItem(a,{text:s,icon:a==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(f){Ey(n,i,f.value,$e)}}]}})},vO=function(n){return function(a,i){var s=!1,f=function(O){var De=O.getData(),Je=De.colorpicker;s?(a(Ve.from(Je)),O.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",Je]))},m=function(O,De){De.name==="hex-valid"&&(s=De.value)},y={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:y,onAction:m,onSubmit:f,onClose:$e,onCancel:function(){a(Ve.none())}})}},fI=function(n){lI(n);var a=$a(yx),i=$a(yx);th(n,"forecolor","forecolor","Text color",a),th(n,"backcolor","hilitecolor","Background color",i),dO(n,"forecolor","forecolor","Text color"),dO(n,"backcolor","hilitecolor","Background color")},nh=function(n,a,i,s,f,m,y,O){var De=Ag(a),Je=f!=="color"?"normal":"color",it=dI(a,i,s,Je,m,y,O);return JS(n,De,it,s,f)},dI=function(n,a,i,s,f,m,y){return Ka(Pt(n,function(O){return O.type==="choiceitem"?ex(O).fold(yd,function(De){return Ve.some(W4(De,i===1,s,a,m(O.value),f,y,Ag(n)))}):Ve.none()}))},ky=function(n,a){var i=Wp(a);if(n===1)return{mode:"menu",moveOnTab:!0};if(n==="auto")return{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}};var s=a==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},mO=function(n,a){return n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:a==="color"?".tox-swatches__row":".tox-collection__group",cell:a==="color"?"."+jS:"."+ny}}},vI=function(n,a){var i=mI(n,a),s=a.colorinput.getColorCols(),f="color",m=nh(ha("menu-value"),i,function(O){n.onAction({value:O})},s,f,Ef.CLOSE_ON_EXECUTE,mt,a.shared.providers),y=st(st({},m),{markers:Wp(f),movement:ky(s,f)});return{type:"widget",data:{value:ha("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[fx.widget(sv.sketch(y))]}},mI=function(n,a){var i=n.initData.allowCustomColors&&a.colorinput.hasCustomColors();return n.initData.colors.fold(function(){return cO(a.colorinput.getColors(),i)},function(s){return s.concat(lO(i))})},pO=ha("cell-over"),hO=ha("cell-execute"),pI=function(n,a,i){var s,f=function(O){return Ia(O,pO,{row:n,col:a})},m=function(O){return Ia(O,hO,{row:n,col:a})},y=function(O,De){De.stop(),m(O)};return cu({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=i,s)},behaviours:Wr([so("insert-table-picker-cell",[xr(Bd(),no.focus),xr($l(),m),xr(Rh(),y),xr(Zm(),y)]),Mo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),no.config({onFocus:f})])})},hI=function(n,a,i){for(var s=[],f=0;f<a;f++){for(var m=[],y=0;y<i;y++)m.push(pI(f,y,n));s.push(m)}return s},gI=function(n,a,i,s,f){for(var m=0;m<s;m++)for(var y=0;y<f;y++)Mo.set(n[m][y],m<=a&&y<=i)},bI=function(n){return Rn(n,function(a){return Pt(a,Wl)})},gO=function(n,a){return ps(a+"x"+n)},gm=function(n){var a=10,i=10,s=ha("size-label"),f=hI(s,a,i),m=gO(0,0),y=qo({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[m],behaviours:Wr([to.config({})])});return{type:"widget",data:{value:ha("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[fx.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:bI(f).concat(y.asSpec()),behaviours:Wr([so("insert-table-picker",[mo(function(O){to.set(y.get(O),[m])}),Id(pO,function(O,De,Je){var it=Je.event,dt=it.row,_t=it.col;gI(f,dt,_t,a,i),to.set(y.get(O),[gO(dt+1,_t+1)])}),Id(hO,function(O,De,Je){var it=Je.event,dt=it.row,_t=it.col;n.onAction({numRows:dt+1,numColumns:_t+1}),$o(O,Ph())})]),_a.config({initSize:{numRows:a,numColumns:i},mode:"flatgrid",selector:'[role="button"]'})])})]}},yI={inserttable:gm,colorswatch:vI},wI=function(n,a){return jn(yI,n.fancytype).map(function(i){return i(n,a)})},CI=function(n,a,i,s,f){s===void 0&&(s=!0),f===void 0&&(f=!1);var m=f?z4(i.icons):H4(i.icons),y=function(De){return{isDisabled:function(){return La.isDisabled(De)},setDisabled:function(Je){return La.set(De,Je)}}},O=Dg({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:Ve.none(),ariaLabel:n.text,caret:Ve.some(m),checkMark:Ve.none(),shortcutContent:n.shortcut},i,s);return Jp({data:dv(n),getApi:y,disabled:n.disabled,onAction:$e,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},O,a,i)},SI=function(n,a,i,s){s===void 0&&(s=!0);var f=function(y){return{isDisabled:function(){return La.isDisabled(y)},setDisabled:function(O){return La.set(y,O)}}},m=Dg({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:Ve.none(),ariaLabel:n.text,caret:Ve.none(),checkMark:Ve.none(),shortcutContent:n.shortcut},i,s);return Jp({data:dv(n),getApi:f,disabled:n.disabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,a,i)},Ty=function(n){var a=n.text.fold(function(){return{}},function(i){return{innerHtml:i}});return{type:"separator",dom:st({tag:"div",classes:[ny,m_]},a),components:[]}},bO=function(n,a,i,s){s===void 0&&(s=!0);var f=function(y){return{setActive:function(O){Mo.set(y,O)},isActive:function(){return Mo.isOn(y)},isDisabled:function(){return La.isDisabled(y)},setDisabled:function(O){return La.set(y,O)}}},m=Dg({iconContent:n.icon,textContent:n.text,htmlContent:Ve.none(),ariaLabel:n.text,checkMark:Ve.some(q_(i.icons)),caret:Ve.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},i,s);return or(Jp({data:dv(n),disabled:n.disabled,getApi:f,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,a,i),{toggling:{toggleClass:WS,toggleOnExecute:!1,selected:n.active}})},yO=U4,wO=Ty,xI=SI,EI=CI,kI=bO,TI=wI,AI=j4,Bg;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(Bg||(Bg={}));var CO=function(n,a,i,s,f){var m=i.shared.providers,y=function(O){return f?st(st({},O),{shortcut:Ve.none(),icon:O.text.isSome()?Ve.none():O.icon}):O};switch(n.type){case"menuitem":return t4(n).fold(yd,function(O){return Ve.some(xI(y(O),a,m,s))});case"nestedmenuitem":return r4(n).fold(yd,function(O){return Ve.some(EI(y(O),a,m,s,f))});case"togglemenuitem":return o4(n).fold(yd,function(O){return Ve.some(kI(y(O),a,m,s))});case"separator":return Vp(n).fold(yd,function(O){return Ve.some(wO(O))});case"fancymenuitem":return ZP(n).fold(yd,function(O){return TI(y(O),i)});default:return Ve.none()}},_I=function(n,a,i,s,f,m,y){var O=s===1,De=!O||Ag(n);return Ka(Pt(n,function(Je){switch(Je.type){case"separator":return s_(Je).fold(yd,function(it){return Ve.some(wO(it))});case"cardmenuitem":return XP(Je).fold(yd,function(it){return Ve.some(AI(st(st({},it),{onAction:function(dt){it.onAction(dt),i(it.value,it.meta)}}),f,m,{itemBehaviours:Zp(it.meta,m),cardText:{matchText:a,highlightOn:y}}))});case"autocompleteitem":default:return l_(Je).fold(yd,function(it){return Ve.some(yO(it,a,O,"normal",i,f,m,De))})}}))},SO=function(n,a,i,s,f){var m=Ag(a),y=Ka(Pt(a,function(De){var Je=function(dt){return f?!gr(dt,"text"):m},it=function(dt){return CO(dt,i,s,Je(dt),f)};return De.type==="nestedmenuitem"&&De.getSubmenuItems().length<=0?it(st(st({},De),{disabled:!0})):it(De)})),O=f?jP:JS;return O(n,m,y,1,"normal")},xO=function(n){return gd.singleData(n.value,n)},EO=function(n,a,i,s){var f=i===Bg.ContentFocus?kT():fg(),m=ky(a,s),y=Wp(s);return{dom:n.dom,components:n.components,items:n.items,value:n.value,markers:{selectedItem:y.selectedItem,item:y.item},movement:m,fakeFocus:i===Bg.ContentFocus,focusManager:f,menuBehaviours:Kp.unnamedEvents(a!=="auto"?[]:[mo(function(O,De){nx(O,4,y.item).each(function(Je){var it=Je.numColumns,dt=Je.numRows;_a.setGridSize(O,dt,it)})})])}},kf=function(n,a){var i=Xi(),s=$a(!1),f=cu(zi.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Wr([so("dismissAutocompleter",[xr(af(),function(){return De()})])]),lazySink:a.getSink})),m=function(){return zi.isOpen(f)},y=function(){return i.get().isSome()},O=function(){y()&&zi.hide(f)},De=function(){if(y()){var tn=i.get().map(function(On){return On.element});Q1(tn.getOr(on.fromDom(n.selection.getNode()))).each(Ca),O(),i.clear(),s.set(!1)}},Je=Hn(function(){return ty(n)}),it=function(tn,On){var tr=Pn(On,function(Zn){return Ve.from(Zn.columns)}).getOr(1);return Rn(On,function(Zn){var _n=Zn.items;return _I(_n,Zn.matchText,function(Xn,dr){var Xr=n.selection.getRng();HS(n.dom,Xr,tn).fold(function(){},function(wr){var Jr=wr.range,Er={hide:function(){De()},reload:function(cr){O(),Wt(cr)}};s.set(!0),Zn.onAction(Er,Jr,Xn,dr),s.set(!1)})},tr,Ef.BUBBLE_TO_SANDBOX,a,Zn.highlightOn)})},dt=function(tn){if(!y()){var On=yP(n,tn.range);i.set({triggerChar:tn.triggerChar,element:On,matchLength:tn.text.length}),s.set(!1)}},_t=function(tn,On,tr,Zn){tn.matchLength=On.text.length;var _n=Pn(tr,function(Xn){return Ve.from(Xn.columns)}).getOr(1);zi.showAt(f,sv.sketch(EO(JS("autocompleter-value",!0,Zn,_n,"normal"),_n,Bg.ContentFocus,"normal")),{anchor:{type:"node",root:on.fromDom(n.getBody()),node:Ve.from(tn.element)}}),zi.getContent(f).each(ti.highlightFirst)},Nt=function(tn){return i.get().map(function(On){return HS(n.dom,n.selection.getRng(),On.triggerChar).bind(function(tr){return i_(n,Je,tr,tn)})}).getOrThunk(function(){return kg(n,Je)})},Wt=function(tn){Nt(tn).fold(De,function(On){dt(On.context),On.lookupData.then(function(tr){i.get().map(function(Zn){var _n=On.context;if(Zn.triggerChar===_n.triggerChar){var Xn=it(_n.triggerChar,tr);Xn.length>0?_t(Zn,_n,tr,Xn):_n.text.length-Zn.matchLength>=10?De():O()}})})})},un=X1(function(tn){tn.which!==27&&Wt()},50),kn={onKeypress:un,cancelIfNecessary:De,isMenuOpen:m,isActive:y,isProcessingAction:s.get,getView:function(){return zi.getContent(f)}};n.hasPlugin("rtc")===!1&&zS.setup(kn,n)},mv={register:kf},Pg=function(n,a,i){return lf(n,a,i).isSome()},Cx=function(n,a){var i=null,s=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];i=setTimeout(function(){n.apply(null,m),i=null},a)},f=function(){i!==null&&(clearTimeout(i),i=null)};return{cancel:f,schedule:s}},Sx=5,Ay=400,kO=function(n){var a=n.raw;return a.touches===void 0||a.touches.length!==1?Ve.none():Ve.some(a.touches[0])},xx=function(n,a){var i=Math.abs(n.clientX-a.x),s=Math.abs(n.clientY-a.y);return i>Sx||s>Sx},Ex=function(n){var a=Xi(),i=$a(!1),s=Cx(function(Je){n.triggerEvent(nw(),Je),i.set(!0)},Ay),f=function(Je){return kO(Je).each(function(it){s.cancel();var dt={x:it.clientX,y:it.clientY,target:Je.target};s.schedule(Je),i.set(!1),a.set(dt)}),Ve.none()},m=function(Je){return s.cancel(),kO(Je).each(function(it){a.on(function(dt){xx(it,dt)&&a.clear()})}),Ve.none()},y=function(Je){s.cancel();var it=function(dt){return Ti(dt.target,Je.target)};return a.get().filter(it).map(function(dt){return i.get()?(Je.prevent(),!1):n.triggerEvent(Zm(),Je)})},O=Iv([{key:vd(),value:f},{key:nf(),value:m},{key:Nh(),value:y}]),De=function(Je,it){return jn(O,it).bind(function(dt){return dt(Je)})};return{fireIfReady:De}},kx=function(n){var a=n.raw;return a.which===M3[0]&&!qt(["input","textarea"],dn(n.target))&&!Pg(n.target,'[contenteditable="true"]')},TO=function(){return Na().browser.isFirefox()},OI=function(n,a){return TO()?Kb(n,"focus",a):fu(n,"focusin",a)},MI=function(n,a){return TO()?Kb(n,"blur",a):fu(n,"focusout",a)},_y=function(n,a){var i=st({stopBackspace:!0},a),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],f=Ex(i),m=Pt(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(Nt){return fu(n,Nt,function(Wt){f.fireIfReady(Wt,Nt).each(function(kn){kn&&Wt.kill()});var un=i.triggerEvent(Nt,Wt);un&&Wt.kill()})}),y=Xi(),O=fu(n,"paste",function(Nt){f.fireIfReady(Nt,"paste").each(function(un){un&&Nt.kill()});var Wt=i.triggerEvent("paste",Nt);Wt&&Nt.kill(),y.set(setTimeout(function(){i.triggerEvent(tw(),Nt)},0))}),De=fu(n,"keydown",function(Nt){var Wt=i.triggerEvent("keydown",Nt);Wt?Nt.kill():i.stopBackspace&&kx(Nt)&&Nt.prevent()}),Je=OI(n,function(Nt){var Wt=i.triggerEvent("focusin",Nt);Wt&&Nt.kill()}),it=Xi(),dt=MI(n,function(Nt){var Wt=i.triggerEvent("focusout",Nt);Wt&&Nt.kill(),it.set(setTimeout(function(){i.triggerEvent(ew(),Nt)},0))}),_t=function(){xt(m,function(Nt){Nt.unbind()}),De.unbind(),Je.unbind(),dt.unbind(),O.unbind(),y.on(clearTimeout),it.on(clearTimeout)};return{unbind:_t}},AO=function(n,a){var i=jn(n,"target").getOr(a);return $a(i)},DI=function(n,a){var i=$a(!1),s=$a(!1),f=function(){i.set(!0)},m=function(){s.set(!0)};return{stop:f,cut:m,isStopped:i.get,isCut:s.get,event:n,setSource:a.set,getSource:a.get}},NI=function(n){var a=$a(!1),i=function(){a.set(!0)};return{stop:i,cut:$e,isStopped:a.get,isCut:mt,event:n,setSource:Tt("Cannot set source of a broadcasted event"),getSource:Tt("Cannot get source of a broadcasted event")}},rh=cc.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),_O=function(n,a,i,s,f,m){var y=n(a,s),O=DI(i,f);return y.fold(function(){return m.logEventNoHandlers(a,s),rh.complete()},function(De){var Je=De.descHandler,it=vw(Je);return it(O),O.isStopped()?(m.logEventStopped(a,De.element,Je.purpose),rh.stopped()):O.isCut()?(m.logEventCut(a,De.element,Je.purpose),rh.complete()):tu(De.element).fold(function(){return m.logNoParent(a,De.element,Je.purpose),rh.complete()},function(dt){return m.logEventResponse(a,De.element,Je.purpose),rh.resume(dt)})})},Tx=function(n,a,i,s,f,m){return _O(n,a,i,s,f,m).fold(vt,function(y){return Tx(n,a,i,y,f,m)},mt)},RI=function(n,a,i,s,f){var m=AO(i,s);return _O(n,a,i,s,m,f)},LI=function(n,a,i){var s=NI(a);return xt(n,function(f){var m=f.descHandler,y=vw(m);y(s)}),s.isStopped()},OO=function(n,a,i,s){return MO(n,a,i,i.target,s)},MO=function(n,a,i,s,f){var m=AO(i,s);return Tx(n,a,i,s,m,f)},BI=function(n,a){return{element:n,descHandler:a}},DO=function(n,a){return{id:n,descHandler:a}},NO=function(){var n={},a=function(y,O,De){$r(De,function(Je,it){var dt=n[it]!==void 0?n[it]:{};dt[O]=dw(Je,y),n[it]=dt})},i=function(y,O){return op(O).bind(function(De){return jn(y,De)}).map(function(De){return BI(O,De)})},s=function(y){return jn(n,y).map(function(O){return jr(O,function(De,Je){return DO(Je,De)})}).getOr([])},f=function(y,O,De){return jn(n,O).bind(function(Je){return G0(De,function(it){return i(Je,it)},y)})},m=function(y){$r(n,function(O,De){gr(O,y)&&delete O[y]})};return{registerId:a,unregisterId:m,filterByType:s,find:f}},PI=function(){var n=NO(),a={},i=function(Je){var it=Je.element;return op(it).getOrThunk(function(){return _2("uid-",Je.element)})},s=function(Je,it){var dt=a[it];if(dt===Je)m(Je);else throw new Error('The tagId "'+it+'" is already used by: '+$d(dt.element)+`
Cannot use it for: `+$d(Je.element)+`
The conflicting element is`+(Za(dt.element)?" ":" not ")+"already in the DOM")},f=function(Je){var it=i(Je);sa(a,it)&&s(Je,it);var dt=[Je];n.registerId(dt,it,Je.events),a[it]=Je},m=function(Je){op(Je.element).each(function(it){delete a[it],n.unregisterId(it)})},y=function(Je){return n.filterByType(Je)},O=function(Je,it,dt){return n.find(Je,it,dt)},De=function(Je){return jn(a,Je)};return{find:O,filter:y,register:f,unregister:m,getById:De}},II=function(n){var a=n.dom,i=a.attributes,s=At(a,["attributes"]);return{uid:n.uid,dom:st({tag:"div",attributes:st({role:"presentation"},i)},s),components:n.components,behaviours:f1(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},ws=Yl({name:"Container",factory:II,configFields:[Dn("components",[]),Mu("containerBehaviours",[]),Dn("events",{}),Dn("domModification",{}),Dn("eventOrder",{})]}),RO=function(n){var a=function(tn){return tu(n.element).fold(vt,function(On){return Ti(tn,On)})},i=PI(),s=function(tn,On){return i.find(a,tn,On)},f=_y(n.element,{triggerEvent:function(tn,On){return Tw(tn,On.target,function(tr){return OO(s,tn,On,tr)})}}),m={debugInfo:qe("real"),triggerEvent:function(tn,On,tr){Tw(tn,On,function(Zn){return MO(s,tn,tr,On,Zn)})},triggerFocus:function(tn,On){op(tn).fold(function(){cf(tn)},function(tr){Tw(Jm(),tn,function(Zn){return RI(s,Jm(),{originator:On,kill:$e,prevent:$e,target:tn},tn,Zn),!1})})},triggerEscape:function(tn,On){m.triggerEvent("keydown",tn.element,On.event)},getByUid:function(tn){return un(tn)},getByDom:function(tn){return kn(tn)},build:cu,addToGui:function(tn){De(tn)},removeFromGui:function(tn){Je(tn)},addToWorld:function(tn){y(tn)},removeFromWorld:function(tn){O(tn)},broadcast:function(tn){_t(tn)},broadcastOn:function(tn,On){Nt(tn,On)},broadcastEvent:function(tn,On){Wt(tn,On)},isConnected:vt},y=function(tn){tn.connect(m),$t(tn.element)||(i.register(tn),xt(tn.components(),y),m.triggerEvent(Ih(),tn.element,{target:tn.element}))},O=function(tn){$t(tn.element)||(xt(tn.components(),O),i.unregister(tn)),tn.disconnect()},De=function(tn){Qv(n,tn)},Je=function(tn){Gf(tn)},it=function(){f.unbind(),Ta(n.element)},dt=function(tn){var On=i.filter(fc());xt(On,function(tr){var Zn=tr.descHandler,_n=vw(Zn);_n(tn)})},_t=function(tn){dt({universal:!0,data:tn})},Nt=function(tn,On){dt({universal:!1,channels:tn,data:On})},Wt=function(tn,On){var tr=i.filter(tn);return LI(tr,On)},un=function(tn){return i.getById(tn).fold(function(){return Ga.error(new Error('Could not find component with uid: "'+tn+'" in system.'))},Ga.value)},kn=function(tn){var On=op(tn).getOr("not found");return un(On)};return y(n),{root:n,element:n.element,destroy:it,add:De,remove:Je,getByUid:un,getByDom:kn,addToWorld:y,removeFromWorld:O,broadcast:_t,broadcastOn:Nt,broadcastEvent:Wt}},FI=function(n,a){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Pt(n.items,a.interpreter)}},Oy=qe([Dn("prefix","form-field"),Mu("fieldBehaviours",[Oo,Zr])]),Ys=qe([Lc({schema:[Sr("dom")],name:"label"}),Lc({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}}}},schema:[Sr("text")],name:"aria-descriptor"}),ys({factory:{sketch:function(n){var a=K0(n,["factory"]);return n.factory.sketch(a)}},schema:[Sr("factory")],name:"field"})]),LO=function(n,a,i,s){var f=Xu(n.fieldBehaviours,[Oo.config({find:function(O){return vi(O,n,"field")}}),Zr.config({store:{mode:"manual",getValue:function(O){return Oo.getCurrent(O).bind(Zr.getValue)},setValue:function(O,De){Oo.getCurrent(O).each(function(Je){Zr.setValue(Je,De)})}}})]),m=di([mo(function(O,De){var Je=cT(O,n,["label","field","aria-descriptor"]);Je.field().each(function(it){var dt=ha(n.prefix);Je.label().each(function(_t){vo(_t.element,"for",dt),vo(it.element,"id",dt)}),Je["aria-descriptor"]().each(function(_t){var Nt=ha(n.prefix);vo(_t.element,"id",Nt),vo(it.element,"aria-describedby",Nt)})})})]),y={getField:function(O){return vi(O,n,"field")},getLabel:function(O){return vi(O,n,"label")}};return{uid:n.uid,dom:n.dom,components:a,behaviours:f,events:m,apis:y}},Ho=Ws({name:"FormField",configFields:Oy(),partFields:Ys(),factory:LO,apis:{getField:function(n,a){return n.getField(a)},getLabel:function(n,a){return n.getLabel(a)}}}),HI=function(n,a){return Dc({attributes:Iv([{key:a.tabAttr,value:"true"}])})},zI=Object.freeze({__proto__:null,exhibit:HI}),$I=[Dn("tabAttr","data-alloy-tabstop")],qi=zu({fields:$I,name:"tabstopping",active:zI}),BO=tinymce.util.Tools.resolve("tinymce.html.Entities"),Ig=function(n,a,i,s){var f=PO(n,a,i,s);return Ho.sketch(f)},VI=function(n,a){return Ig(n,a,[],[])},PO=function(n,a,i,s){return{dom:Ax(i),components:n.toArray().concat([a]),fieldBehaviours:Wr(s)}},UI=function(){return Ax([])},Ax=function(n){return{tag:"div",classes:["tox-form__group"].concat(n)}},Sd=function(n,a){return Ho.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:a.translate(n)}})},_l=ha("form-component-change"),Fg=ha("form-close"),bm=ha("form-cancel"),rd=ha("form-action"),Hg=ha("form-submit"),_x=ha("form-block"),Ox=ha("form-unblock"),pv=ha("form-tabchange"),IO=ha("form-resize"),jI=function(n,a){var i,s=n.label.map(function(dt){return Sd(dt,a)}),f=function(dt){return function(_t,Nt){lf(Nt.event.target,"[data-collection-item-value]").each(function(Wt){dt(_t,Nt,Wt,Di(Wt,"data-collection-item-value"))})}},m=function(dt,_t){var Nt=Pt(_t,function(kn){var tn=Pc.translate(kn.text),On=n.columns===1?'<div class="tox-collection__item-label">'+tn+"</div>":"",tr='<div class="tox-collection__item-icon">'+kn.icon+"</div>",Zn={_:" "," - ":" ","-":" "},_n=tn.replace(/\_| \- |\-/g,function(dr){return Zn[dr]}),Xn=a.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+Xn+'" tabindex="-1" data-collection-item-value="'+BO.encodeAllRaw(kn.value)+'" title="'+_n+'" aria-label="'+_n+'">'+tr+On+"</div>"}),Wt=n.columns!=="auto"&&n.columns>1?En(Nt,n.columns):[Nt],un=Pt(Wt,function(kn){return'<div class="tox-collection__group">'+kn.join("")+"</div>"});Fd(dt.element,un.join(""))},y=f(function(dt,_t,Nt,Wt){_t.stop(),a.isDisabled()||Ia(dt,rd,{name:n.name,value:Wt})}),O=[xr(Bd(),f(function(dt,_t,Nt){cf(Nt)})),xr(Rh(),y),xr(Zm(),y),xr(Pd(),f(function(dt,_t,Nt){_u(dt.element,"."+mm).each(function(Wt){hu(Wt,mm)}),Au(Nt,mm)})),xr(ns(),f(function(dt){_u(dt.element,"."+mm).each(function(_t){hu(_t,mm)})})),vc(f(function(dt,_t,Nt,Wt){Ia(dt,rd,{name:n.name,value:Wt})}))],De=function(dt,_t){return Pt(Us(dt.element,".tox-collection__item"),_t)},Je=Ho.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:lt},behaviours:Wr([La.config({disabled:a.isDisabled,onDisabled:function(dt){De(dt,function(_t){Au(_t,"tox-collection__item--state-disabled"),vo(_t,"aria-disabled",!0)})},onEnabled:function(dt){De(dt,function(_t){hu(_t,"tox-collection__item--state-disabled"),Eu(_t,"aria-disabled")})}}),yu(),to.config({}),Zr.config({store:{mode:"memory",initialValue:[]},onSetValue:function(dt,_t){m(dt,_t),n.columns==="auto"&&nx(dt,5,"tox-collection__item").each(function(Nt){var Wt=Nt.numRows,un=Nt.numColumns;_a.setGridSize(dt,Wt,un)}),$o(dt,IO)}}),qi.config({}),_a.config(mO(n.columns,"normal")),so("collection-events",O)]),eventOrder:(i={},i[$l()]=["disabling","alloy.base.behaviour","collection-events"],i)}),it=["tox-form__group--collection"];return Ig(s,Je,it,[])},xd=qe([ei("data"),Dn("inputAttributes",{}),Dn("inputStyles",{}),Dn("tag","input"),Dn("inputClasses",[]),Wo("onSetValue"),Dn("styles",{}),Dn("eventOrder",{}),Mu("inputBehaviours",[Zr,no]),Dn("selectOnFocus",!0)]),FO=function(n){return Wr([no.config({onFocus:n.selectOnFocus?function(a){var i=a.element,s=Gd(i);i.dom.setSelectionRange(0,s.length)}:$e})])},WI=function(n){return st(st({},FO(n)),Xu(n.inputBehaviours,[Zr.config({store:st(st({mode:"manual"},n.data.map(function(a){return{initialValue:a}}).getOr({})),{getValue:function(a){return Gd(a.element)},setValue:function(a,i){var s=Gd(a.element);s!==i&&up(a.element,i)}}),onSetValue:n.onSetValue})]))},Xl=function(n){return{tag:n.tag,attributes:st({type:"text"},n.inputAttributes),styles:n.inputStyles,classes:n.inputClasses}},HO=function(n,a){return{uid:n.uid,dom:Xl(n),components:[],behaviours:WI(n),eventOrder:n.eventOrder}},ah=Yl({name:"Input",configFields:xd(),factory:HO}),zO={},$O={exports:zO};(function(n,a,i,s){(function(f,m){typeof a=="object"&&typeof i!="undefined"?i.exports=m():(f=typeof globalThis!="undefined"?globalThis:f||self,f.EphoxContactWrapper=m())})(this,function(){var f=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:{},m={exports:{}};(function(Je){(function(it){var dt=setTimeout;function _t(){}function Nt(_n,Xn){return function(){_n.apply(Xn,arguments)}}function Wt(_n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof _n!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Zn(_n,this)}function un(_n,Xn){for(;_n._state===3;)_n=_n._value;if(_n._state===0){_n._deferreds.push(Xn);return}_n._handled=!0,Wt._immediateFn(function(){var dr=_n._state===1?Xn.onFulfilled:Xn.onRejected;if(dr===null){(_n._state===1?kn:tn)(Xn.promise,_n._value);return}var Xr;try{Xr=dr(_n._value)}catch(wr){tn(Xn.promise,wr);return}kn(Xn.promise,Xr)})}function kn(_n,Xn){try{if(Xn===_n)throw new TypeError("A promise cannot be resolved with itself.");if(Xn&&(typeof Xn=="object"||typeof Xn=="function")){var dr=Xn.then;if(Xn instanceof Wt){_n._state=3,_n._value=Xn,On(_n);return}else if(typeof dr=="function"){Zn(Nt(dr,Xn),_n);return}}_n._state=1,_n._value=Xn,On(_n)}catch(Xr){tn(_n,Xr)}}function tn(_n,Xn){_n._state=2,_n._value=Xn,On(_n)}function On(_n){_n._state===2&&_n._deferreds.length===0&&Wt._immediateFn(function(){_n._handled||Wt._unhandledRejectionFn(_n._value)});for(var Xn=0,dr=_n._deferreds.length;Xn<dr;Xn++)un(_n,_n._deferreds[Xn]);_n._deferreds=null}function tr(_n,Xn,dr){this.onFulfilled=typeof _n=="function"?_n:null,this.onRejected=typeof Xn=="function"?Xn:null,this.promise=dr}function Zn(_n,Xn){var dr=!1;try{_n(function(Xr){dr||(dr=!0,kn(Xn,Xr))},function(Xr){dr||(dr=!0,tn(Xn,Xr))})}catch(Xr){if(dr)return;dr=!0,tn(Xn,Xr)}}Wt.prototype.catch=function(_n){return this.then(null,_n)},Wt.prototype.then=function(_n,Xn){var dr=new this.constructor(_t);return un(this,new tr(_n,Xn,dr)),dr},Wt.all=function(_n){var Xn=Array.prototype.slice.call(_n);return new Wt(function(dr,Xr){if(Xn.length===0)return dr([]);var wr=Xn.length;function Jr(cr,Hr){try{if(Hr&&(typeof Hr=="object"||typeof Hr=="function")){var pa=Hr.then;if(typeof pa=="function"){pa.call(Hr,function(br){Jr(cr,br)},Xr);return}}Xn[cr]=Hr,--wr===0&&dr(Xn)}catch(br){Xr(br)}}for(var Er=0;Er<Xn.length;Er++)Jr(Er,Xn[Er])})},Wt.resolve=function(_n){return _n&&typeof _n=="object"&&_n.constructor===Wt?_n:new Wt(function(Xn){Xn(_n)})},Wt.reject=function(_n){return new Wt(function(Xn,dr){dr(_n)})},Wt.race=function(_n){return new Wt(function(Xn,dr){for(var Xr=0,wr=_n.length;Xr<wr;Xr++)_n[Xr].then(Xn,dr)})},Wt._immediateFn=typeof setImmediate=="function"?function(_n){setImmediate(_n)}:function(_n){dt(_n,0)},Wt._unhandledRejectionFn=function(Xn){},Wt._setImmediateFn=function(Xn){Wt._immediateFn=Xn},Wt._setUnhandledRejectionFn=function(Xn){Wt._unhandledRejectionFn=Xn},Je.exports?Je.exports=Wt:it.Promise||(it.Promise=Wt)})(f)})(m);var y=m.exports,O=function(){return typeof window!="undefined"?window:Function("return this;")()}(),De={boltExport:O.Promise||y};return De})})(void 0,zO,$O);var Fc=$O.exports.boltExport,Mx=function(n){var a=Ve.none(),i=[],s=function(Je){return Mx(function(it){f(function(dt){it(Je(dt))})})},f=function(Je){y()?De(Je):i.push(Je)},m=function(Je){y()||(a=Ve.some(Je),O(i),i=[])},y=function(){return a.isSome()},O=function(Je){xt(Je,De)},De=function(Je){a.each(function(it){setTimeout(function(){Je(it)},0)})};return n(m),{get:f,map:s,isReady:y}},VO=function(n){return Mx(function(a){a(n)})},qI={nu:Mx,pure:VO},KI=function(n){setTimeout(function(){throw n},0)},oh=function(n){var a=function(De){n().then(De,KI)},i=function(De){return oh(function(){return n().then(De)})},s=function(De){return oh(function(){return n().then(function(Je){return De(Je).toPromise()})})},f=function(De){return oh(function(){return n().then(function(){return De.toPromise()})})},m=function(){return qI.nu(a)},y=function(){var De=null;return oh(function(){return De===null&&(De=n()),De})},O=n;return{map:i,bind:s,anonBind:f,toLazy:m,toCached:y,toPromise:O,get:a}},Dx=function(n){return oh(function(){return new Fc(n)})},YI=function(n){return oh(function(){return Fc.resolve(n)})},us={nu:Dx,pure:YI},GI=["input","textarea"],UO=function(n){var a=dn(n);return qt(GI,a)},jO=function(n,a){var i=a.getRoot(n).getOr(n.element);hu(i,a.invalidClass),a.notify.each(function(s){UO(n.element)&&vo(n.element,"aria-invalid",!1),s.getContainer(n).each(function(f){Fd(f,s.validHtml)}),s.onValid(n)})},WO=function(n,a,i,s){var f=a.getRoot(n).getOr(n.element);Au(f,a.invalidClass),a.notify.each(function(m){UO(n.element)&&vo(n.element,"aria-invalid",!0),m.getContainer(n).each(function(y){Fd(y,s)}),m.onInvalid(n,s)})},qO=function(n,a,i){return a.validator.fold(function(){return us.pure(Ga.value(!0))},function(s){return s.validate(n)})},My=function(n,a,i){return a.notify.each(function(s){s.onValidate(n)}),qO(n,a).map(function(s){return n.getSystem().isConnected()?s.fold(function(f){return WO(n,a,i,f),Ga.error(f)},function(f){return jO(n,a),Ga.value(f)}):Ga.error("No longer in system")})},KO=function(n,a){var i=a.getRoot(n).getOr(n.element);return Hs(i,a.invalidClass)},XI=Object.freeze({__proto__:null,markValid:jO,markInvalid:WO,query:qO,run:My,isInvalid:KO}),QI=function(n,a){return n.validator.map(function(i){return di([xr(i.onEvent,function(s){My(s,n,a).get(lt)})].concat(i.validateOnLoad?[mo(function(s){My(s,n,a).get($e)})]:[]))}).getOr({})},JI=Object.freeze({__proto__:null,events:QI}),ZI=[Sr("invalidClass"),Dn("getRoot",Ve.none),zl("notify",[Dn("aria","alert"),Dn("getContainer",Ve.none),Dn("validHtml",""),Wo("onValid"),Wo("onInvalid"),Wo("onValidate")]),zl("validator",[Sr("validate"),Dn("onEvent","input"),Dn("validateOnLoad",!0)])],ad=zu({fields:ZI,name:"invalidating",active:JI,apis:XI,extra:{validation:function(n){return function(a){var i=Zr.getValue(a);return us.pure(n(i))}}}}),YO=function(n,a,i,s){return i.getOrCreate(n,a,s)},GO=Object.freeze({__proto__:null,getCoupled:YO}),XO=[bl("others",vs(Ga.value,Zc()))],Dy=function(){var n={},a=function(s,f,m){var y=zn(f.others);if(y)return jn(n,m).getOrThunk(function(){var O=jn(f.others,m).getOrDie("No information found for coupled component: "+m),De=O(s),Je=s.getSystem().build(De);return n[m]=Je,Je});throw new Error("Cannot find coupled component: "+m+". Known coupled components: "+JSON.stringify(y,null,2))},i=qe({});return Sl({readState:i,getOrCreate:a})},eF=Object.freeze({__proto__:null,init:Dy}),Ji=zu({fields:XO,name:"coupling",apis:GO,state:eF}),QO=qe("sink"),JO=qe(Lc({name:QO(),overrides:qe({dom:{tag:"div"},behaviours:Wr([Qi.config({useFixed:vt})]),events:di([Hv(hb()),Hv(Mc()),Hv(Rh())])})})),Tf;(function(n){n[n.HighlightFirst=0]="HighlightFirst",n[n.HighlightNone=1]="HighlightNone"})(Tf||(Tf={}));var ZO=function(n,a){var i=n.getHotspot(a).getOr(a),s="hotspot",f=n.getAnchorOverrides();return n.layouts.fold(function(){return{type:s,hotspot:i,overrides:f}},function(m){return{type:s,hotspot:i,overrides:f,layouts:m}})},Ny=function(n,a,i){var s=n.fetch;return s(i).map(a)},tF=function(n,a,i,s,f,m,y){var O=Ny(n,a,s),De=Rx(s,n);return O.map(function(Je){return Je.bind(function(it){return Ve.from(gd.sketch(st(st({},m.menu()),{uid:Ud(""),data:it,highlightImmediately:y===Tf.HighlightFirst,onOpenMenu:function(dt,_t){var Nt=De().getOrDie();Qi.position(Nt,_t,{anchor:i}),Lo.decloak(f)},onOpenSubmenu:function(dt,_t,Nt){var Wt=De().getOrDie();Qi.position(Wt,Nt,{anchor:{type:"submenu",item:_t}}),Lo.decloak(f)},onRepositionMenu:function(dt,_t,Nt){var Wt=De().getOrDie();Qi.position(Wt,_t,{anchor:i}),xt(Nt,function(un){Qi.position(Wt,un.triggeredMenu,{anchor:{type:"submenu",item:un.triggeringItem}})})},onEscape:function(){return no.focus(s),Lo.close(f),Ve.some(!0)}})))})})},Nx=function(n,a,i,s,f,m,y){var O=ZO(n,i),De=tF(n,a,O,i,s,f,y);return De.map(function(Je){return Je.fold(function(){Lo.isOpen(s)&&Lo.close(s)},function(it){Lo.cloak(s),Lo.open(s,it),m(s)}),s})},Ed=function(n,a,i,s,f,m,y){return Lo.close(s),us.pure(s)},ih=function(n,a,i,s,f,m){var y=Ji.getCoupled(i,"sandbox"),O=Lo.isOpen(y),De=O?Ed:Nx;return De(n,a,i,y,s,f,m)},uh=function(n,a,i){var s=Oo.getCurrent(a).getOr(a),f=ts(n.element);i?Ja(s.element,"min-width",f+"px"):zm(s.element,f)},Rx=function(n,a){return n.getSystem().getByUid(a.uid+"-"+QO()).map(function(i){return function(){return Ga.value(i)}}).getOrThunk(function(){return a.lazySink.fold(function(){return function(){return Ga.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(i){return function(){return i(n)}})})},Ry=function(n){Lo.getState(n).each(function(a){gd.repositionMenus(a)})},Lx=function(n,a,i){var s=Uv(),f=function(O,De){var Je=ZO(n,a);s.link(a.element),n.matchWidth&&uh(Je.hotspot,De,n.useMinWidth),n.onOpen(Je,O,De),i!==void 0&&i.onOpen!==void 0&&i.onOpen(O,De)},m=function(O,De){s.unlink(a.element),i!==void 0&&i.onClose!==void 0&&i.onClose(O,De)},y=Rx(a,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:pc.augment(n.sandboxBehaviours,[Zr.config({store:{mode:"memory",initialValue:a}}),Lo.config({onOpen:f,onClose:m,isPartOf:function(O,De,Je){return jv(De,Je)||jv(a,Je)},getAttachPoint:function(){return y().getOrDie()}}),Oo.config({find:function(O){return Lo.getState(O).bind(function(De){return Oo.getCurrent(De)})}}),ll.config({channels:st(st({},kl({isExtraPart:mt})),em({doReposition:Ry}))})])}},eM=function(n){var a=Ji.getCoupled(n,"sandbox");Ry(a)},Bx=function(){return[Dn("sandboxClasses",[]),pc.field("sandboxBehaviours",[Oo,ll,Lo,Zr])]},tM=qe([Sr("dom"),Sr("fetch"),Wo("onOpen"),xl("onExecute"),Dn("getHotspot",Ve.some),Dn("getAnchorOverrides",qe({})),ev(),Mu("dropdownBehaviours",[Mo,Ji,_a,no]),Sr("toggleClass"),Dn("eventOrder",{}),ei("lazySink"),Dn("matchWidth",!1),Dn("useMinWidth",!1),ei("role")].concat(Bx())),nF=qe([Rc({schema:[Bb()],name:"menu",defaults:function(n){return{onExecute:n.onExecute}}}),JO()]),Ly=function(n,a,i,s){var f,m=function(it){return jn(n.dom,"attributes").bind(function(dt){return jn(dt,it)})},y=function(it){Lo.getState(it).each(function(dt){gd.highlightPrimary(dt)})},O=function(it){var dt=y;ih(n,lt,it,s,dt,Tf.HighlightFirst).get($e)},De={expand:function(it){Mo.isOn(it)||ih(n,lt,it,s,$e,Tf.HighlightNone).get($e)},open:function(it){Mo.isOn(it)||ih(n,lt,it,s,$e,Tf.HighlightFirst).get($e)},isOpen:Mo.isOn,close:function(it){Mo.isOn(it)&&ih(n,lt,it,s,$e,Tf.HighlightFirst).get($e)},repositionMenus:function(it){Mo.isOn(it)&&eM(it)}},Je=function(it,dt){return Ul(it),Ve.some(!0)};return{uid:n.uid,dom:n.dom,components:a,behaviours:Xu(n.dropdownBehaviours,[Mo.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Ji.config({others:{sandbox:function(it){return Lx(n,it,{onOpen:function(){return Mo.on(it)},onClose:function(){return Mo.off(it)}})}}}),_a.config({mode:"special",onSpace:Je,onEnter:Je,onDown:function(it,dt){if(Hc.isOpen(it)){var _t=Ji.getCoupled(it,"sandbox");y(_t)}else Hc.open(it);return Ve.some(!0)},onEscape:function(it,dt){return Hc.isOpen(it)?(Hc.close(it),Ve.some(!0)):Ve.none()}}),no.config({})]),events:z1(Ve.some(O)),eventOrder:st(st({},n.eventOrder),(f={},f[$l()]=["disabling","toggling","alloy.base.behaviour"],f)),apis:De,domModification:{attributes:st(st({"aria-haspopup":"true"},n.role.fold(function(){return{}},function(it){return{role:it}})),n.dom.tag==="button"?{type:m("type").getOr("button")}:{})}}},Hc=Ws({name:"Dropdown",configFields:tM(),partFields:nF(),factory:Ly,apis:{open:function(n,a){return n.open(a)},expand:function(n,a){return n.expand(a)},close:function(n,a){return n.close(a)},isOpen:function(n,a){return n.isOpen(a)},repositionMenus:function(n,a){return n.repositionMenus(a)}}}),Ql=function(){return Dc({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},rF=function(){return di([x2(pR(),vt)])},aF=Object.freeze({__proto__:null,events:rF,exhibit:Ql}),sh=zu({fields:[],name:"unselecting",active:aF}),nM=function(n,a){return Hc.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:Wr([gc.button(a.providers.isDisabled),yu(),sh.config({}),qi.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:a.getSink,fetch:function(i){return us.nu(function(s){return n.fetch(s)}).map(function(s){return Ve.from(xO(or(nh(ha("menu-value"),s,function(f){n.onItemAction(i,f)},n.columns,n.presets,Ef.CLOSE_ON_EXECUTE,mt,a.providers),{movement:ky(n.columns,n.presets)})))})},parts:{menu:ay(!1,1,n.presets)}})},rM=ha("color-input-change"),aM=ha("color-swatch-change"),oM=ha("color-picker-cancel"),oF=function(n,a,i){var s=Ho.parts.field({factory:ah,inputClasses:["tox-textfield"],onSetValue:function(De){return ad.run(De).get($e)},inputBehaviours:Wr([La.config({disabled:a.providers.isDisabled}),yu(),qi.config({}),ad.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(De){return tu(De.element)},notify:{onValid:function(De){var Je=Zr.getValue(De);Ia(De,rM,{color:Je})}},validator:{validateOnLoad:!1,validate:function(De){var Je=Zr.getValue(De);if(Je.length===0)return us.pure(Ga.value(!0));var it=on.fromTag("span");Ja(it,"background-color",Je);var dt=ku(it,"background-color").fold(function(){return Ga.error("blah")},function(_t){return Ga.value(Je)});return us.pure(dt)}}})]),selectOnFocus:!1}),f=n.label.map(function(De){return Sd(De,a.providers)}),m=function(De,Je){Ia(De,aM,{value:Je})},y=function(De,Je){O.getOpt(De).each(function(it){Je==="custom"?i.colorPicker(function(dt){dt.fold(function(){return $o(it,oM)},function(_t){m(it,_t),sO(_t)})},"#ffffff"):Je==="remove"?m(it,""):m(it,Je)})},O=qo(nM({dom:{tag:"span",attributes:{"aria-label":a.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[gs,hs,gu]},onLtr:function(){return[hs,gs,gu]}},components:[],fetch:fO(i.getColors(),i.hasCustomColors()),columns:i.getColorCols(),presets:"color",onItemAction:y},a));return Ho.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:f.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,O.asSpec()]}]),fieldBehaviours:Wr([so("form-field-events",[xr(rM,function(De,Je){O.getOpt(De).each(function(it){Ja(it.element,"background-color",Je.event.color)}),Ia(De,_l,{name:n.name})}),xr(aM,function(De,Je){Ho.getField(De).each(function(it){Zr.setValue(it,Je.event.value),Oo.getCurrent(De).each(no.focus)})}),xr(oM,function(De,Je){Ho.getField(De).each(function(it){Oo.getCurrent(De).each(no.focus)})})])])})},iF=Lc({schema:[Sr("dom")],name:"label"}),hv=function(n){return Lc({name:""+n+"-edge",overrides:function(a){var i=a.model.manager.edgeActions[n];return i.fold(function(){return{}},function(s){return{events:di([uw(vd(),function(f,m,y){return s(f,y)},[a]),uw(Mc(),function(f,m,y){return s(f,y)},[a]),uw(Fv(),function(f,m,y){y.mouseIsDown.get()&&s(f,y)},[a])])}})}})},uF=hv("top-left"),iM=hv("top"),sF=hv("top-right"),lF=hv("right"),cF=hv("bottom-right"),uM=hv("bottom"),By=hv("bottom-left"),fF=hv("left"),Py=ys({name:"thumb",defaults:qe({dom:{styles:{position:"absolute"}}}),overrides:function(n){return{events:di([tp(vd(),n,"spectrum"),tp(nf(),n,"spectrum"),tp(Nh(),n,"spectrum"),tp(Mc(),n,"spectrum"),tp(Fv(),n,"spectrum"),tp(J0(),n,"spectrum")])}}}),lh=ys({schema:[ol("mouseIsDown",function(){return $a(!1)})],name:"spectrum",overrides:function(n){var a=n.model,i=a.manager,s=function(f,m){return i.getValueFromEvent(m).map(function(y){return i.setValueFrom(f,n,y)})};return{behaviours:Wr([_a.config({mode:"special",onLeft:function(f){return i.onLeft(f,n)},onRight:function(f){return i.onRight(f,n)},onUp:function(f){return i.onUp(f,n)},onDown:function(f){return i.onDown(f,n)}}),no.config({})]),events:di([xr(vd(),s),xr(nf(),s),xr(Mc(),s),xr(Fv(),function(f,m){n.mouseIsDown.get()&&s(f,m)})])}}}),sM=[iF,fF,lF,iM,uM,uF,sF,By,cF,Py,lh],lM="slider.change.value",ch=qe(lM),dF=function(n){return n.type.indexOf("touch")!==-1},Px=function(n){var a=n.event.raw;if(dF(a)){var i=a;return i.touches!==void 0&&i.touches.length===1?Ve.some(i.touches[0]).map(function(f){return ci(f.clientX,f.clientY)}):Ve.none()}else{var s=a;return s.clientX!==void 0?Ve.some(s).map(function(f){return ci(f.clientX,f.clientY)}):Ve.none()}},Iy="top",vF="right",mF="bottom",cM="left",gv=function(n){return n.model.minX},kd=function(n){return n.model.minY},zg=function(n){return n.model.minX-1},ss=function(n){return n.model.minY-1},bv=function(n){return n.model.maxX},ym=function(n){return n.model.maxY},Fy=function(n){return n.model.maxX+1},$g=function(n){return n.model.maxY+1},fM=function(n,a,i){return a(n)-i(n)},Ix=function(n){return fM(n,bv,gv)},Fx=function(n){return fM(n,ym,kd)},Hx=function(n){return Ix(n)/2},Af=function(n){return Fx(n)/2},yv=function(n){return n.stepSize},zx=function(n){return n.snapToGrid},Vg=function(n){return n.snapStart},Hy=function(n){return n.rounded},zy=function(n,a){return n[a+"-edge"]!==void 0},dM=function(n){return zy(n,cM)},vM=function(n){return zy(n,vF)},mM=function(n){return zy(n,Iy)},pM=function(n){return zy(n,mF)},_f=function(n){return n.model.value.get()},hM=function(n){return{x:n}},$x=function(n){return{y:n}},wv=function(n,a){return{x:n,y:a}},Qu=function(n,a){Ia(n,ch(),{value:a})},$y=function(n,a){Qu(n,wv(zg(a),ss(a)))},pF=function(n,a){Qu(n,$x(ss(a)))},hF=function(n,a){Qu(n,wv(Hx(a),ss(a)))},gM=function(n,a){Qu(n,wv(Fy(a),ss(a)))},bM=function(n,a){Qu(n,hM(Fy(a)))},Vx=function(n,a){Qu(n,wv(Fy(a),Af(a)))},yM=function(n,a){Qu(n,wv(Fy(a),$g(a)))},Ug=function(n,a){Qu(n,$x($g(a)))},jg=function(n,a){Qu(n,wv(Hx(a),$g(a)))},gF=function(n,a){Qu(n,wv(zg(a),$g(a)))},bF=function(n,a){Qu(n,hM(zg(a)))},yF=function(n,a){Qu(n,wv(zg(a),Af(a)))},Ux=function(n,a,i,s){return n<a?n:n>i?i:n===a?a-1:Math.max(a,n-s)},jx=function(n,a,i,s){return n>i?n:n<a?a:n===i?i+1:Math.min(i,n+s)},wM=function(n,a,i){return Math.max(a,Math.min(i,n))},wF=function(n,a,i,s,f){return f.fold(function(){var m=n-a,y=Math.round(m/s)*s;return wM(a+y,a-1,i+1)},function(m){var y=(n-m)%s,O=Math.round(y/s),De=Math.floor((n-m)/s),Je=Math.floor((i-m)/s),it=Math.min(Je,De+O),dt=m+it*s;return Math.max(m,dt)})},Wx=function(n,a,i){return Math.min(i,Math.max(n,a))-a},Cv=function(n){var a=n.min,i=n.max,s=n.range,f=n.value,m=n.step,y=n.snap,O=n.snapStart,De=n.rounded,Je=n.hasMinEdge,it=n.hasMaxEdge,dt=n.minBound,_t=n.maxBound,Nt=n.screenRange,Wt=Je?a-1:a,un=it?i+1:i;if(f<dt)return Wt;if(f>_t)return un;var kn=Wx(f,dt,_t),tn=wM(kn/Nt*s+a,Wt,un);return y&&tn>=a&&tn<=i?wF(tn,a,i,m,O):De?Math.round(tn):tn},CM=function(n){var a=n.min,i=n.max,s=n.range,f=n.value,m=n.hasMinEdge,y=n.hasMaxEdge,O=n.maxBound,De=n.maxOffset,Je=n.centerMinEdge,it=n.centerMaxEdge;return f<a?m?0:Je:f>i?y?O:it:(f-a)/s*De},Vy="top",SM="right",xM="bottom",qx="left",CF="width",SF="height",Of=function(n){return n.element.dom.getBoundingClientRect()},Jl=function(n,a){return n[a]},Uy=function(n){var a=Of(n);return Jl(a,qx)},Kx=function(n){var a=Of(n);return Jl(a,SM)},fh=function(n){var a=Of(n);return Jl(a,Vy)},jy=function(n){var a=Of(n);return Jl(a,xM)},Yx=function(n){var a=Of(n);return Jl(a,CF)},EM=function(n){var a=Of(n);return Jl(a,SF)},kM=function(n,a,i){return(n+a)/2-i},Wg=function(n,a){var i=Of(n),s=Of(a),f=Jl(i,qx),m=Jl(i,SM),y=Jl(s,qx);return kM(f,m,y)},Gx=function(n,a){var i=Of(n),s=Of(a),f=Jl(i,Vy),m=Jl(i,xM),y=Jl(s,Vy);return kM(f,m,y)},Wy=function(n,a){Ia(n,ch(),{value:a})},qy=function(n){return{x:n}},Xx=function(n,a,i){var s={min:gv(a),max:bv(a),range:Ix(a),value:i,step:yv(a),snap:zx(a),snapStart:Vg(a),rounded:Hy(a),hasMinEdge:dM(a),hasMaxEdge:vM(a),minBound:Uy(n),maxBound:Kx(n),screenRange:Yx(n)};return Cv(s)},xF=function(n,a,i){var s=Xx(n,a,i),f=qy(s);return Wy(n,f),s},Td=function(n,a){var i=gv(a);Wy(n,qy(i))},Qx=function(n,a){var i=bv(a);Wy(n,qy(i))},TM=function(n,a,i){var s=n>0?jx:Ux,f=s(_f(i).x,gv(i),bv(i),yv(i));return Wy(a,qy(f)),Ve.some(f)},Jx=function(n){return function(a,i){return TM(n,a,i).map(vt)}},Zx=function(n){var a=Px(n);return a.map(function(i){return i.left})},AM=function(n,a,i,s,f){var m=0,y=Yx(n),O=s.bind(function(it){return Ve.some(Wg(it,n))}).getOr(m),De=f.bind(function(it){return Ve.some(Wg(it,n))}).getOr(y),Je={min:gv(a),max:bv(a),range:Ix(a),value:i,hasMinEdge:dM(a),hasMaxEdge:vM(a),minBound:Uy(n),minOffset:m,maxBound:Kx(n),maxOffset:y,centerMinEdge:O,centerMaxEdge:De};return CM(Je)},dh=function(n,a,i,s,f,m){var y=AM(a,m,i,s,f);return Uy(a)-Uy(n)+y},_M=function(n,a,i,s){var f=_f(i),m=dh(n,s.getSpectrum(n),f.x,s.getLeftEdge(n),s.getRightEdge(n),i),y=ts(a.element)/2;Ja(a.element,"left",m-y+"px")},OM=Jx(-1),EF=Jx(1),kF=Ve.none,TF=Ve.none,AF={"top-left":Ve.none(),top:Ve.none(),"top-right":Ve.none(),right:Ve.some(bM),"bottom-right":Ve.none(),bottom:Ve.none(),"bottom-left":Ve.none(),left:Ve.some(bF)},MM=Object.freeze({__proto__:null,setValueFrom:xF,setToMin:Td,setToMax:Qx,findValueOfOffset:Xx,getValueFromEvent:Zx,findPositionOfValue:dh,setPositionFromValue:_M,onLeft:OM,onRight:EF,onUp:kF,onDown:TF,edgeActions:AF}),qg=function(n,a){Ia(n,ch(),{value:a})},Ky=function(n){return{y:n}},eE=function(n,a,i){var s={min:kd(a),max:ym(a),range:Fx(a),value:i,step:yv(a),snap:zx(a),snapStart:Vg(a),rounded:Hy(a),hasMinEdge:mM(a),hasMaxEdge:pM(a),minBound:fh(n),maxBound:jy(n),screenRange:EM(n)};return Cv(s)},_F=function(n,a,i){var s=eE(n,a,i),f=Ky(s);return qg(n,f),s},Yy=function(n,a){var i=kd(a);qg(n,Ky(i))},OF=function(n,a){var i=ym(a);qg(n,Ky(i))},MF=function(n,a,i){var s=n>0?jx:Ux,f=s(_f(i).y,kd(i),ym(i),yv(i));return qg(a,Ky(f)),Ve.some(f)},tE=function(n){return function(a,i){return MF(n,a,i).map(vt)}},DM=function(n){var a=Px(n);return a.map(function(i){return i.top})},DF=function(n,a,i,s,f){var m=0,y=EM(n),O=s.bind(function(it){return Ve.some(Gx(it,n))}).getOr(m),De=f.bind(function(it){return Ve.some(Gx(it,n))}).getOr(y),Je={min:kd(a),max:ym(a),range:Fx(a),value:i,hasMinEdge:mM(a),hasMaxEdge:pM(a),minBound:fh(n),minOffset:m,maxBound:jy(n),maxOffset:y,centerMinEdge:O,centerMaxEdge:De};return CM(Je)},nE=function(n,a,i,s,f,m){var y=DF(a,m,i,s,f);return fh(a)-fh(n)+y},Gy=function(n,a,i,s){var f=_f(i),m=nE(n,s.getSpectrum(n),f.y,s.getTopEdge(n),s.getBottomEdge(n),i),y=uu(a.element)/2;Ja(a.element,"top",m-y+"px")},NF=Ve.none,RF=Ve.none,LF=tE(-1),BF=tE(1),Xy={"top-left":Ve.none(),top:Ve.some(pF),"top-right":Ve.none(),right:Ve.none(),"bottom-right":Ve.none(),bottom:Ve.some(Ug),"bottom-left":Ve.none(),left:Ve.none()},rE=Object.freeze({__proto__:null,setValueFrom:_F,setToMin:Yy,setToMax:OF,findValueOfOffset:eE,getValueFromEvent:DM,findPositionOfValue:nE,setPositionFromValue:Gy,onLeft:NF,onRight:RF,onUp:LF,onDown:BF,edgeActions:Xy}),Qy=function(n,a){Ia(n,ch(),{value:a})},Jy=function(n,a){return{x:n,y:a}},Zy=function(n,a,i){var s=Xx(n,a,i.left),f=eE(n,a,i.top),m=Jy(s,f);return Qy(n,m),m},PF=function(n,a,i,s){var f=n>0?jx:Ux,m=a?_f(s).x:f(_f(s).x,gv(s),bv(s),yv(s)),y=a?f(_f(s).y,kd(s),ym(s),yv(s)):_f(s).y;return Qy(i,Jy(m,y)),Ve.some(m)},vh=function(n,a){return function(i,s){return PF(n,a,i,s).map(vt)}},NM=function(n,a){var i=gv(a),s=kd(a);Qy(n,Jy(i,s))},IF=function(n,a){var i=bv(a),s=ym(a);Qy(n,Jy(i,s))},FF=function(n){return Px(n)},RM=function(n,a,i,s){var f=_f(i),m=dh(n,s.getSpectrum(n),f.x,s.getLeftEdge(n),s.getRightEdge(n),i),y=nE(n,s.getSpectrum(n),f.y,s.getTopEdge(n),s.getBottomEdge(n),i),O=ts(a.element)/2,De=uu(a.element)/2;Ja(a.element,"left",m-O+"px"),Ja(a.element,"top",y-De+"px")},LM=vh(-1,!1),HF=vh(1,!1),BM=vh(-1,!0),PM=vh(1,!0),IM={"top-left":Ve.some($y),top:Ve.some(hF),"top-right":Ve.some(gM),right:Ve.some(Vx),"bottom-right":Ve.some(yM),bottom:Ve.some(jg),"bottom-left":Ve.some(gF),left:Ve.some(yF)},FM=Object.freeze({__proto__:null,setValueFrom:Zy,setToMin:NM,setToMax:IF,getValueFromEvent:FF,setPositionFromValue:RM,onLeft:LM,onRight:HF,onUp:BM,onDown:PM,edgeActions:IM}),zF=[Dn("stepSize",1),Dn("onChange",$e),Dn("onChoose",$e),Dn("onInit",$e),Dn("onDragStart",$e),Dn("onDragEnd",$e),Dn("snapToGrid",!1),Dn("rounded",!0),ei("snapStart"),bl("model",ic("mode",{x:[Dn("minX",0),Dn("maxX",100),ol("value",function(n){return $a(n.mode.minX)}),Sr("getInitialValue"),Oi("manager",MM)],y:[Dn("minY",0),Dn("maxY",100),ol("value",function(n){return $a(n.mode.minY)}),Sr("getInitialValue"),Oi("manager",rE)],xy:[Dn("minX",0),Dn("maxX",100),Dn("minY",0),Dn("maxY",100),ol("value",function(n){return $a({x:n.mode.minX,y:n.mode.minY})}),Sr("getInitialValue"),Oi("manager",FM)]})),Mu("sliderBehaviours",[_a,Zr]),ol("mouseIsDown",function(){return $a(!1)})],$F=function(n,a,i,s){var f,m=function(_n){return Zf(_n,n,"thumb")},y=function(_n){return Zf(_n,n,"spectrum")},O=function(_n){return vi(_n,n,"left-edge")},De=function(_n){return vi(_n,n,"right-edge")},Je=function(_n){return vi(_n,n,"top-edge")},it=function(_n){return vi(_n,n,"bottom-edge")},dt=n.model,_t=dt.manager,Nt=function(_n,Xn){_t.setPositionFromValue(_n,Xn,n,{getLeftEdge:O,getRightEdge:De,getTopEdge:Je,getBottomEdge:it,getSpectrum:y})},Wt=function(_n,Xn){dt.value.set(Xn);var dr=m(_n);Nt(_n,dr)},un=function(_n,Xn){Wt(_n,Xn);var dr=m(_n);return n.onChange(_n,dr,Xn),Ve.some(!0)},kn=function(_n){_t.setToMin(_n,n)},tn=function(_n){_t.setToMax(_n,n)},On=function(_n){var Xn=function(){vi(_n,n,"thumb").each(function(Xr){var wr=dt.value.get();n.onChoose(_n,Xr,wr)})},dr=n.mouseIsDown.get();n.mouseIsDown.set(!1),dr&&Xn()},tr=function(_n,Xn){Xn.stop(),n.mouseIsDown.set(!0),n.onDragStart(_n,m(_n))},Zn=function(_n,Xn){Xn.stop(),n.onDragEnd(_n,m(_n)),On(_n)};return{uid:n.uid,dom:n.dom,components:a,behaviours:Xu(n.sliderBehaviours,[_a.config({mode:"special",focusIn:function(_n){return vi(_n,n,"spectrum").map(_a.focusIn).map(vt)}}),Zr.config({store:{mode:"manual",getValue:function(_n){return dt.value.get()}}}),ll.config({channels:(f={},f[pC()]={onReceive:On},f)})]),events:di([xr(ch(),function(_n,Xn){un(_n,Xn.event.value)}),mo(function(_n,Xn){var dr=dt.getInitialValue();dt.value.set(dr);var Xr=m(_n);Nt(_n,Xr);var wr=y(_n);n.onInit(_n,Xr,wr,dt.value.get())}),xr(vd(),tr),xr(Nh(),Zn),xr(Mc(),tr),xr(J0(),Zn)]),apis:{resetToMin:kn,resetToMax:tn,setValue:Wt,refresh:Nt},domModification:{styles:{position:"relative"}}}},zc=Ws({name:"Slider",configFields:zF,partFields:sM,factory:$F,apis:{setValue:function(n,a,i){n.setValue(a,i)},resetToMin:function(n,a){n.resetToMin(a)},resetToMax:function(n,a){n.resetToMax(a)},refresh:function(n,a){n.refresh(a)}}}),e0=ha("rgb-hex-update"),HM=ha("slider-update"),aE=ha("palette-update"),VF=function(n,a){var i=zc.parts.spectrum({dom:{tag:"div",classes:[a("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=zc.parts.thumb({dom:{tag:"div",classes:[a("hue-slider-thumb")],attributes:{role:"presentation"}}});return zc.sketch({dom:{tag:"div",classes:[a("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:qe({y:0})},components:[i,s],sliderBehaviours:Wr([no.config({})]),onChange:function(f,m,y){Ia(f,HM,{value:y})}})},zM="form",oE=[Mu("formBehaviours",[Zr])],$M=function(n){return"<alloy.field."+n+">"},UF=function(n){var a=function(){var m=[],y=function(O,De){return m.push(O),OC(zM,$M(O),De)};return{field:y,record:qe(m)}}(),i=n(a),s=a.record(),f=Pt(s,function(m){return ys({name:m,pname:$M(m)})});return LC(zM,oE,f,WF,i)},jF=function(n,a){return n.fold(function(){return Ga.error(a)},Ga.value)},WF=function(n,a){return{uid:n.uid,dom:n.dom,components:a,behaviours:Xu(n.formBehaviours,[Zr.config({store:{mode:"manual",getValue:function(i){var s=fT(i,n);return Cr(s,function(f,m){return f().bind(function(y){var O=Oo.getCurrent(y);return jF(O,new Error("Cannot find a current component to extract the value from for form part '"+m+"': "+$d(y.element)))}).map(Zr.getValue)})},setValue:function(i,s){$r(s,function(f,m){vi(i,n,m).each(function(y){Oo.getCurrent(y).each(function(O){Zr.setValue(O,f)})})})}}})]),apis:{getField:function(i,s){return vi(i,n,s).bind(Oo.getCurrent)}}}},mh={getField:Gi(function(n,a,i){return n.getField(a,i)}),sketch:UF},VM=ha("valid-input"),UM=ha("invalid-input"),iE=ha("validating-input"),uE="colorcustom.rgb.",qF=function(n,a,i,s){var f=function(_t,Nt){return ad.config({invalidClass:a("invalid"),notify:{onValidate:function(Wt){Ia(Wt,iE,{type:_t})},onValid:function(Wt){Ia(Wt,VM,{type:_t,value:Zr.getValue(Wt)})},onInvalid:function(Wt){Ia(Wt,UM,{type:_t,value:Zr.getValue(Wt)})}},validator:{validate:function(Wt){var un=Zr.getValue(Wt),kn=Nt(un)?Ga.value(!0):Ga.error(n("aria.input.invalid"));return us.pure(kn)},validateOnLoad:!1}})},m=function(_t,Nt,Wt,un,kn){var tn=n(uE+"range"),On=Ho.parts.label({dom:{tag:"label",innerHtml:Wt,attributes:{"aria-label":un}}}),tr=Ho.parts.field({data:kn,factory:ah,inputAttributes:st({type:"text"},Nt==="hex"?{"aria-live":"polite"}:{}),inputClasses:[a("textfield")],inputBehaviours:Wr([f(Nt,_t),qi.config({})]),onSetValue:function(dr){if(ad.isInvalid(dr)){var Xr=ad.run(dr);Xr.get($e)}}}),Zn=[On,tr],_n=Nt!=="hex"?[Ho.parts["aria-descriptor"]({text:tn})]:[],Xn=Zn.concat(_n);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Xn}},y=function(_t,Nt){var Wt=Ng(Nt);return mh.getField(_t,"hex").each(function(un){no.isFocused(un)||Zr.setValue(_t,{hex:Wt.value})}),Wt},O=function(_t,Nt){var Wt=Nt.red,un=Nt.green,kn=Nt.blue;Zr.setValue(_t,{red:Wt,green:un,blue:kn})},De=qo({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),Je=function(_t,Nt){De.getOpt(_t).each(function(Wt){Ja(Wt.element,"background-color","#"+Nt.value)})},it=function(){var _t={red:$a(Ve.some(255)),green:$a(Ve.some(255)),blue:$a(Ve.some(255)),hex:$a(Ve.some("ffffff"))},Nt=function(cr,Hr){var pa=Rg(Hr);O(cr,pa),tn(pa)},Wt=function(cr){return _t[cr].get()},un=function(cr,Hr){_t[cr].set(Hr)},kn=function(){return Wt("red").bind(function(cr){return Wt("green").bind(function(Hr){return Wt("blue").map(function(pa){return Cd(cr,Hr,pa,1)})})})},tn=function(cr){var Hr=cr.red,pa=cr.green,br=cr.blue;un("red",Ve.some(Hr)),un("green",Ve.some(pa)),un("blue",Ve.some(br))},On=function(cr,Hr){var pa=Hr.event;pa.type!=="hex"?un(pa.type,Ve.none()):s(cr)},tr=function(cr,Hr){i(cr);var pa=Q_(Hr);un("hex",Ve.some(Hr));var br=Rg(pa);O(cr,br),tn(br),Ia(cr,e0,{hex:pa}),Je(cr,pa)},Zn=function(cr,Hr,pa){var br=parseInt(pa,10);un(Hr,Ve.some(br)),kn().each(function(ma){var Sa=y(cr,ma);Ia(cr,e0,{hex:Sa}),Je(cr,Sa)})},_n=function(cr){return cr.type==="hex"},Xn=function(cr,Hr){var pa=Hr.event;_n(pa)?tr(cr,pa.value):Zn(cr,pa.type,pa.value)},dr=function(cr){return{label:n(uE+cr+".label"),description:n(uE+cr+".description")}},Xr=dr("red"),wr=dr("green"),Jr=dr("blue"),Er=dr("hex");return or(mh.sketch(function(cr){return{dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[cr.field("red",Ho.sketch(m(gy,"red",Xr.label,Xr.description,255))),cr.field("green",Ho.sketch(m(gy,"green",wr.label,wr.description,255))),cr.field("blue",Ho.sketch(m(gy,"blue",Jr.label,Jr.description,255))),cr.field("hex",Ho.sketch(m(eO,"hex",Er.label,Er.description,"ffffff"))),De.asSpec()],formBehaviours:Wr([ad.config({invalidClass:a("form-invalid")}),so("rgb-form-events",[xr(VM,Xn),xr(UM,On),xr(iE,On)])])}}),{apis:{updateHex:function(cr,Hr){Zr.setValue(cr,{hex:Hr.value}),Nt(cr,Hr),Je(cr,Hr)}}})},dt=Yl({factory:it,name:"RgbForm",configFields:[],apis:{updateHex:function(_t,Nt,Wt){_t.updateHex(Nt,Wt)}},extraApis:{}});return dt},jM=function(n,a){var i=zc.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[a("sv-palette-spectrum")]}}),s=zc.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[a("sv-palette-thumb")],innerHtml:"<div class="+a("sv-palette-inner-thumb")+' role="presentation"></div>'}}),f=function(Je,it){var dt=Je.width,_t=Je.height,Nt=Je.getContext("2d");if(Nt!==null){Nt.fillStyle=it,Nt.fillRect(0,0,dt,_t);var Wt=Nt.createLinearGradient(0,0,dt,0);Wt.addColorStop(0,"rgba(255,255,255,1)"),Wt.addColorStop(1,"rgba(255,255,255,0)"),Nt.fillStyle=Wt,Nt.fillRect(0,0,dt,_t);var un=Nt.createLinearGradient(0,0,0,_t);un.addColorStop(0,"rgba(0,0,0,0)"),un.addColorStop(1,"rgba(0,0,0,1)"),Nt.fillStyle=un,Nt.fillRect(0,0,dt,_t)}},m=function(Je,it){var dt=Je.components()[0].element.dom,_t=Lg(it,100,100),Nt=mx(_t);f(dt,rO(Nt))},y=function(Je,it){var dt=hx(Rg(it));zc.setValue(Je,{x:dt.saturation,y:100-dt.value})},O=function(Je){var it=qe({x:0,y:0}),dt=function(Wt,un,kn){Ia(Wt,aE,{value:kn})},_t=function(Wt,un,kn,tn){f(kn.element.dom,rO(aO))},Nt=Wr([Oo.config({find:Ve.some}),no.config({})]);return zc.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[a("sv-palette")]},model:{mode:"xy",getInitialValue:it},rounded:!1,components:[i,s],onChange:dt,onInit:_t,sliderBehaviours:Nt})},De=Yl({factory:O,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(Je,it,dt){m(it,dt)},setThumb:function(Je,it,dt){y(it,dt)}},extraApis:{}});return De},KF=function(n,a){var i=function(f){var m=qF(n,a,f.onValidHex,f.onInvalidHex),y=jM(n,a),O=function(Xn){return(100-Xn)/100*360},De=function(Xn){return 100-Xn/360*100},Je={paletteRgba:$a(aO),paletteHue:$a(0)},it=qo(VF(n,a)),dt=qo(y.sketch({})),_t=qo(m.sketch({})),Nt=function(Xn,dr,Xr){dt.getOpt(Xn).each(function(wr){y.setHue(wr,Xr)})},Wt=function(Xn,dr){_t.getOpt(Xn).each(function(Xr){m.updateHex(Xr,dr)})},un=function(Xn,dr,Xr){it.getOpt(Xn).each(function(wr){zc.setValue(wr,{y:De(Xr)})})},kn=function(Xn,dr){dt.getOpt(Xn).each(function(Xr){y.setThumb(Xr,dr)})},tn=function(Xn,dr){var Xr=Rg(Xn);Je.paletteRgba.set(Xr),Je.paletteHue.set(dr)},On=function(Xn,dr,Xr,wr){tn(dr,Xr),xt(wr,function(Jr){Jr(Xn,dr,Xr)})},tr=function(){var Xn=[Wt];return function(dr,Xr){var wr=Xr.event.value,Jr=Je.paletteHue.get(),Er=Lg(Jr,wr.x,100-wr.y),cr=gx(Er);On(dr,cr,Jr,Xn)}},Zn=function(){var Xn=[Nt,Wt];return function(dr,Xr){var wr=O(Xr.event.value.y),Jr=Je.paletteRgba.get(),Er=hx(Jr),cr=Lg(wr,Er.saturation,Er.value),Hr=gx(cr);On(dr,Hr,wr,Xn)}},_n=function(){var Xn=[Nt,un,kn];return function(dr,Xr){var wr=Xr.event.hex,Jr=tI(wr);On(dr,wr,Jr.hue,Xn)}};return{uid:f.uid,dom:f.dom,components:[dt.asSpec(),it.asSpec(),_t.asSpec()],behaviours:Wr([so("colour-picker-events",[xr(e0,_n()),xr(aE,tr()),xr(HM,Zn())]),Oo.config({find:function(Xn){return _t.getOpt(Xn)}}),_a.config({mode:"acyclic"})])}},s=Yl({name:"ColourPicker",configFields:[Sr("dom"),Dn("onValidHex",$e),Dn("onInvalidHex",$e)],factory:i});return s},YF=function(){return Oo.config({find:Ve.some})},GF=function(n){return Oo.config({find:n.getOpt})},WM=function(n){return Oo.config({find:function(a){return Ze(a.element,n).bind(function(i){return a.getSystem().getByDom(i).toOptional()})}})},Mf={self:YF,memento:GF,childAt:WM},XF={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},qM=function(n){return XF[n]},KM=function(n){return qM(n)},YM=function(n){var a=function(y){return"tox-"+y},i=KF(KM,a),s=function(y){Ia(y,rd,{name:"hex-valid",value:!0})},f=function(y){Ia(y,rd,{name:"hex-valid",value:!1})},m=qo(i.sketch({dom:{tag:"div",classes:[a("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:f}));return{dom:{tag:"div"},components:[m.asSpec()],behaviours:Wr([Zr.config({store:{mode:"manual",getValue:function(y){var O=m.get(y),De=Oo.getCurrent(O),Je=De.bind(function(it){var dt=Zr.getValue(it);return dt.hex});return Je.map(function(it){return"#"+it}).getOr("")},setValue:function(y,O){var De=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Je=De.exec(O),it=m.get(y),dt=Oo.getCurrent(it);dt.fold(function(){},function(_t){Zr.setValue(_t,{hex:Ve.from(Je[1]).getOr("")}),mh.getField(_t,"hex").each(function(Nt){$o(Nt,Xm())})})}}}),Mf.self()])}},QF=tinymce.util.Tools.resolve("tinymce.Resource"),GM=function(n){return gr(n,"init")},XM=function(n){var a=Xi(),i=qo({dom:{tag:n.tag}}),s=Xi();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Wr([so("custom-editor-events",[mo(function(f){i.getOpt(f).each(function(m){(GM(n)?n.init(m.element.dom):QF.load(n.scriptId,n.scriptUrl).then(function(y){return y(m.element.dom,n.settings)})).then(function(y){s.on(function(O){y.setValue(O)}),s.clear(),a.set(y)})})})]),Zr.config({store:{mode:"manual",getValue:function(){return a.get().fold(function(){return s.get().getOr("")},function(f){return f.getValue()})},setValue:function(f,m){a.get().fold(function(){s.set(m)},function(y){return y.setValue(m)})}}}),Mf.self()]),components:[i.asSpec()]}},Sv=tinymce.util.Tools.resolve("tinymce.util.Tools"),JF=Ra([Dn("preprocess",lt),Dn("postprocess",lt)]),ZF=function(n,a){var i=bi("RepresentingConfigs.memento processors",JF,a);return Zr.config({store:{mode:"manual",getValue:function(s){var f=n.get(s),m=Zr.getValue(f);return i.postprocess(m)},setValue:function(s,f){var m=i.preprocess(f),y=n.get(s);Zr.setValue(y,m)}}})},QM=function(n,a,i){return Zr.config(or({store:{mode:"manual",getValue:a,setValue:i}},n.map(function(s){return{store:{initialValue:s}}}).getOr({})))},sE=function(n,a,i){return QM(n,function(s){return a(s.element)},function(s,f){return i(s.element,f)})},e6=function(n){return sE(n,Gd,up)},JM=function(n){return sE(n,xb,Fd)},t6=function(n){return Zr.config({store:{mode:"memory",initialValue:n}})},wm={memento:ZF,withElement:sE,withComp:QM,domValue:e6,domHtml:JM,memory:t6},n6="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",Bo=function(n,a){var i=Sv.explode(a.getSetting("images_file_types",n6,"string")),s=function(f){return an(i,function(m){return ga(f.name.toLowerCase(),"."+m.toLowerCase())})};return Zt(mr(n),s)},ph=function(n,a){var i=function(dt,_t){_t.stop()},s=function(dt){return function(_t,Nt){xt(dt,function(Wt){Wt(_t,Nt)})}},f=function(dt,_t){if(!La.isDisabled(dt)){var Nt=_t.event.raw;y(dt,Nt.dataTransfer.files)}},m=function(dt,_t){var Nt=_t.event.raw.target;y(dt,Nt.files)},y=function(dt,_t){Zr.setValue(dt,Bo(_t,a)),Ia(dt,_l,{name:n.name})},O=qo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Wr([so("input-file-events",[Hv(Rh()),Hv(Zm())])])}),De=function(dt){return{uid:dt.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Wr([wm.memory([]),Mf.self(),La.config({}),Mo.config({toggleClass:"dragenter",toggleOnExecute:!1}),so("dropzone-events",[xr("dragenter",s([i,Mo.toggle])),xr("dragleave",s([i,Mo.toggle])),xr("dragover",i),xr("drop",s([i,f])),xr(Qm(),m)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:a.translate("Drop an image here")}},qs.sketch({dom:{tag:"button",innerHtml:a.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[O.asSpec()],action:function(_t){var Nt=O.get(_t);Nt.element.dom.click()},buttonBehaviours:Wr([qi.config({}),gc.button(a.isDisabled),yu()])})]}]}},Je=n.label.map(function(dt){return Sd(dt,a)}),it=Ho.parts.field({factory:{sketch:De}});return Ig(Je,it,["tox-form__group--stretched"],[])},ZM=function(n,a){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+n.columns+"col"]},components:Pt(n.items,a.interpreter)}},t0=ha("alloy-fake-before-tabstop"),n0=ha("alloy-fake-after-tabstop"),eD=function(n){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:Wr([no.config({ignore:!0}),qi.config({})])}},tD=function(n){return{dom:{tag:"div",classes:["tox-navobj"]},components:[eD([t0]),n,eD([n0])],behaviours:Wr([Mf.childAt(1)])}},nD=function(n,a){Ia(n,hb(),{raw:{which:9,shiftKey:a}})},rD=function(n,a){var i=a.element;Hs(i,t0)?nD(n,!0):Hs(i,n0)&&nD(n,!1)},Kg=function(n){return Pg(n,["."+t0,"."+n0].join(","),mt)},r6=!(Na().browser.isIE()||Na().browser.isEdge()),a6=function(n){var a=$a("");return{getValue:function(i){return a.get()},setValue:function(i,s){if(n)vo(i.element,"srcdoc",s);else{vo(i.element,"src","javascript:''");var f=i.element.dom.contentWindow.document;f.open(),f.write(s),f.close()}a.set(s)}}},o6=function(n,a){var i=r6&&n.sandboxed,s=st(st({},n.label.map(function(De){return{title:De}}).getOr({})),i?{sandbox:"allow-scripts allow-same-origin"}:{}),f=a6(i),m=n.label.map(function(De){return Sd(De,a)}),y=function(De){return tD({uid:De.uid,dom:{tag:"iframe",attributes:s},behaviours:Wr([qi.config({}),no.config({}),wm.withComp(Ve.none(),f.getValue,f.setValue)])})},O=Ho.parts.field({factory:{sketch:y}});return Ig(m,O,["tox-form__group--stretched"],[])},hh=function(n,a){return u6(document.createElement("canvas"),n,a)},i6=function(n){var a=hh(n.width,n.height),i=Ad(a);return i.drawImage(n,0,0),a},Ad=function(n){return n.getContext("2d")},u6=function(n,a,i){return n.width=a,n.height=i,n},lE=function(n){return n.naturalWidth||n.width},cE=function(n){return n.naturalHeight||n.height},s6=function(n){return new Fc(function(a,i){var s=URL.createObjectURL(n),f=new Image,m=function(){f.removeEventListener("load",y),f.removeEventListener("error",O)},y=function(){m(),a(f)},O=function(){m(),i("Unable to load data of type "+n.type+": "+s)};f.addEventListener("load",y),f.addEventListener("error",O),f.src=s,f.complete&&setTimeout(y,0)})},aD=function(n){var a=n.split(","),i=/data:([^;]+)/.exec(a[0]);if(!i)return Ve.none();for(var s=i[1],f=a[1],m=1024,y=atob(f),O=y.length,De=Math.ceil(O/m),Je=new Array(De),it=0;it<De;++it){for(var dt=it*m,_t=Math.min(dt+m,O),Nt=new Array(_t-dt),Wt=dt,un=0;Wt<_t;++un,++Wt)Nt[un]=y[Wt].charCodeAt(0);Je[it]=new Uint8Array(Nt)}return Ve.some(new Blob(Je,{type:s}))},l6=function(n){return new Fc(function(a,i){aD(n).fold(function(){i("uri is not base64: "+n)},a)})},oD=function(n,a,i){return a=a||"image/png",Te(HTMLCanvasElement.prototype.toBlob)?new Fc(function(s,f){n.toBlob(function(m){m?s(m):f()},a,i)}):l6(n.toDataURL(a,i))},c6=function(n,a,i){return a=a||"image/png",n.toDataURL(a,i)},f6=function(n){return s6(n).then(function(a){v6(a);var i=hh(lE(a),cE(a)),s=Ad(i);return s.drawImage(a,0,0),i})},d6=function(n){return new Fc(function(a){var i=new FileReader;i.onloadend=function(){a(i.result)},i.readAsDataURL(n)})},v6=function(n){URL.revokeObjectURL(n.src)},fE=function(n,a,i){var s=a.type,f=qe(s),m=function(){return Fc.resolve(a)},y=qe(i),O=function(){return i.split(",")[1]},De=function(_t,Nt){return n.then(function(Wt){return oD(Wt,_t,Nt)})},Je=function(_t,Nt){return n.then(function(Wt){return c6(Wt,_t,Nt)})},it=function(_t,Nt){return Je(_t,Nt).then(function(Wt){return Wt.split(",")[1]})},dt=function(){return n.then(i6)};return{getType:f,toBlob:m,toDataURL:y,toBase64:O,toAdjustedBlob:De,toAdjustedDataURL:Je,toAdjustedBase64:it,toCanvas:dt}},m6=function(n){return d6(n).then(function(a){return fE(f6(n),n,a)})},xv=function(n,a){return oD(n,a).then(function(i){return fE(Fc.resolve(n),i,n.toDataURL())})},p6=function(n){return m6(n)},gh=function(n,a,i){var s=typeof n=="string"?parseFloat(n):n;return s>i?s=i:s<a&&(s=a),s},dE=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},r0=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],vE=function(n,a){for(var i=[],s=new Array(25),f,m=0;m<5;m++){for(var y=0;y<5;y++)i[y]=a[y+m*5];for(var y=0;y<5;y++){f=0;for(var O=0;O<5;O++)f+=n[y+O*5]*i[O];s[y+m*5]=f}}return s},h6=function(n,a){var i;return a=gh(a,-1,1),a*=100,a<0?i=127+a/100*127:(i=a%1,i===0?i=r0[a]:i=r0[Math.floor(a)]*(1-i)+r0[Math.floor(a)+1]*i,i=i*127+127),vE(n,[i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1])},g6=function(n,a){return a=gh(255*a,-255,255),vE(n,[1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1])},b6=function(n,a,i,s){return a=gh(a,0,2),i=gh(i,0,2),s=gh(s,0,2),vE(n,[a,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},mE=function(n,a){return n.toCanvas().then(function(i){return y6(i,n.getType(),a)})},y6=function(n,a,i){var s=Ad(n),f=function(y,O){for(var De,Je,it,dt,_t=y.data,Nt=O[0],Wt=O[1],un=O[2],kn=O[3],tn=O[4],On=O[5],tr=O[6],Zn=O[7],_n=O[8],Xn=O[9],dr=O[10],Xr=O[11],wr=O[12],Jr=O[13],Er=O[14],cr=O[15],Hr=O[16],pa=O[17],br=O[18],ma=O[19],Sa=0;Sa<_t.length;Sa+=4)De=_t[Sa],Je=_t[Sa+1],it=_t[Sa+2],dt=_t[Sa+3],_t[Sa]=De*Nt+Je*Wt+it*un+dt*kn+tn,_t[Sa+1]=De*On+Je*tr+it*Zn+dt*_n+Xn,_t[Sa+2]=De*dr+Je*Xr+it*wr+dt*Jr+Er,_t[Sa+3]=De*cr+Je*Hr+it*pa+dt*br+ma;return y},m=f(s.getImageData(0,0,n.width,n.height),i);return s.putImageData(m,0,0),xv(n,a)},Yg=function(n,a){return n.toCanvas().then(function(i){return w6(i,n.getType(),a)})},w6=function(n,a,i){var s=Ad(n),f=function(O,De,Je){for(var it=function(Hr,pa,br){return Hr>br?Hr=br:Hr<pa&&(Hr=pa),Hr},dt=Math.round(Math.sqrt(Je.length)),_t=Math.floor(dt/2),Nt=O.data,Wt=De.data,un=O.width,kn=O.height,tn=0;tn<kn;tn++)for(var On=0;On<un;On++){for(var tr=0,Zn=0,_n=0,Xn=0;Xn<dt;Xn++)for(var dr=0;dr<dt;dr++){var Xr=it(On+dr-_t,0,un-1),wr=it(tn+Xn-_t,0,kn-1),Jr=(wr*un+Xr)*4,Er=Je[Xn*dt+dr];tr+=Nt[Jr]*Er,Zn+=Nt[Jr+1]*Er,_n+=Nt[Jr+2]*Er}var cr=(tn*un+On)*4;Wt[cr]=it(tr,0,255),Wt[cr+1]=it(Zn,0,255),Wt[cr+2]=it(_n,0,255)}return De},m=s.getImageData(0,0,n.width,n.height),y=s.getImageData(0,0,n.width,n.height);return y=f(m,y,i),s.putImageData(y,0,0),xv(n,a)},pE=function(n){var a=function(i,s,f){for(var m=Ad(i),y=new Array(256),O=function(it,dt){for(var _t=it.data,Nt=0;Nt<_t.length;Nt+=4)_t[Nt]=dt[_t[Nt]],_t[Nt+1]=dt[_t[Nt+1]],_t[Nt+2]=dt[_t[Nt+2]];return it},De=0;De<y.length;De++)y[De]=n(De,f);var Je=O(m.getImageData(0,0,i.width,i.height),y);return m.putImageData(Je,0,0),xv(i,s)};return function(i,s){return i.toCanvas().then(function(f){return a(f,i.getType(),s)})}},iD=function(n){return function(a,i){return mE(a,n(dE(),i))}},C6=function(n){return function(a){return mE(a,n)}},S6=function(n){return function(a){return Yg(a,n)}},x6=C6([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),uD=iD(g6),sD=iD(h6),E6=function(n,a,i,s){return mE(n,b6(dE(),a,i,s))},a0=S6([0,-1,0,-1,5,-1,0,-1,0]),o0=pE(function(n,a){return Math.pow(n/255,1-a)*255}),lD=function(n,a,i){var s=lE(n),f=cE(n),m=a/s,y=i/f,O=!1;(m<.5||m>2)&&(m=m<.5?.5:2,O=!0),(y<.5||y>2)&&(y=y<.5?.5:2,O=!0);var De=k6(n,m,y);return O?De.then(function(Je){return lD(Je,a,i)}):De},k6=function(n,a,i){return new Fc(function(s){var f=lE(n),m=cE(n),y=Math.floor(f*a),O=Math.floor(m*i),De=hh(y,O),Je=Ad(De);Je.drawImage(n,0,0,f,m,0,0,y,O),s(De)})},cD=function(n,a){a===void 0&&(a=2);var i=Math.pow(10,a),s=Math.round(n*i);return Math.ceil(s/i)},T6=function(n,a){return n.toCanvas().then(function(i){return hE(i,n.getType(),a)})},hE=function(n,a,i){var s=i<0?360+i:i,f=s*Math.PI/180,m=n.width,y=n.height,O=Math.sin(f),De=Math.cos(f),Je=cD(Math.abs(m*De)+Math.abs(y*O)),it=cD(Math.abs(m*O)+Math.abs(y*De)),dt=hh(Je,it),_t=Ad(dt);return _t.translate(Je/2,it/2),_t.rotate(f),_t.drawImage(n,-m/2,-y/2),xv(dt,a)},gE=function(n,a){return n.toCanvas().then(function(i){return fD(i,n.getType(),a)})},fD=function(n,a,i){var s=hh(n.width,n.height),f=Ad(s);return i==="v"?(f.scale(1,-1),f.drawImage(n,0,-s.height)):(f.scale(-1,1),f.drawImage(n,-s.width,0)),xv(s,a)},A6=function(n,a,i,s,f){return n.toCanvas().then(function(m){return bE(m,n.getType(),a,i,s,f)})},bE=function(n,a,i,s,f,m){var y=hh(f,m),O=Ad(y);return O.drawImage(n,-i,-s),xv(y,a)},_6=function(n,a,i){return n.toCanvas().then(function(s){return lD(s,a,i).then(function(f){return xv(f,n.getType())})})},O6=function(n){return x6(n)},dD=function(n){return a0(n)},M6=function(n,a){return o0(n,a)},Gg=function(n,a,i,s){return E6(n,a,i,s)},D6=function(n,a){return uD(n,a)},N6=function(n,a){return sD(n,a)},vD=function(n,a){return gE(n,a)},R6=function(n,a,i,s,f){return A6(n,a,i,s,f)},mD=function(n,a,i){return _6(n,a,i)},pD=function(n,a){return T6(n,a)},hD=function(n,a,i){return Ic(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},a)},i0=function(n,a){return hD(n,a,[])},gD=function(n,a){return hD(n,a,[to.config({})])},yE=function(n,a,i){return{dom:{tag:"span",innerHtml:i.translate(n),classes:[a+"__select-label"]},behaviours:Wr([to.config({})])}},u0,bD=ha("toolbar.button.execute"),L6=function(n){return vc(function(a,i){vy(n,a)(function(s){Ia(a,bD,{buttonApi:s}),n.onAction(s)})})},yD=(u0={},u0[$l()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],u0),Cm=ha("update-menu-text"),wE=ha("update-menu-icon"),CE=function(n,a,i){var s=$a($e),f=n.text.map(function(dt){return qo(yE(dt,a,i.providers))}),m=n.icon.map(function(dt){return qo(gD(dt,i.providers.icons))}),y=function(dt,_t){var Nt=Zr.getValue(dt);return no.focus(Nt),Ia(Nt,"keydown",{raw:_t.event.raw}),Hc.close(Nt),Ve.some(!0)},O=n.role.fold(function(){return{}},function(dt){return{role:dt}}),De=n.tooltip.fold(function(){return{}},function(dt){var _t=i.providers.translate(dt);return{title:_t,"aria-label":_t}}),Je=Ic("chevron-down",{tag:"div",classes:[a+"__select-chevron"]},i.providers.icons),it=qo(Hc.sketch(st(st(st({},n.uid?{uid:n.uid}:{}),O),{dom:{tag:"button",classes:[a,a+"--select"].concat(Pt(n.classes,function(dt){return a+"--"+dt})),attributes:st({},De)},components:Qp([m.map(function(dt){return dt.asSpec()}),f.map(function(dt){return dt.asSpec()}),Ve.some(Je)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Wr(nn(nn([],n.dropdownBehaviours,!0),[gc.button(function(){return n.disabled||i.providers.isDisabled()}),yu(),sh.config({}),to.config({}),so("dropdown-events",[Xp(n,s),Mg(n,s)]),so("menubutton-update-display-text",[xr(Cm,function(dt,_t){f.bind(function(Nt){return Nt.getOpt(dt)}).each(function(Nt){to.set(Nt,[ps(i.providers.translate(_t.event.text))])})}),xr(wE,function(dt,_t){m.bind(function(Nt){return Nt.getOpt(dt)}).each(function(Nt){to.set(Nt,[gD(_t.event.icon,i.providers.icons)])})})])],!1)),eventOrder:or(yD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Wr([_a.config({mode:"special",onLeft:y,onRight:y})]),lazySink:i.getSink,toggleClass:a+"--active",parts:{menu:ay(!1,n.columns,n.presets)},fetch:function(dt){return us.nu(pt(n.fetch,dt))}})));return it.asSpec()},B6=function(n){return He(n)},cl=function(n){return n.type==="separator"},P6=function(n){return gr(n,"getSubmenuItems")},SE={type:"separator"},wD=function(n,a){var i=ln(n,function(s,f){return B6(f)?f===""?s:f==="|"?s.length>0&&!cl(s[s.length-1])?s.concat([SE]):s:gr(a,f.toLowerCase())?s.concat([a[f.toLowerCase()]]):s:s.concat([f])},[]);return i.length>0&&cl(i[i.length-1])&&i.pop(),i},CD=function(n,a){var i=n.getSubmenuItems(),s=Xg(i,a),f=or(s.menus,$f(n.value,s.items)),m=or(s.expansions,$f(n.value,n.value));return{item:n,menus:f,expansions:m}},s0=function(n,a){return P6(n)?CD(n,a):{item:n,menus:{},expansions:{}}},I6=function(n){if(cl(n))return n;var a=jn(n,"value").getOrThunk(function(){return ha("generated-menu-item")});return or({value:a},n)},Xg=function(n,a){var i=wD(He(n)?n.split(" "):n,a);return mn(i,function(s,f){var m=I6(f),y=s0(m,a);return{menus:or(s.menus,y.menus),items:[y.item].concat(s.items),expansions:or(s.expansions,y.expansions)}},{menus:{},expansions:{},items:[]})},bh=function(n,a,i,s){var f=ha("primary-menu"),m=Xg(n,i.shared.providers.menuItems());if(m.items.length===0)return Ve.none();var y=SO(f,m.items,a,i,s),O=Cr(m.menus,function(Je,it){return SO(it,Je,a,i,!1)}),De=or(O,$f(f,y));return Ve.from(gd.tieredData(f,De,m.expansions))},Qg=function(n){return{isDisabled:function(){return La.isDisabled(n)},setDisabled:function(a){return La.set(n,a)},setActive:function(a){var i=n.element;a?(Au(i,"tox-tbtn--enabled"),vo(i,"aria-pressed",!0)):(hu(i,"tox-tbtn--enabled"),Eu(i,"aria-pressed"))},isActive:function(){return Hs(n.element,"tox-tbtn--enabled")}}},l0=function(n,a,i,s){return CE({text:n.text,icon:n.icon,tooltip:n.tooltip,role:s,fetch:function(f,m){n.fetch(function(y){m(bh(y,Ef.CLOSE_ON_EXECUTE,i,!1))})},onSetup:n.onSetup,getApi:Qg,columns:1,presets:"normal",classes:[],dropdownBehaviours:[qi.config({})]},a,i.shared)},bc=function(n,a,i){var s=function(m){return function(y){var O=!y.isActive();y.setActive(O),m.storage.set(O),i.shared.getSink().each(function(De){a().getOpt(De).each(function(Je){cf(Je.element),Ia(Je,rd,{name:m.name,value:m.storage.get()})})})}},f=function(m){return function(y){y.setActive(m.storage.get())}};return function(m){m(Pt(n,function(y){var O=y.text.fold(function(){return{}},function(De){return{text:De}});return st(st({type:y.type,active:!1},O),{onAction:s(y),onSetup:f(y)})}))}},SD=function(n,a,i,s,f,m){i===void 0&&(i=[]);var y=a.fold(function(){return{}},function(Je){return{action:Je}}),O=st({buttonBehaviours:Wr([gc.button(function(){return n.disabled||m.isDisabled()}),yu(),qi.config({}),so("button press",[E2("click"),E2("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},y),De=or(O,{dom:s});return or(De,{components:f})},xE=function(n,a,i,s){s===void 0&&(s=[]);var f=n.tooltip.map(function(De){return{"aria-label":i.translate(De),title:i.translate(De)}}).getOr({}),m={tag:"button",classes:["tox-tbtn"],attributes:f},y=n.icon.map(function(De){return i0(De,i.icons)}),O=Qp([y]);return SD(n,a,s,m,O,i)},xD=function(n,a,i,s){s===void 0&&(s=[]);var f=xE(n,Ve.some(a),i,s);return qs.sketch(f)},ED=function(n,a,i,s,f){s===void 0&&(s=[]),f===void 0&&(f=[]);var m=i.translate(n.text),y=n.icon?n.icon.map(function(dt){return i0(dt,i.icons)}):Ve.none(),O=y.isSome()?Qp([y]):[],De=y.isSome()?{}:{innerHtml:m},Je=nn(nn(nn(nn([],!n.primary&&!n.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),y.isSome()?["tox-button--icon"]:[],!0),n.borderless?["tox-button--naked"]:[],!0),f,!0),it=st(st({tag:"button",classes:Je},De),{attributes:{title:m}});return SD(n,a,s,it,O,i)},EE=function(n,a,i,s,f){s===void 0&&(s=[]),f===void 0&&(f=[]);var m=ED(n,Ve.some(a),i,s,f);return qs.sketch(m)},kD=function(n,a){return function(i){a==="custom"?Ia(i,rd,{name:n,value:{}}):a==="submit"?$o(i,Hg):a==="cancel"&&$o(i,bm)}},F6=function(n,a){return a==="menu"},H6=function(n,a){return a==="custom"||a==="cancel"||a==="submit"},c0=function(n,a,i){if(F6(n,a)){var s=function(){return y},f=n,m=st(st({},n),{onSetup:function(Je){return Je.setDisabled(n.disabled),$e},fetch:bc(f.items,s,i)}),y=qo(l0(m,"tox-tbtn",i,Ve.none()));return y.asSpec()}else if(H6(n,a)){var O=kD(n.name,a),De=st(st({},n),{borderless:!1});return EE(De,O,i.shared.providers,[])}},z6=function(n,a){var i=kD(n.name,"custom");return VI(Ve.none(),Ho.parts.field(st({factory:qs},ED(n,Ve.some(i),a,[wm.memory(""),Mf.self()]))))},$6=qe([Dn("field1Name","field1"),Dn("field2Name","field2"),$s("onLockedChange"),Wv(["lockClass"]),Dn("locked",!1),pc.field("coupledFieldBehaviours",[Oo,Zr])]),TD=function(n,a,i){return vi(n,a,i).bind(Oo.getCurrent)},kE=function(n,a){return ys({factory:Ho,name:n,overrides:function(i){return{fieldBehaviours:Wr([so("coupled-input-behaviour",[xr(Xm(),function(s){TD(s,i,a).each(function(f){vi(s,i,"lock").each(function(m){Mo.isOn(m)&&i.onLockedChange(s,f,m)})})})])])}}})},AD=qe([kE("field1","field2"),kE("field2","field1"),ys({factory:qs,schema:[Sr("dom")],name:"lock",overrides:function(n){return{buttonBehaviours:Wr([Mo.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])}}})]),V6=function(n,a,i,s){return{uid:n.uid,dom:n.dom,components:a,behaviours:pc.augment(n.coupledFieldBehaviours,[Oo.config({find:Ve.some}),Zr.config({store:{mode:"manual",getValue:function(f){var m,y=b1(f,n,["field1","field2"]);return m={},m[n.field1Name]=Zr.getValue(y.field1()),m[n.field2Name]=Zr.getValue(y.field2()),m},setValue:function(f,m){var y=b1(f,n,["field1","field2"]);sa(m,n.field1Name)&&Zr.setValue(y.field1(),m[n.field1Name]),sa(m,n.field2Name)&&Zr.setValue(y.field2(),m[n.field2Name])}}})]),apis:{getField1:function(f){return vi(f,n,"field1")},getField2:function(f){return vi(f,n,"field2")},getLock:function(f){return vi(f,n,"lock")}}}},Ol=Ws({name:"FormCoupledInputs",configFields:$6(),partFields:AD(),factory:V6,apis:{getField1:function(n,a){return n.getField1(a)},getField2:function(n,a){return n.getField2(a)},getLock:function(n,a){return n.getLock(a)}}}),U6=function(n){var a={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=function(f){return f in a?a[f]:1},s=n.value.toFixed(i(n.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+n.unit},TE=function(n){var a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,i=a.exec(n);if(i!==null){var s=parseFloat(i[1]),f=i[2];return Ga.value({value:s,unit:f})}else return Ga.error(n)},_D=function(n,a){var i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(f){return gr(i,f)};return n.unit===a?Ve.some(n.value):s(n.unit)&&s(a)?i[n.unit]===i[a]?Ve.some(n.value):Ve.some(n.value/i[n.unit]*i[a]):Ve.none()},AE=function(n){return Ve.none()},j6=function(n,a){return function(i){return _D(i,a).map(function(s){return{value:s*n,unit:a}})}},W6=function(n,a){var i=TE(n).toOptional(),s=TE(a).toOptional();return ni(i,s,function(f,m){return _D(f,m.unit).map(function(y){return m.value/y}).map(function(y){return j6(y,m.unit)}).getOr(AE)}).getOr(AE)},OD=function(n,a){var i=AE,s=ha("ratio-event"),f=function(dt){return Ic(dt,{tag:"span",classes:["tox-icon","tox-lock-icon__"+dt]},a.icons)},m=Ol.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:a.translate(n.label.getOr("Constrain proportions"))}},components:[f("lock"),f("unlock")],buttonBehaviours:Wr([La.config({disabled:function(){return n.disabled||a.isDisabled()}}),yu(),qi.config({})])}),y=function(dt){return{dom:{tag:"div",classes:["tox-form__group"]},components:dt}},O=function(dt){return Ho.parts.field({factory:ah,inputClasses:["tox-textfield"],inputBehaviours:Wr([La.config({disabled:function(){return n.disabled||a.isDisabled()}}),yu(),qi.config({}),so("size-input-events",[xr(Pd(),function(_t,Nt){Ia(_t,s,{isField1:dt})}),xr(Qm(),function(_t,Nt){Ia(_t,_l,{name:n.name})})])]),selectOnFocus:!1})},De=function(dt){return{dom:{tag:"label",classes:["tox-label"],innerHtml:a.translate(dt)}}},Je=Ol.parts.field1(y([Ho.parts.label(De("Width")),O(!0)])),it=Ol.parts.field2(y([Ho.parts.label(De("Height")),O(!1)]));return Ol.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Je,it,y([De("&nbsp;"),m])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(dt,_t,Nt){TE(Zr.getValue(dt)).each(function(Wt){i(Wt).each(function(un){Zr.setValue(_t,U6(un))})})},coupledFieldBehaviours:Wr([La.config({disabled:function(){return n.disabled||a.isDisabled()},onDisabled:function(dt){Ol.getField1(dt).bind(Ho.getField).each(La.disable),Ol.getField2(dt).bind(Ho.getField).each(La.disable),Ol.getLock(dt).each(La.disable)},onEnabled:function(dt){Ol.getField1(dt).bind(Ho.getField).each(La.enable),Ol.getField2(dt).bind(Ho.getField).each(La.enable),Ol.getLock(dt).each(La.enable)}}),yu(),so("size-input-events2",[xr(s,function(dt,_t){var Nt=_t.event.isField1,Wt=Nt?Ol.getField1(dt):Ol.getField2(dt),un=Nt?Ol.getField2(dt):Ol.getField1(dt),kn=Wt.map(Zr.getValue).getOr(""),tn=un.map(Zr.getValue).getOr("");i=W6(kn,tn)})])])})},q6=qe(ha("undo")),K6=qe(ha("redo")),Y6=qe(ha("zoom")),G6=qe(ha("back")),X6=qe(ha("apply")),Q6=qe(ha("swap")),J6=qe(ha("transform")),MD=qe(ha("temp-transform")),Z6=qe(ha("transform-apply")),Cs={undo:q6,redo:K6,zoom:Y6,back:G6,apply:X6,swap:Q6,transform:J6,tempTransform:MD,transformApply:Z6},DD=qe("save-state"),e5=qe("disable"),t5=qe("enable"),fl={formActionEvent:rd,saveState:DD,disable:e5,enable:t5},n5=function(n,a){var i=function(aa,lo,Jo,Pi){return qo(EE({name:aa,text:aa,disabled:Jo,primary:Pi,icon:Ve.none(),borderless:!1},lo,a))},s=function(aa,lo,Jo,Pi){return qo(xD({name:aa,icon:Ve.some(aa),tooltip:Ve.some(lo),disabled:Pi,primary:!1,borderless:!1},Jo,a))},f=function(aa,lo){aa.map(function(Jo){var Pi=Jo.get(lo);Pi.hasConfigured(La)&&La.disable(Pi)})},m=function(aa,lo){aa.map(function(Jo){var Pi=Jo.get(lo);Pi.hasConfigured(La)&&La.enable(Pi)})},y={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},O=$e,De=function(aa,lo,Jo){Ia(aa,lo,Jo)},Je=function(aa){return $o(aa,fl.disable())},it=function(aa){return $o(aa,fl.enable())},dt=function(aa,lo){Je(aa),De(aa,Cs.transform(),{transform:lo}),it(aa)},_t=function(aa,lo){Je(aa),De(aa,Cs.tempTransform(),{transform:lo}),it(aa)},Nt=function(aa){return function(){Pf.getOpt(aa).each(function(lo){to.set(lo,[Nv])})}},Wt=function(aa,lo){Je(aa),De(aa,Cs.transformApply(),{transform:lo,swap:Nt(aa)}),it(aa)},un=function(){return i("Back",function(aa){return De(aa,Cs.back(),{swap:Nt(aa)})},!1,!1)},kn=function(){return qo({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Wr([La.config({})])})},tn=function(){return i("Apply",function(aa){return De(aa,Cs.apply(),{swap:Nt(aa)})},!0,!0)},On=function(){return function(aa){var lo=n.getRect();return R6(aa,lo.x,lo.y,lo.w,lo.h)}},tr=[un(),kn(),i("Apply",function(aa){var lo=On();Wt(aa,lo),n.hideCrop()},!1,!0)],Zn=ws.sketch({dom:y,components:tr.map(function(aa){return aa.asSpec()}),containerBehaviours:Wr([so("image-tools-crop-buttons-events",[xr(fl.disable(),function(aa,lo){f(tr,aa)}),xr(fl.enable(),function(aa,lo){m(tr,aa)})])])}),_n=qo(OD({name:"size",label:Ve.none(),constrain:!0,disabled:!1},a)),Xn=function(aa,lo){return function(Jo){return mD(Jo,aa,lo)}},dr=[un(),kn(),_n,kn(),i("Apply",function(aa){_n.getOpt(aa).each(function(lo){var Jo=Zr.getValue(lo),Pi=parseInt(Jo.width,10),Js=parseInt(Jo.height,10),Ls=Xn(Pi,Js);Wt(aa,Ls)})},!1,!0)],Xr=ws.sketch({dom:y,components:dr.map(function(aa){return aa.asSpec()}),containerBehaviours:Wr([so("image-tools-resize-buttons-events",[xr(fl.disable(),function(aa,lo){f(dr,aa)}),xr(fl.enable(),function(aa,lo){m(dr,aa)})])])}),wr=function(aa,lo){return function(Jo){return aa(Jo,lo)}},Jr=wr(vD,"h"),Er=wr(vD,"v"),cr=wr(pD,-90),Hr=wr(pD,90),pa=function(aa,lo){_t(aa,lo)},br=[un(),kn(),s("flip-horizontally","Flip horizontally",function(aa){pa(aa,Jr)},!1),s("flip-vertically","Flip vertically",function(aa){pa(aa,Er)},!1),s("rotate-left","Rotate counterclockwise",function(aa){pa(aa,cr)},!1),s("rotate-right","Rotate clockwise",function(aa){pa(aa,Hr)},!1),kn(),tn()],ma=ws.sketch({dom:y,components:br.map(function(aa){return aa.asSpec()}),containerBehaviours:Wr([so("image-tools-fliprotate-buttons-events",[xr(fl.disable(),function(aa,lo){f(br,aa)}),xr(fl.enable(),function(aa,lo){m(br,aa)})])])}),Sa=function(aa,lo,Jo,Pi,Js){var Ls=zc.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:a.translate(aa)}}),Nl=zc.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),wc=zc.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return qo(zc.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Jo,maxX:Js,getInitialValue:qe({x:Pi})},components:[Ls,Nl,wc],sliderBehaviours:Wr([no.config({})]),onChoose:lo}))},To=function(aa,lo,Jo,Pi,Js){var Ls=function(Nl,wc,Eh){var lb=wr(lo,Eh.x/100);dt(Nl,lb)};return Sa(aa,Ls,Jo,Pi,Js)},Yo=function(aa,lo,Jo,Pi,Js){return[un(),To(aa,lo,Jo,Pi,Js),tn()]},ki=function(aa,lo,Jo,Pi,Js){var Ls=Yo(aa,lo,Jo,Pi,Js);return ws.sketch({dom:y,components:Ls.map(function(Nl){return Nl.asSpec()}),containerBehaviours:Wr([so("image-tools-filter-panel-buttons-events",[xr(fl.disable(),function(Nl,wc){f(Ls,Nl)}),xr(fl.enable(),function(Nl,wc){m(Ls,Nl)})])])})},Fi=[un(),kn(),tn()],Dl=ws.sketch({dom:y,components:Fi.map(function(aa){return aa.asSpec()})}),Es=ki("Brightness",D6,-100,0,100),P0=ki("Contrast",N6,-100,0,100),Lu=ki("Gamma",M6,-100,0,100),Mm=function(aa,lo,Jo){return function(Pi){return Gg(Pi,aa,lo,Jo)}},Dm=function(aa){var lo=function(Jo,Pi,Js){var Ls=ib.getOpt(Jo),Nl=ub.getOpt(Jo),wc=Nm.getOpt(Jo);Ls.each(function(Eh){Nl.each(function(lb){wc.each(function(kh){var x8=Zr.getValue(Eh).x/100,E8=Zr.getValue(kh).x/100,Lm=Zr.getValue(lb).x/100,Th=Mm(x8,E8,Lm);dt(Jo,Th)})})})};return Sa(aa,lo,0,100,200)},ib=Dm("R"),Nm=Dm("G"),ub=Dm("B"),Qs=[un(),ib,Nm,ub,tn()],Bf=ws.sketch({dom:y,components:Qs.map(function(aa){return aa.asSpec()})}),Rs=function(aa,lo,Jo){return function(Pi){var Js=function(){Pf.getOpt(Pi).each(function(Ls){to.set(Ls,[aa]),Jo(Ls)})};De(Pi,Cs.swap(),{transform:lo,swap:Js})}},sb=function(aa){n.showCrop()},Dv=function(aa){_n.getOpt(aa).each(function(lo){var Jo=n.getMeasurements(),Pi=Jo.width,Js=Jo.height;Zr.setValue(lo,{width:Pi,height:Js})})},xh=Ve.some(dD),Bu=Ve.some(O6),Od=[s("crop","Crop",Rs(Zn,Ve.none(),sb),!1),s("resize","Resize",Rs(Xr,Ve.none(),Dv),!1),s("orientation","Orientation",Rs(ma,Ve.none(),O),!1),s("brightness","Brightness",Rs(Es,Ve.none(),O),!1),s("sharpen","Sharpen",Rs(Dl,xh,O),!1),s("contrast","Contrast",Rs(P0,Ve.none(),O),!1),s("color-levels","Color levels",Rs(Bf,Ve.none(),O),!1),s("gamma","Gamma",Rs(Lu,Ve.none(),O),!1),s("invert","Invert",Rs(Dl,Bu,O),!1)],Nv=ws.sketch({dom:y,components:Od.map(function(aa){return aa.asSpec()})}),Rm=ws.sketch({dom:{tag:"div"},components:[Nv],containerBehaviours:Wr([to.config({})])}),Pf=qo(Rm),Rv=function(aa){return Pf.getOpt(aa).map(function(lo){var Jo=lo.components()[0];return Jo.components()[Jo.components().length-1]})};return{memContainer:Pf,getApplyButton:Rv}},ND=tinymce.util.Tools.resolve("tinymce.geom.Rect"),r5=tinymce.util.Tools.resolve("tinymce.util.Observable"),_d=tinymce.util.Tools.resolve("tinymce.util.VK"),a5=function(n){var a=Math.max,i=n.documentElement,s=n.body,f=a(i.scrollWidth,s.scrollWidth),m=a(i.clientWidth,s.clientWidth),y=a(i.offsetWidth,s.offsetWidth),O=a(i.scrollHeight,s.scrollHeight),De=a(i.clientHeight,s.clientHeight),Je=a(i.offsetHeight,s.offsetHeight);return{width:f<y?m:f,height:O<Je?De:O}},o5=function(n){return A(n.changedTouches)},_E=function(n){if(o5(n))for(var a="screenX screenY pageX pageY clientX clientY".split(" "),i=0;i<a.length;i++)n[a[i]]=n.changedTouches[0][a[i]]};function i5(n,a){var i,s,f,m,y=[],O=[],De=(i=a.document)!==null&&i!==void 0?i:document,Je=(s=a.root)!==null&&s!==void 0?s:De,it=on.fromDom(De),dt,_t,Nt,Wt=on.fromDom(Je.getElementById((f=a.handle)!==null&&f!==void 0?f:n)),un=function(tr){var Zn=tr.raw,_n=a5(De);_E(Zn),tr.prevent(),dt=Zn.button,_t=Zn.screenX,Nt=Zn.screenY;var Xn=Vi(Wt,"cursor");m=on.fromTag("div",De),ac(m,{position:"absolute",top:"0",left:"0",width:_n.width+"px",height:_n.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:Xn}),yn(Xo(it),m),O.push(fu(it,"mousemove",kn),fu(it,"touchmove",kn),fu(it,"mouseup",tn),fu(it,"touchend",tn)),a.start(Zn)},kn=function(tr){var Zn=tr.raw;if(_E(Zn),Zn.button!==dt)return tn(tr);Zn.deltaX=Zn.screenX-_t,Zn.deltaY=Zn.screenY-Nt,tr.prevent(),a.drag(Zn)},tn=function(tr){_E(tr.raw),xt(O,function(Zn){return Zn.unbind()}),O=[],Ta(m),a.stop&&a.stop(tr.raw)},On=function(){xt(O.concat(y),function(tr){return tr.unbind()}),O=[],y=[],A(m)&&Ta(m)};return y.push(fu(Wt,"mousedown",un),fu(Wt,"touchstart",un)),{destroy:On}}var u5=0,s5=function(n,a,i,s,f){var m,y=[],O="tox-",De=O+"crid-"+u5++,Je=on.fromDom(s),it=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],dt=["top","right","bottom","left"],_t=function(wr,Jr){return{x:Jr.x+wr.x,y:Jr.y+wr.y,w:Jr.w,h:Jr.h}},Nt=function(wr,Jr){return{x:Jr.x-wr.x,y:Jr.y-wr.y,w:Jr.w,h:Jr.h}},Wt=function(){return Nt(i,n)},un=function(wr,Jr,Er,cr){var Hr=Jr.x+Er*wr.deltaX,pa=Jr.y+cr*wr.deltaY,br=Math.max(20,Jr.w+Er*wr.deltaW),ma=Math.max(20,Jr.h+cr*wr.deltaH),Sa=n=ND.clamp({x:Hr,y:pa,w:br,h:ma},i,wr.name==="move");Sa=Nt(i,Sa),Xr.fire("updateRect",{rect:Sa}),_n(Sa)},kn=function(){var wr=function(Hr){var pa;return i5(De,{document:s.ownerDocument,root:Ua(Je).dom,handle:De+"-"+Hr.name,start:function(){pa=n},drag:function(br){un(Hr,pa,br.deltaX,br.deltaY)}})},Jr=on.fromTag("div");Md(Jr,{id:De,class:O+"croprect-container",role:"grid","aria-dropeffect":"execute"}),yn(Je,Jr),xt(dt,function(Hr){_u(Je,"#"+De).each(function(pa){var br=on.fromTag("div");Md(br,{id:De+"-"+Hr,class:O+"croprect-block","data-mce-bogus":"all"}),Ja(br,"display","none"),yn(pa,br)})}),xt(it,function(Hr){_u(Je,"#"+De).each(function(pa){var br=on.fromTag("div");Md(br,{id:De+"-"+Hr.name,"aria-label":Hr.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Hr.label}),Vv(br,[O+"croprect-handle",O+"croprect-handle-"+Hr.name]),Ja(br,"display","none"),yn(pa,br)})}),m=Pt(it,wr),On(n);var Er=function(Hr){vo(Hr.target,"aria-grabbed",Hr.raw.type==="focus"?"true":"false")},cr=function(Hr){var pa;xt(it,function(ma){if(Di(Hr.target,"id")===De+"-"+ma.name)return pa=ma,!1});var br=function(ma,Sa,To,Yo,ki){ma.stopPropagation(),ma.preventDefault(),un(pa,To,Yo,ki)};switch(Hr.raw.keyCode){case _d.LEFT:br(Hr,pa,n,-10,0);break;case _d.RIGHT:br(Hr,pa,n,10,0);break;case _d.UP:br(Hr,pa,n,0,-10);break;case _d.DOWN:br(Hr,pa,n,0,10);break;case _d.ENTER:case _d.SPACEBAR:Hr.prevent(),f();break}};y.push(fu(Je,"focusin",Er),fu(Je,"focusout",Er),fu(Je,"keydown",cr))},tn=function(wr){var Jr=nn(nn([],Pt(it,function(cr){return"#"+De+"-"+cr.name}),!0),Pt(dt,function(cr){return"#"+De+"-"+cr}),!0).join(","),Er=Us(Je,Jr);wr?xt(Er,function(cr){return ri(cr,"display")}):xt(Er,function(cr){return Ja(cr,"display","none")})},On=function(wr){var Jr=function(Er,cr){_u(Je,"#"+De+"-"+Er).each(function(Hr){ac(Hr,{left:cr.x+"px",top:cr.y+"px",width:Math.max(0,cr.w)+"px",height:Math.max(0,cr.h)+"px"})})};xt(it,function(Er){_u(Je,"#"+De+"-"+Er.name).each(function(cr){ac(cr,{left:wr.w*Er.xMul+wr.x+"px",top:wr.h*Er.yMul+wr.y+"px"})})}),Jr("top",{x:a.x,y:a.y,w:a.w,h:wr.y-a.y}),Jr("right",{x:wr.x+wr.w,y:wr.y,w:a.w-wr.x-wr.w+a.x,h:wr.h}),Jr("bottom",{x:a.x,y:wr.y+wr.h,w:a.w,h:a.h-wr.y-wr.h+a.y}),Jr("left",{x:a.x,y:wr.y,w:wr.x-a.x,h:wr.h}),Jr("move",wr)},tr=function(wr){n=wr,On(n)},Zn=function(wr){a=wr,On(n)},_n=function(wr){tr(_t(i,wr))},Xn=function(wr){i=wr,On(n)},dr=function(){xt(m,function(wr){return wr.destroy()}),m=[],xt(y,function(wr){return wr.unbind()}),y=[]};kn();var Xr=st(st({},r5),{toggleVisibility:tn,setClampRect:Xn,setRect:tr,getInnerRect:Wt,setInnerRect:_n,setViewPortRect:Zn,destroy:dr});return Xr},l5={create:s5},RD=function(n){return new dm(function(a){var i=function(){n.removeEventListener("load",i),a(n)};n.complete?a(n):n.addEventListener("load",i)})},c5=function(n){var a=qo({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),i=$a(1),s=qw(),f=$a({x:0,y:0,w:1,h:1}),m=$a({x:0,y:0,w:1,h:1}),y=function(kn,tn){Wt.getOpt(kn).each(function(On){var tr=i.get(),Zn=ts(On.element),_n=uu(On.element),Xn=tn.dom.naturalWidth*tr,dr=tn.dom.naturalHeight*tr,Xr=Math.max(0,Zn/2-Xn/2),wr=Math.max(0,_n/2-dr/2),Jr={left:Xr.toString()+"px",top:wr.toString()+"px",width:Xn.toString()+"px",height:dr.toString()+"px",position:"absolute"};ac(tn,Jr),a.getOpt(On).each(function(Er){ac(Er.element,Jr)}),s.run(function(Er){var cr=f.get();Er.setRect({x:cr.x*tr+Xr,y:cr.y*tr+wr,w:cr.w*tr,h:cr.h*tr}),Er.setClampRect({x:Xr,y:wr,w:Xn,h:dr}),Er.setViewPortRect({x:0,y:0,w:Zn,h:_n})})})},O=function(kn,tn){Wt.getOpt(kn).each(function(On){var tr=ts(On.element),Zn=uu(On.element),_n=tn.dom.naturalWidth,Xn=tn.dom.naturalHeight,dr=Math.min(tr/_n,Zn/Xn);dr>=1?i.set(1):i.set(dr)})},De=function(kn,tn){var On=on.fromTag("img");return vo(On,"src",tn),RD(On.dom).then(function(){kn.getSystem().isConnected()&&Wt.getOpt(kn).map(function(tr){var Zn=Sw({element:On});to.replaceAt(tr,1,Ve.some(Zn));var _n=m.get(),Xn={x:0,y:0,w:On.dom.naturalWidth,h:On.dom.naturalHeight};m.set(Xn);var dr=ND.inflate(Xn,-20,-20);f.set(dr),(_n.w!==Xn.w||_n.h!==Xn.h)&&O(tr,On),y(tr,On)})})},Je=function(kn,tn){var On=i.get(),tr=tn>0?Math.min(2,On+.1):Math.max(.1,On-.1);i.set(tr),Wt.getOpt(kn).each(function(Zn){var _n=Zn.components()[1].element;y(Zn,_n)})},it=function(){s.run(function(kn){kn.toggleVisibility(!0)})},dt=function(){s.run(function(kn){kn.toggleVisibility(!1)})},_t=function(){return f.get()},Nt=ws.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[a.asSpec(),{dom:{tag:"img",attributes:{src:n}}},{dom:{tag:"div"},behaviours:Wr([so("image-panel-crop-events",[mo(function(kn){Wt.getOpt(kn).each(function(tn){var On=tn.element.dom,tr=l5.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},On,$e);tr.toggleVisibility(!1),tr.on("updateRect",function(Zn){var _n=Zn.rect,Xn=i.get(),dr={x:Math.round(_n.x/Xn),y:Math.round(_n.y/Xn),w:Math.round(_n.w/Xn),h:Math.round(_n.h/Xn)};f.set(dr)}),s.set(tr)})}),dc(function(){s.clear()})])])}],containerBehaviours:Wr([to.config({}),so("image-panel-events",[mo(function(kn){De(kn,n)})])])}),Wt=qo(Nt),un=function(){var kn=m.get();return{width:kn.w,height:kn.h}};return{memContainer:Wt,updateSrc:De,zoom:Je,showCrop:it,hideCrop:dt,getRect:_t,getMeasurements:un}},f0=function(n,a,i,s,f){return xD({name:n,icon:Ve.some(a),disabled:i,tooltip:Ve.some(n),primary:!1,borderless:!1},s,f)},LD=function(n,a){a?La.enable(n):La.disable(n)},f5=function(n){var a=function(m,y,O){i.getOpt(m).each(function(De){LD(De,y)}),s.getOpt(m).each(function(De){LD(De,O)})},i=qo(f0("Undo","undo",!0,function(m){Ia(m,Cs.undo(),{direction:1})},n)),s=qo(f0("Redo","redo",!0,function(m){Ia(m,Cs.redo(),{direction:1})},n)),f=ws.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[i.asSpec(),s.asSpec(),f0("Zoom in","zoom-in",!1,function(m){Ia(m,Cs.zoom(),{direction:1})},n),f0("Zoom out","zoom-out",!1,function(m){Ia(m,Cs.zoom(),{direction:-1})},n)]});return{container:f,updateButtonUndoStates:a}};function d5(){var n=[],a=-1,i=function(O){var De=n.splice(++a);return n.push(O),{state:O,removed:De}},s=function(){if(m())return n[--a]},f=function(){if(y())return n[++a]},m=function(){return a>0},y=function(){return a!==-1&&a<n.length-1};return{data:n,add:i,undo:s,redo:f,canUndo:m,canRedo:y}}var v5=function(n){var a=$a(n),i=Xi(),s=d5();s.add(n);var f=function(){return a.get()},m=function(On){a.set(On)},y=function(){return i.get().getOrThunk(a.get)},O=function(On){var tr=De(On);return dt(),i.set(tr),tr.url},De=function(On){return{blob:On,url:URL.createObjectURL(On)}},Je=function(On){URL.revokeObjectURL(On.url)},it=function(On){Sv.each(On,Je)},dt=function(){i.on(Je),i.clear()},_t=function(On){var tr=De(On);m(tr);var Zn=s.add(tr).removed;return it(Zn),tr.url},Nt=function(On){var tr=De(On);return i.set(tr),tr.url},Wt=function(On){return i.get().fold($e,function(tr){_t(tr.blob),On()})},un=function(){var On=s.undo();return m(On),On.url},kn=function(){var On=s.redo();return m(On),On.url},tn=function(){var On=s.canUndo(),tr=s.canRedo();return{undoEnabled:On,redoEnabled:tr}};return{getBlobState:f,setBlobState:m,addBlobState:_t,getTempState:y,updateTempState:O,addTempState:Nt,applyTempState:Wt,destroyTempState:dt,undo:un,redo:kn,getHistoryStates:tn}},m5=function(n,a){var i=v5(n.currentState),s=function(Er,cr){var Hr=cr.event.direction;dr.zoom(Er,Hr)},f=function(Er){var cr=i.getHistoryStates();Xr.updateButtonUndoStates(Er,cr.undoEnabled,cr.redoEnabled),Ia(Er,fl.formActionEvent,{name:fl.saveState(),value:cr.undoEnabled})},m=function(Er){Xr.updateButtonUndoStates(Er,!1,!1)},y=function(Er,cr){var Hr=i.undo();dt(Er,Hr).then(function(pa){it(Er),f(Er)})},O=function(Er,cr){var Hr=i.redo();dt(Er,Hr).then(function(pa){it(Er),f(Er)})},De=function(Er){return Er.toBlob()},Je=function(Er){Ia(Er,fl.formActionEvent,{name:fl.disable(),value:{}})},it=function(Er){wr.getApplyButton(Er).each(function(cr){La.enable(cr)}),Ia(Er,fl.formActionEvent,{name:fl.enable(),value:{}})},dt=function(Er,cr){return Je(Er),dr.updateSrc(Er,cr)},_t=function(Er,cr,Hr,pa,br){Je(Er),p6(cr).then(Hr).then(De).then(pa).then(function(ma){return dt(Er,ma)}).then(function(){f(Er),br(),it(Er)}).catch(function(ma){Er.getSystem().isConnected()&&it(Er)})},Nt=function(Er,cr,Hr){var pa=i.getBlobState().blob,br=function(ma){return i.updateTempState(ma)};_t(Er,pa,cr,br,Hr)},Wt=function(Er,cr){var Hr=i.getTempState().blob,pa=function(br){return i.addTempState(br)};_t(Er,Hr,cr,pa,$e)},un=function(Er,cr,Hr){var pa=i.getBlobState().blob,br=function(ma){var Sa=i.addBlobState(ma);return tn(Er),Sa};_t(Er,pa,cr,br,Hr)},kn=function(Er,cr){var Hr=function(){tn(Er);var pa=cr.event.swap;pa()};i.applyTempState(Hr)},tn=function(Er){var cr=i.getBlobState().url;return i.destroyTempState(),f(Er),cr},On=function(Er){var cr=tn(Er);dt(Er,cr).then(function(Hr){it(Er)})},tr=function(Er,cr){On(Er);var Hr=cr.event.swap;Hr(),dr.hideCrop()},Zn=function(Er,cr){return Nt(Er,cr.event.transform,$e)},_n=function(Er,cr){return Wt(Er,cr.event.transform)},Xn=function(Er,cr){return un(Er,cr.event.transform,cr.event.swap)},dr=c5(n.currentState.url),Xr=f5(a),wr=n5(dr,a),Jr=function(Er,cr){m(Er);var Hr=cr.event.transform,pa=cr.event.swap;Hr.fold(function(){pa()},function(br){Nt(Er,br,pa)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[wr.memContainer.asSpec(),dr.memContainer.asSpec(),Xr.container],behaviours:Wr([Zr.config({store:{mode:"manual",getValue:function(){return i.getBlobState()}}}),so("image-tools-events",[xr(Cs.undo(),y),xr(Cs.redo(),O),xr(Cs.zoom(),s),xr(Cs.back(),tr),xr(Cs.apply(),kn),xr(Cs.transform(),Zn),xr(Cs.tempTransform(),_n),xr(Cs.transformApply(),Xn),xr(Cs.swap(),Jr)]),Mf.self()])}},BD=function(n,a){var i={dom:{tag:"label",innerHtml:a.providers.translate(n.label),classes:["tox-label"]}},s=Pt(n.items,a.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[i].concat(s),behaviours:Wr([Mf.self(),to.config({}),wm.domHtml(Ve.none()),_a.config({mode:"acyclic"})])}},OE=function(n){return!gr(n,"items")},PD="data-value",ID=function(n,a,i,s){return Pt(i,function(f){return OE(f)?{type:"togglemenuitem",text:f.text,value:f.value,active:f.value===s,onAction:function(){Zr.setValue(n,f.value),Ia(n,_l,{name:a}),no.focus(n)}}:{type:"nestedmenuitem",text:f.text,getSubmenuItems:function(){return ID(n,a,f.items,s)}}})},FD=function(n,a){return Pn(n,function(i){return OE(i)?mi(i.value===a,i):FD(i.items,a)})},p5=function(n,a){var i=a.shared.providers,s=hr(n.items).filter(OE),f=n.label.map(function(O){return Sd(O,i)}),m=Ho.parts.field({dom:{},factory:{sketch:function(O){return CE({uid:O.uid,text:s.map(function(De){return De.text}),icon:Ve.none(),tooltip:n.label,role:Ve.none(),fetch:function(De,Je){var it=ID(De,n.name,n.items,Zr.getValue(De));Je(bh(it,Ef.CLOSE_ON_EXECUTE,a,!1))},onSetup:qe($e),getApi:qe({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[qi.config({}),Zr.config({store:{mode:"manual",initialValue:s.map(function(De){return De.value}).getOr(""),getValue:function(De){return Di(De.element,PD)},setValue:function(De,Je){FD(n.items,Je).each(function(it){vo(De.element,PD,it.value),Ia(De,Cm,{text:it.text})})}}})]},"tox-listbox",a.shared)}}}),y={dom:{tag:"div",classes:["tox-listboxfield"]},components:[m]};return Ho.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Jt([f.toArray(),[y]]),fieldBehaviours:Wr([La.config({disabled:qe(n.disabled),onDisabled:function(O){Ho.getField(O).each(La.disable)},onEnabled:function(O){Ho.getField(O).each(La.enable)}})])})},h5=function(n,a){return{dom:{tag:"div",classes:n.classes},components:Pt(n.items,a.shared.interpreter)}},HD=function(n,a){var i=Pt(n.options,function(f){return{dom:{tag:"option",value:f.value,innerHtml:f.text}}}),s=n.data.map(function(f){return $f("initialValue",f)}).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:Xu(n.selectBehaviours,[no.config({}),Zr.config({store:st({mode:"manual",getValue:function(f){return Gd(f.element)},setValue:function(f,m){var y=bn(n.options,function(O){return O.value===m});y.isSome()&&up(f.element,m)}},s)})])}},Sm=Yl({name:"HtmlSelect",configFields:[Sr("options"),Mu("selectBehaviours",[no,Zr]),Dn("selectClasses",[]),Dn("selectAttributes",{}),ei("data")],factory:HD}),d0=function(n,a){var i=Pt(n.items,function(O){return{text:a.translate(O.text),value:O.value}}),s=n.label.map(function(O){return Sd(O,a)}),f=Ho.parts.field({dom:{},selectAttributes:{size:n.size},options:i,factory:Sm,selectBehaviours:Wr([La.config({disabled:function(){return n.disabled||a.isDisabled()}}),qi.config({}),so("selectbox-change",[xr(Qm(),function(O,De){Ia(O,_l,{name:n.name})})])])}),m=n.size>1?Ve.none():Ve.some(Ic("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},a.icons)),y={dom:{tag:"div",classes:["tox-selectfield"]},components:Jt([[f],m.toArray()])};return Ho.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Jt([s.toArray(),[y]]),fieldBehaviours:Wr([La.config({disabled:function(){return n.disabled||a.isDisabled()},onDisabled:function(O){Ho.getField(O).each(La.disable)},onEnabled:function(O){Ho.getField(O).each(La.enable)}}),yu()])})},g5=function(n,a){var i=function(O){return{dom:{tag:"th",innerHtml:a.translate(O)}}},s=function(O){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Pt(O,i)}]}},f=function(O){return{dom:{tag:"td",innerHtml:a.translate(O)}}},m=function(O){return{dom:{tag:"tr"},components:Pt(O,f)}},y=function(O){return{dom:{tag:"tbody"},components:Pt(O,m)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(n.header),y(n.cells)],behaviours:Wr([qi.config({}),no.config({})])}},zD=function(n,a){var i=n.label.map(function(_t){return Sd(_t,a)}),s=[La.config({disabled:function(){return n.disabled||a.isDisabled()}}),yu(),_a.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:function(_t){return $o(_t,Hg),Ve.some(!0)}}),so("textfield-change",[xr(Xm(),function(_t,Nt){Ia(_t,_l,{name:n.name})}),xr(tw(),function(_t,Nt){Ia(_t,_l,{name:n.name})})]),qi.config({})],f=n.validation.map(function(_t){return ad.config({getRoot:function(Nt){return tu(Nt.element)},invalidClass:"tox-invalid",validator:{validate:function(Nt){var Wt=Zr.getValue(Nt),un=_t.validator(Wt);return us.pure(un===!0?Ga.value(Wt):Ga.error(un))},validateOnLoad:_t.validateOnLoad}})}).toArray(),m=n.placeholder.fold(qe({}),function(_t){return{placeholder:a.translate(_t)}}),y=n.inputMode.fold(qe({}),function(_t){return{inputmode:_t}}),O=st(st({},m),y),De=Ho.parts.field({tag:n.multiline===!0?"textarea":"input",inputAttributes:O,inputClasses:[n.classname],inputBehaviours:Wr(Jt([s,f])),selectOnFocus:!1,factory:ah}),Je=n.flex?["tox-form__group--stretched"]:[],it=Je.concat(n.maximized?["tox-form-group--maximize"]:[]),dt=[La.config({disabled:function(){return n.disabled||a.isDisabled()},onDisabled:function(_t){Ho.getField(_t).each(La.disable)},onEnabled:function(_t){Ho.getField(_t).each(La.enable)}}),yu()];return Ig(i,De,it,dt)},ME=function(n,a){return zD({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:n.disabled,classname:"tox-textfield",validation:Ve.none(),maximized:n.maximized},a)},b5=function(n,a){return zD({name:n.name,multiline:!0,label:n.label,inputMode:Ve.none(),placeholder:n.placeholder,flex:!0,disabled:n.disabled,classname:"tox-textarea",validation:Ve.none(),maximized:n.maximized},a)},y5=function(n,a){var i=n.stream.streams,s=i.setup(n,a);return di([xr(n.event,s),dc(function(){return a.cancel()})].concat(n.cancelEvent.map(function(f){return[xr(f,function(){return a.cancel()})]}).getOr([])))},DE=Object.freeze({__proto__:null,events:y5}),NE=function(n){var a=$a(null),i=function(){return{timer:a.get()!==null?"set":"unset"}},s=function(m){a.set(m)},f=function(){var m=a.get();m!==null&&m.cancel()};return Sl({readState:i,setTimer:s,cancel:f})},$D=function(n){return n.stream.streams.state(n)},w5=Object.freeze({__proto__:null,throttle:NE,init:$D}),C5=function(n,a){var i=n.stream,s=X1(n.onStream,i.delay);return a.setTimer(s),function(f,m){s.throttle(f,m),i.stopEvent&&m.stop()}},S5=[bl("stream",ic("mode",{throttle:[Sr("delay"),Dn("stopEvent",!0),Oi("streams",{setup:C5,state:NE})]})),Dn("event","input"),ei("cancelEvent"),$s("onStream")],VD=zu({fields:S5,name:"streaming",active:DE,state:w5}),v0=function(n,a,i){var s=Zr.getValue(i);Zr.setValue(a,s),UD(a)},RE=function(n,a){var i=n.element,s=Gd(i),f=i.dom;Di(i,"type")!=="number"&&a(f,s)},UD=function(n){RE(n,function(a,i){return a.setSelectionRange(i.length,i.length)})},jD=function(n,a){RE(n,function(i,s){return i.setSelectionRange(a,s.length)})},x5=function(n,a,i){if(n.selectsOver){var s=Zr.getValue(a),f=n.getDisplayText(s),m=Zr.getValue(i),y=n.getDisplayText(m);return y.indexOf(f)===0?Ve.some(function(){v0(n,a,i),jD(a,f.length)}):Ve.none()}else return Ve.none()},LE=qe("alloy.typeahead.itemexecute"),BE=function(n,a,i,s){var f=function(De,Je,it){n.previewing.set(!1);var dt=Ji.getCoupled(De,"sandbox");if(Lo.isOpen(dt))Oo.getCurrent(dt).each(function(Nt){ti.getHighlighted(Nt).fold(function(){it(Nt)},function(){S2(dt,Nt.element,"keydown",Je)})});else{var _t=function(Nt){Oo.getCurrent(Nt).each(it)};Nx(n,y(De),De,dt,s,_t,Tf.HighlightFirst).get($e)}},m=FO(n),y=function(De){return function(Je){return Je.map(function(it){var dt=Qn(it.menus),_t=Rn(dt,function(Wt){return Zt(Wt.items,function(un){return un.type==="item"})}),Nt=Zr.getState(De);return Nt.update(Pt(_t,function(Wt){return Wt.data})),it})}},O=[no.config({}),Zr.config({onSetValue:n.onSetValue,store:st({mode:"dataset",getDataKey:function(De){return Gd(De.element)},getFallbackEntry:function(De){return{value:De,meta:{}}},setValue:function(De,Je){up(De.element,n.model.getDisplayText(Je))}},n.initialData.map(function(De){return $f("initialValue",De)}).getOr({}))}),VD.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:function(De,Je){var it=Ji.getCoupled(De,"sandbox"),dt=no.isFocused(De);if(dt&&Gd(De.element).length>=n.minChars){var _t=Oo.getCurrent(it).bind(function(Wt){return ti.getHighlighted(Wt).map(Zr.getValue)});n.previewing.set(!0);var Nt=function(Wt){Oo.getCurrent(it).each(function(un){_t.fold(function(){n.model.selectsOver&&ti.highlightFirst(un)},function(kn){ti.highlightBy(un,function(tn){var On=Zr.getValue(tn);return On.value===kn.value}),ti.getHighlighted(un).orThunk(function(){return ti.highlightFirst(un),Ve.none()})})})};Nx(n,y(De),De,it,s,Nt,Tf.HighlightFirst).get($e)}},cancelEvent:rw()}),_a.config({mode:"special",onDown:function(De,Je){return f(De,Je,ti.highlightFirst),Ve.some(!0)},onEscape:function(De){var Je=Ji.getCoupled(De,"sandbox");return Lo.isOpen(Je)?(Lo.close(Je),Ve.some(!0)):Ve.none()},onUp:function(De,Je){return f(De,Je,ti.highlightLast),Ve.some(!0)},onEnter:function(De){var Je=Ji.getCoupled(De,"sandbox"),it=Lo.isOpen(Je);if(it&&!n.previewing.get())return Oo.getCurrent(Je).bind(function(_t){return ti.getHighlighted(_t)}).map(function(_t){return Ia(De,LE(),{item:_t}),!0});var dt=Zr.getValue(De);return $o(De,rw()),n.onExecute(Je,De,dt),it&&Lo.close(Je),Ve.some(!0)}}),Mo.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Ji.config({others:{sandbox:function(De){return Lx(n,De,{onOpen:function(){return Mo.on(De)},onClose:function(){return Mo.off(De)}})}}}),so("typeaheadevents",[vc(function(De){var Je=$e;ih(n,y(De),De,s,Je,Tf.HighlightFirst).get($e)}),xr(LE(),function(De,Je){var it=Ji.getCoupled(De,"sandbox");v0(n.model,De,Je.event.item),$o(De,rw()),n.onItemExecute(De,it,Je.event.item,Zr.getValue(De)),Lo.close(it),UD(De)})].concat(n.dismissOnBlur?[xr(ew(),function(De){var Je=Ji.getCoupled(De,"sandbox");df(Je.element).isNone()&&Lo.close(Je)})]:[]))];return{uid:n.uid,dom:Xl(or(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:st(st({},m),Xu(n.typeaheadBehaviours,O)),eventOrder:n.eventOrder}},PE=qe([ei("lazySink"),Sr("fetch"),Dn("minChars",5),Dn("responseTime",1e3),Wo("onOpen"),Dn("getHotspot",Ve.some),Dn("getAnchorOverrides",qe({})),Dn("layouts",Ve.none()),Dn("eventOrder",{}),W0("model",{},[Dn("getDisplayText",function(n){return n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value}),Dn("selectsOver",!0),Dn("populateFromBrowse",!0)]),Wo("onSetValue"),xl("onExecute"),Wo("onItemExecute"),Dn("inputClasses",[]),Dn("inputAttributes",{}),Dn("inputStyles",{}),Dn("matchWidth",!0),Dn("useMinWidth",!1),Dn("dismissOnBlur",!0),Wv(["openClass"]),ei("initialData"),Mu("typeaheadBehaviours",[no,Zr,VD,_a,Mo,Ji]),ol("previewing",function(){return $a(!0)})].concat(xd()).concat(Bx())),Jg=qe([Rc({schema:[Bb()],name:"menu",overrides:function(n){return{fakeFocus:!0,onHighlight:function(a,i){n.previewing.get()?a.getSystem().getByUid(n.uid).each(function(s){x5(n.model,s,i).fold(function(){return ti.dehighlight(a,i)},function(f){return f()})}):a.getSystem().getByUid(n.uid).each(function(s){n.model.populateFromBrowse&&v0(n.model,s,i)}),n.previewing.set(!1)},onExecute:function(a,i){return a.getSystem().getByUid(n.uid).toOptional().map(function(s){return Ia(s,LE(),{item:i}),!0})},onHover:function(a,i){n.previewing.set(!1),a.getSystem().getByUid(n.uid).each(function(s){n.model.populateFromBrowse&&v0(n.model,s,i)})}}}})]),E5=Ws({name:"Typeahead",configFields:PE(),partFields:Jg(),factory:BE}),$c=function(n){var a=function(){return $c(n.toCached())},i=function(De){return $c(n.bind(function(Je){return Je.fold(function(it){return us.pure(Ga.error(it))},function(it){return De(it)})}))},s=function(De){return $c(n.map(function(Je){return Je.bind(De)}))},f=function(De){return $c(n.map(function(Je){return Je.map(De)}))},m=function(De){return $c(n.map(function(Je){return Je.mapError(De)}))},y=function(De,Je){return n.map(function(it){return it.fold(De,Je)})},O=function(De,Je){return $c(us.nu(function(it){var dt=!1,_t=setTimeout(function(){dt=!0,it(Ga.error(Je()))},De);n.get(function(Nt){dt||(clearTimeout(_t),it(Nt))})}))};return st(st({},n),{toCached:a,bindFuture:i,bindResult:s,mapResult:f,mapError:m,foldResult:y,withTimeout:O})},WD=function(n){return $c(us.nu(n))},qD=function(n){return $c(us.pure(Ga.value(n)))},k5=function(n){return $c(us.pure(Ga.error(n)))},KD=function(n){return $c(us.pure(n))},YD=function(n){return $c(n.map(Ga.value))},GD=function(n){return WD(function(a){n.then(function(i){a(Ga.value(i))},function(i){a(Ga.error(i))})})},T5={nu:WD,wrap:$c,pure:qD,value:qD,error:k5,fromResult:KD,fromFuture:YD,fromPromise:GD},A5={type:"separator"},_5=function(n){return{type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:$e}},IE=function(n,a){return{type:"menuitem",value:a,text:n,meta:{attach:void 0},onAction:$e}},O5=function(n){return Pt(n,_5)},XD=function(n,a){return Zt(a,function(i){return i.type===n})},QD=function(n,a){return O5(XD(n,a))},M5=function(n){return QD("header",n.targets)},D5=function(n){return QD("anchor",n.targets)},N5=function(n){return Ve.from(n.anchorTop).map(function(a){return IE("<top>",a)}).toArray()},JD=function(n){return Ve.from(n.anchorBottom).map(function(a){return IE("<bottom>",a)}).toArray()},xm=function(n){return Pt(n,function(a){return IE(a,a)})},ZD=function(n){return ln(n,function(a,i){var s=a.length===0||i.length===0;return s?a.concat(i):a.concat(A5,i)},[])},FE=function(n,a){var i=n.toLowerCase();return Zt(a,function(s){var f=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return fo(f.toLowerCase(),i)||fo(s.value.toLowerCase(),i)})},R5=function(n,a,i){var s=Zr.getValue(a),f=s.meta.text!==void 0?s.meta.text:s.value,m=i.getLinkInformation();return m.fold(function(){return[]},function(y){var O=FE(f,xm(i.getHistory(n)));return n==="file"?ZD([O,FE(f,M5(y)),FE(f,Jt([N5(y),D5(y),JD(y)]))]):O})},eN=ha("aria-invalid"),tN=function(n,a,i){var s,f=a.shared.providers,m=function(tn){var On=Zr.getValue(tn);i.addToHistory(On.value,n.filetype)},y=Ho.parts.field({factory:E5,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":eN,type:"url"},minChars:0,responseTime:0,fetch:function(tn){var On=R5(n.filetype,tn,i),tr=bh(On,Ef.BUBBLE_TO_SANDBOX,a,!1);return us.pure(tr)},getHotspot:function(tn){return Nt.getOpt(tn)},onSetValue:function(tn,On){tn.hasConfigured(ad)&&ad.run(tn).get($e)},typeaheadBehaviours:Wr(Jt([i.getValidationHandler().map(function(tn){return ad.config({getRoot:function(On){return tu(On.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(On,tr){Je.getOpt(On).each(function(Zn){vo(Zn.element,"title",f.translate(tr))})}},validator:{validate:function(On){var tr=Zr.getValue(On);return T5.nu(function(Zn){tn({type:n.filetype,url:tr.value},function(_n){if(_n.status==="invalid"){var Xn=Ga.error(_n.message);Zn(Xn)}else{var dr=Ga.value(_n.message);Zn(dr)}})})},validateOnLoad:!1}})}).toArray(),[La.config({disabled:function(){return n.disabled||f.isDisabled()}}),qi.config({}),so("urlinput-events",Jt([n.filetype==="file"?[xr(Xm(),function(tn){Ia(tn,_l,{name:n.name})})]:[],[xr(Qm(),function(tn){Ia(tn,_l,{name:n.name}),m(tn)}),xr(tw(),function(tn){Ia(tn,_l,{name:n.name}),m(tn)})]]))]])),eventOrder:(s={},s[Xm()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(tn){return tn.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:a.shared.getSink,parts:{menu:ay(!1,1,"normal")},onExecute:function(tn,On,tr){Ia(On,Hg,{})},onItemExecute:function(tn,On,tr,Zn){m(tn),Ia(tn,_l,{name:n.name})}}),O=n.label.map(function(tn){return Sd(tn,f)}),De=function(tn,On,tr,Zn){return Zn===void 0&&(Zn=tn),Ic(tr,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+tn],attributes:st({title:f.translate(Zn),"aria-live":"polite"},On.fold(function(){return{}},function(_n){return{id:_n}}))},f.icons)},Je=qo(De("invalid",Ve.some(eN),"warning")),it=qo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Je.asSpec()]}),dt=i.getUrlPicker(n.filetype),_t=ha("browser.url.event"),Nt=qo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[y,it.asSpec()],behaviours:Wr([La.config({disabled:function(){return n.disabled||f.isDisabled()}})])}),Wt=qo(EE({name:n.name,icon:Ve.some("browse"),text:n.label.getOr(""),disabled:n.disabled,primary:!1,borderless:!0},function(tn){return $o(tn,_t)},f,[],["tox-browse-url"])),un=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Jt([[Nt.asSpec()],dt.map(function(){return Wt.asSpec()}).toArray()])}},kn=function(tn){Oo.getCurrent(tn).each(function(On){var tr=Zr.getValue(On),Zn=st({fieldname:n.name},tr);dt.each(function(_n){_n(Zn).get(function(Xn){Zr.setValue(On,Xn),Ia(tn,_l,{name:n.name})})})})};return Ho.sketch({dom:UI(),components:O.toArray().concat([un()]),fieldBehaviours:Wr([La.config({disabled:function(){return n.disabled||f.isDisabled()},onDisabled:function(tn){Ho.getField(tn).each(La.disable),Wt.getOpt(tn).each(La.disable)},onEnabled:function(tn){Ho.getField(tn).each(La.enable),Wt.getOpt(tn).each(La.enable)}}),yu(),so("url-input-events",[xr(_t,kn)])])})},L5=function(n,a){return ws.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+n.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[qs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:WA(n.icon,a.icons),attributes:{title:a.translate(n.iconTooltip)}},action:function(i){Ia(i,rd,{name:"alert-banner",value:n.url})},buttonBehaviours:Wr([PS()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:a.translate(n.text)}}]})},B5=function(n,a){var i=Zr.config({store:{mode:"manual",getValue:function(De){var Je=De.element.dom;return Je.checked},setValue:function(De,Je){var it=De.element.dom;it.checked=Je}}}),s=function(De){return De.element.dom.click(),Ve.some(!0)},f=Ho.parts.field({factory:{sketch:lt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Wr([Mf.self(),La.config({disabled:function(){return n.disabled||a.isDisabled()}}),qi.config({}),no.config({}),i,_a.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),so("checkbox-events",[xr(Qm(),function(De,Je){Ia(De,_l,{name:n.name})})])])}),m=Ho.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:a.translate(n.label)},behaviours:Wr([sh.config({})])}),y=function(De){var Je=De==="checked"?"selected":"unselected";return Ic(Je,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+De]},a.icons)},O=qo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[y("checked"),y("unchecked")]});return Ho.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[f,O.asSpec(),m],fieldBehaviours:Wr([La.config({disabled:function(){return n.disabled||a.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(De){Ho.getField(De).each(La.disable)},onEnabled:function(De){Ho.getField(De).each(La.enable)}}),yu()])})},P5=function(n){return n.presets==="presentation"?ws.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html}}):ws.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:Wr([qi.config({}),no.config({})])})},$u=function(n){return function(a,i,s){return jn(i,"name").fold(function(){return n(i,s)},function(f){return a.field(f,n(i,s))})}},I5=function(n){return function(a,i,s){var f=or(i,{source:"dynamic"});return $u(n)(a,f,s)}},F5={bar:$u(function(n,a){return FI(n,a.shared)}),collection:$u(function(n,a){return jI(n,a.shared.providers)}),alertbanner:$u(function(n,a){return L5(n,a.shared.providers)}),input:$u(function(n,a){return ME(n,a.shared.providers)}),textarea:$u(function(n,a){return b5(n,a.shared.providers)}),label:$u(function(n,a){return BD(n,a.shared)}),iframe:I5(function(n,a){return o6(n,a.shared.providers)}),button:$u(function(n,a){return z6(n,a.shared.providers)}),checkbox:$u(function(n,a){return B5(n,a.shared.providers)}),colorinput:$u(function(n,a){return oF(n,a.shared,a.colorinput)}),colorpicker:$u(YM),dropzone:$u(function(n,a){return ph(n,a.shared.providers)}),grid:$u(function(n,a){return ZM(n,a.shared)}),listbox:$u(function(n,a){return p5(n,a)}),selectbox:$u(function(n,a){return d0(n,a.shared.providers)}),sizeinput:$u(function(n,a){return OD(n,a.shared.providers)}),urlinput:$u(function(n,a){return tN(n,a,a.urlinput)}),customeditor:$u(XM),htmlpanel:$u(P5),imagetools:$u(function(n,a){return m5(n,a.shared.providers)}),table:$u(function(n,a){return g5(n,a.shared.providers)}),panel:$u(function(n,a){return h5(n,a)})},H5={field:function(n,a){return a}},nN=function(n,a,i){var s=or(i,{shared:{interpreter:function(f){return HE(n,f,s)}}});return HE(n,a,s)},HE=function(n,a,i){return jn(F5,a.type).fold(function(){return a},function(s){return s(n,a,i)})},z5=function(n,a){var i=H5;return HE(i,n,a)},zE={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},$5=function(n,a,i){var s=12,f={maxHeightFunction:Kh()},m=function(){return{type:"node",root:Qr(n()),node:Ve.from(n()),bubble:gp(s,s,zE),layouts:{onRtl:function(){return[lm]},onLtr:function(){return[xg]}},overrides:f}},y=function(){return{type:"hotspot",hotspot:a(),bubble:gp(-12,s,zE),layouts:{onRtl:function(){return[hs]},onLtr:function(){return[gs]}},overrides:f}};return function(){return i()?m():y()}},V5=function(n,a,i){var s=function(){return{type:"node",root:Qr(n()),node:Ve.from(n()),layouts:{onRtl:function(){return[wf]},onLtr:function(){return[wf]}}}},f=function(){return{type:"hotspot",hotspot:a(),layouts:{onRtl:function(){return[gu]},onLtr:function(){return[gu]}}}};return function(){return i()?s():f()}},U5=function(n,a){return function(){return{type:"selection",root:a(),getSelection:function(){var i=n.selection.getRng();return Ve.some(Qh.range(on.fromDom(i.startContainer),i.startOffset,on.fromDom(i.endContainer),i.endOffset))}}}},j5=function(n){return function(a){return{type:"node",root:n(),node:a}}},W5=function(n,a,i){var s=fy(n),f=function(){return on.fromDom(n.getBody())},m=function(){return on.fromDom(n.getContentAreaContainer())},y=function(){return s||!i()};return{inlineDialog:$5(m,a,y),banner:V5(m,a,y),cursor:U5(n,f),node:j5(f)}},$E=function(n){return function(a,i){var s=vO(n);s(a,i)}},rN=function(n){return function(){return iO(n)}},q5=function(n){return function(){return bx(n)}},K5=function(n){return function(){return xy(n)}},Y5=function(n){return{colorPicker:$E(n),hasCustomColors:rN(n),getColors:q5(n),getColorCols:K5(n)}},G5=function(n){return function(){return x4(n)}},X5=function(n){return{isDraggableModal:G5(n)}},Q5=function(n){var a=$a(B_(n)?"bottom":"top");return{isPositionedAtTop:function(){return a.get()==="top"},getDockingMode:a.get,setDockingMode:a.set}},aN=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],J5=function(n){return gr(n,"items")},Z5=function(n){return gr(n,"block")},m0=function(n){return gr(n,"inline")},eH=function(n){return gr(n,"selector")},oN=function(n){return ln(n,function(a,i){if(J5(i)){var s=oN(i.items);return{customFormats:a.customFormats.concat(s.customFormats),formats:a.formats.concat([{title:i.title,items:s.formats}])}}else if(m0(i)||Z5(i)||eH(i)){var f=He(i.name)?i.name:i.title.toLowerCase(),m="custom-"+f;return{customFormats:a.customFormats.concat([{name:m,format:i}]),formats:a.formats.concat([{title:i.title,format:m,icon:i.icon}])}}else return st(st({},a),{formats:a.formats.concat(i)})},{customFormats:[],formats:[]})},iN=function(n,a){var i=oN(a),s=function(f){xt(f,function(m){n.formatter.has(m.name)||n.formatter.register(m.name,m.format)})};return n.formatter?s(i.customFormats):n.on("init",function(){s(i.customFormats)}),i.formats},Ev=function(n){return p4(n).map(function(a){var i=iN(n,a);return wd(n)?aN.concat(i):i}).getOr(aN)},uN=function(n,a,i){var s={type:"formatter",isSelected:a(n.format),getStylePreview:i(n.format)};return or(n,s)},p0=function(n,a,i,s){var f=function(De){return uN(De,i,s)},m=function(De){var Je={type:"submenu"};return or(De,Je)},y=function(De){var Je=He(De.name)?De.name:ha(De.title),it="custom-"+Je,dt={type:"formatter",format:it,isSelected:i(it),getStylePreview:s(it)},_t=or(De,dt);return n.formatter.register(Je,_t),_t},O=function(De){return Pt(De,function(Je){var it=zn(Je);if(sa(Je,"items")){var dt=O(Je.items);return or(m(Je),{getStyleItems:qe(dt)})}else return sa(Je,"format")?f(Je):it.length===1&&qt(it,"title")?or(Je,{type:"separator"}):y(Je)})};return O(a)},h0=function(n){var a=function(dt){return function(){return n.formatter.match(dt)}},i=function(dt){return function(){var _t=n.formatter.get(dt);return _t!==void 0?Ve.some({tag:_t.length>0&&(_t[0].inline||_t[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(dt))}):Ve.none()}},s=function(dt){var _t=dt.items;return _t!==void 0&&_t.length>0?Rn(_t,s):[dt.format]},f=$a([]),m=$a([]),y=$a([]),O=$a([]),De=$a(!1);n.on("PreInit",function(dt){var _t=Ev(n),Nt=p0(n,_t,a,i);f.set(Nt),m.set(Rn(Nt,s))}),n.on("addStyleModifications",function(dt){var _t=p0(n,dt.items,a,i);y.set(_t),De.set(dt.replace),O.set(Rn(_t,s))});var Je=function(){var dt=De.get()?[]:f.get(),_t=y.get();return dt.concat(_t)},it=function(){var dt=De.get()?[]:m.get(),_t=O.get();return dt.concat(_t)};return{getData:Je,getFlattenedKeys:it}},tH=function(n){return A(n)&&n.nodeType===1},nH=Sv.trim,sN=function(n){return function(a){return!!(tH(a)&&(a.contentEditable===n||a.getAttribute("data-mce-contenteditable")===n))}},rH=sN("true"),aH=sN("false"),kv=function(n,a,i,s,f){return{type:n,title:a,url:i,level:s,attach:f}},lN=function(n){for(;n=n.parentNode;){var a=n.contentEditable;if(a&&a!=="inherit")return rH(n)}return!1},oH=function(n,a){return Pt(Us(on.fromDom(a),n),function(i){return i.dom})},cN=function(n){return n.innerText||n.textContent},iH=function(n){return n.id?n.id:ha("h")},uH=function(n){return n&&n.nodeName==="A"&&(n.id||n.name)!==void 0},sH=function(n){return uH(n)&&g0(n)},fN=function(n){return n&&/^(H[1-6])$/.test(n.nodeName)},g0=function(n){return lN(n)&&!aH(n)},Zg=function(n){return fN(n)&&g0(n)},b0=function(n){return fN(n)?parseInt(n.nodeName.substr(1),10):0},y0=function(n){var a=iH(n),i=function(){n.id=a};return kv("header",cN(n),"#"+a,b0(n),i)},Em=function(n){var a=n.id||n.name,i=cN(n);return kv("anchor",i||"#"+a,"#"+a,0,$e)},w0=function(n){return Pt(Zt(n,Zg),y0)},lH=function(n){return Pt(Zt(n,sH),Em)},dN=function(n){var a=oH("h1,h2,h3,h4,h5,h6,a:not([href])",n);return a},vN=function(n){return nH(n.title).length>0},mN=function(n){var a=dN(n);return Zt(w0(a).concat(lH(a)),vN)},cH={find:mN},VE="tinymce-url-history",pN=5,hN=function(n){return He(n)&&/^https?/.test(n)},fH=function(n){return Xe(n)&&n.length<=pN&&rr(n,hN)},C0=function(n){return Ge(n)&&hn(n,function(a){return!fH(a)}).isNone()},S0=function(){var n=yy.getItem(VE);if(n===null)return{};var a;try{a=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return{};throw i}return C0(a)?a:{}},dH=function(n){if(!C0(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));yy.setItem(VE,JSON.stringify(n))},gN=function(n){var a=S0();return jn(a,n).getOr([])},vH=function(n,a){if(hN(n)){var i=S0(),s=jn(i,a).getOr([]),f=Zt(s,function(m){return m!==n});i[a]=[n].concat(f).slice(0,pN),dH(i)}},x0=function(n){return!!n},mH=function(n){return Cr(Sv.makeMap(n,/[, ]/),x0)},UE=function(n){return Ve.from(A4(n)).filter(Te)},km=function(n){var a=Ve.some(_4(n)).filter(x0),i=Ve.some(O4(n)).filter(x0),s=a.or(i).map(mH);return UE(n).fold(mt,function(f){return s.fold(vt,function(m){return zn(m).length>0?m:!1})})},bN=function(n,a){var i=km(n);return We(i)?i?UE(n):Ve.none():i[a]?UE(n):Ve.none()},pH=function(n,a){return bN(n,a).map(function(i){return function(s){return us.nu(function(f){var m=function(O,De){if(!He(O))throw new Error("Expected value to be string");if(De!==void 0&&!Ge(De))throw new Error("Expected meta to be a object");var Je={value:O,meta:De};f(Je)},y=st({filetype:a,fieldname:s.fieldname},Ve.from(s.meta).getOr({}));i.call(n,m,s.value,y)})}})},jE=function(n){return Ve.from(n).filter(He).getOrUndefined()},hH=function(n){return M4(n)?Ve.none():Ve.some({targets:cH.find(n.getBody()),anchorTop:jE(H_(n)),anchorBottom:jE(D4(n))})},E0=function(n){return Ve.from(N4(n))},Vc=function(n){return{getHistory:gN,addToHistory:vH,getLinkInformation:function(){return hH(n)},getValidationHandler:function(){return E0(n)},getUrlPicker:function(a){return pH(n,a)}}},gH=function(n,a,i){var s=$a(!1),f=Q5(a),m={shared:{providers:{icons:function(){return a.ui.registry.getAll().icons},menuItems:function(){return a.ui.registry.getAll().menuItems},translate:Pc.translate,isDisabled:function(){return a.mode.isReadOnly()||a.ui.isDisabled()},getSetting:a.getParam.bind(a)},interpreter:function(y){return z5(y,m)},anchors:W5(a,i,f.isPositionedAtTop),header:f,getSink:function(){return Ga.value(n)}},urlinput:Vc(a),styleselect:h0(a),colorinput:Y5(a),dialog:X5(a),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(y){return s.set(y)}};return m},od=function(n,a,i){var s=function(Zn,_n){xt([a,i],function(Xn){Xn.broadcastEvent(Zn,_n)})},f=function(Zn,_n){xt([a,i],function(Xn){Xn.broadcastOn([Zn],_n)})},m=function(Zn){return f(Zv(),{target:Zn.target})},y=jh(),O=fu(y,"touchstart",m),De=fu(y,"touchmove",function(Zn){return s(aw(),Zn)}),Je=fu(y,"touchend",function(Zn){return s(hR(),Zn)}),it=fu(y,"mousedown",m),dt=fu(y,"mouseup",function(Zn){Zn.raw.button===0&&f(pC(),{target:Zn.target})}),_t=function(Zn){return f(Zv(),{target:on.fromDom(Zn.target)})},Nt=function(Zn){Zn.button===0&&f(pC(),{target:on.fromDom(Zn.target)})},Wt=function(){xt(n.editorManager.get(),function(Zn){n!==Zn&&Zn.fire("DismissPopups",{relatedTarget:n})})},un=function(Zn){return s(ow(),Yw(Zn))},kn=function(Zn){f(Ep(),{}),s(rf(),Yw(Zn))},tn=function(){return f(Ep(),{})},On=function(Zn){Zn.state&&f(Zv(),{target:on.fromDom(n.getContainer())})},tr=function(Zn){f(Zv(),{target:on.fromDom(Zn.relatedTarget.getContainer())})};n.on("PostRender",function(){n.on("click",_t),n.on("tap",_t),n.on("mouseup",Nt),n.on("mousedown",Wt),n.on("ScrollWindow",un),n.on("ResizeWindow",kn),n.on("ResizeEditor",tn),n.on("AfterProgressState",On),n.on("DismissPopups",tr)}),n.on("remove",function(){n.off("click",_t),n.off("tap",_t),n.off("mouseup",Nt),n.off("mousedown",Wt),n.off("ScrollWindow",un),n.off("ResizeWindow",kn),n.off("ResizeEditor",tn),n.off("AfterProgressState",On),n.off("DismissPopups",tr),it.unbind(),O.unbind(),De.unbind(),Je.unbind(),dt.unbind()}),n.on("detach",function(){js(a),js(i),a.destroy(),i.destroy()})},dl=qa,Tm=uT,yN=qe([Dn("shell",!1),Sr("makeItem"),Dn("setupItem",$e),pc.field("listBehaviours",[to])]),k0=function(){return{behaviours:Wr([to.config({})])}},Tv=Lc({name:"items",overrides:k0}),vl=qe([Tv]),bH=qe("CustomList"),wN=function(n,a,i,s){var f=function(O,De){y(O).fold(function(){throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(Je){var it=to.contents(Je),dt=De.length,_t=dt-it.length,Nt=_t>0?ot(_t,function(){return n.makeItem()}):[],Wt=it.slice(dt);xt(Wt,function(kn){return to.remove(Je,kn)}),xt(Nt,function(kn){return to.append(Je,kn)});var un=to.contents(Je);xt(un,function(kn,tn){n.setupItem(O,kn,De[tn],tn)})})},m=n.shell?{behaviours:[to.config({})],components:[]}:{behaviours:[],components:a},y=function(O){return n.shell?Ve.some(O):vi(O,n,"items")};return{uid:n.uid,dom:n.dom,components:m.components,behaviours:Xu(n.listBehaviours,m.behaviours),apis:{setItems:f}}},WE=Ws({name:bH(),configFields:yN(),partFields:vl(),factory:wN,apis:{setItems:function(n,a,i){n.setItems(a,i)}}}),Am=qe([Sr("dom"),Dn("shell",!0),Mu("toolbarBehaviours",[to])]),yH=function(){return{behaviours:Wr([to.config({})])}},wH=qe([Lc({name:"groups",overrides:yH})]),Av=function(n,a,i,s){var f=function(O,De){m(O).fold(function(){throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(Je){to.set(Je,De)})},m=function(O){return n.shell?Ve.some(O):vi(O,n,"groups")},y=n.shell?{behaviours:[to.config({})],components:[]}:{behaviours:[],components:a};return{uid:n.uid,dom:n.dom,components:y.components,behaviours:Xu(n.toolbarBehaviours,y.behaviours),apis:{setGroups:f},domModification:{attributes:{role:"group"}}}},Uc=Ws({name:"Toolbar",configFields:Am(),partFields:wH(),factory:Av,apis:{setGroups:function(n,a,i){n.setGroups(a,i)}}}),yh=$e,T0=mt,qE=qe([]),CH=Object.freeze({__proto__:null,setup:yh,isDocked:T0,getBehaviours:qE}),CN=function(n){var a=Va(ku(n,"position"),"fixed"),i=a?Ve.none():hl(n);return i.orThunk(function(){var s=on.fromTag("span");return tu(n).bind(function(f){yn(f,s);var m=hl(s);return Ta(s),m})})},SN=function(n){return CN(n).map(fs).getOrThunk(function(){return ci(0,0)})},KE=cc.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),wh=function(n,a){var i=n.element;Au(i,a.transitionClass),hu(i,a.fadeOutClass),Au(i,a.fadeInClass),a.onShow(n)},SH=function(n,a){var i=n.element;Au(i,a.transitionClass),hu(i,a.fadeInClass),Au(i,a.fadeOutClass),a.onHide(n)},xH=function(n,a){return n.y<a.bottom&&n.bottom>a.y},EH=function(n,a){return n.y>=a.y},kH=function(n,a){return n.bottom<=a.bottom},xN=function(n,a,i){return rr(n,function(s){switch(s){case"bottom":return kH(a,i);case"top":return EH(a,i)}})},eb=function(n,a){return a.getInitialPos().map(function(i){return fi(i.bounds.x,i.bounds.y,ts(n),uu(n))})},TH=function(n,a,i){i.setInitialPos({style:qc(n),position:Vi(n,"position")||"static",bounds:a})},YE=function(n,a,i){return i.getInitialPos().bind(function(s){switch(i.clearInitialPos(),s.position){case"static":return Ve.some(KE.static());case"absolute":var f=CN(n).map(nu).getOrThunk(function(){return nu(Zo())});return Ve.some(KE.absolute(Nc("absolute",jn(s.style,"left").map(function(m){return a.x-f.x}),jn(s.style,"top").map(function(m){return a.y-f.y}),jn(s.style,"right").map(function(m){return f.right-a.right}),jn(s.style,"bottom").map(function(m){return f.bottom-a.bottom}))));default:return Ve.none()}})},GE=function(n,a,i){return eb(n,i).filter(function(s){return xN(i.getModes(),s,a)}).bind(function(s){return YE(n,s,i)})},EN=function(n,a,i){var s=nu(n);if(xN(i.getModes(),s,a))return Ve.none();TH(n,s,i);var f=mu(),m=s.x-f.x,y=a.y-f.y,O=f.bottom-a.bottom,De=s.y<=a.y;return Ve.some(KE.fixed(Nc("fixed",Ve.some(m),De?Ve.some(y):Ve.none(),Ve.none(),De?Ve.none():Ve.some(O))))},A0=function(n,a,i){var s=n.element,f=Va(ku(s,"position"),"fixed");return f?GE(s,a,i):EN(s,a,i)},_0=function(n,a){var i=n.element;return eb(i,a).bind(function(s){return YE(i,s,a)})},_v=function(n,a,i){i.setDocked(!1),xt(["left","right","top","bottom","position"],function(s){return ri(n.element,s)}),a.onUndocked(n)},XE=function(n,a,i,s){var f=s.position==="fixed";i.setDocked(f),Zd(n.element,s);var m=f?a.onDocked:a.onUndocked;m(n)},kN=function(n,a,i,s,f){f===void 0&&(f=!1),a.contextual.each(function(m){m.lazyContext(n).each(function(y){var O=xH(y,s);if(O!==i.isVisible())if(i.setVisible(O),f&&!O)Vv(n.element,[m.fadeOutClass]),m.onHide(n);else{var De=O?wh:SH;De(n,m)}})})},QE=function(n,a,i){var s=a.lazyViewport(n),f=i.isDocked();f&&kN(n,a,i,s),A0(n,s,i).each(function(m){m.fold(function(){return _v(n,a,i)},function(y){return XE(n,a,i,y)},function(y){kN(n,a,i,s,!0),XE(n,a,i,y)})})},AH=function(n,a,i){var s=n.element;i.setDocked(!1),_0(n,i).each(function(f){f.fold(function(){return _v(n,a,i)},function(m){return XE(n,a,i,m)},$e)}),i.setVisible(!0),a.contextual.each(function(f){jl(s,[f.fadeInClass,f.fadeOutClass,f.transitionClass]),f.onShow(n)}),Ch(n,a,i)},Ch=function(n,a,i){n.getSystem().isConnected()&&QE(n,a,i)},JE=function(n,a,i){i.isDocked()&&AH(n,a,i)},_H=function(n,a,i){return i.isDocked()},OH=function(n,a,i,s){return i.setModes(s)},tb=function(n,a,i){return i.getModes()},ZE=Object.freeze({__proto__:null,refresh:Ch,reset:JE,isDocked:_H,getModes:tb,setModes:OH}),MH=function(n,a){return di([lu(Lh(),function(i,s){n.contextual.each(function(f){if(Hs(i.element,f.transitionClass)){jl(i.element,[f.transitionClass,f.fadeInClass]);var m=a.isVisible()?f.onShown:f.onHidden;m(i)}s.stop()})}),xr(ow(),function(i,s){Ch(i,n,a)}),xr(rf(),function(i,s){JE(i,n,a)})])},DH=Object.freeze({__proto__:null,events:MH}),TN=[zl("contextual",[eo("fadeInClass"),eo("fadeOutClass"),eo("transitionClass"),Ms("lazyContext"),Wo("onShow"),Wo("onShown"),Wo("onHide"),Wo("onHidden")]),Ei("lazyViewport",mu),Dh("modes",["top","bottom"],su),Wo("onDocked"),Wo("onUndocked")],NH=function(n){var a=$a(!1),i=$a(!0),s=Xi(),f=$a(n.modes),m=function(){return"docked:  "+a.get()+", visible: "+i.get()+", modes: "+f.get().join(",")};return Sl({isDocked:a.get,setDocked:a.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:i.get,setVisible:i.set,getModes:f.get,setModes:f.set,readState:m})},RH=Object.freeze({__proto__:null,init:NH}),e=zu({fields:TN,name:"docking",active:DH,apis:ZE,state:RH}),r=qe(ha("toolbar-height-change")),o={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},u="tox-tinymce--toolbar-sticky-on",l="tox-tinymce--toolbar-sticky-off",c=function(n,a){var i=xu(a),s=i.dom.defaultView.innerHeight,f=qr(i),m=on.fromDom(n.elm),y=Ps(m),O=uu(m),De=y.y,Je=De+O,it=fs(a),dt=uu(a),_t=it.top,Nt=_t+dt,Wt=Math.abs(_t-f.top)<2,un=Math.abs(Nt-(f.top+s))<2;if(Wt&&De<Nt)uo(f.left,De-dt,i);else if(un&&Je>_t){var kn=De-s+O+dt;uo(f.left,kn,i)}},b=function(n,a){return qt(e.getModes(n),a)},S=function(n){var a=function(s){return rl(s)+(parseInt(Vi(s,"margin-top"),10)||0)+(parseInt(Vi(s,"margin-bottom"),10)||0)},i=n.element;tu(i).each(function(s){var f="padding-"+e.getModes(n)[0];if(e.isDocked(n)){var m=ts(s);Ja(i,"width",m+"px"),Ja(s,f,a(i)+"px")}else ri(i,"width"),ri(s,f)})},E=function(n,a){a?(hu(n,o.fadeOutClass),Vv(n,[o.transitionClass,o.fadeInClass])):(hu(n,o.fadeInClass),Vv(n,[o.fadeOutClass,o.transitionClass]))},rt=function(n,a){var i=on.fromDom(n.getContainer());a?(Au(i,u),hu(i,l)):(Au(i,l),hu(i,u))},bt=function(n,a){var i=xu(a);ff(i).filter(function(s){return!Ti(a,s)}).filter(function(s){return Ti(s,on.fromDom(i.dom.body))||es(n,s)}).each(function(){return cf(a)})},Ct=function(n,a){return df(n).orThunk(function(){return a().toOptional().bind(function(i){return df(i.element)})})},kt=function(n,a,i){n.inline||(a.header.isPositionedAtTop()||n.on("ResizeEditor",function(){i().each(e.reset)}),n.on("ResizeWindow ResizeEditor",function(){i().each(S)}),n.on("SkinLoaded",function(){i().each(function(s){e.isDocked(s)?e.reset(s):e.refresh(s)})}),n.on("FullscreenStateChanged",function(){i().each(e.reset)})),n.on("AfterScrollIntoView",function(s){i().each(function(f){e.refresh(f);var m=f.element;LT(m)&&c(s,m)})}),n.on("PostRender",function(){rt(n,!1)})},Ut=function(n){return n().map(e.isDocked).getOr(!1)},Kt=function(){var n;return[ll.config({channels:(n={},n[r()]={onReceive:S},n)})]},Yt=function(n,a){var i=Xi(),s=a.getSink,f=function(O){s().each(function(De){return O(De.element)})},m=function(O){n.inline||S(O),rt(n,e.isDocked(O)),O.getSystem().broadcastOn([Ep()],{}),s().each(function(De){return De.getSystem().broadcastOn([Ep()],{})})},y=n.inline?[]:Kt();return nn([no.config({}),e.config({contextual:st({lazyContext:function(O){var De=rl(O.element),Je=n.inline?n.getContentAreaContainer():n.getContainer(),it=nu(on.fromDom(Je)),dt=it.height-De,_t=it.y+(b(O,"top")?0:De);return Ve.some(fi(it.x,_t,it.width,dt))},onShow:function(){f(function(O){return E(O,!0)})},onShown:function(O){f(function(De){return jl(De,[o.transitionClass,o.fadeInClass])}),i.get().each(function(De){bt(O.element,De),i.clear()})},onHide:function(O){Ct(O.element,s).fold(i.clear,i.set),f(function(De){return E(De,!1)})},onHidden:function(){f(function(O){return jl(O,[o.transitionClass])})}},o),lazyViewport:function(O){var De=mu(),Je=S4(n),it=De.y+(b(O,"top")?Je:0),dt=De.height-(b(O,"bottom")?Je:0);return fi(De.x,it,De.width,dt)},modes:[a.header.getDockingMode()],onDocked:m,onUndocked:m})],y,!0)},Qt=Object.freeze({__proto__:null,setup:kt,isDocked:Ut,getBehaviours:Yt}),pn=function(n){var a=n.editor,i=n.sticky?Yt:qE;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:Wr(i(a,n.sharedBackstage))}},sn=Ra([eo("type"),bl("items",V0([U0([eo("name"),Is("items",su)]),su]))].concat(Up)),Fn=function(n){return Ui("GroupToolbarButton",sn,n)},Ln=[_i("text"),_i("tooltip"),_i("icon"),Ms("fetch"),Ei("onSetup",function(){return $e})],Cn=Ra(nn([eo("type")],Ln,!0)),$n=function(n){return Ui("menubutton",Cn,n)},vr=Ra([eo("type"),_i("tooltip"),_i("icon"),_i("text"),Pv("select"),Ms("fetch"),Ei("onSetup",function(){return $e}),sc("presets","normal",["normal","color","listpreview"]),Dn("columns",1),Ms("onAction"),Ms("onItemAction")]),Dr=function(n){return Ui("SplitButton",vr,n)},Fa=function(n,a){var i=function(f,m){var y=Pt(m,function(O){var De={type:"menubutton",text:O.text,fetch:function(it){it(O.getItems())}},Je=$n(De).mapError(function(it){return qm(it)}).getOrDie();return l0(Je,"tox-mbtn",a.backstage,Ve.some("menuitem"))});to.set(f,y)},s={focus:_a.focusIn,setMenus:i};return{uid:n.uid,dom:n.dom,components:[],behaviours:Wr([to.config({}),so("menubar-events",[mo(function(f){n.onSetup(f)}),xr(Bd(),function(f,m){_u(f.element,".tox-mbtn--active").each(function(y){lf(m.event.target,".tox-mbtn").each(function(O){Ti(y,O)||f.getSystem().getByDom(y).each(function(De){f.getSystem().getByDom(O).each(function(Je){Hc.expand(Je),Hc.close(De),no.focus(Je)})})})})}),xr(bb(),function(f,m){m.event.prevFocus.bind(function(y){return f.getSystem().getByDom(y).toOptional()}).each(function(y){m.event.newFocus.bind(function(O){return f.getSystem().getByDom(O).toOptional()}).each(function(O){Hc.isOpen(y)&&(Hc.expand(O),Hc.close(y))})})})]),_a.config({mode:"flow",selector:".tox-mbtn",onEscape:function(f){return n.onEscape(f),Ve.some(!0)}}),qi.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},ra=Yl({factory:Fa,name:"silver.Menubar",configFields:[Sr("dom"),Sr("uid"),Sr("onEscape"),Sr("backstage"),Dn("onSetup",$e)],apis:{focus:function(n,a){n.focus(a)},setMenus:function(n,a,i){n.setMenus(a,i)}}}),pr=function(n,a){return a.getAnimationRoot.fold(function(){return n.element},function(i){return i(n)})},Ea=function(n){return n.dimension.property},Lr=function(n,a){return n.dimension.getDimension(a)},ta=function(n,a){var i=pr(n,a);jl(i,[a.shrinkingClass,a.growingClass])},Pr=function(n,a){hu(n.element,a.openClass),Au(n.element,a.closedClass),Ja(n.element,Ea(a),"0px"),Kc(n.element)},Kr=function(n,a){hu(n.element,a.closedClass),Au(n.element,a.openClass),ri(n.element,Ea(a))},va=function(n,a,i,s){i.setCollapsed(),Ja(n.element,Ea(a),Lr(a,n.element)),Kc(n.element),ta(n,a),Pr(n,a),a.onStartShrink(n),a.onShrunk(n)},Tr=function(n,a,i,s){var f=s.getOrThunk(function(){return Lr(a,n.element)});i.setCollapsed(),Ja(n.element,Ea(a),f),Kc(n.element);var m=pr(n,a);hu(m,a.growingClass),Au(m,a.shrinkingClass),Pr(n,a),a.onStartShrink(n)},ua=function(n,a,i){var s=Lr(a,n.element),f=s==="0px"?va:Tr;f(n,a,i,Ve.some(s))},So=function(n,a,i){var s=pr(n,a),f=Hs(s,a.shrinkingClass),m=Lr(a,n.element);Kr(n,a);var y=Lr(a,n.element),O=function(){Ja(n.element,Ea(a),m),Kc(n.element)},De=function(){Pr(n,a)},Je=f?O:De;Je(),hu(s,a.shrinkingClass),Au(s,a.growingClass),Kr(n,a),Ja(n.element,Ea(a),y),i.setExpanded(),a.onStartGrow(n)},Vo=function(n,a,i){if(i.isExpanded()){ri(n.element,Ea(a));var s=Lr(a,n.element);Ja(n.element,Ea(a),s)}},zo=function(n,a,i){i.isExpanded()||So(n,a,i)},Vu=function(n,a,i){i.isExpanded()&&ua(n,a,i)},Ii=function(n,a,i){i.isExpanded()&&va(n,a,i)},Ns=function(n,a,i){return i.isExpanded()},Ml=function(n,a,i){return i.isCollapsed()},Ar=function(n,a,i){var s=pr(n,a);return Hs(s,a.growingClass)===!0},Vr=function(n,a,i){var s=pr(n,a);return Hs(s,a.shrinkingClass)===!0},ka=function(n,a,i){return Ar(n,a)||Vr(n,a)},Gn=function(n,a,i){var s=i.isExpanded()?ua:So;s(n,a,i)},Nr=Object.freeze({__proto__:null,refresh:Vo,grow:zo,shrink:Vu,immediateShrink:Ii,hasGrown:Ns,hasShrunk:Ml,isGrowing:Ar,isShrinking:Vr,isTransitioning:ka,toggleGrow:Gn,disableTransitions:ta}),Or=function(n,a,i){var s=a.expanded;return Dc(s?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:$f(a.dimension.property,"0px")})},Ma=function(n,a){return di([lu(Lh(),function(i,s){var f=s.event.raw;if(f.propertyName===n.dimension.property){ta(i,n),a.isExpanded()&&ri(i.element,n.dimension.property);var m=a.isExpanded()?n.onGrown:n.onShrunk;m(i)}})])},Ba=Object.freeze({__proto__:null,exhibit:Or,events:Ma}),ui=[Sr("closedClass"),Sr("openClass"),Sr("shrinkingClass"),Sr("growingClass"),ei("getAnimationRoot"),Wo("onShrunk"),Wo("onStartShrink"),Wo("onGrown"),Wo("onStartGrow"),Dn("expanded",!1),bl("dimension",ic("property",{width:[Oi("property","width"),Oi("getDimension",function(n){return ts(n)+"px"})],height:[Oi("property","height"),Oi("getDimension",function(n){return uu(n)+"px"})]}))],Nu=function(n){var a=$a(n.expanded),i=function(){return"expanded: "+a.get()};return Sl({isExpanded:function(){return a.get()===!0},isCollapsed:function(){return a.get()===!1},setCollapsed:pt(a.set,!1),setExpanded:pt(a.set,!0),readState:i})},wu=Object.freeze({__proto__:null,init:Nu}),Ss=zu({fields:ui,name:"sliding",active:Ba,apis:Nr,state:wu}),xs="container",Gs=[Mu("slotBehaviours",[])],Cu=function(n){return"<alloy.field."+n+">"},Zl=function(n){var a=function(){var m=[],y=function(O,De){return m.push(O),OC(xs,Cu(O),De)};return{slot:y,record:qe(m)}}(),i=n(a),s=a.record(),f=Pt(s,function(m){return ys({name:m,pname:Cu(m)})});return LC(xs,Gs,f,Xs,i)},Xs=function(n,a){var i=function(un){return dT(n)},s=function(un,kn){return vi(un,n,kn)},f=function(un,kn){return function(tn,On){return vi(tn,n,On).map(function(tr){return un(tr,On)}).getOr(kn)}},m=function(un){return function(kn,tn){xt(tn,function(On){return un(kn,On)})}},y=function(un,kn){return Di(un.element,"aria-hidden")!=="true"},O=function(un,kn){if(!y(un)){var tn=un.element;ri(tn,"display"),Eu(tn,"aria-hidden"),Ia(un,yb(),{name:kn,visible:!0})}},De=function(un,kn){if(y(un)){var tn=un.element;Ja(tn,"display","none"),vo(tn,"aria-hidden","true"),Ia(un,yb(),{name:kn,visible:!1})}},Je=f(y,!1),it=f(De),dt=m(it),_t=function(un){return dt(un,i())},Nt=f(O),Wt={getSlotNames:i,getSlot:s,isShowing:Je,hideSlot:it,hideAllSlots:_t,showSlot:Nt};return{uid:n.uid,dom:n.dom,components:a,behaviours:f1(n.slotBehaviours),apis:Wt}},id=Cr({getSlotNames:function(n,a){return n.getSlotNames(a)},getSlot:function(n,a,i){return n.getSlot(a,i)},isShowing:function(n,a,i){return n.isShowing(a,i)},hideSlot:function(n,a,i){return n.hideSlot(a,i)},hideAllSlots:function(n,a){return n.hideAllSlots(a)},showSlot:function(n,a,i){return n.showSlot(a,i)}},function(n){return Gi(n)}),Uo=st(st({},id),{sketch:Zl}),Mi=Ra([_i("icon"),_i("tooltip"),Ei("onShow",$e),Ei("onHide",$e),Ei("onSetup",function(){return $e})]),Ru=function(n){return Ui("sidebar",Mi,n)},Df=function(n){var a=n.ui.registry.getAll().sidebars;xt(zn(a),function(i){var s=a[i],f=function(){return Va(Ve.from(n.queryCommandValue("ToggleSidebar")),i)};n.ui.registry.addToggleButton(i,{icon:s.icon,tooltip:s.tooltip,onAction:function(m){n.execCommand("ToggleSidebar",!1,i),m.setActive(f())},onSetup:function(m){var y=function(){return m.setActive(f())};return n.on("ToggleSidebar",y),function(){n.off("ToggleSidebar",y)}}})})},Nf=function(n){return{element:function(){return n.element.dom}}},Rf=function(n,a){var i=Pt(zn(a),function(s){var f=a[s],m=ef(Ru(f));return{name:s,getApi:Nf,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return Pt(i,function(s){var f=$a($e);return n.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Kp.unnamedEvents([Xp(s,f),Mg(s,f),xr(yb(),function(m,y){var O=y.event,De=bn(i,function(Je){return Je.name===O.name});De.each(function(Je){var it=O.visible?Je.onShow:Je.onHide;it(Je.getApi(m))})})])})})},Ov=function(n){return Uo.sketch(function(a){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Rf(a,n),slotBehaviours:Kp.unnamedEvents([mo(function(i){return Uo.hideAllSlots(i)})])}})},e2=function(n,a){var i=Oo.getCurrent(n);i.each(function(s){return to.set(s,[Ov(a)])})},t2=function(n,a){var i=Oo.getCurrent(n);i.each(function(s){var f=Oo.getCurrent(s);f.each(function(m){Ss.hasGrown(s)?Uo.isShowing(m,a)?Ss.shrink(s):(Uo.hideAllSlots(m),Uo.showSlot(m,a)):(Uo.hideAllSlots(m),Uo.showSlot(m,a),Ss.grow(s))})})},LH=function(n){var a=Oo.getCurrent(n);return a.bind(function(i){var s=Ss.isGrowing(i)||Ss.hasGrown(i);if(s){var f=Oo.getCurrent(i);return f.bind(function(m){return bn(Uo.getSlotNames(m),function(y){return Uo.isShowing(m,y)})})}else return Ve.none()})},O0=ha("FixSizeEvent"),M0=ha("AutoSizeEvent"),BH=function(n){return{uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Wr([qi.config({}),no.config({}),Ss.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(a){var i=Oo.getCurrent(a);i.each(Uo.hideAllSlots),$o(a,M0)},onGrown:function(a){$o(a,M0)},onStartGrow:function(a){Ia(a,O0,{width:ku(a.element,"width").getOr("")})},onStartShrink:function(a){Ia(a,O0,{width:ts(a.element)+"px"})}}),to.config({}),Oo.config({find:function(a){var i=to.contents(a);return hr(i)}})])}],behaviours:Wr([Mf.childAt(0),so("sidebar-sliding-events",[xr(O0,function(a,i){Ja(a.element,"width",i.event.width)}),xr(M0,function(a,i){ri(a.element,"width")})])])}},AN=function(n,a,i,s){vo(n.element,"aria-busy",!0);var f=a.getRoot(n).getOr(n),m=Wr([_a.config({mode:"special",onTab:function(){return Ve.some(!0)},onShiftTab:function(){return Ve.some(!0)}}),no.config({})]),y=s(f,m),O=f.getSystem().build(y);to.append(f,Wl(O)),O.hasConfigured(_a)&&a.focus&&_a.focusIn(O),i.isBlocked()||a.onBlock(n),i.blockWith(function(){return to.remove(f,O)})},PH=function(n,a,i){Eu(n.element,"aria-busy"),i.isBlocked()&&a.onUnblock(n),i.clear()},IH=Object.freeze({__proto__:null,block:AN,unblock:PH}),FH=[Ei("getRoot",Ve.none),ji("focus",!0),Wo("onBlock"),Wo("onUnblock")],HH=function(){var n=Ww(),a=function(i){n.set({destroy:i})};return Sl({readState:n.isSet,blockWith:a,clear:n.clear,isBlocked:n.isSet})},_m=Object.freeze({__proto__:null,init:HH}),ud=zu({fields:FH,name:"blocking",apis:IH,state:_m}),An=function(n){return function(a,i){return{dom:{tag:"div",attributes:{"aria-label":n.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:bd('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Jn=function(n){return Oo.getCurrent(n).each(function(a){return cf(a.element)})},Ir=function(n,a){var i="tabindex",s="data-mce-"+i;Ve.from(n.iframeElement).map(on.fromDom).each(function(f){a?(Yi(f,i).each(function(m){return vo(f,s,m)}),vo(f,i,-1)):(Eu(f,i),Yi(f,s).each(function(m){vo(f,i,m),Eu(f,s)}))})},Yr=function(n,a,i,s){var f=a.element;if(Ir(n,i),i)ud.block(a,An(s)),ri(f,"display"),Eu(f,"aria-hidden"),n.hasFocus()&&Jn(a);else{var m=Oo.getCurrent(a).exists(function(y){return Hw(y.element)});ud.unblock(a),Ja(f,"display","none"),vo(f,"aria-hidden","true"),m&&n.focus()}},ho=function(n){return{uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Wr([to.config({}),ud.config({focus:!1}),Oo.config({find:function(a){return hr(a.components())}})]),components:[]}},Ko=function(n){return n.type==="focusin"},Bi=function(n){if(Ko(n)){var a=n.composed?hr(n.composedPath()):Ve.from(n.target);return a.map(on.fromDom).filter(ht).exists(function(i){return Hs(i,"mce-pastebin")})}else return!1},Mv=function(n,a,i){var s=$a(!1),f=Xi(),m=function(O){s.get()&&!Bi(O)&&(O.preventDefault(),Jn(a()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",function(){n.dom.bind(n.getWin(),"focusin",m),n.on("BeforeExecCommand",function(O){O.command.toLowerCase()==="mcefocus"&&O.value!==!0&&m(O)})});var y=function(O){O!==s.get()&&(s.set(O),Yr(n,a(),O,i.providers),n.fire("AfterProgressState",{state:O}))};n.on("ProgressState",function(O){if(f.on(Cf.clearTimeout),et(O.time)){var De=Cf.setEditorTimeout(n,function(){return y(O.state)},O.time);f.set(De)}else y(O.state),f.clear()})},z$=function(n,a){var i={len:0,list:[]},s=ln(n,function(f,m){var y=a(m,f.len);return y.fold(qe(f),function(O){return{len:O.finish,list:f.list.concat([O])}})},i);return s.list},zH=function(n,a,i){return{within:n,extra:a,withinWidth:i}},A8=function(n,a,i){var s=z$(n,function(O,De){var Je=i(O);return Ve.some({element:O,start:De,finish:De+Je,width:Je})}),f=Zt(s,function(O){return O.finish<=a}),m=mn(f,function(O,De){return O+De.width},0),y=s.slice(f.length);return{within:f,extra:y,withinWidth:m}},_N=function(n){return Pt(n,function(a){return a.element})},$$=function(n,a,i){var s=_N(n.concat(a));return zH(s,[],i)},V$=function(n,a,i,s){var f=_N(n).concat([i]);return zH(f,_N(a),s)},U$=function(n,a,i){return zH(_N(n),[],i)},j$=function(n,a,i){var s=A8(a,n,i);return s.extra.length===0?Ve.some(s):Ve.none()},W$=function(n,a,i,s){var f=j$(n,a,i).getOrThunk(function(){return A8(a,n-i(s),i)}),m=f.within,y=f.extra,O=f.withinWidth;return y.length===1&&y[0].width<=i(s)?$$(m,y,O):y.length>=1?V$(m,y,s,O):U$(m,y,O)},_8=function(n,a){var i=Pt(a,function(s){return Wl(s)});Uc.setGroups(n,i)},q$=function(n){return Pn(n,function(a){return df(a.element).bind(function(i){return a.getSystem().getByDom(i).toOptional()})})},O8=function(n,a,i){var s=a.builtGroups.get();if(s.length!==0){var f=Zf(n,a,"primary"),m=Ji.getCoupled(n,"overflowGroup");Ja(f.element,"visibility","hidden");var y=s.concat([m]),O=q$(y);i([]),_8(f,y);var De=ts(f.element),Je=W$(De,a.builtGroups.get(),function(it){return ts(it.element)},m);Je.extra.length===0?(to.remove(f,m),i([])):(_8(f,Je.within),i(Je.extra)),ri(f.element,"visibility"),Kc(f.element),O.each(no.focus)}},M8=qe([Mu("splitToolbarBehaviours",[Ji]),ol("builtGroups",function(){return $a([])})]),K$=qe([Wv(["overflowToggledClass"]),Pv("getOverflowBounds"),Sr("lazySink"),ol("overflowGroups",function(){return $a([])})].concat(M8())),Y$=qe([ys({factory:Uc,schema:Am(),name:"primary"}),Rc({schema:Am(),name:"overflow"}),Rc({name:"overflow-button"}),Rc({name:"overflow-group"})]),$H=qe(function(n,a){gl(n,Math.floor(a))}),G$=qe([Wv(["toggledClass"]),Sr("lazySink"),Ms("fetch"),Pv("getBounds"),zl("fireDismissalEventInstead",[Dn("event",af())]),ev()]),X$=qe([Rc({name:"button",overrides:function(n){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Wr([Mo.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Rc({factory:Uc,schema:Am(),name:"toolbar",overrides:function(n){return{toolbarBehaviours:Wr([_a.config({mode:"cyclic",onEscape:function(a){return vi(a,n,"button").each(no.focus),Ve.none()}})])}}})]),D8=function(n,a){var i=Ji.getCoupled(n,"toolbarSandbox");Lo.isOpen(i)?Lo.close(i):Lo.open(i,a.toolbar())},VH=function(n,a,i,s){var f=i.getBounds.map(function(y){return y()}),m=i.lazySink(n).getOrDie();Qi.positionWithinBounds(m,a,{anchor:{type:"hotspot",hotspot:n,layouts:s,overrides:{maxWidthFunction:$H()}}},f)},N8=function(n,a,i,s,f){Uc.setGroups(a,f),VH(n,a,i,s),Mo.on(n)},Q$=function(n,a,i){var s=Uv(),f=function(y,O){i.fetch().get(function(De){N8(n,O,i,a.layouts,De),s.link(n.element),_a.focusIn(O)})},m=function(){Mo.off(n),no.focus(n),s.unlink(n.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:Wr([_a.config({mode:"special",onEscape:function(y){return Lo.close(y),Ve.some(!0)}}),Lo.config({onOpen:f,onClose:m,isPartOf:function(y,O,De){return jv(O,De)||jv(n,De)},getAttachPoint:function(){return i.lazySink(n).getOrDie()}}),ll.config({channels:st(st({},kl(st({isExtraPart:mt},i.fireDismissalEventInstead.map(function(y){return{fireEventInstead:{event:y.event}}}).getOr({})))),em({doReposition:function(){Lo.getState(Ji.getCoupled(n,"toolbarSandbox")).each(function(y){VH(n,y,i,a.layouts)})}}))})])}},J$=function(n,a,i,s){return st(st({},qs.sketch(st(st({},s.button()),{action:function(f){D8(f,s)},buttonBehaviours:pc.augment({dump:s.button().buttonBehaviours},[Ji.config({others:{toolbarSandbox:function(f){return Q$(f,i,n)}}})])}))),{apis:{setGroups:function(f,m){Lo.getState(Ji.getCoupled(f,"toolbarSandbox")).each(function(y){N8(f,y,n,i.layouts,m)})},reposition:function(f){Lo.getState(Ji.getCoupled(f,"toolbarSandbox")).each(function(m){VH(f,m,n,i.layouts)})},toggle:function(f){D8(f,s)},getToolbar:function(f){return Lo.getState(Ji.getCoupled(f,"toolbarSandbox"))},isOpen:function(f){return Lo.isOpen(Ji.getCoupled(f,"toolbarSandbox"))}}})},nb=Ws({name:"FloatingToolbarButton",factory:J$,configFields:G$(),partFields:X$(),apis:{setGroups:function(n,a,i){n.setGroups(a,i)},reposition:function(n,a){n.reposition(a)},toggle:function(n,a){n.toggle(a)},getToolbar:function(n,a){return n.getToolbar(a)},isOpen:function(n,a){return n.isOpen(a)}}}),Z$=qe([Sr("items"),Wv(["itemSelector"]),Mu("tgroupBehaviours",[_a])]),e7=qe([g1({name:"items",unit:"item"})]),t7=function(n,a,i,s){return{uid:n.uid,dom:n.dom,components:a,behaviours:Xu(n.tgroupBehaviours,[_a.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},ON=Ws({name:"ToolbarGroup",configFields:Z$(),partFields:e7(),factory:t7}),R8=function(n){return Pt(n,function(a){return Wl(a)})},L8=function(n,a,i){O8(n,i,function(s){i.overflowGroups.set(s),a.getOpt(n).each(function(f){nb.setGroups(f,R8(s))})})},n7=function(n,a,i,s){var f=qo(nb.sketch({fetch:function(){return us.nu(function(m){m(R8(n.overflowGroups.get()))})},layouts:{onLtr:function(){return[gs,hs]},onRtl:function(){return[hs,gs]},onBottomLtr:function(){return[Vs,ul]},onBottomRtl:function(){return[ul,Vs]}},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:n.uid,dom:n.dom,components:a,behaviours:Xu(n.splitToolbarBehaviours,[Ji.config({others:{overflowGroup:function(){return ON.sketch(st(st({},s["overflow-group"]()),{items:[f.asSpec()]}))}}})]),apis:{setGroups:function(m,y){n.builtGroups.set(Pt(y,m.getSystem().build)),L8(m,f,n)},refresh:function(m){return L8(m,f,n)},toggle:function(m){f.getOpt(m).each(function(y){nb.toggle(y)})},isOpen:function(m){return f.getOpt(m).map(nb.isOpen).getOr(!1)},reposition:function(m){f.getOpt(m).each(function(y){nb.reposition(y)})},getOverflow:function(m){return f.getOpt(m).bind(nb.getToolbar)}},domModification:{attributes:{role:"group"}}}},B8=Ws({name:"SplitFloatingToolbar",configFields:K$(),partFields:Y$(),factory:n7,apis:{setGroups:function(n,a,i){n.setGroups(a,i)},refresh:function(n,a){n.refresh(a)},reposition:function(n,a){n.reposition(a)},toggle:function(n,a){n.toggle(a)},isOpen:function(n,a){return n.isOpen(a)},getOverflow:function(n,a){return n.getOverflow(a)}}}),r7=qe([Wv(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Wo("onOpened"),Wo("onClosed")].concat(M8())),a7=qe([ys({factory:Uc,schema:Am(),name:"primary"}),ys({factory:Uc,schema:Am(),name:"overflow",overrides:function(n){return{toolbarBehaviours:Wr([Ss.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:function(a){vi(a,n,"overflow-button").each(function(i){Mo.off(i),no.focus(i)}),n.onClosed(a)},onGrown:function(a){_a.focusIn(a),n.onOpened(a)},onStartGrow:function(a){vi(a,n,"overflow-button").each(Mo.on)}}),_a.config({mode:"acyclic",onEscape:function(a){return vi(a,n,"overflow-button").each(no.focus),Ve.some(!0)}})])}}}),Rc({name:"overflow-button",overrides:function(n){return{buttonBehaviours:Wr([Mo.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Rc({name:"overflow-group"})]),o7=function(n,a){return vi(n,a,"overflow").map(Ss.hasGrown).getOr(!1)},P8=function(n,a){vi(n,a,"overflow-button").bind(function(){return vi(n,a,"overflow")}).each(function(i){UH(n,a),Ss.toggleGrow(i)})},UH=function(n,a){vi(n,a,"overflow").each(function(i){O8(n,a,function(s){var f=Pt(s,function(m){return Wl(m)});Uc.setGroups(i,f)}),vi(n,a,"overflow-button").each(function(s){Ss.hasGrown(i)&&Mo.on(s)}),Ss.refresh(i)})},i7=function(n,a,i,s){var f="alloy.toolbar.toggle",m=function(y,O){var De=Pt(O,y.getSystem().build);n.builtGroups.set(De)};return{uid:n.uid,dom:n.dom,components:a,behaviours:Xu(n.splitToolbarBehaviours,[Ji.config({others:{overflowGroup:function(y){return ON.sketch(st(st({},s["overflow-group"]()),{items:[qs.sketch(st(st({},s["overflow-button"]()),{action:function(O){$o(y,f)}}))]}))}}}),so("toolbar-toggle-events",[xr(f,function(y){P8(y,n)})])]),apis:{setGroups:function(y,O){m(y,O),UH(y,n)},refresh:function(y){return UH(y,n)},toggle:function(y){return P8(y,n)},isOpen:function(y){return o7(y,n)}},domModification:{attributes:{role:"group"}}}},jH=Ws({name:"SplitSlidingToolbar",configFields:r7(),partFields:a7(),factory:i7,apis:{setGroups:function(n,a,i){n.setGroups(a,i)},refresh:function(n,a){n.refresh(a)},toggle:function(n,a){n.toggle(a)},isOpen:function(n,a){return n.isOpen(a)}}}),I8=function(n){var a=n.title.fold(function(){return{}},function(i){return{attributes:{title:i}}});return{dom:st({tag:"div",classes:["tox-toolbar__group"]},a),components:[ON.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Wr([qi.config({}),no.config({})])}},MN=function(n){return ON.sketch(I8(n))},F8=function(n,a){var i=mo(function(s){var f=Pt(n.initGroups,MN);Uc.setGroups(s,f)});return Wr([gc.toolbarButton(n.providers.isDisabled),yu(),_a.config({mode:a,onEscape:n.onEscape,selector:".tox-toolbar__group"}),so("toolbar-events",[i])])},H8=function(n){var a=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":I8({title:Ve.none(),items:[]}),"overflow-button":xE({name:"more",icon:Ve.some("more-drawer"),disabled:!1,tooltip:Ve.some("More..."),primary:!1,borderless:!1},Ve.none(),n.providers)},splitToolbarBehaviours:F8(n,a)}},u7=function(n){var a=H8(n),i=4,s=B8.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return B8.sketch(st(st({},a),{lazySink:n.getSink,getOverflowBounds:function(){var f=n.moreDrawerData.lazyHeader().element,m=Ps(f),y=ar(f),O=Ps(y),De=Math.max(y.dom.scrollHeight,O.height);return fi(m.x+i,O.y,m.width-i*2,De)},parts:st(st({},a.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},s7=function(n){var a=jH.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=jH.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=H8(n);return jH.sketch(st(st({},s),{components:[a,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(f){f.getSystem().broadcastOn([r()],{type:"opened"})},onClosed:function(f){f.getSystem().broadcastOn([r()],{type:"closed"})}}))},DN=function(n){var a=n.cyclicKeying?"cyclic":"acyclic";return Uc.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===Gl.scrolling?["tox-toolbar--scrolling"]:[])},components:[Uc.parts.groups({})],toolbarBehaviours:F8(n,a)})},l7=function(n,a,i){var s={getSocket:function(f){return dl.getPart(f,n,"socket")},setSidebar:function(f,m){dl.getPart(f,n,"sidebar").each(function(y){return e2(y,m)})},toggleSidebar:function(f,m){dl.getPart(f,n,"sidebar").each(function(y){return t2(y,m)})},whichSidebar:function(f){return dl.getPart(f,n,"sidebar").bind(LH).getOrNull()},getHeader:function(f){return dl.getPart(f,n,"header")},getToolbar:function(f){return dl.getPart(f,n,"toolbar")},setToolbar:function(f,m){dl.getPart(f,n,"toolbar").each(function(y){y.getApis().setGroups(y,m)})},setToolbars:function(f,m){dl.getPart(f,n,"multiple-toolbar").each(function(y){WE.setItems(y,m)})},refreshToolbar:function(f){var m=dl.getPart(f,n,"toolbar");m.each(function(y){return y.getApis().refresh(y)})},toggleToolbarDrawer:function(f){dl.getPart(f,n,"toolbar").each(function(m){wo(m.getApis().toggle,function(y){return y(m)})})},isToolbarDrawerToggled:function(f){return dl.getPart(f,n,"toolbar").bind(function(m){return Ve.from(m.getApis().isOpen).map(function(y){return y(m)})}).getOr(!1)},getThrobber:function(f){return dl.getPart(f,n,"throbber")},focusToolbar:function(f){var m=dl.getPart(f,n,"toolbar").orThunk(function(){return dl.getPart(f,n,"multiple-toolbar")});m.each(function(y){_a.focusIn(y)})},setMenubar:function(f,m){dl.getPart(f,n,"menubar").each(function(y){ra.setMenus(y,m)})},focusMenubar:function(f){dl.getPart(f,n,"menubar").each(function(m){ra.focus(m)})}};return{uid:n.uid,dom:n.dom,components:a,apis:s,behaviours:n.behaviours}},c7=Tm.optional({factory:ra,name:"menubar",schema:[Sr("backstage")]}),f7=function(n){return n.type===Gl.sliding?s7:n.type===Gl.floating?u7:DN},d7=Tm.optional({factory:{sketch:function(n){return WE.sketch({uid:n.uid,dom:n.dom,listBehaviours:Wr([_a.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return DN({type:n.type,uid:ha("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:function(){return n.onEscape(),Ve.some(!0)}})},setupItem:function(a,i,s,f){Uc.setGroups(i,s)},shell:!0})}},name:"multiple-toolbar",schema:[Sr("dom"),Sr("onEscape")]}),v7=Tm.optional({factory:{sketch:function(n){var a=f7(n),i={type:n.type,uid:n.uid,onEscape:function(){return n.onEscape(),Ve.some(!0)},cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return a(i)}},name:"toolbar",schema:[Sr("dom"),Sr("onEscape"),Sr("getSink")]}),m7=Tm.optional({factory:{sketch:pn},name:"header",schema:[Sr("dom")]}),p7=Tm.optional({name:"socket",schema:[Sr("dom")]}),h7=Tm.optional({factory:{sketch:BH},name:"sidebar",schema:[Sr("dom")]}),g7=Tm.optional({factory:{sketch:ho},name:"throbber",schema:[Sr("dom")]}),ru=Ws({name:"OuterContainer",factory:l7,configFields:[Sr("dom"),Sr("behaviours")],partFields:[m7,c7,v7,d7,p7,h7,g7],apis:{getSocket:function(n,a){return n.getSocket(a)},setSidebar:function(n,a,i){n.setSidebar(a,i)},toggleSidebar:function(n,a,i){n.toggleSidebar(a,i)},whichSidebar:function(n,a){return n.whichSidebar(a)},getHeader:function(n,a){return n.getHeader(a)},getToolbar:function(n,a){return n.getToolbar(a)},setToolbar:function(n,a,i){var s=Pt(i,function(f){return MN(f)});n.setToolbar(a,s)},setToolbars:function(n,a,i){var s=Pt(i,function(f){return Pt(f,MN)});n.setToolbars(a,s)},refreshToolbar:function(n,a){return n.refreshToolbar(a)},toggleToolbarDrawer:function(n,a){n.toggleToolbarDrawer(a)},isToolbarDrawerToggled:function(n,a){return n.isToolbarDrawerToggled(a)},getThrobber:function(n,a){return n.getThrobber(a)},setMenubar:function(n,a,i){n.setMenubar(a,i)},focusMenubar:function(n,a){n.focusMenubar(a)},focusToolbar:function(n,a){n.focusToolbar(a)}}}),b7="file edit view insert format tools table help",z8={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},y7=function(n,a,i){var s=ax(i).split(/[ ,]/);return{text:n.title,getItems:function(){return Rn(n.items,function(f){var m=f.toLowerCase();return m.trim().length===0?[]:an(s,function(y){return y===m})?[]:m==="separator"||m==="|"?[{type:"separator"}]:a.menuItems[m]?[a.menuItems[m]]:[]})}}},WH=function(n){return typeof n=="string"?n.split(" "):n},$8=function(n,a){var i=st(st({},z8),a.menus),s=zn(a.menus).length>0,f=a.menubar===void 0||a.menubar===!0?WH(b7):WH(a.menubar===!1?"":a.menubar),m=Zt(f,function(O){var De=gr(z8,O);return s?De||jn(a.menus,O).exists(function(Je){return gr(Je,"items")}):De}),y=Pt(m,function(O){var De=i[O];return y7({title:De.title,items:WH(De.items)},a,n)});return Zt(y,function(O){var De=function(Je){return Je.type!=="separator"};return O.getItems().length>0&&an(O.getItems(),De)})},V8=function(n){var a=function(){n._skinLoaded=!0,X4(n)};return function(){n.initialized?a():n.on("init",a)}},w7=function(n,a){return function(){return Q4(n,{message:a})}},U8=function(n,a,i){return new dm(function(s,f){i.load(a,s,f),n.on("remove",function(){return i.unload(a)})})},C7=function(n,a){var i=a+"/skin.min.css";return U8(n,i,n.ui.styleSheetLoader)},S7=function(n,a){var i=wa(on.fromDom(n.getElement()));if(i){var s=a+"/skin.shadowdom.min.css";return U8(n,s,_g.DOM.styleSheetLoader)}else return dm.resolve()},j8=function(n,a){var i=d4(a);i&&a.contentCSS.push(i+(n?"/content.inline":"/content")+".min.css"),m4(a)===!1&&He(i)?dm.all([C7(a,i),S7(a,i)]).then(V8(a),w7(a,"Skin could not be loaded")):V8(a)()},x7=pt(j8,!1),E7=pt(j8,!0),NN=function(n,a){return function(i){var s=hp(),f=function(){i.setActive(n.formatter.match(a));var m=n.formatter.formatChanged(a,i.setActive);s.set(m)};return n.initialized?f():n.once("init",f),function(){n.off("init",f),s.clear()}}},RN=function(n,a,i){return function(s){var f=function(){return i(s)},m=function(){i(s),n.on(a,f)};return n.initialized?m():n.once("init",m),function(){n.off("init",m),n.off(a,f)}}},W8=function(n){return function(a){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("mceToggleFormat",!1,a.format)})}}},Lf=function(n,a){return function(){return n.execCommand(a)}},k7=function(n,a,i){var s=function(O,De,Je,it){var dt=a.shared.providers.translate(O.title);if(O.type==="separator")return Ve.some({type:"separator",text:dt});if(O.type==="submenu"){var _t=Rn(O.getStyleItems(),function(Nt){return f(Nt,De,it)});return De===0&&_t.length<=0?Ve.none():Ve.some({type:"nestedmenuitem",text:dt,disabled:_t.length<=0,getSubmenuItems:function(){return Rn(O.getStyleItems(),function(Nt){return f(Nt,De,it)})}})}else return Ve.some(st({type:"togglemenuitem",text:dt,icon:O.icon,active:O.isSelected(it),disabled:Je,onAction:i.onAction(O)},O.getStylePreview().fold(function(){return{}},function(Nt){return{meta:{style:Nt}}})))},f=function(O,De,Je){var it=O.type==="formatter"&&i.isInvalid(O);return De===0?it?[]:s(O,De,!1,Je).toArray():s(O,De,it,Je).toArray()},m=function(O){var De=i.getCurrentValue(),Je=i.shouldHide?0:1;return Rn(O,function(it){return f(it,Je,De)})},y=function(O,De){return function(Je,it){var dt=De(),_t=m(dt),Nt=bh(_t,Ef.CLOSE_ON_EXECUTE,O,!1);it(Nt)}};return{validateItems:m,getFetch:y}},D0=function(n,a,i){var s=i.dataset,f=s.type==="basic"?function(){return Pt(s.data,function(m){return uN(m,i.isSelectedFor,i.getPreviewFor)})}:s.getData;return{items:k7(n,a,i),getStyleItems:f}},n2=function(n,a,i){var s=D0(n,a,i),f=s.items,m=s.getStyleItems,y=function(De){return{getComponent:qe(De)}},O=RN(n,"NodeChange",function(De){var Je=De.getComponent();i.updateText(Je)});return CE({text:i.icon.isSome()?Ve.none():i.text,icon:i.icon,tooltip:Ve.from(i.tooltip),role:Ve.none(),fetch:f.getFetch(a,m),onSetup:O,getApi:y,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",a.shared)},T7=function(n){return Pt(n,function(a){var i=a,s=a,f=a.split("=");return f.length>1&&(i=f[0],s=f[1]),{title:i,format:s}})},A7=function(n){return{type:"basic",data:n}},N0;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(N0||(N0={}));var _7=function(n,a){return a===N0.SemiColon?n.replace(/;$/,"").split(";"):n.split(" ")},qH=function(n,a,i,s){var f=n.getParam(a,i,"string"),m=T7(_7(f,s));return{type:"basic",data:m}},KH=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],q8=function(n){var a=function(){return bn(KH,function(O){return n.formatter.match(O.format)})},i=function(O){return function(){return n.formatter.match(O)}},s=function(O){return Ve.none},f=function(O){var De=a(),Je=De.fold(qe("left"),function(it){return it.title.toLowerCase()});Ia(O,wE,{icon:"align-"+Je})},m=A7(KH),y=function(O){return function(){return bn(KH,function(De){return De.format===O.format}).each(function(De){return n.execCommand(De.command)})}};return{tooltip:"Align",text:Ve.none(),icon:Ve.some("align-left"),isSelectedFor:i,getCurrentValue:Ve.none,getPreviewFor:s,onAction:y,updateText:f,dataset:m,shouldHide:!1,isInvalid:function(O){return!n.formatter.canApply(O.format)}}},O7=function(n,a){return n2(n,a,q8(n))},M7=function(n,a){var i=D0(n,a,q8(n));n.ui.registry.addNestedMenuItem("align",{text:a.shared.providers.translate("Align"),getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},D7="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",N7=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],K8=function(n){var a=n.split(/\s*,\s*/);return Pt(a,function(i){return i.replace(/^['"]+|['"]+$/g,"")})},R7=function(n){var a=function(){var i=K8(n.toLowerCase());return rr(N7,function(s){return i.indexOf(s.toLowerCase())>-1})};return n.indexOf("-apple-system")===0&&a()},Y8=function(n){var a="System Font",i=function(){var Je=function(Wt){return Wt?K8(Wt)[0]:""},it=n.queryCommandValue("FontName"),dt=De.data,_t=it?it.toLowerCase():"",Nt=bn(dt,function(Wt){var un=Wt.format;return un.toLowerCase()===_t||Je(un).toLowerCase()===Je(_t).toLowerCase()}).orThunk(function(){return mi(R7(_t),{title:a,format:_t})});return{matchOpt:Nt,font:it}},s=function(Je){return function(it){return it.exists(function(dt){return dt.format===Je})}},f=function(){var Je=i().matchOpt;return Je},m=function(Je){return function(){return Ve.some({tag:"div",styles:Je.indexOf("dings")===-1?{"font-family":Je}:{}})}},y=function(Je){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("FontName",!1,Je.format)})}},O=function(Je){var it=i(),dt=it.matchOpt,_t=it.font,Nt=dt.fold(qe(_t),function(Wt){return Wt.title});Ia(Je,Cm,{text:Nt})},De=qH(n,"font_formats",D7,N0.SemiColon);return{tooltip:"Fonts",text:Ve.some(a),icon:Ve.none(),isSelectedFor:s,getCurrentValue:f,getPreviewFor:m,onAction:y,updateText:O,dataset:De,shouldHide:!1,isInvalid:mt}},L7=function(n,a){return n2(n,a,Y8(n))},B7=function(n,a){var i=D0(n,a,Y8(n));n.ui.registry.addNestedMenuItem("fontformats",{text:a.shared.providers.translate("Fonts"),getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},P7="8pt 10pt 12pt 14pt 18pt 24pt 36pt",I7={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},F7={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},H7=function(n,a){var i=Math.pow(10,a);return Math.round(n*i)/i},z7=function(n,a){return/[0-9.]+px$/.test(n)?H7(parseInt(n,10)*72/96,a||0)+"pt":jn(F7,n).getOr(n)},$7=function(n){return jn(I7,n).getOr("")},G8=function(n){var a=function(){var De=Ve.none(),Je=O.data,it=n.queryCommandValue("FontSize");if(it)for(var dt=function(Nt){var Wt=z7(it,Nt),un=$7(Wt);De=bn(Je,function(kn){return kn.format===it||kn.format===Wt||kn.format===un})},_t=3;De.isNone()&&_t>=0;_t--)dt(_t);return{matchOpt:De,size:it}},i=function(De){return function(Je){return Je.exists(function(it){return it.format===De})}},s=function(){var De=a().matchOpt;return De},f=qe(Ve.none),m=function(De){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("FontSize",!1,De.format)})}},y=function(De){var Je=a(),it=Je.matchOpt,dt=Je.size,_t=it.fold(qe(dt),function(Nt){return Nt.title});Ia(De,Cm,{text:_t})},O=qH(n,"fontsize_formats",P7,N0.Space);return{tooltip:"Font sizes",text:Ve.some("12pt"),icon:Ve.none(),isSelectedFor:i,getPreviewFor:f,getCurrentValue:s,onAction:m,updateText:y,dataset:O,shouldHide:!1,isInvalid:mt}},V7=function(n,a){return n2(n,a,G8(n))},U7=function(n,a){var i=D0(n,a,G8(n));n.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},X8=function(n,a){var i=a(),s=Pt(i,function(f){return f.format});return Ve.from(n.formatter.closest(s)).bind(function(f){return bn(i,function(m){return m.format===f})}).orThunk(function(){return mi(n.formatter.match("p"),{title:"Paragraph",format:"p"})})},j7="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",Q8=function(n){var a="Paragraph",i=function(y){return function(){return n.formatter.match(y)}},s=function(y){return function(){var O=n.formatter.get(y);return Ve.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(y))})}},f=function(y){var O=X8(n,function(){return m.data}),De=O.fold(qe(a),function(Je){return Je.title});Ia(y,Cm,{text:De})},m=qH(n,"block_formats",j7,N0.SemiColon);return{tooltip:"Blocks",text:Ve.some(a),icon:Ve.none(),isSelectedFor:i,getCurrentValue:Ve.none,getPreviewFor:s,onAction:W8(n),updateText:f,dataset:m,shouldHide:!1,isInvalid:function(y){return!n.formatter.canApply(y.format)}}},W7=function(n,a){return n2(n,a,Q8(n))},q7=function(n,a){var i=D0(n,a,Q8(n));n.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},J8=function(n,a){var i="Paragraph",s=function(y){return function(){return n.formatter.match(y)}},f=function(y){return function(){var O=n.formatter.get(y);return O!==void 0?Ve.some({tag:O.length>0&&(O[0].inline||O[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(y))}):Ve.none()}},m=function(y){var O=function(dt){var _t=dt.items;return _t!==void 0&&_t.length>0?Rn(_t,O):[{title:dt.title,format:dt.format}]},De=Rn(Ev(n),O),Je=X8(n,qe(De)),it=Je.fold(qe(i),function(dt){return dt.title});Ia(y,Cm,{text:it})};return{tooltip:"Formats",text:Ve.some(i),icon:Ve.none(),isSelectedFor:s,getCurrentValue:Ve.none,getPreviewFor:f,onAction:W8(n),updateText:m,shouldHide:n.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(y){return!n.formatter.canApply(y.format)},dataset:a}},K7=function(n,a){var i=st({type:"advanced"},a.styleselect);return n2(n,a,J8(n,i))},Y7=function(n,a){var i=st({type:"advanced"},a.styleselect),s=D0(n,a,J8(n,i));n.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},G7=function(n,a){var i=function(s,f){n.updateState.each(function(m){var y=m(s,f);a.set(y)}),n.renderComponents.each(function(m){var y=m(f,a.get()),O=Pt(y,s.getSystem().build);fC(s,O)})};return di([xr(fc(),function(s,f){var m=f;if(!m.universal){var y=n.channel;qt(m.channels,y)&&i(s,m.data)}}),mo(function(s,f){n.initialData.each(function(m){i(s,m)})})])},X7=Object.freeze({__proto__:null,events:G7}),Q7=function(n,a,i){return i},J7=Object.freeze({__proto__:null,getState:Q7}),Z7=[Sr("channel"),ei("renderComponents"),ei("updateState"),ei("initialData")],eV=function(){var n=$a(Ve.none()),a=function(){return n.set(Ve.none())},i=function(){return n.get().getOr("none")};return{readState:i,get:n.get,set:n.set,clear:a}},tV=Object.freeze({__proto__:null,init:eV}),yc=zu({fields:Z7,name:"reflecting",active:X7,apis:J7,state:tV}),nV=qe([Sr("toggleClass"),Sr("fetch"),$s("onExecute"),Dn("getHotspot",Ve.some),Dn("getAnchorOverrides",qe({})),ev(),$s("onItemExecute"),ei("lazySink"),Sr("dom"),Wo("onOpen"),Mu("splitDropdownBehaviours",[Ji,_a,no]),Dn("matchWidth",!1),Dn("useMinWidth",!1),Dn("eventOrder",{}),ei("role")].concat(Bx())),rV=ys({factory:qs,schema:[Sr("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Wr([no.revoke()])}},overrides:function(n){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(a){a.getSystem().getByUid(n.uid).each(Ul)},buttonBehaviours:Wr([Mo.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])}}}),aV=ys({factory:qs,schema:[Sr("dom")],name:"button",defaults:function(){return{buttonBehaviours:Wr([no.revoke()])}},overrides:function(n){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(a){a.getSystem().getByUid(n.uid).each(function(i){n.onExecute(i,a)})}}}}),oV=qe([rV,aV,Lc({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}}}},schema:[Sr("text")],name:"aria-descriptor"}),Rc({schema:[Bb()],name:"menu",defaults:function(n){return{onExecute:function(a,i){a.getSystem().getByUid(n.uid).each(function(s){n.onItemExecute(s,a,i)})}}}}),JO()]),iV=function(n,a,i,s){var f,m=function(dt){Oo.getCurrent(dt).each(function(_t){ti.highlightFirst(_t),_a.focusIn(_t)})},y=function(dt){var _t=m;ih(n,lt,dt,s,_t,Tf.HighlightFirst).get($e)},O=function(dt){return y(dt),Ve.some(!0)},De=function(dt){var _t=Zf(dt,n,"button");return Ul(_t),Ve.some(!0)},Je=st(st({},di([mo(function(dt,_t){var Nt=vi(dt,n,"aria-descriptor");Nt.each(function(Wt){var un=ha("aria");vo(Wt.element,"id",un),vo(dt.element,"aria-describedby",un)})})])),z1(Ve.some(y))),it={repositionMenus:function(dt){Mo.isOn(dt)&&eM(dt)}};return{uid:n.uid,dom:n.dom,components:a,apis:it,eventOrder:st(st({},n.eventOrder),(f={},f[$l()]=["disabling","toggling","alloy.base.behaviour"],f)),events:Je,behaviours:Xu(n.splitDropdownBehaviours,[Ji.config({others:{sandbox:function(dt){var _t=Zf(dt,n,"arrow"),Nt={onOpen:function(){Mo.on(_t),Mo.on(dt)},onClose:function(){Mo.off(_t),Mo.off(dt)}};return Lx(n,dt,Nt)}}}),_a.config({mode:"special",onSpace:De,onEnter:De,onDown:O}),no.config({}),Mo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},LN=Ws({name:"SplitDropdown",configFields:nV(),partFields:oV(),factory:iV,apis:{repositionMenus:function(n,a){return n.repositionMenus(a)}}}),uV=function(n){return{isDisabled:function(){return La.isDisabled(n)},setDisabled:function(a){return La.set(n,a)}}},sV=function(n){return{setActive:function(a){Mo.set(n,a)},isActive:function(){return Mo.isOn(n)},isDisabled:function(){return La.isDisabled(n)},setDisabled:function(a){return La.set(n,a)}}},Z8=function(n,a){return n.map(function(i){return{"aria-label":a.translate(i),title:a.translate(i)}}).getOr({})},ez=ha("focus-button"),YH=function(n,a,i,s,f,m){var y;return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:Z8(i,m)},components:Qp([n.map(function(O){return i0(O,m.icons)}),a.map(function(O){return yE(O,"tox-tbtn",m)})]),eventOrder:(y={},y[Mc()]=["focusing","alloy.base.behaviour","common-button-display-events"],y),buttonBehaviours:Wr([gc.toolbarButton(m.isDisabled),yu(),so("common-button-display-events",[xr(Mc(),function(O,De){De.event.prevent(),$o(O,ez)})])].concat(s.map(function(O){return yc.config({channel:O,initialData:{icon:n,text:a},renderComponents:function(De,Je){return Qp([De.icon.map(function(it){return i0(it,m.icons)}),De.text.map(function(it){return yE(it,"tox-tbtn",m)})])}})}).toArray()).concat(f.getOr([])))}},lV=function(n,a,i,s){var f=a.shared;return nb.sketch({lazySink:f.getSink,fetch:function(){return us.nu(function(m){m(Pt(i(n.items),MN))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:YH(n.icon,n.text,n.tooltip,Ve.none(),Ve.none(),f.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},tz=function(n,a,i){var s=$a($e),f=YH(n.icon,n.text,n.tooltip,Ve.none(),Ve.none(),i);return qs.sketch({dom:f.dom,components:f.components,eventOrder:yD,buttonBehaviours:Wr([so("toolbar-button-events",[L6({onAction:n.onAction,getApi:a.getApi}),Xp(a,s),Mg(a,s)]),gc.toolbarButton(function(){return n.disabled||i.isDisabled()}),yu()].concat(a.toolbarButtonBehaviours))})},cV=function(n,a){return nz(n,a,[])},nz=function(n,a,i){return tz(n,{toolbarButtonBehaviours:[].concat(i.length>0?[so("toolbarButtonWith",i)]:[]),getApi:uV,onSetup:n.onSetup},a)},fV=function(n,a){return rz(n,a,[])},rz=function(n,a,i){return or(tz(n,{toolbarButtonBehaviours:[to.config({}),Mo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[so("toolbarToggleButtonWith",i)]:[]),getApi:sV,onSetup:n.onSetup},a))},dV=function(n,a,i){return function(s){return us.nu(function(f){return a.fetch(f)}).map(function(f){return Ve.from(xO(or(nh(ha("menu-value"),f,function(m){a.onItemAction(n(s),m)},a.columns,a.presets,Ef.CLOSE_ON_EXECUTE,a.select.getOr(mt),i),{movement:ky(a.columns,a.presets),menuBehaviours:Kp.unnamedEvents(a.columns!=="auto"?[]:[mo(function(m,y){nx(m,4,YS(a.presets)).each(function(O){var De=O.numRows,Je=O.numColumns;_a.setGridSize(m,De,Je)})})])})))})}},vV=function(n,a){var i,s=ha("channel-update-split-dropdown-display"),f=function(O){return{isDisabled:function(){return La.isDisabled(O)},setDisabled:function(De){return La.set(O,De)},setIconFill:function(De,Je){_u(O.element,'svg path[id="'+De+'"], rect[id="'+De+'"]').each(function(it){vo(it,"fill",Je)})},setIconStroke:function(De,Je){_u(O.element,'svg path[id="'+De+'"], rect[id="'+De+'"]').each(function(it){vo(it,"stroke",Je)})},setActive:function(De){vo(O.element,"aria-pressed",De),_u(O.element,"span").each(function(Je){O.getSystem().getByDom(Je).each(function(it){return Mo.set(it,De)})})},isActive:function(){return _u(O.element,"span").exists(function(De){return O.getSystem().getByDom(De).exists(Mo.isOn)})}}},m=$a($e),y={getApi:f,onSetup:n.onSetup};return LN.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:st({"aria-pressed":!1},Z8(n.tooltip,a.providers))},onExecute:function(O){n.onAction(f(O))},onItemExecute:function(O,De,Je){},splitDropdownBehaviours:Wr([gc.splitButton(a.providers.isDisabled),yu(),so("split-dropdown-events",[xr(ez,no.focus),Xp(y,m),Mg(y,m)]),sh.config({})]),eventOrder:(i={},i[Vl()]=["alloy.base.behaviour","split-dropdown-events"],i),toggleClass:"tox-tbtn--enabled",lazySink:a.getSink,fetch:dV(f,n,a.providers),parts:{menu:ay(!1,n.columns,n.presets)},components:[LN.parts.button(YH(n.icon,n.text,Ve.none(),Ve.some(s),Ve.some([Mo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),a.providers)),LN.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:WA("chevron-down",a.providers.icons)},buttonBehaviours:Wr([gc.splitButton(a.providers.isDisabled),yu(),PS()])}),LN.parts["aria-descriptor"]({text:a.providers.translate("To open the popup, press Shift+Enter")})]})},mV=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],r2=function(n,a){return function(i,s,f){var m=n(i).mapError(function(y){return qm(y)}).getOrDie();return a(m,s,f)}},R0={button:r2(c_,function(n,a){return cV(n,a.backstage.shared.providers)}),togglebutton:r2(VS,function(n,a){return fV(n,a.backstage.shared.providers)}),menubutton:r2($n,function(n,a){return l0(n,"tox-tbtn",a.backstage,Ve.none())}),splitbutton:r2(Dr,function(n,a){return vV(n,a.backstage.shared)}),grouptoolbarbutton:r2(Fn,function(n,a,i){var s,f=i.ui.registry.getAll().buttons,m=function(O){return BN(i,{buttons:f,toolbar:O,allowToolbarGroups:!1},a,Ve.none())},y=(s={},s[Xw]=a.backstage.shared.header.isPositionedAtTop()?Kf.TopToBottom:Kf.BottomToTop,s);switch(Og(i)){case Gl.floating:return lV(n,a.backstage,m,y);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(n,a){return K7(n,a.backstage)},fontsizeSelectButton:function(n,a){return V7(n,a.backstage)},fontSelectButton:function(n,a){return L7(n,a.backstage)},formatButton:function(n,a){return W7(n,a.backstage)},alignMenuButton:function(n,a){return O7(n,a.backstage)}},pV=function(n,a,i){return jn(R0,n.type).fold(function(){return Ve.none()},function(s){return Ve.some(s(n,a,i))})},az={styleselect:R0.styleSelectButton,fontsizeselect:R0.fontsizeSelectButton,fontselect:R0.fontSelectButton,formatselect:R0.formatButton,align:R0.alignMenuButton},hV=function(n){var a=Pt(mV,function(i){var s=Zt(i.items,function(f){return gr(n,f)||gr(az,f)});return{name:i.name,items:s}});return Zt(a,function(i){return i.items.length>0})},gV=function(n){var a=n.split("|");return Pt(a,function(i){return{items:i.trim().split(" ")}})},bV=function(n){return Qe(n,function(a){return gr(a,"name")&&gr(a,"items")})},yV=function(n){var a=n.toolbar,i=n.buttons;return a===!1?[]:a===void 0||a===!0?hV(i):He(a)?gV(a):bV(a)?a:[]},wV=function(n,a,i,s,f,m){return jn(a,i.toLowerCase()).orThunk(function(){return m.bind(function(y){return Pn(y,function(O){return jn(a,O+i.toLowerCase())})})}).fold(function(){return jn(az,i.toLowerCase()).map(function(y){return y(n,f)}).orThunk(function(){return Ve.none()})},function(y){return y.type==="grouptoolbarbutton"&&!s?Ve.none():pV(y,f,n)})},BN=function(n,a,i,s){var f=yV(a),m=Pt(f,function(y){var O=Rn(y.items,function(De){return De.trim().length===0?[]:wV(n,a.buttons,De,a.allowToolbarGroups,i,s).toArray()});return{title:Ve.from(n.translate(y.name)),items:O}});return Zt(m,function(y){return y.items.length>0})},oz=function(n,a,i,s){var f=a.outerContainer,m=i.toolbar,y=i.buttons;if(Qe(m,He)){var O=m.map(function(De){var Je={toolbar:De,buttons:y,allowToolbarGroups:i.allowToolbarGroups};return BN(n,Je,{backstage:s},Ve.none())});ru.setToolbars(f,O)}else ru.setToolbar(f,BN(n,i,{backstage:s},Ve.none()))},iz=Na(),CV=iz.os.isiOS()&&iz.os.version.major<=12,SV=function(n,a){var i=n.dom,s=n.getWin(),f=n.getDoc().documentElement,m=$a(ci(s.innerWidth,s.innerHeight)),y=$a(ci(f.offsetWidth,f.offsetHeight)),O=function(){var _t=m.get();(_t.left!==s.innerWidth||_t.top!==s.innerHeight)&&(m.set(ci(s.innerWidth,s.innerHeight)),px(n))},De=function(){var _t=n.getDoc().documentElement,Nt=y.get();(Nt.left!==_t.offsetWidth||Nt.top!==_t.offsetHeight)&&(y.set(ci(_t.offsetWidth,_t.offsetHeight)),px(n))},Je=function(_t){return Z4(n,_t)};i.bind(s,"resize",O),i.bind(s,"scroll",Je);var it=Kb(on.fromDom(n.getBody()),"load",De),dt=a.uiMothership.element;n.on("hide",function(){Ja(dt,"display","none")}),n.on("show",function(){ri(dt,"display")}),n.on("NodeChange",De),n.on("remove",function(){it.unbind(),i.unbind(s,"resize",O),i.unbind(s,"scroll",Je),s=null})},xV=function(n,a,i,s,f){var m=$a(0),y=a.outerContainer;x7(n);var O=on.fromDom(f.targetNode),De=Qr(Ua(O));hf(O,a.mothership),nv(De,a.uiMothership),n.on("PostRender",function(){oz(n,a,i,s),m.set(n.getWin().innerWidth),ru.setMenubar(y,$8(n,i)),ru.setSidebar(y,i.sidebar),SV(n,a)});var Je=ru.getSocket(y).getOrDie("Could not find expected socket element");if(CV){ac(Je.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var it=hP(function(){n.fire("ScrollContent")},20),dt=fu(Je.element,"scroll",it.throttle);n.on("remove",dt.unbind)}$_(n,a),n.addCommand("ToggleSidebar",function(un,kn){ru.toggleSidebar(y,kn),n.fire("ToggleSidebar")}),n.addQueryValueHandler("ToggleSidebar",function(){return ru.whichSidebar(y)});var _t=Og(n),Nt=function(){ru.refreshToolbar(a.outerContainer)};(_t===Gl.sliding||_t===Gl.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",function(){var un=n.getWin().innerWidth;un!==m.get()&&(Nt(),m.set(un))});var Wt={enable:function(){Gp(a,!1)},disable:function(){Gp(a,!0)},isDisabled:function(){return La.isDisabled(y)}};return{iframeContainer:Je.element.dom,editorContainer:y.element.dom,api:Wt}},EV=Object.freeze({__proto__:null,render:xV}),GH=function(n){var a=/^[0-9\.]+(|px)$/i;return a.test(""+n)?Ve.some(parseInt(""+n,10)):Ve.none()},XH=function(n){return et(n)?n+"px":n},PN=function(n,a,i){var s=a.filter(function(m){return n<m}),f=i.filter(function(m){return n>m});return s.or(f).getOr(n)},kV=function(n){var a=__(n),i=D_(n),s=N_(n);return GH(a).map(function(f){return PN(f,i,s)})},TV=function(n){var a=kV(n);return a.getOr(__(n))},uz=function(n){var a=O_(n),i=M_(n),s=ly(n);return GH(a).map(function(f){return PN(f,i,s)})},AV=function(n){var a=uz(n);return a.getOr(O_(n))},_V=function(n,a,i,s,f){var m=i.uiMothership,y=i.outerContainer,O=_g.DOM,De=fy(n),Je=dy(n),it=ly(n).or(uz(n)),dt=s.shared.header,_t=dt.isPositionedAtTop,Nt=Og(n),Wt=Nt===Gl.sliding||Nt===Gl.floating,un=$a(!1),kn=function(){return un.get()&&!n.removed},tn=function(Er){return Wt?Er.fold(qe(0),function(cr){return cr.components().length>1?uu(cr.components()[1].element):0}):0},On=function(Er){switch(L_(n)){case hm.auto:var cr=ru.getToolbar(y),Hr=tn(cr),pa=uu(Er.element)-Hr,br=nu(a),ma=br.y>pa;if(ma)return"top";var Sa=ar(a),To=Math.max(Sa.dom.scrollHeight,uu(Sa)),Yo=br.bottom<To-pa;if(Yo)return"bottom";var ki=mu(),Fi=ki.bottom<br.bottom-pa;return Fi?"bottom":"top";case hm.bottom:return"bottom";case hm.top:default:return"top"}},tr=function(Er){var cr=f.get();e.setModes(cr,[Er]),dt.setDockingMode(Er);var Hr=_t()?Kf.TopToBottom:Kf.BottomToTop;vo(cr.element,Xw,Hr)},Zn=function(){var Er=it.getOrThunk(function(){var cr=GH(Vi(Zo(),"margin-left")).getOr(0);return ts(Zo())-fs(a).left+cr});Ja(f.get().element,"max-width",Er+"px")},_n=function(){var Er=ru.getToolbar(y),cr=tn(Er),Hr=nu(a),pa=_t()?Math.max(Hr.y-uu(f.get().element)+cr,0):Hr.bottom;ac(y.element,{position:"absolute",top:Math.round(pa)+"px",left:Math.round(Hr.x)+"px"})},Xn=function(){m.broadcastOn([Ep()],{})},dr=function(Er){if(Er===void 0&&(Er=!1),!!kn()){if(De||Zn(),Wt&&ru.refreshToolbar(y),De||_n(),Je){var cr=f.get();Er?e.reset(cr):e.refresh(cr)}Xn()}},Xr=function(Er){if(Er===void 0&&(Er=!0),!(De||!Je||!kn())){var cr=dt.getDockingMode(),Hr=On(f.get());Hr!==cr&&(tr(Hr),Er&&dr(!0))}},wr=function(){un.set(!0),Ja(y.element,"display","flex"),O.addClass(n.getBody(),"mce-edit-focus"),ri(m.element,"display"),Xr(!1),dr()},Jr=function(){un.set(!1),i.outerContainer&&(Ja(y.element,"display","none"),O.removeClass(n.getBody(),"mce-edit-focus")),Ja(m.element,"display","none")};return{isVisible:kn,isPositionedAtTop:_t,show:wr,hide:Jr,update:dr,updateMode:Xr,repositionPopups:Xn}},sz=function(n,a){var i=nu(n);return{pos:a?i.y:i.bottom,bounds:i}},OV=function(n,a,i,s){var f=$a(sz(a,i.isPositionedAtTop())),m=function(O){var De=sz(a,i.isPositionedAtTop()),Je=De.pos,it=De.bounds,dt=f.get(),_t=dt.pos,Nt=dt.bounds,Wt=it.height!==Nt.height||it.width!==Nt.width;f.set({pos:Je,bounds:it}),Wt&&px(n,O),i.isVisible()&&(_t!==Je?i.update(!0):Wt&&(i.updateMode(),i.repositionPopups()))};s||(n.on("activate",i.show),n.on("deactivate",i.hide)),n.on("SkinLoaded ResizeWindow",function(){return i.update(!0)}),n.on("NodeChange keydown",function(O){Cf.requestAnimationFrame(function(){return m(O)})}),n.on("ScrollWindow",function(){return i.updateMode()});var y=hp();y.set(Kb(on.fromDom(n.getBody()),"load",m)),n.on("remove",function(){y.clear()})},MV=function(n,a,i,s,f){var m=a.mothership,y=a.uiMothership,O=a.outerContainer,De=$a(null),Je=on.fromDom(f.targetNode),it=_V(n,Je,a,s,De),dt=C4(n);E7(n);var _t=function(){if(De.get()){it.show();return}De.set(ru.getHeader(O).getOrDie());var Wt=I_(n);nv(Wt,m),nv(Wt,y),oz(n,a,i,s),ru.setMenubar(O,$8(n,i)),it.show(),OV(n,Je,it,dt),n.nodeChanged()};n.on("show",_t),n.on("hide",it.hide),dt||(n.on("focus",_t),n.on("blur",it.hide)),n.on("init",function(){(n.hasFocus()||dt)&&_t()}),$_(n,a);var Nt={show:function(){it.show()},hide:function(){it.hide()},enable:function(){Gp(a,!1)},disable:function(){Gp(a,!0)},isDisabled:function(){return La.isDisabled(O)}};return{editorContainer:O.element.dom,api:Nt}},DV=Object.freeze({__proto__:null,render:MV}),NV="contexttoolbar-show",lz="contexttoolbar-hide",RV=function(n){return{hide:function(){return $o(n,Ph())},getValue:function(){return Zr.getValue(n)}}},cz=function(n,a){return xr(bD,function(i,s){var f=n.get(i),m=RV(f);a.onAction(m,s.event.buttonApi)})},LV=function(n,a,i){var s=a.original;s.primary;var f=At(s,["primary"]),m=ef(c_(st(st({},f),{type:"button",onAction:$e})));return nz(m,i.backstage.shared.providers,[cz(n,a)])},BV=function(n,a,i){var s=a.original;s.primary;var f=At(s,["primary"]),m=ef(VS(st(st({},f),{type:"togglebutton",onAction:$e})));return rz(m,i.backstage.shared.providers,[cz(n,a)])},PV=function(n,a,i){var s={backstage:{shared:{providers:i}}};return a.type==="contextformtogglebutton"?BV(n,a,s):LV(n,a,s)},IV=function(n,a,i){var s=Pt(a,function(y){return qo(PV(n,y,i))}),f=function(){return Pt(s,function(y){return y.asSpec()})},m=function(y){return Pn(a,function(O,De){return O.primary?Ve.from(s[De]).bind(function(Je){return Je.getOpt(y)}).filter(It(La.isDisabled)):Ve.none()})};return{asSpecs:f,findPrimary:m}},fz=function(n,a){var i=n.label.fold(function(){return{}},function(m){return{"aria-label":m}}),s=qo(ah.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:Wr([_a.config({mode:"special",onEnter:function(m){return f.findPrimary(m).map(function(y){return Ul(y),!0})},onLeft:function(m,y){return y.cut(),Ve.none()},onRight:function(m,y){return y.cut(),Ve.none()}})])})),f=IV(s,n.commands,a);return[{title:Ve.none(),items:[s.asSpec()]},{title:Ve.none(),items:f.asSpecs()}]},FV=function(n,a,i){return DN({type:n,uid:ha("context-toolbar"),initGroups:fz(a,i),onEscape:Ve.none,cyclicKeying:!0,providers:i})},HV={renderContextForm:FV,buildInitGroups:fz},dz=function(n,a,i){return i===void 0&&(i=.01),a.bottom-n.y>=i&&n.bottom-a.y>=i},zV=function(n){var a=n.getBoundingClientRect();if(a.height<=0&&a.width<=0){var i=gn(on.fromDom(n.startContainer),n.startOffset).element,s=$t(i)?tu(i):Ve.some(i);return s.filter(ht).map(function(f){return f.dom.getBoundingClientRect()}).getOr(a)}else return a},QH=function(n){var a=n.selection.getRng(),i=zV(a);if(n.inline){var s=qr();return fi(s.left+i.left,s.top+i.top,i.width,i.height)}else{var f=Ps(on.fromDom(n.getBody()));return fi(f.x+i.left,f.y+i.top,i.width,i.height)}},$V=function(n,a){return a.filter(Za).map(Ps).getOrThunk(function(){return QH(n)})},VV=function(n,a,i){var s=Math.max(n.x+i,a.x),f=Math.min(n.right-i,a.right);return{x:s,width:f-s}},UV=function(n,a,i,s,f,m){var y=on.fromDom(n.getContainer()),O=_u(y,".tox-editor-header").getOr(y),De=nu(O),Je=De.y>=a.bottom,it=s&&!Je;if(n.inline&&it)return{y:Math.max(De.bottom+m,i.y),bottom:i.bottom};if(n.inline&&!it)return{y:i.y,bottom:Math.min(De.y-m,i.bottom)};var dt=f==="line"?nu(y):a;return it?{y:Math.max(De.bottom+m,i.y),bottom:Math.min(dt.bottom-m,i.bottom)}:{y:Math.max(dt.y+m,i.y),bottom:Math.min(De.y-m,i.bottom)}},vz=function(n,a,i,s){s===void 0&&(s=0);var f=gi(window),m=nu(on.fromDom(n.getContentAreaContainer())),y=bu(n)||ox(n)||cy(n),O=VV(m,f,s),De=O.x,Je=O.width;if(n.inline&&!y)return fi(De,f.y,Je,f.height);var it=a.header.isPositionedAtTop(),dt=UV(n,m,f,it,i,s),_t=dt.y,Nt=dt.bottom;return fi(De,_t,Je,Nt-_t)},IN=12,mz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},pz={maxHeightFunction:Kh(),maxWidthFunction:$H()},jV=function(n,a){var i=n.selection.getRng(),s=gn(on.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&Ti(s.element,a)},WV=function(n,a,i){var s=ku(n,"position");Ja(n,"position",a);var f=i(n);return s.each(function(m){return Ja(n,"position",m)}),f},hz=function(n){return n==="node"},qV=function(n,a,i,s,f){var m=QH(n),y=s.lastElement().exists(function(Je){return Ti(i,Je)});if(jV(n,i))return y?gS:wf;if(y)return WV(a,s.getMode(),function(){var Je=dz(m,nu(a));return Je&&!s.isReposition()?jB:gS});var O=s.getMode()==="fixed"?f.y+qr().top:f.y,De=uu(a)+IN;return O+De<=m.y?wf:Ip},KV=function(n,a,i,s){var f=function(De){return function(Je,it,dt,_t,Nt){var Wt=qV(n,_t,De,i,Nt),un=st(st({},Je),{y:Nt.y,height:Nt.height});return st(st({},Wt(un,it,dt,_t,Nt)),{alwaysFit:!0})}},m=function(De){return hz(s)?[f(De)]:[]},y={onLtr:function(De){return[sl,gu,ul,hs,Vs,gs].concat(m(De))},onRtl:function(De){return[sl,gu,Vs,gs,ul,hs].concat(m(De))}},O={onLtr:function(De){return[gu,hs,gs,ul,Vs,sl].concat(m(De))},onRtl:function(De){return[gu,gs,hs,Vs,ul,sl].concat(m(De))}};return a?O:y},YV=function(n,a,i,s){return a==="line"?{bubble:gp(IN,0,mz),layouts:{onLtr:function(){return[zb]},onRtl:function(){return[$b]}},overrides:pz}:{bubble:gp(0,IN,mz,1/IN),layouts:KV(n,i,s,a),overrides:pz}},JH=function(n,a){var i=Zt(a,function(y){return y.predicate(n.dom)}),s=Ot(i,function(y){return y.type==="contexttoolbar"}),f=s.pass,m=s.fail;return{contextToolbars:f,contextForms:m}},GV=function(n){if(n.length<=1)return n;var a=function(O){return an(n,function(De){return De.position===O})},i=function(O){return Zt(n,function(De){return De.position===O})},s=a("selection"),f=a("node");if(s||f)if(f&&s){var m=i("node"),y=Pt(i("selection"),function(O){return st(st({},O),{position:"node"})});return m.concat(y)}else return i(s?"selection":"node");else return i("line")},XV=function(n){if(n.length<=1)return n;var a=function(s){return bn(n,function(f){return f.position===s})},i=a("selection").orThunk(function(){return a("node")}).orThunk(function(){return a("line")}).map(function(s){return s.position});return i.fold(function(){return[]},function(s){return Zt(n,function(f){return f.position===s})})},QV=function(n,a,i){var s=JH(n,a);if(s.contextForms.length>0)return Ve.some({elem:n,toolbars:[s.contextForms[0]]});var f=JH(n,i);if(f.contextForms.length>0)return Ve.some({elem:n,toolbars:[f.contextForms[0]]});if(s.contextToolbars.length>0||f.contextToolbars.length>0){var m=GV(s.contextToolbars.concat(f.contextToolbars));return Ve.some({elem:n,toolbars:m})}else return Ve.none()},JV=function(n,a,i){return n(a)?Ve.none():Y0(a,function(s){if(ht(s)){var f=JH(s,i.inNodeScope),m=f.contextToolbars,y=f.contextForms,O=y.length>0?y:XV(m);return O.length>0?Ve.some({elem:s,toolbars:O}):Ve.none()}else return Ve.none()},n)},ZV=function(n,a){var i=on.fromDom(a.getBody()),s=function(y){return Ti(y,i)},f=function(y){return!s(y)&&!es(i,y)},m=on.fromDom(a.selection.getNode());return f(m)?Ve.none():QV(m,n.inNodeScope,n.inEditorScope).orThunk(function(){return JV(s,m,n)})},e9=function(n,a){var i={},s=[],f=[],m={},y={},O=function(it,dt){var _t=ef(MP(dt));i[it]=_t,_t.launch.map(function(Nt){m["form:"+it]=st(st({},dt.launch),{type:Nt.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){a(_t)}})}),_t.scope==="editor"?f.push(_t):s.push(_t),y[it]=_t},De=function(it,dt){NP(dt).each(function(_t){dt.scope==="editor"?f.push(_t):s.push(_t),y[it]=_t})},Je=zn(n);return xt(Je,function(it){var dt=n[it];dt.type==="contextform"?O(it,dt):dt.type==="contexttoolbar"&&De(it,dt)}),{forms:i,inNodeScope:s,inEditorScope:f,lookupTable:y,formNavigators:m}},gz=ha("forward-slide"),bz=ha("backward-slide"),ZH=ha("change-slide-event"),e8="tox-pop--resizing",t9=function(n){var a=$a([]);return zi.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(i){a.set([]),zi.getContent(i).each(function(s){ri(s.element,"visibility")}),hu(i.element,e8),ri(i.element,"width")},inlineBehaviours:Wr([so("context-toolbar-events",[lu(Lh(),function(i,s){s.event.raw.propertyName==="width"&&(hu(i.element,e8),ri(i.element,"width"))}),xr(ZH,function(i,s){var f=i.element;ri(f,"width");var m=ts(f);zi.setContent(i,s.event.contents),Au(f,e8);var y=ts(f);Ja(f,"width",m+"px"),zi.getContent(i).each(function(O){s.event.focus.bind(function(De){return cf(De),df(f)}).orThunk(function(){return _a.focusIn(O),ff(Ua(f))})}),Cf.setTimeout(function(){Ja(i.element,"width",y+"px")},0)}),xr(gz,function(i,s){zi.getContent(i).each(function(f){a.set(a.get().concat([{bar:f,focus:ff(Ua(i.element))}]))}),Ia(i,ZH,{contents:s.event.forwardContents,focus:Ve.none()})}),xr(bz,function(i,s){yr(a.get()).each(function(f){a.set(a.get().slice(0,a.get().length-1)),Ia(i,ZH,{contents:Wl(f.bar),focus:f.focus})})})]),_a.config({mode:"special",onEscape:function(i){return yr(a.get()).fold(function(){return n.onEscape()},function(s){return $o(i,bz),Ve.some(!0)})}})]),lazySink:function(){return Ga.value(n.sink)}})},t8="tox-pop--transition",n9=function(n,a,i,s){var f=s.backstage,m=f.shared,y=Na().deviceType.isTouch,O=Xi(),De=Xi(),Je=Xi(),it=cu(t9({sink:i,onEscape:function(){return n.focus(),Ve.some(!0)}})),dt=function(){var wr=Je.get().getOr("node"),Jr=hz(wr)?1:0;return vz(n,m,wr,Jr)},_t=function(){return!n.removed&&!(y()&&f.isContextMenuOpen())},Nt=function(wr){return Va(ni(wr,O.get(),Ti),!0)},Wt=function(){if(_t()){var wr=dt(),Jr=Va(Je.get(),"node")?$V(n,O.get()):QH(n);return wr.height<=0||!dz(Jr,wr)}else return!0},un=function(){O.clear(),De.clear(),Je.clear(),zi.hide(it)},kn=function(){if(zi.isOpen(it)){var wr=it.element;ri(wr,"display"),Wt()?Ja(wr,"display","none"):(De.set(0),zi.reposition(it))}},tn=function(wr){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[wr],behaviours:Wr([_a.config({mode:"acyclic"}),so("pop-dialog-wrap-events",[mo(function(Jr){n.shortcuts.add("ctrl+F9","focus statusbar",function(){return _a.focusIn(Jr)})}),dc(function(Jr){n.shortcuts.remove("ctrl+F9")})])])}},On=Hn(function(){return e9(a,function(wr){var Jr=_n([wr]);Ia(it,gz,{forwardContents:tn(Jr)})})}),tr=function(wr,Jr){return BN(n,{buttons:wr,toolbar:Jr.items,allowToolbarGroups:!1},s,Ve.some(["form:"]))},Zn=function(wr,Jr){return HV.buildInitGroups(wr,Jr)},_n=function(wr){var Jr=n.ui.registry.getAll().buttons,Er=On(),cr=st(st({},Jr),Er.formNavigators),Hr=Og(n)===Gl.scrolling?Gl.scrolling:Gl.default,pa=Jt(Pt(wr,function(br){return br.type==="contexttoolbar"?tr(cr,br):Zn(br,m.providers)}));return DN({type:Hr,uid:ha("context-toolbar"),initGroups:pa,onEscape:Ve.none,cyclicKeying:!0,providers:m.providers})},Xn=function(wr,Jr){var Er=wr==="node"?m.anchors.node(Jr):m.anchors.cursor(),cr=YV(n,wr,y(),{lastElement:O.get,isReposition:function(){return Va(De.get(),0)},getMode:function(){return Qi.getMode(i)}});return or(Er,cr)},dr=function(wr,Jr){if(Xr.cancel(),!!_t()){var Er=_n(wr),cr=wr[0].position,Hr=Xn(cr,Jr);Je.set(cr),De.set(1);var pa=it.element;ri(pa,"display"),Nt(Jr)||(hu(pa,t8),Qi.reset(i,it)),zi.showWithinBounds(it,tn(Er),{anchor:Hr,transition:{classes:[t8],mode:"placement"}},function(){return Ve.some(dt())}),Jr.fold(O.clear,O.set),Wt()&&Ja(pa,"display","none")}},Xr=X1(function(){if(!(!n.hasFocus()||n.removed))if(Hs(it.element,t8))Xr.throttle();else{var wr=On();ZV(wr,n).fold(un,function(Jr){dr(Jr.toolbars,Ve.some(Jr.elem))})}},17);n.on("init",function(){n.on("remove",un),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",kn),n.on("click keyup focus SetContent",Xr.throttle),n.on(lz,un),n.on(NV,function(wr){var Jr=On();jn(Jr.lookupTable,wr.toolbarKey).each(function(Er){dr([Er],mi(wr.target!==n,wr.target)),zi.getContent(it).each(_a.focusIn)})}),n.on("focusout",function(wr){Cf.setEditorTimeout(n,function(){df(i.element).isNone()&&df(it.element).isNone()&&un()},0)}),n.on("SwitchMode",function(){n.mode.isReadOnly()&&un()}),n.on("AfterProgressState",function(wr){wr.state?un():n.hasFocus()&&Xr.throttle()}),n.on("NodeChange",function(wr){df(it.element).fold(Xr.throttle,$e)})})},r9=function(n){var a=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];xt(a,function(i){n.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Lf(n,i.cmd),onSetup:NN(n,i.name)})}),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Lf(n,"JustifyNone")})},a9={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},o9=function(){var n="[0-9]+",a="[+-]?"+n,i="[eE]"+a,s="\\.",f=function(O){return"(?:"+O+")?"},m=["Infinity",n+s+f(n)+f(i),s+n+f(i),n+f(i)].join("|"),y="[+-]?(?:"+m+")";return new RegExp("^("+y+")(.*)$")}(),i9=function(n,a){return an(a,function(i){return an(a9[i],function(s){return n===s})})},u9=function(n,a){var i=Ve.from(o9.exec(n));return i.bind(function(s){var f=Number(s[1]),m=s[2];return i9(m,a)?Ve.some({value:f,unit:m}):Ve.none()})},s9=function(n,a){return u9(n,a).map(function(i){var s=i.value,f=i.unit;return s+f})},yz=function(n,a){var i=function(){var s=a.getOptions(n),f=a.getCurrent(n).map(a.hash),m=Xi();return Pt(s,function(y){return{type:"togglemenuitem",text:a.display(y),onSetup:function(O){var De=function(it){it&&(m.on(function(dt){return dt.setActive(!1)}),m.set(O)),O.setActive(it)};De(Va(f,a.hash(y)));var Je=a.watcher(n,y,De);return function(){m.clear(),Je()}},onAction:function(){return a.setCurrent(n,y)}}})};n.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:function(s){return s(i())},onSetup:a.onToolbarSetup}),n.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:i,onSetup:a.onMenuSetup})},l9={name:"lineheight",text:"Line height",icon:"line-height",getOptions:h4,hash:function(n){return s9(n,["fixed","relative","empty"]).getOr(n)},display:lt,watcher:function(n,a,i){return n.formatter.formatChanged("lineheight",i,!1,{value:a}).unbind},getCurrent:function(n){return Ve.from(n.queryCommandValue("LineHeight"))},setCurrent:function(n,a){return n.execCommand("LineHeight",!1,a)}},c9=function(n){var a=Ve.from(g4(n));return a.map(function(i){return{name:"language",text:"Language",icon:"language",getOptions:qe(i),hash:function(s){return at(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,f,m){return s.formatter.formatChanged("lang",m,!1,{value:f.code,customValue:f.customCode}).unbind},getCurrent:function(s){var f=on.fromDom(s.selection.getNode());return G0(f,function(m){return Ve.some(m).filter(ht).bind(function(y){var O=Yi(y,"lang");return O.map(function(De){var Je=Yi(y,"data-mce-lang").getOrUndefined();return{code:De,customCode:Je,title:""}})})})},setCurrent:function(s,f){return s.execCommand("Lang",!1,f)},onToolbarSetup:function(s){var f=hp();return s.setActive(n.formatter.match("lang",{},void 0,!0)),f.set(n.formatter.formatChanged("lang",s.setActive,!0)),f.clear}}})},f9=function(n){yz(n,l9),c9(n).each(function(a){return yz(n,a)})},d9=function(n,a){M7(n,a),B7(n,a),Y7(n,a),q7(n,a),U7(n,a)},v9=function(n){return RN(n,"NodeChange",function(a){a.setDisabled(!n.queryCommandState("outdent"))})},m9=function(n){n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:v9(n),onAction:Lf(n,"outdent")}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Lf(n,"indent")})},p9=function(n){m9(n)},n8=function(n,a){return function(){n.execCommand("mceToggleFormat",!1,a)}},h9=function(n){Sv.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,f){n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:NN(n,s.name),onAction:n8(n,s.name)})});for(var a=1;a<=6;a++){var i="h"+a;n.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+a,onSetup:NN(n,i),onAction:n8(n,i)})}},g9=function(n){Sv.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(a){n.ui.registry.addButton(a.name,{tooltip:a.text,icon:a.icon,onAction:Lf(n,a.action)})})},b9=function(n){Sv.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(a){n.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:Lf(n,a.action),onSetup:NN(n,a.name)})})},y9=function(n){h9(n),g9(n),b9(n)},w9=function(n){Sv.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(a){n.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onAction:Lf(n,a.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:n8(n,"code")})},C9=function(n){y9(n),w9(n)},FN=function(n,a){return RN(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(i){i.setDisabled(n.mode.isReadOnly()||!n.undoManager[a]())})},S9=function(n){n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:FN(n,"hasUndo"),onAction:Lf(n,"undo")}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:FN(n,"hasRedo"),onAction:Lf(n,"redo")})},x9=function(n){n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:FN(n,"hasUndo"),onAction:Lf(n,"undo")}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:FN(n,"hasRedo"),onAction:Lf(n,"redo")})},E9=function(n){S9(n),x9(n)},k9=function(n){return RN(n,"VisualAid",function(a){a.setActive(n.hasVisual)})},T9=function(n){n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:k9(n),onAction:Lf(n,"mceToggleVisualAid")})},A9=function(n){n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Lf(n,"mceToggleVisualAid")})},_9=function(n){A9(n),T9(n)},O9=function(n,a){r9(n),C9(n),d9(n,a),E9(n),fI(n),_9(n),p9(n),f9(n)},a2=function(n,a){return{type:"makeshift",x:n,y:a}},M9=function(n,a,i){return a2(n.x+a,n.y+i)},wz=function(n){return n.type==="longpress"||n.type.indexOf("touch")===0},D9=function(n){if(wz(n)){var a=n.touches[0];return a2(a.pageX,a.pageY)}else return a2(n.pageX,n.pageY)},N9=function(n){if(wz(n)){var a=n.touches[0];return a2(a.clientX,a.clientY)}else return a2(n.clientX,n.clientY)},R9=function(n,a){var i=_g.DOM.getPos(n);return M9(a,i.x,i.y)},L9=function(n,a){return a.type==="contextmenu"||a.type==="longpress"?n.inline?D9(a):R9(n.getContentAreaContainer(),N9(a)):Cz(n)},Cz=function(n){return{type:"selection",root:on.fromDom(n.selection.getNode())}},B9=function(n){return{type:"node",node:Ve.some(on.fromDom(n.selection.getNode())),root:on.fromDom(n.getBody())}},Sz=function(n,a,i){switch(i){case"node":return B9(n);case"point":return L9(n,a);case"selection":return Cz(n)}},P9=function(n,a,i,s,f,m){var y=i(),O=Sz(n,a,m);bh(y,Ef.CLOSE_ON_EXECUTE,s,!1).map(function(De){a.preventDefault(),zi.showMenuAt(f,{anchor:O},{menu:{markers:Wp("normal")},data:De})})},I9={onLtr:function(){return[gu,hs,gs,ul,Vs,sl,wf,Ip,lm,Sg,xg,Cg]},onRtl:function(){return[gu,gs,hs,Vs,ul,sl,wf,Ip,xg,Cg,lm,Sg]}},F9=12,H9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},z9=function(n,a){var i=n.selection;if(i.isCollapsed()||a.touches.length<1)return!1;var s=a.touches[0],f=i.getRng(),m=nC(n.getWin(),Qh.domRange(f));return m.exists(function(y){return y.left<=s.clientX&&y.right>=s.clientX&&y.top<=s.clientY&&y.bottom>=s.clientY})},$9=function(n){var a=n.selection.getRng(),i=function(){Cf.setEditorTimeout(n,function(){n.selection.setRng(a)},10),m()};n.once("touchend",i);var s=function(y){y.preventDefault(),y.stopImmediatePropagation()};n.on("mousedown",s,!0);var f=function(){return m()};n.once("longpresscancel",f);var m=function(){n.off("touchend",i),n.off("longpresscancel",f),n.off("mousedown",s)}},V9=function(n,a,i){var s=Sz(n,a,i),f=i==="point"?F9:0;return st({bubble:gp(0,f,H9),layouts:I9,overrides:{maxWidthFunction:$H(),maxHeightFunction:Kh()}},s)},U9=function(n,a,i,s,f,m,y){var O=V9(n,a,m);bh(i,Ef.CLOSE_ON_EXECUTE,s,!0).map(function(De){a.preventDefault(),zi.showMenuWithinBounds(f,{anchor:O},{menu:{markers:Wp("normal"),highlightImmediately:y},data:De,type:"horizontal"},function(){return Ve.some(vz(n,s.shared,m==="node"?"node":"selection"))}),n.fire(lz)})},j9=function(n,a,i,s,f,m){var y=Na(),O=y.os.isiOS(),De=y.os.isOSX(),Je=y.os.isAndroid(),it=y.deviceType.isTouch(),dt=function(){return!(Je||O||De&&it)},_t=function(){var Wt=i();U9(n,a,Wt,s,f,m,dt())};if((De||O)&&m!=="node"){var Nt=function(){$9(n),_t()};z9(n,a)?Nt():(n.once("selectionchange",Nt),n.once("touchend",function(){return n.off("selectionchange",Nt)}))}else _t()},xz=function(n){return typeof n=="string"?n.split(/[ ,]/):n},Ez=function(n){return n.getParam("contextmenu_never_use_native",!1,"boolean")},W9=function(n,a,i){var s=n.ui.registry.getAll().contextMenus;return Ve.from(n.getParam(a)).map(xz).getOrThunk(function(){return Zt(xz(i),function(f){return gr(s,f)})})},q9=function(n){return n.getParam("contextmenu")===!1},K9=function(n){return W9(n,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},Y9=function(n){return n.getParam("contextmenu_avoid_overlap","","string")},kz=function(n){return He(n)?n==="|":n.type==="separator"},r8={type:"separator"},Tz=function(n){var a=function(i){return{text:i.text,icon:i.icon,disabled:i.disabled,shortcut:i.shortcut}};if(He(n))return n;switch(n.type){case"separator":return r8;case"submenu":return st(st({type:"nestedmenuitem"},a(n)),{getSubmenuItems:function(){var i=n.getSubmenuItems();return He(i)?i:Pt(i,Tz)}});default:return st(st({type:"menuitem"},a(n)),{onAction:Ye(n.onAction)})}},Az=function(n,a){if(a.length===0)return n;var i=yr(n).filter(function(f){return!kz(f)}),s=i.fold(function(){return[]},function(f){return[r8]});return n.concat(s).concat(a).concat([r8])},G9=function(n,a,i){var s=ln(a,function(f,m){return jn(n,m.toLowerCase()).map(function(y){var O=y.update(i);if(He(O))return Az(f,O.split(" "));if(O.length>0){var De=Pt(O,Tz);return Az(f,De)}else return f}).getOrThunk(function(){return f.concat([m])})},[]);return s.length>0&&kz(s[s.length-1])&&s.pop(),s},X9=function(n,a){return a.ctrlKey&&!Ez(n)},_z=function(n,a){return a.type!=="longpress"&&(a.button!==2||a.target===n.getBody()&&a.pointerType==="")},Oz=function(n,a){return _z(n,a)?n.selection.getStart(!0):a.target},Q9=function(n,a){var i=Y9(n),s=_z(n,a)?"selection":"point";if(eu(i)){var f=Oz(n,a),m=Pg(on.fromDom(f),i);return m?"node":s}else return s},J9=function(n,a,i){var s=Na(),f=s.deviceType.isTouch,m=cu(zi.sketch({dom:{tag:"div"},lazySink:a,onEscape:function(){return n.focus()},onShow:function(){return i.setContextMenuState(!0)},onHide:function(){return i.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Wr([so("dismissContextMenu",[xr(af(),function(De,Je){Lo.close(De),n.focus()})])])})),y=function(De){return zi.hide(m)},O=function(De){if(Ez(n)&&De.preventDefault(),!(X9(n,De)||q9(n))){var Je=Q9(n,De),it=function(){var _t=Oz(n,De),Nt=n.ui.registry.getAll(),Wt=K9(n);return G9(Nt.contextMenus,Wt,_t)},dt=f()?j9:P9;dt(n,De,it,i,m,Je)}};n.on("init",function(){var De="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");n.on(De,y),n.on("longpress contextmenu",O)})},a8=cc.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),HN=function(n){return function(a){return a.translate(-n.left,-n.top)}},zN=function(n){return function(a){return a.translate(n.left,n.top)}},Om=function(n){return function(a,i){return ln(n,function(s,f){return f(s)},ci(a,i))}},$N=function(n,a,i){return n.fold(Om([zN(i),HN(a)]),Om([HN(a)]),Om([]))},L0=function(n,a,i){return n.fold(Om([zN(i)]),Om([]),Om([zN(a)]))},Mz=function(n,a,i){return n.fold(Om([]),Om([HN(i)]),Om([zN(a),HN(i)]))},Z9=function(n,a,i,s,f,m){var y=L0(n,f,m),O=L0(a,f,m);return Math.abs(y.left-O.left)<=i&&Math.abs(y.top-O.top)<=s},eU=function(n,a,i,s,f,m){var y=L0(n,f,m),O=L0(a,f,m),De=Math.abs(y.left-O.left),Je=Math.abs(y.top-O.top);return ci(De,Je)},Dz=function(n,a,i){var s=n.fold(function(f,m){return{position:Ve.some("absolute"),left:Ve.some(f+"px"),top:Ve.some(m+"px")}},function(f,m){return{position:Ve.some("absolute"),left:Ve.some(f-i.left+"px"),top:Ve.some(m-i.top+"px")}},function(f,m){return{position:Ve.some("fixed"),left:Ve.some(f+"px"),top:Ve.some(m+"px")}});return st({right:Ve.none(),bottom:Ve.none()},s)},tU=function(n,a,i){return n.fold(function(s,f){return VN(s+a,f+i)},function(s,f){return Sh(s+a,f+i)},function(s,f){return rb(s+a,f+i)})},o8=function(n,a,i,s){var f=function(m,y){return function(O,De){var Je=m(a,i,s);return y(O.getOr(Je.left),De.getOr(Je.top))}};return n.fold(f(Mz,VN),f(L0,Sh),f($N,rb))},VN=a8.offset,Sh=a8.absolute,rb=a8.fixed,Nz=function(n,a){var i=Di(n,a);return at(i)?NaN:parseInt(i,10)},nU=function(n,a){var i=n.element,s=Nz(i,a.leftAttr),f=Nz(i,a.topAttr);return isNaN(s)||isNaN(f)?Ve.none():Ve.some(ci(s,f))},rU=function(n,a,i){var s=n.element;vo(s,a.leftAttr,i.left+"px"),vo(s,a.topAttr,i.top+"px")},aU=function(n,a){var i=n.element;Eu(i,a.leftAttr),Eu(i,a.topAttr)},oU=function(n,a,i,s){return nU(n,a).fold(function(){return i},function(f){return rb(f.left+s.left,f.top+s.top)})},iU=function(n,a,i,s,f,m){var y=oU(n,a,i,s),O=a.mustSnap?sU(n,a,y,f,m):lU(n,a,y,f,m),De=$N(y,f,m);return rU(n,a,De),O.fold(function(){return{coord:rb(De.left,De.top),extra:Ve.none()}},function(Je){return{coord:Je.output,extra:Je.extra}})},uU=function(n,a){aU(n,a)},Rz=function(n,a,i,s){return Pn(n,function(f){var m=f.sensor,y=Z9(a,m,f.range.left,f.range.top,i,s);return y?Ve.some({output:o8(f.output,a,i,s),extra:f.extra}):Ve.none()})},sU=function(n,a,i,s,f){var m=a.getSnapPoints(n),y=Rz(m,i,s,f);return y.orThunk(function(){var O=ln(m,function(De,Je){var it=Je.sensor,dt=eU(i,it,Je.range.left,Je.range.top,s,f);return De.deltas.fold(function(){return{deltas:Ve.some(dt),snap:Ve.some(Je)}},function(_t){var Nt=(dt.left+dt.top)/2,Wt=(_t.left+_t.top)/2;return Nt<=Wt?{deltas:Ve.some(dt),snap:Ve.some(Je)}:De})},{deltas:Ve.none(),snap:Ve.none()});return O.snap.map(function(De){return{output:o8(De.output,i,s,f),extra:De.extra}})})},lU=function(n,a,i,s,f){var m=a.getSnapPoints(n);return Rz(m,i,s,f)},cU=function(n,a,i){return{coord:o8(n.output,n.output,a,i),extra:n.extra}},fU=function(n,a,i,s){var f=a.getTarget(n.element);if(a.repositionTarget){var m=xu(n.element),y=qr(m),O=SN(f),De=cU(s,y,O),Je=Dz(De.coord,y,O);Ac(f,Je)}},dU=Object.freeze({__proto__:null,snapTo:fU}),i8="data-initial-z-index",vU=function(n){tu(n.element).filter(ht).each(function(a){Yi(a,i8).fold(function(){return ri(a,"z-index")},function(i){return Ja(a,"z-index",i)}),Eu(a,i8)})},mU=function(n){tu(n.element).filter(ht).each(function(a){ku(a,"z-index").each(function(i){vo(a,i8,i)}),Ja(a,"z-index",Vi(n.element,"z-index"))})},Lz=function(n,a){n.getSystem().addToGui(a),mU(a)},pU=function(n){vU(n),n.getSystem().removeFromGui(n)},Bz=function(n,a,i){return n.getSystem().build(ws.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:i}))},hU=zl("snaps",[Sr("getSnapPoints"),Wo("onSensor"),Sr("leftAttr"),Sr("topAttr"),Dn("lazyViewport",mu),Dn("mustSnap",!1)]),u8=[Dn("useFixed",mt),Sr("blockerClass"),Dn("getTarget",lt),Dn("onDrag",$e),Dn("repositionTarget",!0),Dn("onDrop",$e),Ei("getBounds",mu),hU],gU=function(n){return Zi(ku(n,"left"),ku(n,"top"),ku(n,"position"),function(a,i,s){var f=s==="fixed"?rb:VN;return f(parseInt(a,10),parseInt(i,10))}).getOrThunk(function(){var a=fs(n);return Sh(a.left,a.top)})},bU=function(n,a,i,s,f){var m=f.bounds,y=L0(a,i,s),O=El(y.left,m.x,m.x+m.width-f.width),De=El(y.top,m.y,m.y+m.height-f.height),Je=Sh(O,De);return a.fold(function(){var it=Mz(Je,i,s);return VN(it.left,it.top)},qe(Je),function(){var it=$N(Je,i,s);return rb(it.left,it.top)})},yU=function(n,a,i,s,f,m,y){var O=a.fold(function(){var De=tU(i,m.left,m.top),Je=$N(De,s,f);return rb(Je.left,Je.top)},function(De){var Je=iU(n,De,i,m,s,f);return Je.extra.each(function(it){De.onSensor(n,it)}),Je.coord});return bU(n,O,s,f,y)},wU=function(n,a,i,s){var f=a.getTarget(n.element);if(a.repositionTarget){var m=xu(n.element),y=qr(m),O=SN(f),De=gU(f),Je=yU(n,a.snaps,De,y,O,s,i),it=Dz(Je,y,O);Ac(f,it)}a.onDrag(n,f,s)},Pz=function(n,a){return{bounds:n.getBounds(),height:rl(a.element),width:_c(a.element)}},s8=function(n,a,i,s,f){var m=i.update(s,f),y=i.getStartData().getOrThunk(function(){return Pz(a,n)});m.each(function(O){wU(n,a,y,O)})},Iz=function(n,a,i,s){a.each(pU),i.snaps.each(function(m){uU(n,m)});var f=i.getTarget(n.element);s.reset(),i.onDrop(n,f)},l8=function(n){return function(a,i){var s=function(f){i.setStartData(Pz(a,f))};return di(nn([xr(ow(),function(f){i.getStartData().each(function(){return s(f)})})],n(a,i,s),!0))}},CU=function(n){return di([xr(Mc(),n.forceDrop),xr(J0(),n.drop),xr(Fv(),function(a,i){n.move(i.event)}),xr(Q0(),n.delayDrop)])},SU=function(n){return Ve.from(ci(n.x,n.y))},xU=function(n,a){return ci(a.left-n.left,a.top-n.top)},EU=Object.freeze({__proto__:null,getData:SU,getDelta:xU}),Fz=function(n,a,i){return[xr(Mc(),function(s,f){var m=f.event.raw;if(m.button===0){f.stop();var y=function(){return Iz(s,Ve.some(Je),n,a)},O=Cx(y,200),De={drop:y,delayDrop:O.schedule,forceDrop:y,move:function(dt){O.cancel(),s8(s,n,a,EU,dt)}},Je=Bz(s,n.blockerClass,CU(De)),it=function(){i(s),Lz(s,Je)};it()}})]},kU=nn(nn([],u8,!0),[Oi("dragger",{handlers:l8(Fz)})],!1),TU=function(n){return di([xr(vd(),n.forceDrop),xr(Nh(),n.drop),xr(y2(),n.drop),xr(nf(),function(a,i){n.move(i.event)})])},AU=function(n){var a=n[0];return Ve.some(ci(a.clientX,a.clientY))},_U=function(n){var a=n.raw,i=a.touches;return i.length===1?AU(i):Ve.none()},OU=function(n,a){return ci(a.left-n.left,a.top-n.top)},Hz=Object.freeze({__proto__:null,getData:_U,getDelta:OU}),zz=function(n,a,i){var s=Xi(),f=function(m){Iz(m,s.get(),n,a),s.clear()};return[xr(vd(),function(m,y){y.stop();var O=function(){return f(m)},De={drop:O,delayDrop:$e,forceDrop:O,move:function(dt){s8(m,n,a,Hz,dt)}},Je=Bz(m,n.blockerClass,TU(De));s.set(Je);var it=function(){i(m),Lz(m,Je)};it()}),xr(nf(),function(m,y){y.stop(),s8(m,n,a,Hz,y.event)}),xr(Nh(),function(m,y){y.stop(),f(m)}),xr(y2(),f)]},MU=nn(nn([],u8,!0),[Oi("dragger",{handlers:l8(zz)})],!1),DU=function(n,a,i){return nn(nn([],Fz(n,a,i),!0),zz(n,a,i),!0)},NU=nn(nn([],u8,!0),[Oi("dragger",{handlers:l8(DU)})],!1),RU=kU,LU=MU,BU=NU,PU=Object.freeze({__proto__:null,mouse:RU,touch:LU,mouseOrTouch:BU}),IU=function(){var n=Ve.none(),a=Ve.none(),i=function(){n=Ve.none(),a=Ve.none()},s=function(De,Je){var it=n.map(function(dt){return De.getDelta(dt,Je)});return n=Ve.some(Je),it},f=function(De,Je){return De.getData(Je).bind(function(it){return s(De,it)})},m=function(De){a=Ve.some(De)},y=function(){return a},O=qe({});return Sl({readState:O,reset:i,update:f,getStartData:y,setStartData:m})},FU=Object.freeze({__proto__:null,init:IU}),ab=pp({branchKey:"mode",branches:PU,name:"dragging",active:{events:function(n,a){var i=n.dragger;return i.handlers(n,a)}},extra:{snap:function(n){return{sensor:n.sensor,range:n.range,output:n.output,extra:Ve.from(n.extra)}}},state:FU,apis:dU}),c8=40,UN=c8/2,$z=function(n,a,i,s,f,m){return n.fold(function(){return ab.snap({sensor:Sh(i-UN,s-UN),range:ci(f,m),output:Sh(Ve.some(i),Ve.some(s)),extra:{td:a}})},function(y){var O=i-UN,De=s-UN,Je=c8,it=c8,dt=y.element.dom.getBoundingClientRect();return ab.snap({sensor:Sh(O,De),range:ci(Je,it),output:Sh(Ve.some(i-dt.width/2),Ve.some(s-dt.height/2)),extra:{td:a}})})},Vz=function(n,a,i){var s=function(f,m){return f.exists(function(y){return Ti(y,m)})};return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(f,m){var y=m.td;s(a.get(),y)||(a.set(y),i(y))},mustSnap:!0}},Uz=function(n){return qo(qs.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Wr([ab.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),sh.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},HU=function(n,a){var i=$a([]),s=$a([]),f=$a(!1),m=Xi(),y=Xi(),O=function(dr){var Xr=Ps(dr);return $z(Nt.getOpt(a),dr,Xr.x,Xr.y,Xr.width,Xr.height)},De=function(){return Pt(i.get(),function(dr){return O(dr)})},Je=function(dr){var Xr=Ps(dr);return $z(Wt.getOpt(a),dr,Xr.right,Xr.bottom,Xr.width,Xr.height)},it=function(){return Pt(s.get(),function(dr){return Je(dr)})},dt=Vz(De,m,function(dr){y.get().each(function(Xr){n.fire("TableSelectorChange",{start:dr,finish:Xr})})}),_t=Vz(it,y,function(dr){m.get().each(function(Xr){n.fire("TableSelectorChange",{start:Xr,finish:dr})})}),Nt=Uz(dt),Wt=Uz(_t),un=cu(Nt.asSpec()),kn=cu(Wt.asSpec()),tn=function(dr,Xr,wr,Jr){var Er=Xr.dom.getBoundingClientRect();ri(dr.element,"display");var cr=nc(on.fromDom(n.getBody())).dom.innerHeight,Hr=wr(Er),pa=Jr(Er,cr);(Hr||pa)&&Ja(dr.element,"display","none")},On=function(dr,Xr,wr,Jr){var Er=wr(Xr);ab.snapTo(dr,Er);var cr=function(pa){return pa[Jr]<0},Hr=function(pa,br){return pa[Jr]>br};tn(dr,Xr,cr,Hr)},tr=function(dr){return On(un,dr,O,"top")},Zn=function(){return m.get().each(tr)},_n=function(dr){return On(kn,dr,Je,"bottom")},Xn=function(){return y.get().each(_n)};Na().deviceType.isTouch()&&(n.on("TableSelectionChange",function(dr){f.get()||(Qv(a,un),Qv(a,kn),f.set(!0)),m.set(dr.start),y.set(dr.finish),dr.otherCells.each(function(Xr){i.set(Xr.upOrLeftCells),s.set(Xr.downOrRightCells),tr(dr.start),_n(dr.finish)})}),n.on("ResizeEditor ResizeWindow ScrollContent",function(){Zn(),Xn()}),n.on("TableSelectionClear",function(){f.get()&&(Gf(un),Gf(kn),f.set(!1)),m.clear(),y.clear()}))},zU=function(n){return!!(n.nodeType===1&&(n.nodeName==="BR"||n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark"))},$U=function(n,a,i){a.delimiter||(a.delimiter="»");var s=function(m){var y=m||[],O=Pt(y,function(Je,it){return qs.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":it,"tab-index":-1,"aria-level":it+1},innerHtml:Je.name},action:function(dt){n.focus(),n.selection.select(Je.element),n.nodeChanged()},buttonBehaviours:Wr([gc.button(i.isDisabled),yu()])})}),De={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+a.delimiter+" "}};return ln(O.slice(1),function(Je,it){var dt=Je;return dt.push(De),dt.push(it),dt},[O[0]])},f=function(m){for(var y=[],O=m.length;O-- >0;){var De=m[O];if(De.nodeType===1&&!zU(De)){var Je=n.fire("ResolveName",{name:De.nodeName.toLowerCase(),target:De});if(Je.isDefaultPrevented()||y.push({name:Je.name,element:De}),Je.isPropagationStopped())break}}return y};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Wr([_a.config({mode:"flow",selector:"div[role=button]"}),La.config({disabled:i.isDisabled}),yu(),qi.config({}),to.config({}),so("elementPathEvents",[mo(function(m,y){n.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return _a.focusIn(m)}),n.on("NodeChange",function(O){var De=f(O.parents);De.length>0?to.set(m,s(De)):to.set(m,[])})})])]),components:[]}},ob;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(ob||(ob={}));var VU=function(n,a,i,s,f){var m={};return m.height=PN(s+a.top,D_(n),N_(n)),i===ob.Both&&(m.width=PN(f+a.left,M_(n),ly(n))),m},jz=function(n,a,i){var s=on.fromDom(n.getContainer()),f=VU(n,a,i,uu(s),ts(s));$r(f,function(m,y){return Ja(s,y,XH(m))}),J4(n)},UU=function(n){var a=!n.hasPlugin("autoresize"),i=n.getParam("resize",a);return i===!1?ob.None:i==="both"?ob.Both:ob.Vertical},jN=function(n,a,i,s){var f=20,m=ci(i*f,s*f);return jz(n,m,a),Ve.some(!0)},jU=function(n,a){var i=UU(n);return i===ob.None?Ve.none():Ve.some(Ic("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:a.translate("Resize")},behaviours:[ab.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,f,m){return jz(n,m,i)},blockerClass:"tox-blocker"}),_a.config({mode:"special",onLeft:function(){return jN(n,i,-1,0)},onRight:function(){return jN(n,i,1,0)},onUp:function(){return jN(n,i,0,-1)},onDown:function(){return jN(n,i,0,1)}}),qi.config({}),no.config({})]},a.icons))},WU=function(n,a){var i,s=function(f,m,y){return to.set(f,[ps(a.translate(["{0} "+y,m[y]]))])};return qs.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Wr([gc.button(a.isDisabled),yu(),qi.config({}),to.config({}),Zr.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),so("wordcount-events",[vc(function(f){var m=Zr.getValue(f),y=m.mode==="words"?"characters":"words";Zr.setValue(f,{mode:y,count:m.count}),s(f,m.count,y)}),mo(function(f){n.on("wordCountUpdate",function(m){var y=Zr.getValue(f).mode;Zr.setValue(f,{mode:y,count:m.wordCount}),s(f,m.wordCount,y)})})])]),eventOrder:(i={},i[$l()]=["disabling","alloy.base.behaviour","wordcount-events"],i)})},qU=function(n,a){var i=function(){var m=Pc.translate(["Powered by {0}","Tiny"]),y='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+m+'">'+m+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:y}}},s=function(){var m=[];return n.getParam("elementpath",!0,"boolean")&&m.push($U(n,{},a)),n.hasPlugin("wordcount")&&m.push(WU(n,a)),n.getParam("branding",!0,"boolean")&&m.push(i()),m.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:m}]:[]},f=function(){var m=s(),y=jU(n,a);return m.concat(y.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:f()}},KU=function(n){var a,i=n.inline,s=i?DV:EV,f=dy(n)?Qt:CH,m=Ve.none(),y=Na(),O=y.browser.isIE(),De=O?["tox-platform-ie"]:[],Je=y.deviceType.isTouch(),it="tox-platform-touch",dt=Je?[it]:[],_t=B_(n),Nt=I_(n),Wt=Pc.isRtl()?{attributes:{dir:"rtl"}}:{},un={attributes:(a={},a[Xw]=_t?Kf.BottomToTop:Kf.TopToBottom,a)},kn=function(){return m.bind(ru.getHeader)},tn=function(){return f.isDocked(kn)},On=function(){Ja(Rs.element,"width",document.body.clientWidth+"px")},tr=function(){var Bu=Ti(Zo(),Nt)&&Vi(Nt,"display")==="grid",Od={dom:st({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(De).concat(dt)},Wt),behaviours:Wr([Qi.config({useFixed:function(){return tn()}})])},Nv={dom:{styles:{width:document.body.clientWidth+"px"}},events:di([xr(rf(),On)])};return or(Od,Bu?Nv:{})},Zn=cu(tr()),_n=function(){return Ga.value(Zn)},Xn=qo({dom:{tag:"div",classes:["tox-anchorbar"]}}),dr=function(){return m.bind(function(Bu){return Xn.getOpt(Bu)}).getOrDie("Could not find a anchor bar element")},Xr=function(){return m.bind(function(Bu){return ru.getToolbar(Bu)}).getOrDie("Could not find more toolbar element")},wr=function(){return m.bind(function(Bu){return ru.getThrobber(Bu)}).getOrDie("Could not find throbber element")},Jr=gH(Zn,n,dr),Er=ru.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Jr,onEscape:function(){n.focus()}}),cr=Og(n),Hr=ru.parts.toolbar(st({dom:{tag:"div",classes:["tox-toolbar"]},getSink:_n,providers:Jr.shared.providers,onEscape:function(){n.focus()},type:cr,lazyToolbar:Xr,lazyHeader:function(){return kn().getOrDie("Could not find header element")}},un)),pa=ru.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Jr.shared.providers,onEscape:function(){n.focus()},type:cr}),br=ru.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),ma=ru.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),Sa=ru.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Jr}),To=n.getParam("statusbar",!0,"boolean"),Yo=To&&!i?Ve.some(qU(n,Jr.shared.providers)):Ve.none(),ki={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[br,ma]},Fi=cy(n),Dl=ox(n),Es=bu(n),P0=function(){return Fi?[pa]:Dl?[Hr]:[]},Lu=ru.parts.header({dom:st({tag:"div",classes:["tox-editor-header"]},un),components:Jt([Es?[Er]:[],P0(),fy(n)?[]:[Xn.asSpec()]]),sticky:dy(n),editor:n,sharedBackstage:Jr.shared}),Mm=Jt([_t?[]:[Lu],i?[]:[ki],_t?[Lu]:[]]),Dm={dom:{tag:"div",classes:["tox-editor-container"]},components:Mm},ib=Jt([[Dm],i?[]:Yo.toArray(),[Sa]]),Nm=F_(n),ub=st(st({role:"application"},Pc.isRtl()?{dir:"rtl"}:{}),Nm?{"aria-hidden":"true"}:{}),Qs=cu(ru.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(_t?["tox-tinymce--toolbar-bottom"]:[]).concat(dt).concat(De),styles:st({visibility:"hidden"},Nm?{opacity:"0",border:"0"}:{}),attributes:ub},components:ib,behaviours:Wr([yu(),La.config({disableClass:"tox-tinymce--disabled"}),_a.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));m=Ve.some(Qs),n.shortcuts.add("alt+F9","focus menubar",function(){ru.focusMenubar(Qs)}),n.shortcuts.add("alt+F10","focus toolbar",function(){ru.focusToolbar(Qs)}),n.addCommand("ToggleToolbarDrawer",function(){ru.toggleToolbarDrawer(Qs)}),n.addQueryStateHandler("ToggleToolbarDrawer",function(){return ru.isToolbarDrawerToggled(Qs)});var Bf=RO(Qs),Rs=RO(Zn);od(n,Bf,Rs);var sb=function(){var Bu={broadcastAll:Rs.broadcast,broadcastOn:Rs.broadcastOn,register:$e};return{channels:Bu}},Dv=function(){var Bu=XH(TV(n)),Od=XH(AV(n));return n.inline||(Ff("div","width",Od)&&Ja(Qs.element,"width",Od),Ff("div","height",Bu)?Ja(Qs.element,"height",Bu):Ja(Qs.element,"height","200px")),Bu},xh=function(){f.setup(n,Jr.shared,kn),O9(n,Jr),J9(n,_n,Jr),Df(n),Mv(n,wr,Jr.shared),Cr(b4(n),function(Ls,Nl){n.ui.registry.addGroupToolbarButton(Nl,Ls)});var Bu=n.ui.registry.getAll(),Od=Bu.buttons,Nv=Bu.menuItems,Rm=Bu.contextToolbars,Pf=Bu.sidebars,Rv=R_(n),aa={menuItems:Nv,menus:E4(n),menubar:k4(n),toolbar:Rv.getOrThunk(function(){return T4(n)}),allowToolbarGroups:cr===Gl.floating,buttons:Od,sidebar:Pf};n9(n,Rm,Zn,{backstage:Jr}),HU(n,Zn);var lo=n.getElement(),Jo=Dv(),Pi={mothership:Bf,uiMothership:Rs,outerContainer:Qs},Js={targetNode:lo,height:Jo};return s.render(n,Pi,aa,Jr,Js)};return{mothership:Bf,uiMothership:Rs,backstage:Jr,renderUI:xh,getUi:sb}},YU=function(n,a){var i=Ve.from(Di(n,"id")).fold(function(){var s=ha("dialog-describe");return vo(a,"id",s),s},lt);vo(n,"aria-describedby",i)},GU=function(n,a){var i=Yi(n,"id").fold(function(){var s=ha("dialog-label");return vo(a,"id",s),s},lt);vo(n,"aria-labelledby",i)},XU=qe([Sr("lazySink"),ei("dragBlockClass"),Ei("getBounds",mu),Dn("useTabstopAt",vt),Dn("eventOrder",{}),Mu("modalBehaviours",[_a]),xl("onExecute"),il("onEscape")]),f8={sketch:lt},QU=qe([Lc({name:"draghandle",overrides:function(n,a){return{behaviours:Wr([ab.config({mode:"mouse",getTarget:function(i){return Nb(i,'[role="dialog"]').getOr(i)},blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:n.getDragBounds})])}}}),ys({schema:[Sr("dom")],name:"title"}),ys({factory:f8,schema:[Sr("dom")],name:"close"}),ys({factory:f8,schema:[Sr("dom")],name:"body"}),Lc({factory:f8,schema:[Sr("dom")],name:"footer"}),Rc({factory:{sketch:function(n,a){return st(st({},n),{dom:a.dom,components:a.components})}},schema:[Dn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Dn("components",[])],name:"blocker"})]),JU=function(n,a,i,s){var f,m=Xi(),y=function(Wt){m.set(Wt);var un=n.lazySink(Wt).getOrDie(),kn=s.blocker(),tn=un.getSystem().build(st(st({},kn),{components:kn.components.concat([Wl(Wt)]),behaviours:Wr([no.config({}),so("dialog-blocker-events",[lu(Pd(),function(){_a.focusIn(Wt)})])])}));Qv(un,tn),_a.focusIn(Wt)},O=function(Wt){m.clear(),tu(Wt.element).each(function(un){Wt.getSystem().getByDom(un).each(function(kn){Gf(kn)})})},De=function(Wt){return Zf(Wt,n,"body")},Je=function(Wt){return Zf(Wt,n,"footer")},it=function(Wt,un){ud.block(Wt,un)},dt=function(Wt){ud.unblock(Wt)},_t=ha("modal-events"),Nt=st(st({},n.eventOrder),(f={},f[Vl()]=[_t].concat(n.eventOrder["alloy.system.attached"]||[]),f));return{uid:n.uid,dom:n.dom,components:a,apis:{show:y,hide:O,getBody:De,getFooter:Je,setIdle:dt,setBusy:it},eventOrder:Nt,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Xu(n.modalBehaviours,[to.config({}),_a.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt}),ud.config({getRoot:m.get}),so(_t,[mo(function(Wt){GU(Wt.element,Zf(Wt,n,"title").element),YU(Wt.element,Zf(Wt,n,"body").element)})])])}},Uu=Ws({name:"ModalDialog",configFields:XU(),partFields:QU(),factory:JU,apis:{show:function(n,a){n.show(a)},hide:function(n,a){n.hide(a)},getBody:function(n,a){return n.getBody(a)},getFooter:function(n,a){return n.getFooter(a)},setBusy:function(n,a,i){n.setBusy(a,i)},setIdle:function(n,a){n.setIdle(a)}}}),ZU=Ra([eo("type"),eo("name")].concat(qp)),ej=Yu,Wz=[Hu("name","name",Fo(function(){return ha("button-name")}),su),_i("icon"),sc("align","end",["start","end"]),ji("primary",!1),ji("disabled",!1)],qz=nn(nn([],Wz,!0),[eo("text")],!1),d8=nn([uc("type",["submit","cancel","custom"])],qz,!0),tj=nn([uc("type",["menu"]),_i("text"),_i("tooltip"),_i("icon"),Is("items",ZU)],Wz,!0),nj=ic("type",{submit:d8,cancel:d8,custom:d8,menu:tj}),rj=[eo("type"),eo("text"),uc("level",["info","warn","error","success"]),eo("icon"),Dn("url","")],aj=Ra(rj),oj=function(n){return[eo("type"),n]},ij=[eo("type"),eo("text"),ji("disabled",!1),ji("primary",!1),Hu("name","name",Fo(function(){return ha("button-name")}),su),_i("icon"),ji("borderless",!1)],uj=Ra(ij),sj=[eo("type"),eo("name"),eo("label"),ji("disabled",!1)],lj=Ra(sj),cj=Yu,v8=[eo("type"),eo("name")],sd=v8.concat([_i("label")]),fj=sd.concat([Dn("columns","auto")]),dj=Ra(fj),vj=U0([eo("value"),eo("text"),eo("icon")]),mj=sd,pj=Ra(mj),hj=su,gj=sd,bj=Ra(gj),yj=su,wj=v8.concat([Ym("tag","textarea"),eo("scriptId"),eo("scriptUrl"),lc("settings",void 0)]),Cj=v8.concat([Ym("tag","textarea"),Ms("init")]),Sj=Wm(function(n){return Ui("customeditor.old",Hl(Cj),n).orThunk(function(){return Ui("customeditor.new",Hl(wj),n)})}),xj=su,Ej=sd,kj=Ra(Ej),Tj=nR(),Aj=function(n){return[eo("type"),Ld("columns"),n]},_j=[eo("type"),eo("html"),sc("presets","presentation",["presentation","document"])],Oj=Ra(_j),Mj=sd.concat([ji("sandboxed",!0)]),Dj=Ra(Mj),Nj=su,Rj=sd.concat([bl("currentState",Ra([Sr("blob"),eo("url")]))]),Lj=Ra(Rj),Bj=sd.concat([_i("inputMode"),_i("placeholder"),ji("maximized",!1),ji("disabled",!1)]),Pj=Ra(Bj),Ij=su,Fj=function(n){return[eo("type"),eo("label"),n]},Hj=[eo("text"),eo("value")],zj=[eo("text"),Is("items",rR("items",function(){return Kz}))],Kz=V0([Ra(Hj),Ra(zj)]),$j=sd.concat([Is("items",Kz),ji("disabled",!1)]),Vj=Ra($j),Uj=su,jj=sd.concat([vb("items",[eo("text"),eo("value")]),Cl("size",1),ji("disabled",!1)]),Wj=Ra(jj),qj=su,Kj=sd.concat([ji("constrain",!0),ji("disabled",!1)]),Yj=Ra(Kj),Yz=Ra([eo("width"),eo("height")]),Gj=[eo("type"),Is("header",su),Is("cells",fd(su))],Xj=Ra(Gj),Qj=sd.concat([_i("placeholder"),ji("maximized",!1),ji("disabled",!1)]),Jj=Ra(Qj),Zj=su,eW=sd.concat([sc("filetype","file",["image","media","file"]),Dn("disabled",!1)]),tW=Ra(eW),nW=Ra([eo("value"),Dn("meta",{})]),m8=function(n){return Hu("items","items",oo(),fd(Wm(function(a){return Ui("Checking item of "+n,p8,a).fold(function(i){return Ga.error(qm(i))},function(i){return Ga.value(i)})})))},p8=f2(function(){return db("type",{alertbanner:aj,bar:Ra(oj(m8("bar"))),button:uj,checkbox:lj,colorinput:pj,colorpicker:bj,dropzone:kj,grid:Ra(Aj(m8("grid"))),iframe:Dj,input:Pj,listbox:Vj,selectbox:Wj,sizeinput:Yj,textarea:Jj,urlinput:tW,customeditor:Sj,htmlpanel:Oj,imagetools:Lj,collection:dj,label:Ra(Fj(m8("label"))),table:Xj,panel:Gz})}),rW=[eo("type"),Dn("classes",[]),Is("items",p8)],Gz=Ra(rW),aW=[Hu("name","name",Fo(function(){return ha("tab-name")}),su),eo("title"),Is("items",p8)],oW=[eo("type"),vb("tabs",aW)],iW=Ra(oW),uW=qz,sW=nj,lW=Ra([eo("title"),bl("body",db("type",{panel:Gz,tabpanel:iW})),Ym("size","normal"),Is("buttons",sW),Dn("initialData",{}),Ei("onAction",$e),Ei("onChange",$e),Ei("onSubmit",$e),Ei("onClose",$e),Ei("onCancel",$e),Dn("onTabChange",$e)]),cW=function(n){return Ui("dialog",lW,n)},fW=Ra(nn([uc("type",["cancel","custom"])],uW,!0)),dW=Ra([eo("title"),eo("url"),Mh("height"),Mh("width"),yl("buttons",fW),Ei("onAction",$e),Ei("onCancel",$e),Ei("onClose",$e),Ei("onMessage",$e)]),vW=function(n){return Ui("dialog",dW,n)},h8=function(n){return Ge(n)?[n].concat(Rn(Qn(n),h8)):Xe(n)?Rn(n,h8):[]},mW=function(n){return He(n.type)&&He(n.name)},pW={checkbox:cj,colorinput:hj,colorpicker:yj,dropzone:Tj,input:Ij,iframe:Nj,sizeinput:Yz,selectbox:qj,listbox:Uj,size:Yz,textarea:Zj,urlinput:nW,customeditor:xj,collection:vj,togglemenuitem:ej},hW=function(n){return Ve.from(pW[n.type])},gW=function(n){return Zt(h8(n),mW)},bW=function(n){var a=gW(n),i=Rn(a,function(s){return hW(s).fold(function(){return[]},function(f){return[bl(s.name,f)]})});return Ra(i)},Xz=function(n){var a=ef(cW(n)),i=bW(n),s=n.initialData;return{internalDialog:a,dataValidator:i,initialData:s}},o2={open:function(n,a){var i=Xz(a);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:function(n,a){var i=ef(vW(a));return n(i)},redial:function(n){return Xz(n)}},Qz=function(n){var a=[],i={};return $r(n,function(s,f){s.fold(function(){a.push(f)},function(m){i[f]=m})}),a.length>0?Ga.error(a):Ga.value(i)},yW=function(n,a){var i=qo(mh.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:Pt(n.items,function(f){return nN(s,f,a)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[i.asSpec()]}],behaviours:Wr([_a.config({mode:"acyclic",useTabstopAt:It(Kg)}),Mf.memento(i),wm.memento(i,{postprocess:function(s){return Qz(s).fold(function(f){return{}},lt)}})])}},wW=function(n,a){return{uid:n.uid,dom:n.dom,components:n.components,events:z1(n.action),behaviours:Xu(n.tabButtonBehaviours,[no.config({}),_a.config({mode:"execution",useSpace:!0,useEnter:!0}),Zr.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}},CW=Yl({name:"TabButton",configFields:[Dn("uid",void 0),Sr("value"),Hu("dom","dom",Os(function(){return{attributes:{role:"tab",id:ha("aria"),"aria-selected":"false"}}}),Zc()),ei("action"),Dn("domModification",{}),Mu("tabButtonBehaviours",[no,_a,Zr]),Sr("view")],factory:wW}),SW=qe([Sr("tabs"),Sr("dom"),Dn("clickToDismiss",!1),Mu("tabbarBehaviours",[ti,_a]),Wv(["tabClass","selectedClass"])]),xW=g1({factory:CW,name:"tabs",unit:"tab",overrides:function(n){var a=function(s,f){ti.dehighlight(s,f),Ia(s,rs(),{tabbar:s,button:f})},i=function(s,f){ti.highlight(s,f),Ia(s,C2(),{tabbar:s,button:f})};return{action:function(s){var f=s.getSystem().getByUid(n.uid).getOrDie(),m=ti.isHighlighted(f,s),y=function(){return m&&n.clickToDismiss?a:m?$e:i}();y(f,s)},domModification:{classes:[n.markers.tabClass]}}}}),EW=qe([xW]),kW=function(n,a,i,s){return{uid:n.uid,dom:n.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Xu(n.tabbarBehaviours,[ti.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:function(f,m){vo(m.element,"aria-selected","true")},onDehighlight:function(f,m){vo(m.element,"aria-selected","false")}}),_a.config({mode:"flow",getInitial:function(f){return ti.getHighlighted(f).map(function(m){return m.element})},selector:"."+n.markers.tabClass,executeOnMove:!0})])}},Jz=Ws({name:"Tabbar",configFields:SW(),partFields:EW(),factory:kW}),TW=function(n,a){return{uid:n.uid,dom:n.dom,behaviours:Xu(n.tabviewBehaviours,[to.config({})]),domModification:{attributes:{role:"tabpanel"}}}},AW=Yl({name:"Tabview",configFields:[Mu("tabviewBehaviours",[to])],factory:TW}),_W=qe([Dn("selectFirst",!0),Wo("onChangeTab"),Wo("onDismissTab"),Dn("tabs",[]),Mu("tabSectionBehaviours",[])]),OW=ys({factory:Jz,schema:[Sr("dom"),dd("markers",[Sr("tabClass"),Sr("selectedClass")])],name:"tabbar",defaults:function(n){return{tabs:n.tabs}}}),MW=ys({factory:AW,name:"tabview"}),DW=qe([OW,MW]),NW=function(n,a,i,s){var f=function(y){var O=Zr.getValue(y);vi(y,n,"tabview").each(function(De){var Je=bn(n.tabs,function(it){return it.value===O});Je.each(function(it){var dt=it.view();Yi(y.element,"id").each(function(_t){vo(De.element,"aria-labelledby",_t)}),to.set(De,dt),n.onChangeTab(De,y,dt)})})},m=function(y,O){vi(y,n,"tabbar").each(function(De){O(De).each(Ul)})};return{uid:n.uid,dom:n.dom,components:a,behaviours:f1(n.tabSectionBehaviours),events:di(Jt([n.selectFirst?[mo(function(y,O){m(y,ti.getFirst)})]:[],[xr(C2(),function(y,O){var De=O.event.button;f(De)}),xr(rs(),function(y,O){var De=O.event.button;n.onDismissTab(y,De)})]])),apis:{getViewItems:function(y){return vi(y,n,"tabview").map(function(O){return to.contents(O)}).getOr([])},showTab:function(y,O){var De=function(Je){var it=ti.getCandidates(Je),dt=bn(it,function(_t){return Zr.getValue(_t)===O});return dt.filter(function(_t){return!ti.isHighlighted(Je,_t)})};m(y,De)}}}},B0=Ws({name:"TabSection",configFields:_W(),partFields:DW(),factory:NW,apis:{getViewItems:function(n,a){return n.getViewItems(a)},showTab:function(n,a,i){n.showTab(a,i)}}}),RW=function(n,a,i){return Pt(n,function(s,f){to.set(i,n[f].view());var m=a.dom.getBoundingClientRect();return to.set(i,[]),m.height})},LW=function(n){return hr(co(n,function(a,i){return a>i?-1:a<i?1:0}))},BW=function(n,a,i){var s=ar(n).dom,f=Nb(n,".tox-dialog-wrap").getOr(n),m=Vi(f,"position")==="fixed",y;m?y=Math.max(s.clientHeight,window.innerHeight):y=Math.max(s.offsetHeight,s.scrollHeight);var O=uu(a),De=a.dom.offsetLeft>=i.dom.offsetLeft+ts(i),Je=De?Math.max(uu(i),O):O,it=parseInt(Vi(n,"margin-top"),10)||0,dt=parseInt(Vi(n,"margin-bottom"),10)||0,_t=uu(n)+it+dt,Nt=_t-Je;return y-Nt},PW=function(n,a){hr(n).each(function(i){return B0.showTab(a,i.value)})},Zz=function(n,a){Ja(n,"height",a+"px"),Na().browser.isIE()?ri(n,"flex-basis"):Ja(n,"flex-basis",a+"px")},WN=function(n,a,i){Nb(n,'[role="dialog"]').each(function(s){_u(s,'[role="tablist"]').each(function(f){i.get().map(function(m){return Ja(a,"height","0"),Ja(a,"flex-basis","0"),Math.min(m,BW(s,a,f))}).each(function(m){Zz(a,m)})})})},g8=function(n){return _u(n,'[role="tabpanel"]')},IW=function(n){var a=function(){var s=Xi(),f=[mo(function(y){var O=y.element;g8(O).each(function(De){Ja(De,"visibility","hidden"),y.getSystem().getByDom(De).toOptional().each(function(Je){var it=RW(n,De,Je),dt=LW(it);dt.fold(s.clear,s.set)}),WN(O,De,s),ri(De,"visibility"),PW(n,y),Cf.requestAnimationFrame(function(){WN(O,De,s)})})}),xr(rf(),function(y){var O=y.element;g8(O).each(function(De){WN(O,De,s)})}),xr(IO,function(y,O){var De=y.element;g8(De).each(function(Je){var it=ff(Ua(Je));Ja(Je,"visibility","hidden");var dt=ku(Je,"height").map(function(Wt){return parseInt(Wt,10)});ri(Je,"height"),ri(Je,"flex-basis");var _t=Je.dom.getBoundingClientRect().height,Nt=dt.forall(function(Wt){return _t>Wt});Nt?(s.set(_t),WN(De,Je,s)):dt.each(function(Wt){Zz(Je,Wt)}),ri(Je,"visibility"),it.each(cf)})})],m=!1;return{extraEvents:f,selectFirst:m}}(),i=function(){var s=[],f=!0;return{extraEvents:s,selectFirst:f}}();return{smartTabHeight:a,naiveTabHeight:i}},e$="send-data-to-section",t$="send-data-to-view",FW=function(n,a){var i=$a({}),s=function(De){var Je=Zr.getValue(De),it=Qz(Je).getOr({}),dt=i.get(),_t=or(dt,it);i.set(_t)},f=function(De){var Je=i.get();Zr.setValue(De,Je)},m=$a(null),y=Pt(n.tabs,function(De){return{value:De.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:a.shared.providers.translate(De.title)},view:function(){return[mh.sketch(function(Je){return{dom:{tag:"div",classes:["tox-form"]},components:Pt(De.items,function(it){return nN(Je,it,a)}),formBehaviours:Wr([_a.config({mode:"acyclic",useTabstopAt:It(Kg)}),so("TabView.form.events",[mo(f),dc(s)]),ll.config({channels:Iv([{key:e$,value:{onReceive:s}},{key:t$,value:{onReceive:f}}])})])}})]}}}),O=IW(y).smartTabHeight;return B0.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(De,Je,it){var dt=Zr.getValue(Je);Ia(De,pv,{name:dt,oldName:m.get()}),m.set(dt)},tabs:y,components:[B0.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Jz.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Wr([qi.config({})])}),B0.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:Wr([so("tabpanel",O.extraEvents),_a.config({mode:"acyclic"}),Oo.config({find:function(De){return hr(B0.getViewItems(De))}}),Zr.config({store:{mode:"manual",getValue:function(De){return De.getSystem().broadcastOn([e$],{}),i.get()},setValue:function(De,Je){i.set(Je),De.getSystem().broadcastOn([t$],{})}}})])})},b8=ha("update-dialog"),n$=ha("update-title"),r$=ha("update-body"),a$=ha("update-footer"),o$=ha("body-send-message"),i$=function(n,a,i,s){var f=function(O){switch(O.body.type){case"tabpanel":return[FW(O.body,i)];default:return[yW(O.body,i)]}},m=function(O,De){return Ve.some({isTabPanel:function(){return De.body.type==="tabpanel"}})},y={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:st(st({},a.map(function(O){return{id:O}}).getOr({})),s?y:{})},components:[],behaviours:Wr([Mf.childAt(0),yc.config({channel:r$,updateState:m,renderComponents:f,initialData:n})])}},HW=function(n,a,i,s){return i$(n,Ve.some(a),i,s)},zW=function(n,a){var i=i$(n,Ve.none(),a,!1);return Uu.parts.body(i)},$W=function(n){var a={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[tD({dom:{tag:"iframe",attributes:{src:n.url}},behaviours:Wr([qi.config({}),no.config({})])})]}],behaviours:Wr([_a.config({mode:"acyclic",useTabstopAt:It(Kg)})])};return Uu.parts.body(a)},VW=my.deviceType.isTouch(),u$=function(n,a){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,a]}},s$=function(n,a){return Uu.parts.close(qs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:n,buttonBehaviours:Wr([qi.config({})])}))},l$=function(){return Uu.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},c$=function(n,a){return Uu.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:bd("<p>"+Y1(a.translate(n))+"</p>")}]}]})},f$=function(n){return Uu.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n})},d$=function(n,a){return[ws.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),ws.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})]},y8=function(n){var a,i="tox-dialog",s=i+"-wrap",f=s+"__backdrop",m=i+"__disable-scroll";return Uu.sketch({lazySink:n.lazySink,onEscape:function(y){return n.onEscape(y),Ve.some(!0)},useTabstopAt:function(y){return!Kg(y)},dom:{tag:"div",classes:[i].concat(n.extraClasses),styles:st({position:"relative"},n.extraStyles)},components:nn([n.header,n.body],n.footer.toArray(),!0),parts:{blocker:{dom:bd('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:VW?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:s,modalBehaviours:Wr(nn([no.config({}),so("dialog-events",n.dialogEvents.concat([lu(Pd(),function(y,O){_a.focusIn(y)})])),so("scroll-lock",[mo(function(){Au(Zo(),m)}),dc(function(){hu(Zo(),m)})])],n.extraBehaviours,!0)),eventOrder:st((a={},a[$l()]=["dialog-events"],a[Vl()]=["scroll-lock","dialog-events","alloy.base.behaviour"],a[Fh()]=["alloy.base.behaviour","dialog-events","scroll-lock"],a),n.eventOrder)})},v$=function(n){return qs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),title:n.translate("Close")}},components:[Ic("close",{tag:"div",classes:["tox-icon"]},n.icons)],action:function(a){$o(a,bm)}})},m$=function(n,a,i){var s=function(f){return[ps(i.translate(f.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:st({},a.map(function(f){return{id:f}}).getOr({}))},components:s(n),behaviours:Wr([yc.config({channel:n$,renderComponents:s})])}},p$=function(){return{dom:bd('<div class="tox-dialog__draghandle"></div>')}},UW=function(n,a,i){return ws.sketch({dom:bd('<div class="tox-dialog__header"></div>'),components:[m$(n,Ve.some(a),i),p$(),v$(i)],containerBehaviours:Wr([ab.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return lf(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},jW=function(n,a){var i=Uu.parts.title(m$(n,Ve.none(),a)),s=Uu.parts.draghandle(p$()),f=Uu.parts.close(v$(a)),m=[i].concat(n.draggable?[s]:[]).concat([f]);return ws.sketch({dom:bd('<div class="tox-dialog__header"></div>'),components:m})},h$=function(n,a){return jW({title:a.shared.providers.translate(n),draggable:a.dialog.isDraggableModal()},a.shared.providers)},g$=function(n,a,i){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:a,components:[{dom:bd('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},b$=function(n,a,i){return{onClose:function(){return i.closeWindow()},onBlock:function(s){Uu.setBusy(n(),function(f,m){return g$(s.message,m,a)})},onUnblock:function(){Uu.setIdle(n())}}},y$=function(n,a,i,s){var f,m=function(y,O){return Ve.some(O)};return cu(y8(st(st({},n),{lazySink:s.shared.getSink,extraBehaviours:nn([yc.config({channel:b8,updateState:m,initialData:a}),wm.memory({})],n.extraBehaviours,!0),onEscape:function(y){$o(y,bm)},dialogEvents:i,eventOrder:(f={},f[fc()]=[yc.name(),ll.name()],f[Vl()]=["scroll-lock",yc.name(),"messages","dialog-events","alloy.base.behaviour"],f[Fh()]=["alloy.base.behaviour","dialog-events","messages",yc.name(),"scroll-lock"],f)})))},w$=function(n){var a=function(i){var s=Pt(i.items,function(f){var m=$a(!1);return st(st({},f),{storage:m})});return st(st({},i),{items:s})};return Pt(n,function(i){return i.type==="menu"?a(i):i})},C$=function(n){return ln(n,function(a,i){if(i.type==="menu"){var s=i;return ln(s.items,function(f,m){return f[m.name]=m.storage,f},a)}return a},{})},S$=function(n,a){return[Id(Pd(),rD),n(Fg,function(i,s){a.onClose(),s.onClose()}),n(bm,function(i,s,f,m){s.onCancel(i),$o(m,Fg)}),xr(Ox,function(i,s){return a.onUnblock()}),xr(_x,function(i,s){return a.onBlock(s.event)})]},WW=function(n,a){var i=function(f,m){return xr(f,function(y,O){s(y,function(De,Je){m(n(),De,O.event,y)})})},s=function(f,m){yc.getState(f).get().each(function(y){m(y,f)})};return nn(nn([],S$(i,a),!0),[i(rd,function(f,m,y){m.onAction(f,{name:y.name})})],!1)},qW=function(n,a,i){var s=function(m,y){return xr(m,function(O,De){f(O,function(Je,it){y(n(),Je,De.event,O)})})},f=function(m,y){yc.getState(m).get().each(function(O){y(O.internalDialog,m)})};return nn(nn([],S$(s,a),!0),[s(Hg,function(m,y){return y.onSubmit(m)}),s(_l,function(m,y,O){y.onChange(m,{name:O.name})}),s(rd,function(m,y,O,De){var Je=function(){return _a.focusIn(De)},it=function(Nt){return Im(Nt,"disabled")||Yi(Nt,"aria-disabled").exists(function(Wt){return Wt==="true"})},dt=Ua(De.element),_t=ff(dt);y.onAction(m,{name:O.name,value:O.value}),ff(dt).fold(Je,function(Nt){it(Nt)||_t.exists(function(Wt){return es(Nt,Wt)&&it(Wt)})?Je():i().toOptional().filter(function(Wt){return!es(Wt.element,Nt)}).each(Je)})}),s(pv,function(m,y,O){y.onTabChange(m,{newTabName:O.name,oldTabName:O.oldName})}),dc(function(m){var y=n();Zr.setValue(m,y.getData())})],!1)},w8={initUrlDialog:WW,initDialog:qW},KW=function(n,a){return c0(n,n.type,a)},YW=function(n,a,i){return bn(a,function(s){return s.name===i}).bind(function(s){return s.memento.getOpt(n)})},GW=function(n,a){var i=a.map(function(O){return O.footerButtons}).getOr([]),s=Ot(i,function(O){return O.align==="start"}),f=function(O,De){return ws.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+O]},components:Pt(De,function(Je){return Je.memento.asSpec()})})},m=f("start",s.pass),y=f("end",s.fail);return[m,y]},x$=function(n,a){var i=function(s,f){var m=Pt(f.buttons,function(O){var De=qo(KW(O,a));return{name:O.name,align:O.align,memento:De}}),y=function(O,De){return YW(O,m,De)};return Ve.some({lookupByName:y,footerButtons:m})};return{dom:bd('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Wr([yc.config({channel:a$,initialData:n,updateState:i,renderComponents:GW})])}},XW=function(n,a){return x$(n,a)},E$=function(n,a){return Uu.parts.footer(x$(n,a))},C8=function(n,a){var i=n.getRoot();if(i.getSystem().isConnected()){var s=Oo.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return mh.getField(s,a).fold(function(){var f=n.getFooter(),m=yc.getState(f);return m.get().bind(function(y){return y.lookupByName(s,a)})},function(f){return Ve.some(f)})}else return Ve.none()},QW=function(n,a){var i=n.getRoot();return yc.getState(i).get().map(function(s){return ef(Ui("data",s.dataValidator,a))}).getOr(a)},k$=function(n,a,i){var s=function(un){var kn=n.getRoot();kn.getSystem().isConnected()&&un(kn)},f=function(){var un=n.getRoot(),kn=un.getSystem().isConnected()?n.getFormWrapper():un,tn=Zr.getValue(kn),On=Cr(i,function(tr){return tr.get()});return st(st({},tn),On)},m=function(un){s(function(kn){var tn=Wt.getData(),On=st(st({},tn),un),tr=QW(n,On),Zn=n.getFormWrapper();Zr.setValue(Zn,tr),$r(i,function(_n,Xn){gr(On,Xn)&&_n.set(On[Xn])})})},y=function(un){C8(n,un).each(La.disable)},O=function(un){C8(n,un).each(La.enable)},De=function(un){C8(n,un).each(no.focus)},Je=function(un){if(!He(un))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(kn){Ia(kn,_x,{message:un})})},it=function(){s(function(un){$o(un,Ox)})},dt=function(un){s(function(kn){var tn=n.getBody(),On=yc.getState(tn);On.get().exists(function(tr){return tr.isTabPanel()})&&Oo.getCurrent(tn).each(function(tr){B0.showTab(tr,un)})})},_t=function(un){s(function(kn){var tn=a(un);kn.getSystem().broadcastOn([b8],tn),kn.getSystem().broadcastOn([n$],tn.internalDialog),kn.getSystem().broadcastOn([r$],tn.internalDialog),kn.getSystem().broadcastOn([a$],tn.internalDialog),Wt.setData(tn.initialData)})},Nt=function(){s(function(un){$o(un,Fg)})},Wt={getData:f,setData:m,disable:y,enable:O,focus:De,block:Je,unblock:it,showTab:dt,redial:_t,close:Nt};return Wt},JW=function(n){switch(n){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},ZW=function(n,a,i){var s=h$(n.internalDialog.title,i),f=zW({body:n.internalDialog.body},i),m=w$(n.internalDialog.buttons),y=C$(m),O=E$({buttons:m},i),De=w8.initDialog(function(){return Nt},b$(function(){return dt},i.shared.providers,a),i.shared.getSink),Je=JW(n.internalDialog.size),it={header:s,body:f,footer:Ve.some(O),extraClasses:Je,extraBehaviours:[],extraStyles:{}},dt=y$(it,n,De,i),_t=function(){var Wt=function(){var un=Uu.getBody(dt);return Oo.getCurrent(un).getOr(un)};return{getRoot:qe(dt),getBody:function(){return Uu.getBody(dt)},getFooter:function(){return Uu.getFooter(dt)},getFormWrapper:Wt}}(),Nt=k$(_t,a.redial,y);return{dialog:dt,instanceApi:Nt}},eq=function(n,a,i,s){var f,m,y=ha("dialog-label"),O=ha("dialog-content"),De=function(tn,On){return Ve.some(On)},Je=qo(UW({title:n.internalDialog.title,draggable:!0},y,i.shared.providers)),it=qo(HW({body:n.internalDialog.body},O,i,s)),dt=w$(n.internalDialog.buttons),_t=C$(dt),Nt=qo(XW({buttons:dt},i)),Wt=w8.initDialog(function(){return kn},{onBlock:function(tn){ud.block(un,function(On,tr){return g$(tn.message,tr,i.shared.providers)})},onUnblock:function(){ud.unblock(un)},onClose:function(){return a.closeWindow()}},i.shared.getSink),un=cu({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(f={role:"dialog"},f["aria-labelledby"]=y,f["aria-describedby"]=O,f)},eventOrder:(m={},m[fc()]=[yc.name(),ll.name()],m[$l()]=["execute-on-form"],m[Vl()]=["reflecting","execute-on-form"],m),behaviours:Wr([_a.config({mode:"cyclic",onEscape:function(tn){return $o(tn,Fg),Ve.some(!0)},useTabstopAt:function(tn){return!Kg(tn)&&(dn(tn)!=="button"||Di(tn,"disabled")!=="disabled")}}),yc.config({channel:b8,updateState:De,initialData:n}),no.config({}),so("execute-on-form",Wt.concat([lu(Pd(),function(tn,On){_a.focusIn(tn)})])),ud.config({getRoot:function(){return Ve.some(un)}}),to.config({}),wm.memory({})]),components:[Je.asSpec(),it.asSpec(),Nt.asSpec()]}),kn=k$({getRoot:qe(un),getFooter:function(){return Nt.get(un)},getBody:function(){return it.get(un)},getFormWrapper:function(){var tn=it.get(un);return Oo.getCurrent(tn).getOr(tn)}},a.redial,_t);return{dialog:un,instanceApi:kn}},S8=tinymce.util.Tools.resolve("tinymce.util.URI"),tq=function(n){var a=function(y){n.getSystem().isConnected()&&y(n)},i=function(y){if(!He(y))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");a(function(O){Ia(O,_x,{message:y})})},s=function(){a(function(y){$o(y,Ox)})},f=function(){a(function(y){$o(y,Fg)})},m=function(y){a(function(O){O.getSystem().broadcastOn([o$],y)})};return{block:i,unblock:s,close:f,sendMessage:m}},nq=["insertContent","setContent","execCommand","close","block","unblock"],T$=function(n){return Ge(n)&&nq.indexOf(n.mceAction)!==-1},rq=function(n){return!T$(n)&&Ge(n)&&gr(n,"mceAction")},aq=function(n,a,i){switch(i.mceAction){case"insertContent":n.insertContent(i.content);break;case"setContent":n.setContent(i.content);break;case"execCommand":var s=We(i.ui)?i.ui:!1;n.execCommand(i.cmd,s,i.value);break;case"close":a.close();break;case"block":a.block(i.message);break;case"unblock":a.unblock();break}},oq=function(n,a,i,s){var f,m=h$(n.title,s),y=$W(n),O=n.buttons.bind(function(On){return On.length===0?Ve.none():Ve.some(E$({buttons:On},s))}),De=w8.initUrlDialog(function(){return tn},b$(function(){return kn},s.shared.providers,a)),Je=st(st({},n.height.fold(function(){return{}},function(On){return{height:On+"px","max-height":On+"px"}})),n.width.fold(function(){return{}},function(On){return{width:On+"px","max-width":On+"px"}})),it=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],dt=new S8(n.url,{base_uri:new S8(window.location.href)}),_t=dt.protocol+"://"+dt.host+(dt.port?":"+dt.port:""),Nt=hp(),Wt=[so("messages",[mo(function(){var On=fu(on.fromDom(window),"message",function(tr){if(dt.isSameOrigin(new S8(tr.raw.origin))){var Zn=tr.raw.data;T$(Zn)?aq(i,tn,Zn):rq(Zn)&&n.onMessage(tn,Zn)}});Nt.set(On)}),dc(Nt.clear)]),ll.config({channels:(f={},f[o$]={onReceive:function(On,tr){_u(On.element,"iframe").each(function(Zn){var _n=Zn.dom.contentWindow;_n.postMessage(tr,_t)})}},f)})],un={header:m,body:y,footer:O,extraClasses:it,extraBehaviours:Wt,extraStyles:Je},kn=y$(un,n,De,s),tn=tq(kn);return{dialog:kn,instanceApi:tn}},iq=function(n){var a=n.backstage.shared,i=function(s,f){var m=function(){Uu.hide(Je),f()},y=qo(c0({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:Ve.none()},"cancel",n.backstage)),O=l$(),De=s$(m,a.providers),Je=cu(y8({lazySink:function(){return a.getSink()},header:u$(O,De),body:c$(s,a.providers),footer:Ve.some(f$(d$([],[y.asSpec()]))),onEscape:m,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xr(bm,m)],eventOrder:{}}));Uu.show(Je);var it=y.get(Je);no.focus(it)};return{open:i}},uq=function(n){var a=n.backstage.shared,i=function(s,f){var m=function(_t){Uu.hide(it),f(_t)},y=qo(c0({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:Ve.none()},"submit",n.backstage)),O=c0({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:Ve.none()},"cancel",n.backstage),De=l$(),Je=s$(function(){return m(!1)},a.providers),it=cu(y8({lazySink:function(){return a.getSink()},header:u$(De,Je),body:c$(s,a.providers),footer:Ve.some(f$(d$([],[O,y.asSpec()]))),onEscape:function(){return m(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xr(bm,function(){return m(!1)}),xr(Hg,function(){return m(!0)})],eventOrder:{}}));Uu.show(it);var dt=y.get(it);no.focus(dt)};return{open:i}},sq=function(n,a){return ef(Ui("data",a,n))},lq=function(n){return Pg(n,".tox-alert-dialog")||Pg(n,".tox-confirm-dialog")},cq=function(n,a,i){return a&&i?[]:[e.config({contextual:{lazyContext:function(){return Ve.some(nu(on.fromDom(n.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},fq=function(n){var a=n.backstage,i=n.editor,s=dy(i),f=iq(n),m=uq(n),y=function(Wt,un,kn){return un!==void 0&&un.inline==="toolbar"?it(Wt,a.shared.anchors.inlineDialog(),kn,un.ariaAttrs):un!==void 0&&un.inline==="cursor"?it(Wt,a.shared.anchors.cursor(),kn,un.ariaAttrs):Je(Wt,kn)},O=function(Wt,un){return De(Wt,un)},De=function(Wt,un){var kn=function(tn){var On=oq(tn,{closeWindow:function(){Uu.hide(On.dialog),un(On.instanceApi)}},i,a);return Uu.show(On.dialog),On.instanceApi};return o2.openUrl(kn,Wt)},Je=function(Wt,un){var kn=function(tn,On,tr){var Zn=On,_n={dataValidator:tr,initialData:Zn,internalDialog:tn},Xn=ZW(_n,{redial:o2.redial,closeWindow:function(){Uu.hide(Xn.dialog),un(Xn.instanceApi)}},a);return Uu.show(Xn.dialog),Xn.instanceApi.setData(Zn),Xn.instanceApi};return o2.open(kn,Wt)},it=function(Wt,un,kn,tn){var On=function(tr,Zn,_n){var Xn=sq(Zn,_n),dr=Xi(),Xr=a.shared.header.isPositionedAtTop(),wr={dataValidator:_n,initialData:Xn,internalDialog:tr},Jr=function(){return dr.on(function(Hr){zi.reposition(Hr),e.refresh(Hr)})},Er=eq(wr,{redial:o2.redial,closeWindow:function(){dr.on(zi.hide),i.off("ResizeEditor",Jr),dr.clear(),kn(Er.instanceApi)}},a,tn),cr=cu(zi.sketch(st(st({lazySink:a.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},Xr?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Wr(nn([so("window-manager-inline-events",[xr(af(),function(Hr,pa){$o(Er.dialog,bm)})])],cq(i,s,Xr),!0)),isExtraPart:function(Hr,pa){return lq(pa)}})));return dr.set(cr),zi.showWithin(cr,Wl(Er.dialog),{anchor:un},Ve.some(Zo())),(!s||!Xr)&&(e.refresh(cr),i.on("ResizeEditor",Jr)),Er.instanceApi.setData(Xn),_a.focusIn(Er.dialog),Er.instanceApi};return o2.open(On,Wt)},dt=function(Wt,un){m.open(Wt,function(kn){un(kn)})},_t=function(Wt,un){f.open(Wt,function(){un()})},Nt=function(Wt){Wt.close()};return{open:y,openUrl:O,alert:_t,close:Nt,confirm:dt}};function dq(){Et.add("silver",function(n){var a=KU(n),i=a.uiMothership,s=a.backstage,f=a.renderUI,m=a.getUi;mv.register(n,s.shared);var y=fq({editor:n,backstage:s});return{renderUI:f,getWindowManagerImpl:qe(y),getNotificationManagerImpl:function(){return FS(n,{backstage:s},i)},ui:m()}})}dq()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(At,nn,wn){var Ht=nn==="UL"?"InsertUnorderedList":"InsertOrderedList";At.execCommand(Ht,!1,wn===!1?null:{"list-style-type":wn})},C=function(At){At.addCommand("ApplyUnorderedListStyle",function(nn,wn){w(At,"UL",wn["list-style-type"])}),At.addCommand("ApplyOrderedListStyle",function(nn,wn){w(At,"OL",wn["list-style-type"])})},x=tinymce.util.Tools.resolve("tinymce.util.Tools"),He=function(At){var nn=At.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return nn?nn.split(/[ ,]/):[]},Ge=function(At){var nn=At.getParam("advlist_bullet_styles","default,circle,square");return nn?nn.split(/[ ,]/):[]},Xe=function(){},ze=function(At){return function(){return At}},We=function(At){return At},at=ze(!1),nt=ze(!0),A=function(){return Te},Te=function(){var At=function(Ht){return Ht()},nn=We,wn={fold:function(Ht,Sn){return Ht()},isSome:at,isNone:nt,getOr:nn,getOrThunk:At,getOrDie:function(Ht){throw new Error(Ht||"error: getOrDie called on none.")},getOrNull:ze(null),getOrUndefined:ze(void 0),or:nn,orThunk:At,map:A,each:Xe,bind:A,exists:at,forall:nt,filter:function(){return A()},toArray:function(){return[]},toString:ze("none()")};return wn}(),et=function(At){var nn=ze(At),wn=function(){return Sn},Ht=function(lr){return lr(At)},Sn={fold:function(lr,Ve){return Ve(At)},isSome:nt,isNone:at,getOr:nn,getOrThunk:nn,getOrDie:nn,getOrNull:nn,getOrUndefined:nn,or:wn,orThunk:wn,map:function(lr){return et(lr(At))},each:function(lr){lr(At)},bind:Ht,exists:Ht,forall:Ht,filter:function(lr){return lr(At)?Sn:Te},toArray:function(){return[At]},toString:function(){return"some("+At+")"}};return Sn},Qe=function(At){return At==null?Te:et(At)},$e={some:et,none:A,from:Qe},Ye=function(At,nn){return At.$.contains(At.getBody(),nn)},ut=function(At){return At&&/^(TH|TD)$/.test(At.nodeName)},ct=function(At){return function(nn){return nn&&/^(OL|UL|DL)$/.test(nn.nodeName)&&Ye(At,nn)}},qe=function(At){var nn=At.dom.getParent(At.selection.getNode(),"ol,ul"),wn=At.dom.getStyle(nn,"listStyleType");return $e.from(wn)},lt=function(At,nn){for(var wn=0;wn<At.length;wn++){var Ht=At[wn];if(nn(Ht))return wn}return-1},Ue=function(At){return At.replace(/\-/g," ").replace(/\b\w/g,function(nn){return nn.toUpperCase()})},pt=function(At,nn,wn){var Ht=lt(nn.parents,ut),Sn=Ht!==-1?nn.parents.slice(0,Ht):nn.parents,lr=x.grep(Sn,ct(At));return lr.length>0&&lr[0].nodeName===wn},It=function(At,nn){return function(wn){var Ht=function(Sn){wn.setActive(pt(At,Sn,nn))};return At.on("NodeChange",Ht),function(){return At.off("NodeChange",Ht)}}},Tt=function(At,nn,wn,Ht,Sn,lr){At.ui.registry.addSplitButton(nn,{tooltip:wn,icon:Sn==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(Ve){var jt=x.map(lr,function(cn){var yt=Sn==="OL"?"num":"bull",Mt=cn==="disc"||cn==="decimal"?"default":cn,Lt=cn==="default"?"":cn,qt=Ue(cn);return{type:"choiceitem",value:Lt,icon:"list-"+yt+"-"+Mt,text:qt}});Ve(jt)},onAction:function(){return At.execCommand(Ht)},onItemAction:function(Ve,jt){w(At,Sn,jt)},select:function(Ve){var jt=qe(At);return jt.map(function(cn){return Ve===cn}).getOr(!1)},onSetup:It(At,Sn)})},mt=function(At,nn,wn,Ht,Sn,lr){At.ui.registry.addToggleButton(nn,{active:!1,tooltip:wn,icon:Sn==="OL"?"ordered-list":"unordered-list",onSetup:It(At,Sn),onAction:function(){return At.execCommand(Ht)}})},vt=function(At,nn,wn,Ht,Sn,lr){lr.length>1?Tt(At,nn,wn,Ht,Sn,lr):mt(At,nn,wn,Ht,Sn)},Et=function(At){vt(At,"numlist","Numbered list","InsertOrderedList","OL",He(At)),vt(At,"bullist","Bullet list","InsertUnorderedList","UL",Ge(At))};function st(){g.add("advlist",function(At){At.hasPlugin("lists")&&(Et(At),C(At))})}st()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),C=tinymce.util.Tools.resolve("tinymce.util.Tools"),x=function(Et){return Et.getParam("allow_html_in_named_anchor",!1,"boolean")},He="a:not([href])",Ge=function(Et){return!Et},Xe=function(Et){var st=Et.getAttribute("id")||Et.getAttribute("name");return st||""},ze=function(Et){return Et&&Et.nodeName.toLowerCase()==="a"},We=function(Et){return ze(Et)&&!Et.getAttribute("href")&&Xe(Et)!==""},at=function(Et){return We(Et)&&!Et.firstChild},nt=function(Et){var st=Et.dom;w(st).walk(Et.selection.getRng(),function(At){C.each(At,function(nn){at(nn)&&st.remove(nn,!1)})})},A=function(Et){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Et)},Te=function(Et){return Et.dom.getParent(Et.selection.getStart(),He)},et=function(Et){var st=Te(Et);return st?Xe(st):""},Qe=function(Et,st){Et.undoManager.transact(function(){x(Et)||Et.selection.collapse(!0),Et.selection.isCollapsed()?Et.insertContent(Et.dom.createHTML("a",{id:st})):(nt(Et),Et.formatter.remove("namedAnchor",null,null,!0),Et.formatter.apply("namedAnchor",{value:st}),Et.addVisual())})},$e=function(Et,st,At){At.removeAttribute("name"),At.id=st,Et.addVisual(),Et.undoManager.add()},Ye=function(Et,st){var At=Te(Et);At?$e(Et,st,At):Qe(Et,st),Et.focus()},ut=function(Et,st){return A(st)?(Ye(Et,st),!0):(Et.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},ct=function(Et){var st=et(Et);Et.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:st},onSubmit:function(At){ut(Et,At.getData().id)&&At.close()}})},qe=function(Et){Et.addCommand("mceAnchor",function(){ct(Et)})},lt=function(Et){return Et&&Ge(Et.attr("href"))&&!Ge(Et.attr("id")||Et.attr("name"))},Ue=function(Et){return lt(Et)&&!Et.firstChild},pt=function(Et){return function(st){for(var At=0;At<st.length;At++){var nn=st[At];Ue(nn)&&nn.attr("contenteditable",Et)}}},It=function(Et){Et.on("PreInit",function(){Et.parser.addNodeFilter("a",pt("false")),Et.serializer.addNodeFilter("a",pt(null))})},Tt=function(Et){Et.formatter.register("namedAnchor",{inline:"a",selector:He,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(st,At,nn){return We(st)}})},mt=function(Et){Et.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return Et.execCommand("mceAnchor")},onSetup:function(st){return Et.selection.selectorChangedWithUnbind("a:not([href])",st.setActive).unbind}}),Et.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return Et.execCommand("mceAnchor")}})};function vt(){g.add("anchor",function(Et){It(Et),qe(Et),mt(Et),Et.on("PreInit",function(){Tt(Et)})})}vt()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(Tt,mt,vt){return Tt.length>=mt.length&&Tt.substr(vt,vt+mt.length)===mt},C=function(Tt,mt){return Tt.indexOf(mt)!==-1},x=function(Tt,mt){return w(Tt,mt,0)},He=tinymce.util.Tools.resolve("tinymce.Env"),Ge=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},Xe=new RegExp("^"+Ge().source+"$","i"),ze=function(Tt){return Tt.getParam("autolink_pattern",Xe)},We=function(Tt){return Tt.getParam("default_link_target",!1)},at=function(Tt){return Tt.getParam("link_default_protocol","http","string")},nt=function(Tt){return/^[(\[{ \u00a0]$/.test(Tt)},A=function(Tt){return Tt.nodeType===3},Te=function(Tt){return Tt.nodeType===1},et=function(Tt){return Ue(Tt,-1)},Qe=function(Tt){return Ue(Tt,0)},$e=function(Tt){return Ue(Tt,-1)},Ye=function(Tt,mt){if(mt<0&&(mt=0),A(Tt)){var vt=Tt.data.length;mt>vt&&(mt=vt)}return mt},ut=function(Tt,mt,vt){!Te(mt)||mt.hasChildNodes()?Tt.setStart(mt,Ye(mt,vt)):Tt.setStartBefore(mt)},ct=function(Tt,mt,vt){!Te(mt)||mt.hasChildNodes()?Tt.setEnd(mt,Ye(mt,vt)):Tt.setEndAfter(mt)},qe=function(Tt){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Tt)},lt=function(Tt){return/[?!,.;:]/.test(Tt)},Ue=function(Tt,mt){var vt,Et,st,At,nn,wn,Ht,Sn=ze(Tt),lr=We(Tt);if(Tt.dom.getParent(Tt.selection.getNode(),"a[href]")===null){var Ve=Tt.selection.getRng().cloneRange();if(Ve.startOffset<5){if(nn=Ve.endContainer.previousSibling,!nn){if(!Ve.endContainer.firstChild||!Ve.endContainer.firstChild.nextSibling)return;nn=Ve.endContainer.firstChild.nextSibling}if(wn=nn.length,ut(Ve,nn,wn),ct(Ve,nn,wn),Ve.endOffset<5)return;vt=Ve.endOffset,Et=nn}else{if(Et=Ve.endContainer,!A(Et)&&Et.firstChild){for(;!A(Et)&&Et.firstChild;)Et=Et.firstChild;A(Et)&&(ut(Ve,Et,0),ct(Ve,Et,Et.nodeValue.length))}Ve.endOffset===1?vt=2:vt=Ve.endOffset-1-mt}var jt=vt;do ut(Ve,Et,vt>=2?vt-2:0),ct(Ve,Et,vt>=1?vt-1:0),vt-=1,Ht=Ve.toString();while(!nt(Ht)&&vt-2>=0);nt(Ve.toString())?(ut(Ve,Et,vt),ct(Ve,Et,jt),vt+=1):Ve.startOffset===0?(ut(Ve,Et,0),ct(Ve,Et,jt)):(ut(Ve,Et,vt),ct(Ve,Et,jt)),At=Ve.toString(),lt(At.charAt(At.length-1))&&ct(Ve,Et,jt-1),At=Ve.toString().trim();var cn=At.match(Sn),yt=at(Tt);if(cn){var Mt=cn[0];x(Mt,"www.")?Mt=yt+"://"+Mt:C(Mt,"@")&&!qe(Mt)&&(Mt="mailto:"+Mt),st=Tt.selection.getBookmark(),Tt.selection.setRng(Ve),Tt.execCommand("createlink",!1,Mt),lr!==!1&&Tt.dom.setAttrib(Tt.selection.getNode(),"target",lr),Tt.selection.moveToBookmark(st),Tt.nodeChanged()}}},pt=function(Tt){var mt;if(Tt.on("keydown",function(vt){if(vt.keyCode===13)return $e(Tt)}),He.browser.isIE()){Tt.on("focus",function(){if(!mt){mt=!0;try{Tt.execCommand("AutoUrlDetect",!1,!0)}catch(vt){}}});return}Tt.on("keypress",function(vt){if(vt.keyCode===41||vt.keyCode===93||vt.keyCode===125)return et(Tt)}),Tt.on("keyup",function(vt){if(vt.keyCode===32)return Qe(Tt)})};function It(){g.add("autolink",function(Tt){pt(Tt)})}It()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(st){return function(At){return st===At}},C=w(void 0),x=tinymce.util.Tools.resolve("tinymce.util.Delay"),He=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Ge=tinymce.util.Tools.resolve("tinymce.util.Tools"),Xe=function(st){return st.fire("RestoreDraft")},ze=function(st){return st.fire("StoreDraft")},We=function(st){return st.fire("RemoveDraft")},at=function(st,At){var nn={s:1e3,m:6e4},wn=st||At,Ht=/^(\d+)([ms]?)$/.exec(""+wn);return(Ht[2]?nn[Ht[2]]:1)*parseInt(wn,10)},nt=function(st){return st.getParam("autosave_ask_before_unload",!0)},A=function(st){var At=document.location;return st.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,At.pathname).replace(/{query}/g,At.search).replace(/{hash}/g,At.hash).replace(/{id}/g,st.id)},Te=function(st){return st.getParam("autosave_restore_when_empty",!1)},et=function(st){return at(st.getParam("autosave_interval"),"30s")},Qe=function(st){return at(st.getParam("autosave_retention"),"20m")},$e=function(st,At){if(C(At))return st.dom.isEmpty(st.getBody());var nn=Ge.trim(At);if(nn==="")return!0;var wn=new DOMParser().parseFromString(nn,"text/html");return st.dom.isEmpty(wn)},Ye=function(st){var At=parseInt(He.getItem(A(st)+"time"),10)||0;return new Date().getTime()-At>Qe(st)?(ut(st,!1),!1):!0},ut=function(st,At){var nn=A(st);He.removeItem(nn+"draft"),He.removeItem(nn+"time"),At!==!1&&We(st)},ct=function(st){var At=A(st);!$e(st)&&st.isDirty()&&(He.setItem(At+"draft",st.getContent({format:"raw",no_events:!0})),He.setItem(At+"time",new Date().getTime().toString()),ze(st))},qe=function(st){var At=A(st);Ye(st)&&(st.setContent(He.getItem(At+"draft"),{format:"raw"}),Xe(st))},lt=function(st){var At=et(st);x.setEditorInterval(st,function(){ct(st)},At)},Ue=function(st){st.undoManager.transact(function(){qe(st),ut(st)}),st.focus()},pt=function(st){return{hasDraft:function(){return Ye(st)},storeDraft:function(){return ct(st)},restoreDraft:function(){return qe(st)},removeDraft:function(At){return ut(st,At)},isEmpty:function(At){return $e(st,At)}}},It=tinymce.util.Tools.resolve("tinymce.EditorManager"),Tt=function(st){st.editorManager.on("BeforeUnload",function(At){var nn;Ge.each(It.get(),function(wn){wn.plugins.autosave&&wn.plugins.autosave.storeDraft(),!nn&&wn.isDirty()&&nt(wn)&&(nn=wn.translate("You have unsaved changes are you sure you want to navigate away?"))}),nn&&(At.preventDefault(),At.returnValue=nn)})},mt=function(st){return function(At){At.setDisabled(!Ye(st));var nn=function(){return At.setDisabled(!Ye(st))};return st.on("StoreDraft RestoreDraft RemoveDraft",nn),function(){return st.off("StoreDraft RestoreDraft RemoveDraft",nn)}}},vt=function(st){lt(st),st.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){Ue(st)},onSetup:mt(st)}),st.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){Ue(st)},onSetup:mt(st)})};function Et(){g.add("autosave",function(st){return Tt(st),vt(st),st.on("init",function(){Te(st)&&st.dom.isEmpty(st.getBody())&&qe(st)}),pt(st)})}Et()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(ze,We){ze.focus(),ze.undoManager.transact(function(){ze.setContent(We)}),ze.selection.setCursorLocation(),ze.nodeChanged()},C=function(ze){return ze.getContent({source_view:!0})},x=function(ze){var We=C(ze);ze.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:We},onSubmit:function(at){w(ze,at.getData().code),at.close()}})},He=function(ze){ze.addCommand("mceCodeEditor",function(){x(ze)})},Ge=function(ze){var We=function(){return ze.execCommand("mceCodeEditor")};ze.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:We}),ze.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:We})};function Xe(){g.add("code",function(ze){return He(ze),Ge(ze),{}})}Xe()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(){},C=function(jt){return function(){return jt}},x=function(jt){return jt},He=C(!1),Ge=C(!0),Xe=function(){return ze},ze=function(){var jt=function(Mt){return Mt()},cn=x,yt={fold:function(Mt,Lt){return Mt()},isSome:He,isNone:Ge,getOr:cn,getOrThunk:jt,getOrDie:function(Mt){throw new Error(Mt||"error: getOrDie called on none.")},getOrNull:C(null),getOrUndefined:C(void 0),or:cn,orThunk:jt,map:Xe,each:w,bind:Xe,exists:He,forall:Ge,filter:function(){return Xe()},toArray:function(){return[]},toString:C("none()")};return yt}(),We=function(jt){var cn=C(jt),yt=function(){return Lt},Mt=function(qt){return qt(jt)},Lt={fold:function(qt,an){return an(jt)},isSome:Ge,isNone:He,getOr:cn,getOrThunk:cn,getOrDie:cn,getOrNull:cn,getOrUndefined:cn,or:yt,orThunk:yt,map:function(qt){return We(qt(jt))},each:function(qt){qt(jt)},bind:Mt,exists:Mt,forall:Mt,filter:function(qt){return qt(jt)?Lt:ze},toArray:function(){return[jt]},toString:function(){return"some("+jt+")"}};return Lt},at=function(jt){return jt==null?ze:We(jt)},nt={some:We,none:Xe,from:at},A=function(jt,cn){return cn<jt.length?nt.some(jt[cn]):nt.none()},Te=function(jt){return A(jt,0)},et=function(jt,cn){return jt?nt.some(cn):nt.none()},Qe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$e=function(jt){return jt&&jt.nodeName==="PRE"&&jt.className.indexOf("language-")!==-1},Ye=function(jt){return function(cn,yt){return jt(yt)}},ut=typeof window!="undefined"?window:Function("return this;")(),ct={},qe={exports:ct},lt={};(function(jt,cn,yt,Mt){var Lt=window.Prism;window.Prism={manual:!0},function(an,ot){typeof cn=="object"&&typeof yt!="undefined"?yt.exports=ot():(an=typeof globalThis!="undefined"?globalThis:an||self,an.EphoxContactWrapper=ot())}(this,function(){var an=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof lt!="undefined"?lt:typeof self!="undefined"?self:{},ot={exports:{}};(function(xt){var vn=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{},Ot=function(Zt){var mn=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,ln=0,Ft={},bn={manual:Zt.Prism&&Zt.Prism.manual,disableWorkerMessageHandler:Zt.Prism&&Zt.Prism.disableWorkerMessageHandler,util:{encode:function hr(yr){return yr instanceof Kn?new Kn(yr.type,hr(yr.content),yr.alias):Array.isArray(yr)?yr.map(hr):yr.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(hr){return Object.prototype.toString.call(hr).slice(8,-1)},objId:function(hr){return hr.__id||Object.defineProperty(hr,"__id",{value:++ln}),hr.__id},clone:function hr(yr,mr){mr=mr||{};var Pn,zn;switch(bn.util.type(yr)){case"Object":if(zn=bn.util.objId(yr),mr[zn])return mr[zn];Pn={},mr[zn]=Pn;for(var kr in yr)yr.hasOwnProperty(kr)&&(Pn[kr]=hr(yr[kr],mr));return Pn;case"Array":return zn=bn.util.objId(yr),mr[zn]?mr[zn]:(Pn=[],mr[zn]=Pn,yr.forEach(function($r,Cr){Pn[Cr]=hr($r,mr)}),Pn);default:return yr}},getLanguage:function(hr){for(;hr;){var yr=mn.exec(hr.className);if(yr)return yr[1].toLowerCase();hr=hr.parentElement}return"none"},setLanguage:function(hr,yr){hr.className=hr.className.replace(RegExp(mn.source,"gi"),""),hr.classList.add("language-"+yr)},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(Pn){var hr=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Pn.stack)||[])[1];if(hr){var yr=document.getElementsByTagName("script");for(var mr in yr)if(yr[mr].src==hr)return yr[mr]}return null}},isActive:function(hr,yr,mr){for(var Pn="no-"+yr;hr;){var zn=hr.classList;if(zn.contains(yr))return!0;if(zn.contains(Pn))return!1;hr=hr.parentElement}return!!mr}},languages:{plain:Ft,plaintext:Ft,text:Ft,txt:Ft,extend:function(hr,yr){var mr=bn.util.clone(bn.languages[hr]);for(var Pn in yr)mr[Pn]=yr[Pn];return mr},insertBefore:function(hr,yr,mr,Pn){Pn=Pn||bn.languages;var zn=Pn[hr],kr={};for(var $r in zn)if(zn.hasOwnProperty($r)){if($r==yr)for(var Cr in mr)mr.hasOwnProperty(Cr)&&(kr[Cr]=mr[Cr]);mr.hasOwnProperty($r)||(kr[$r]=zn[$r])}var Nn=Pn[hr];return Pn[hr]=kr,bn.languages.DFS(bn.languages,function(ir,Ur){Ur===Nn&&ir!=hr&&(this[ir]=kr)}),kr},DFS:function hr(yr,mr,Pn,zn){zn=zn||{};var kr=bn.util.objId;for(var $r in yr)if(yr.hasOwnProperty($r)){mr.call(yr,$r,yr[$r],Pn||$r);var Cr=yr[$r],Nn=bn.util.type(Cr);Nn==="Object"&&!zn[kr(Cr)]?(zn[kr(Cr)]=!0,hr(Cr,mr,null,zn)):Nn==="Array"&&!zn[kr(Cr)]&&(zn[kr(Cr)]=!0,hr(Cr,mr,$r,zn))}}},plugins:{},highlightAll:function(hr,yr){bn.highlightAllUnder(document,hr,yr)},highlightAllUnder:function(hr,yr,mr){var Pn={callback:mr,container:hr,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};bn.hooks.run("before-highlightall",Pn),Pn.elements=Array.prototype.slice.apply(Pn.container.querySelectorAll(Pn.selector)),bn.hooks.run("before-all-elements-highlight",Pn);for(var zn=0,kr;kr=Pn.elements[zn++];)bn.highlightElement(kr,yr===!0,Pn.callback)},highlightElement:function(hr,yr,mr){var Pn=bn.util.getLanguage(hr),zn=bn.languages[Pn];bn.util.setLanguage(hr,Pn);var kr=hr.parentElement;kr&&kr.nodeName.toLowerCase()==="pre"&&bn.util.setLanguage(kr,Pn);var $r=hr.textContent,Cr={element:hr,language:Pn,grammar:zn,code:$r};function Nn(Ur){Cr.highlightedCode=Ur,bn.hooks.run("before-insert",Cr),Cr.element.innerHTML=Cr.highlightedCode,bn.hooks.run("after-highlight",Cr),bn.hooks.run("complete",Cr),mr&&mr.call(Cr.element)}if(bn.hooks.run("before-sanity-check",Cr),kr=Cr.element.parentElement,kr&&kr.nodeName.toLowerCase()==="pre"&&!kr.hasAttribute("tabindex")&&kr.setAttribute("tabindex","0"),!Cr.code){bn.hooks.run("complete",Cr),mr&&mr.call(Cr.element);return}if(bn.hooks.run("before-highlight",Cr),!Cr.grammar){Nn(bn.util.encode(Cr.code));return}if(yr&&Zt.Worker){var ir=new Worker(bn.filename);ir.onmessage=function(Ur){Nn(Ur.data)},ir.postMessage(JSON.stringify({language:Cr.language,code:Cr.code,immediateClose:!0}))}else Nn(bn.highlight(Cr.code,Cr.grammar,Cr.language))},highlight:function(hr,yr,mr){var Pn={code:hr,grammar:yr,language:mr};if(bn.hooks.run("before-tokenize",Pn),!Pn.grammar)throw new Error('The language "'+Pn.language+'" has no grammar.');return Pn.tokens=bn.tokenize(Pn.code,Pn.grammar),bn.hooks.run("after-tokenize",Pn),Kn.stringify(bn.util.encode(Pn.tokens),Pn.language)},tokenize:function(hr,yr){var mr=yr.rest;if(mr){for(var Pn in mr)yr[Pn]=mr[Pn];delete yr.rest}var zn=new rr;return Vn(zn,zn.head,hr),Rn(hr,zn,yr,zn.head,0),la(zn)},hooks:{all:{},add:function(hr,yr){var mr=bn.hooks.all;mr[hr]=mr[hr]||[],mr[hr].push(yr)},run:function(hr,yr){var mr=bn.hooks.all[hr];if(!(!mr||!mr.length))for(var Pn=0,zn;zn=mr[Pn++];)zn(yr)}},Token:Kn};Zt.Prism=bn;function Kn(hr,yr,mr,Pn){this.type=hr,this.content=yr,this.alias=mr,this.length=(Pn||"").length|0}Kn.stringify=function hr(yr,mr){if(typeof yr=="string")return yr;if(Array.isArray(yr)){var Pn="";return yr.forEach(function(Nn){Pn+=hr(Nn,mr)}),Pn}var zn={type:yr.type,content:hr(yr.content,mr),tag:"span",classes:["token",yr.type],attributes:{},language:mr},kr=yr.alias;kr&&(Array.isArray(kr)?Array.prototype.push.apply(zn.classes,kr):zn.classes.push(kr)),bn.hooks.run("wrap",zn);var $r="";for(var Cr in zn.attributes)$r+=" "+Cr+'="'+(zn.attributes[Cr]||"").replace(/"/g,"&quot;")+'"';return"<"+zn.tag+' class="'+zn.classes.join(" ")+'"'+$r+">"+zn.content+"</"+zn.tag+">"};function Jt(hr,yr,mr,Pn){hr.lastIndex=yr;var zn=hr.exec(mr);if(zn&&Pn&&zn[1]){var kr=zn[1].length;zn.index+=kr,zn[0]=zn[0].slice(kr)}return zn}function Rn(hr,yr,mr,Pn,zn,kr){for(var $r in mr)if(!(!mr.hasOwnProperty($r)||!mr[$r])){var Cr=mr[$r];Cr=Array.isArray(Cr)?Cr:[Cr];for(var Nn=0;Nn<Cr.length;++Nn){if(kr&&kr.cause==$r+","+Nn)return;var ir=Cr[Nn],Ur=ir.inside,Mr=!!ir.lookbehind,jr=!!ir.greedy,hn=ir.alias;if(jr&&!ir.pattern.global){var Qn=ir.pattern.toString().match(/[imsuy]*$/)[0];ir.pattern=RegExp(ir.pattern.source,Qn+"g")}for(var jn=ir.pattern||ir,gr=Pn.next,sa=zn;gr!==yr.tail&&!(kr&&sa>=kr.reach);sa+=gr.value.length,gr=gr.next){var Va=gr.value;if(yr.length>hr.length)return;if(!(Va instanceof Kn)){var _o=1,Ka;if(jr){if(Ka=Jt(jn,sa,hr,Mr),!Ka||Ka.index>=hr.length)break;var wo=Ka.index,Ya=Ka.index+Ka[0].length,ni=sa;for(ni+=gr.value.length;wo>=ni;)gr=gr.next,ni+=gr.value.length;if(ni-=gr.value.length,sa=ni,gr.value instanceof Kn)continue;for(var Zi=gr;Zi!==yr.tail&&(ni<Ya||typeof Zi.value=="string");Zi=Zi.next)_o++,ni+=Zi.value.length;_o--,Va=hr.slice(sa,ni),Ka.index-=sa}else if(Ka=Jt(jn,0,Va,Mr),!Ka)continue;var wo=Ka.index,mi=Ka[0],ii=Va.slice(0,wo),ou=Va.slice(wo+mi.length),pi=sa+Va.length;kr&&pi>kr.reach&&(kr.reach=pi);var wi=gr.prev;ii&&(wi=Vn(yr,wi,ii),sa+=ii.length),Br(yr,wi,_o);var $i=new Kn($r,Ur?bn.tokenize(mi,Ur):mi,hn,mi);if(gr=Vn(yr,wi,$i),ou&&Vn(yr,gr,ou),_o>1){var fo={cause:$r+","+Nn,reach:pi};Rn(hr,yr,mr,gr.prev,sa,fo),kr&&fo.reach>kr.reach&&(kr.reach=fo.reach)}}}}}}function rr(){var hr={value:null,prev:null,next:null},yr={value:null,prev:hr,next:null};hr.next=yr,this.head=hr,this.tail=yr,this.length=0}function Vn(hr,yr,mr){var Pn=yr.next,zn={value:mr,prev:yr,next:Pn};return yr.next=zn,Pn.prev=zn,hr.length++,zn}function Br(hr,yr,mr){for(var Pn=yr.next,zn=0;zn<mr&&Pn!==hr.tail;zn++)Pn=Pn.next;yr.next=Pn,Pn.prev=yr,hr.length-=zn}function la(hr){for(var yr=[],mr=hr.head.next;mr!==hr.tail;)yr.push(mr.value),mr=mr.next;return yr}if(!Zt.document)return Zt.addEventListener&&(bn.disableWorkerMessageHandler||Zt.addEventListener("message",function(hr){var yr=JSON.parse(hr.data),mr=yr.language,Pn=yr.code,zn=yr.immediateClose;Zt.postMessage(bn.highlight(Pn,bn.languages[mr],mr)),zn&&Zt.close()},!1)),bn;var fa=bn.util.currentScript();fa&&(bn.filename=fa.src,fa.hasAttribute("data-manual")&&(bn.manual=!0));function co(){bn.manual||bn.highlightAll()}if(!bn.manual){var Eo=document.readyState;Eo==="loading"||Eo==="interactive"&&fa&&fa.defer?document.addEventListener("DOMContentLoaded",co):window.requestAnimationFrame?window.requestAnimationFrame(co):window.setTimeout(co,16)}return bn}(vn);xt.exports&&(xt.exports=Ot),typeof an!="undefined"&&(an.Prism=Ot)})(ot),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(xt){function vn(Ot,Zt){return"___"+Ot.toUpperCase()+Zt+"___"}Object.defineProperties(xt.languages["markup-templating"]={},{buildPlaceholders:{value:function(Ot,Zt,mn,ln){if(Ot.language===Zt){var Ft=Ot.tokenStack=[];Ot.code=Ot.code.replace(mn,function(bn){if(typeof ln=="function"&&!ln(bn))return bn;for(var Kn=Ft.length,Jt;Ot.code.indexOf(Jt=vn(Zt,Kn))!==-1;)++Kn;return Ft[Kn]=bn,Jt}),Ot.grammar=xt.languages.markup}}},tokenizePlaceholders:{value:function(Ot,Zt){if(Ot.language!==Zt||!Ot.tokenStack)return;Ot.grammar=xt.languages[Zt];var mn=0,ln=Object.keys(Ot.tokenStack);function Ft(bn){for(var Kn=0;Kn<bn.length&&!(mn>=ln.length);Kn++){var Jt=bn[Kn];if(typeof Jt=="string"||Jt.content&&typeof Jt.content=="string"){var Rn=ln[mn],rr=Ot.tokenStack[Rn],Vn=typeof Jt=="string"?Jt:Jt.content,Br=vn(Zt,Rn),la=Vn.indexOf(Br);if(la>-1){++mn;var fa=Vn.substring(0,la),co=new xt.Token(Zt,xt.tokenize(rr,Ot.grammar),"language-"+Zt,rr),Eo=Vn.substring(la+Br.length),hr=[];fa&&hr.push.apply(hr,Ft([fa])),hr.push(co),Eo&&hr.push.apply(hr,Ft([Eo])),typeof Jt=="string"?bn.splice.apply(bn,[Kn,1].concat(hr)):Jt.content=hr}}else Jt.content&&Ft(Jt.content)}return bn}Ft(Ot.tokens)}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(xt){var vn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,Ot=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return vn.source});xt.languages.cpp=xt.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return vn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:vn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),xt.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return Ot})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),xt.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:xt.languages.cpp}}}}),xt.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),xt.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:xt.languages.extend("cpp",{})}}),xt.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},xt.languages.cpp["base-clause"])}(Prism),function(xt){function vn(sa,Va){return sa.replace(/<<(\d+)>>/g,function(_o,Ka){return"(?:"+Va[+Ka]+")"})}function Ot(sa,Va,_o){return RegExp(vn(sa,Va),"")}function Zt(sa,Va){for(var _o=0;_o<Va;_o++)sa=sa.replace(/<<self>>/g,function(){return"(?:"+sa+")"});return sa.replace(/<<self>>/g,"[^\\s\\S]")}var mn={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function ln(sa){return"\\b(?:"+sa.trim().replace(/ /g,"|")+")\\b"}var Ft=ln(mn.typeDeclaration),bn=RegExp(ln(mn.type+" "+mn.typeDeclaration+" "+mn.contextual+" "+mn.other)),Kn=ln(mn.typeDeclaration+" "+mn.contextual+" "+mn.other),Jt=ln(mn.type+" "+mn.typeDeclaration+" "+mn.other),Rn=Zt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),rr=Zt(/\((?:[^()]|<<self>>)*\)/.source,2),Vn=/@?\b[A-Za-z_]\w*\b/.source,Br=vn(/<<0>>(?:\s*<<1>>)?/.source,[Vn,Rn]),la=vn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[Kn,Br]),fa=/\[\s*(?:,\s*)*\]/.source,co=vn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[la,fa]),Eo=vn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[Rn,rr,fa]),hr=vn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Eo]),yr=vn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[hr,la,fa]),mr={keyword:bn,punctuation:/[<>()?,.:[\]]/},Pn=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,zn=/"(?:\\.|[^\\"\r\n])*"/.source,kr=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;xt.languages.csharp=xt.languages.extend("clike",{string:[{pattern:Ot(/(^|[^$\\])<<0>>/.source,[kr]),lookbehind:!0,greedy:!0},{pattern:Ot(/(^|[^@$\\])<<0>>/.source,[zn]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:Ot(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[la]),lookbehind:!0,inside:mr},{pattern:Ot(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[Vn,yr]),lookbehind:!0,inside:mr},{pattern:Ot(/(\busing\s+)<<0>>(?=\s*=)/.source,[Vn]),lookbehind:!0},{pattern:Ot(/(\b<<0>>\s+)<<1>>/.source,[Ft,Br]),lookbehind:!0,inside:mr},{pattern:Ot(/(\bcatch\s*\(\s*)<<0>>/.source,[la]),lookbehind:!0,inside:mr},{pattern:Ot(/(\bwhere\s+)<<0>>/.source,[Vn]),lookbehind:!0},{pattern:Ot(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[co]),lookbehind:!0,inside:mr},{pattern:Ot(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[yr,Jt,Vn]),inside:mr}],keyword:bn,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),xt.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),xt.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:Ot(/([(,]\s*)<<0>>(?=\s*:)/.source,[Vn]),lookbehind:!0,alias:"punctuation"}}),xt.languages.insertBefore("csharp","class-name",{namespace:{pattern:Ot(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[Vn]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:Ot(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[rr]),lookbehind:!0,alias:"class-name",inside:mr},"return-type":{pattern:Ot(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[yr,la]),inside:mr,alias:"class-name"},"constructor-invocation":{pattern:Ot(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[yr]),lookbehind:!0,inside:mr,alias:"class-name"},"generic-method":{pattern:Ot(/<<0>>\s*<<1>>(?=\s*\()/.source,[Vn,Rn]),inside:{function:Ot(/^<<0>>/.source,[Vn]),generic:{pattern:RegExp(Rn),alias:"class-name",inside:mr}}},"type-list":{pattern:Ot(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[Ft,Br,Vn,yr,bn.source,rr,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:Ot(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Br,rr]),lookbehind:!0,greedy:!0,inside:xt.languages.csharp},keyword:bn,"class-name":{pattern:RegExp(yr),greedy:!0,inside:mr},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var $r=zn+"|"+Pn,Cr=vn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[$r]),Nn=Zt(vn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Cr]),2),ir=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Ur=vn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[la,Nn]);xt.languages.insertBefore("csharp","class-name",{attribute:{pattern:Ot(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[ir,Ur]),lookbehind:!0,greedy:!0,inside:{target:{pattern:Ot(/^<<0>>(?=\s*:)/.source,[ir]),alias:"keyword"},"attribute-arguments":{pattern:Ot(/\(<<0>>*\)/.source,[Nn]),inside:xt.languages.csharp},"class-name":{pattern:RegExp(la),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Mr=/:[^}\r\n]+/.source,jr=Zt(vn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Cr]),2),hn=vn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[jr,Mr]),Qn=Zt(vn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[$r]),2),jn=vn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Qn,Mr]);function gr(sa,Va){return{interpolation:{pattern:Ot(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[sa]),lookbehind:!0,inside:{"format-string":{pattern:Ot(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Va,Mr]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:xt.languages.csharp}}},string:/[\s\S]+/}}xt.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:Ot(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[hn]),lookbehind:!0,greedy:!0,inside:gr(hn,jr)},{pattern:Ot(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[jn]),lookbehind:!0,greedy:!0,inside:gr(jn,Qn)}],char:{pattern:RegExp(Pn),greedy:!0}}),xt.languages.dotnet=xt.languages.cs=xt.languages.csharp}(Prism),function(xt){var vn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;xt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+vn.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+vn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+vn.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+vn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:vn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},xt.languages.css.atrule.inside.rest=xt.languages.css;var Ot=xt.languages.markup;Ot&&(Ot.tag.addInlined("style","css"),Ot.tag.addAttribute("style","css"))}(Prism),function(xt){var vn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,Ot=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Zt={pattern:RegExp(/(^|[^\w.])/.source+Ot+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};xt.languages.java=xt.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Zt,{pattern:RegExp(/(^|[^\w.])/.source+Ot+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Zt.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+Ot+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Zt.inside}],keyword:vn,function:[xt.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),xt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),xt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Zt,keyword:vn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+Ot+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Zt.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+Ot+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Zt.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return vn.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(xt){xt.type==="entity"&&(xt.attributes.title=xt.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(vn,Ot){var Zt={};Zt["language-"+Ot]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[Ot]},Zt.cdata=/^<!\[CDATA\[|\]\]>$/i;var mn={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Zt}};mn["language-"+Ot]={pattern:/[\s\S]+/,inside:Prism.languages[Ot]};var ln={};ln[vn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return vn}),"i"),lookbehind:!0,greedy:!0,inside:mn},Prism.languages.insertBefore("markup","cdata",ln)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(xt,vn){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+xt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[vn,"language-"+vn],inside:Prism.languages[vn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(xt){var vn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,Ot=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Zt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,mn=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,ln=/[{}\[\](),:;]/;xt.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:vn,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ot,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Zt,operator:mn,punctuation:ln};var Ft={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:xt.languages.php},bn=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:Ft}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:Ft}}];xt.languages.insertBefore("php","variable",{string:bn,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:vn,string:bn,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ot,number:Zt,operator:mn,punctuation:ln}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),xt.hooks.add("before-tokenize",function(Kn){if(/<\?/.test(Kn.code)){var Jt=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;xt.languages["markup-templating"].buildPlaceholders(Kn,"php",Jt)}}),xt.hooks.add("after-tokenize",function(Kn){xt.languages["markup-templating"].tokenizePlaceholders(Kn,"php")})}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(xt){xt.languages.ruby=xt.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),xt.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var vn={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:xt.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete xt.languages.ruby.function;var Ot="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Zt=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;xt.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+Ot+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:vn,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:vn,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Zt),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Zt+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),xt.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+Ot),greedy:!0,inside:{interpolation:vn,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:vn,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:vn,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+Ot),greedy:!0,inside:{interpolation:vn,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:vn,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete xt.languages.ruby.string,xt.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),xt.languages.rb=xt.languages.ruby}(Prism);var En=ot.exports,Pt={boltExport:En};return Pt});var qt=window.Prism;return window.Prism=Lt,qt})(void 0,ct,qe);var Ue=qe.exports.boltExport,pt=function(jt){return jt.getParam("codesample_languages")},It=function(jt){return jt.getParam("codesample_global_prismjs",!1,"boolean")},Tt=function(jt){return ut.Prism&&It(jt)?ut.Prism:Ue},mt=function(jt){var cn=jt.selection?jt.selection.getNode():null;return et($e(cn),cn)},vt=function(jt,cn,yt){jt.undoManager.transact(function(){var Mt=mt(jt);return yt=Qe.DOM.encode(yt),Mt.fold(function(){jt.insertContent('<pre id="__new" class="language-'+cn+'">'+yt+"</pre>"),jt.selection.select(jt.$("#__new").removeAttr("id")[0])},function(Lt){jt.dom.setAttrib(Lt,"class","language-"+cn),Lt.innerHTML=yt,Tt(jt).highlightElement(Lt),jt.selection.select(Lt)})})},Et=function(jt){var cn=mt(jt);return cn.fold(C(""),function(yt){return yt.textContent})},st=function(jt){var cn=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],yt=pt(jt);return yt||cn},At=function(jt,cn){var yt=mt(jt);return yt.fold(function(){return cn},function(Mt){var Lt=Mt.className.match(/language-(\w+)/);return Lt?Lt[1]:cn})},nn=function(jt){var cn=st(jt),yt=Te(cn).fold(C(""),function(qt){return qt.value}),Mt=At(jt,yt),Lt=Et(jt);jt.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:cn},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:Mt,code:Lt},onSubmit:function(qt){var an=qt.getData();vt(jt,an.language,an.code),qt.close()}})},wn=function(jt){jt.addCommand("codesample",function(){var cn=jt.selection.getNode();jt.selection.isCollapsed()||$e(cn)?nn(jt):jt.formatter.toggle("code")})},Ht=function(jt){var cn=jt.$;jt.on("PreProcess",function(yt){cn("pre[contenteditable=false]",yt.node).filter(Ye($e)).each(function(Mt,Lt){var qt=cn(Lt),an=Lt.textContent;qt.attr("class",cn.trim(qt.attr("class"))),qt.removeAttr("contentEditable"),qt.empty().append(cn("<code></code>").each(function(){this.textContent=an}))})}),jt.on("SetContent",function(){var yt=cn("pre").filter(Ye($e)).filter(function(Mt,Lt){return Lt.contentEditable!=="false"});yt.length&&jt.undoManager.transact(function(){yt.each(function(Mt,Lt){cn(Lt).find("br").each(function(qt,an){an.parentNode.replaceChild(jt.getDoc().createTextNode(`
`),an)}),Lt.contentEditable="false",Lt.innerHTML=jt.dom.encode(Lt.textContent),Tt(jt).highlightElement(Lt),Lt.className=cn.trim(Lt.className)})})})},Sn=function(jt){var cn=jt.selection.getStart();return jt.dom.is(cn,'pre[class*="language-"]')},lr=function(jt){var cn=function(){return jt.execCommand("codesample")};jt.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:cn,onSetup:function(yt){var Mt=function(){yt.setActive(Sn(jt))};return jt.on("NodeChange",Mt),function(){return jt.off("NodeChange",Mt)}}}),jt.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:cn})};function Ve(){g.add("codesample",function(jt){Ht(jt),lr(jt),wn(jt),jt.on("dblclick",function(cn){$e(cn.target)&&nn(jt)})})}Ve()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(Nn){var ir=typeof Nn;return Nn===null?"null":ir==="object"&&(Array.prototype.isPrototypeOf(Nn)||Nn.constructor&&Nn.constructor.name==="Array")?"array":ir==="object"&&(String.prototype.isPrototypeOf(Nn)||Nn.constructor&&Nn.constructor.name==="String")?"string":ir},C=function(Nn){return function(ir){return w(ir)===Nn}},x=function(Nn){return function(ir){return typeof ir===Nn}},He=C("string"),Ge=x("boolean"),Xe=function(Nn){return Nn==null},ze=function(Nn){return!Xe(Nn)},We=x("function"),at=x("number"),nt=function(){},A=function(Nn,ir){return function(Ur){return Nn(ir(Ur))}},Te=function(Nn){return function(){return Nn}},et=function(Nn){return Nn},Qe=Te(!1),$e=Te(!0),Ye=function(){return ut},ut=function(){var Nn=function(Mr){return Mr()},ir=et,Ur={fold:function(Mr,jr){return Mr()},isSome:Qe,isNone:$e,getOr:ir,getOrThunk:Nn,getOrDie:function(Mr){throw new Error(Mr||"error: getOrDie called on none.")},getOrNull:Te(null),getOrUndefined:Te(void 0),or:ir,orThunk:Nn,map:Ye,each:nt,bind:Ye,exists:Qe,forall:$e,filter:function(){return Ye()},toArray:function(){return[]},toString:Te("none()")};return Ur}(),ct=function(Nn){var ir=Te(Nn),Ur=function(){return jr},Mr=function(hn){return hn(Nn)},jr={fold:function(hn,Qn){return Qn(Nn)},isSome:$e,isNone:Qe,getOr:ir,getOrThunk:ir,getOrDie:ir,getOrNull:ir,getOrUndefined:ir,or:Ur,orThunk:Ur,map:function(hn){return ct(hn(Nn))},each:function(hn){hn(Nn)},bind:Mr,exists:Mr,forall:Mr,filter:function(hn){return hn(Nn)?jr:ut},toArray:function(){return[Nn]},toString:function(){return"some("+Nn+")"}};return jr},qe=function(Nn){return Nn==null?ut:ct(Nn)},lt={some:ct,none:Ye,from:qe},Ue=function(Nn,ir){for(var Ur=Nn.length,Mr=new Array(Ur),jr=0;jr<Ur;jr++){var hn=Nn[jr];Mr[jr]=ir(hn,jr)}return Mr},pt=function(Nn,ir){for(var Ur=0,Mr=Nn.length;Ur<Mr;Ur++){var jr=Nn[Ur];ir(jr,Ur)}},It=function(Nn,ir){for(var Ur=[],Mr=0,jr=Nn.length;Mr<jr;Mr++){var hn=Nn[Mr];ir(hn,Mr)&&Ur.push(hn)}return Ur},Tt=9,mt=11,vt=1,Et=3,st=function(Nn,ir){var Ur=ir||document,Mr=Ur.createElement("div");if(Mr.innerHTML=Nn,!Mr.hasChildNodes()||Mr.childNodes.length>1)throw new Error("HTML must have a single root node");return wn(Mr.childNodes[0])},At=function(Nn,ir){var Ur=ir||document,Mr=Ur.createElement(Nn);return wn(Mr)},nn=function(Nn,ir){var Ur=ir||document,Mr=Ur.createTextNode(Nn);return wn(Mr)},wn=function(Nn){if(Nn==null)throw new Error("Node cannot be null or undefined");return{dom:Nn}},Ht=function(Nn,ir,Ur){return lt.from(Nn.dom.elementFromPoint(ir,Ur)).map(wn)},Sn={fromHtml:st,fromTag:At,fromText:nn,fromDom:wn,fromPoint:Ht},lr=function(Nn,ir){var Ur=Nn.dom;if(Ur.nodeType!==vt)return!1;var Mr=Ur;if(Mr.matches!==void 0)return Mr.matches(ir);if(Mr.msMatchesSelector!==void 0)return Mr.msMatchesSelector(ir);if(Mr.webkitMatchesSelector!==void 0)return Mr.webkitMatchesSelector(ir);if(Mr.mozMatchesSelector!==void 0)return Mr.mozMatchesSelector(ir);throw new Error("Browser lacks native selectors")};typeof window!="undefined"||Function("return this;")();var Ve=function(Nn){var ir=Nn.dom.nodeName;return ir.toLowerCase()},jt=function(Nn){return Nn.dom.nodeType},cn=function(Nn){return function(ir){return jt(ir)===Nn}},yt=cn(vt),Mt=cn(Et),Lt=cn(Tt),qt=cn(mt),an=function(Nn){return function(ir){return yt(ir)&&Ve(ir)===Nn}},ot=function(Nn){return Sn.fromDom(Nn.dom.ownerDocument)},En=function(Nn){return Lt(Nn)?Nn:ot(Nn)},Pt=function(Nn){return lt.from(Nn.dom.parentNode).map(Sn.fromDom)},xt=function(Nn){return Ue(Nn.dom.childNodes,Sn.fromDom)},vn=function(Nn,ir,Ur){if(He(Ur)||Ge(Ur)||at(Ur))Nn.setAttribute(ir,Ur+"");else throw new Error("Attribute value was not simple")},Ot=function(Nn,ir,Ur){vn(Nn.dom,ir,Ur)},Zt=function(Nn,ir){Nn.dom.removeAttribute(ir)},mn=function(Nn){return qt(Nn)&&ze(Nn.dom.host)},ln=We(Element.prototype.attachShadow)&&We(Node.prototype.getRootNode),Ft=ln?function(Nn){return Sn.fromDom(Nn.dom.getRootNode())}:En,bn=function(Nn){var ir=Ft(Nn);return mn(ir)?lt.some(ir):lt.none()},Kn=function(Nn){return Sn.fromDom(Nn.dom.host)},Jt=function(Nn){var ir=Mt(Nn)?Nn.dom.parentNode:Nn.dom;if(ir==null||ir.ownerDocument===null)return!1;var Ur=ir.ownerDocument;return bn(Sn.fromDom(ir)).fold(function(){return Ur.body.contains(ir)},A(Jt,Kn))},Rn=function(Nn,ir,Ur){for(var Mr=Nn.dom,jr=We(Ur)?Ur:Qe;Mr.parentNode;){Mr=Mr.parentNode;var hn=Sn.fromDom(Mr);if(ir(hn))return lt.some(hn);if(jr(hn))break}return lt.none()},rr=function(Nn,ir,Ur){return Rn(Nn,function(Mr){return lr(Mr,ir)},Ur)},Vn=function(Nn){return Nn.style!==void 0&&We(Nn.style.getPropertyValue)},Br=function(Nn,ir){var Ur=Nn.dom,Mr=window.getComputedStyle(Ur),jr=Mr.getPropertyValue(ir);return jr===""&&!Jt(Nn)?la(Ur,ir):jr},la=function(Nn,ir){return Vn(Nn)?Nn.style.getPropertyValue(ir):""},fa=function(Nn){return Br(Nn,"direction")==="rtl"?"rtl":"ltr"},co=function(Nn,ir){return It(xt(Nn),ir)},Eo=function(Nn,ir){return co(Nn,function(Ur){return lr(Ur,ir)})},hr=function(Nn){return Pt(Nn).filter(yt)},yr=function(Nn,ir){var Ur=ir?rr(Nn,"ol,ul"):lt.some(Nn);return Ur.getOr(Nn)},mr=an("li"),Pn=function(Nn,ir){var Ur=Nn.selection.getSelectedBlocks();Ur.length>0&&(pt(Ur,function(Mr){var jr=Sn.fromDom(Mr),hn=mr(jr),Qn=yr(jr,hn),jn=hr(Qn);jn.each(function(gr){var sa=fa(gr);if(sa!==ir?Ot(Qn,"dir",ir):fa(Qn)!==ir&&Zt(Qn,"dir"),hn){var Va=Eo(Qn,"li[dir]");pt(Va,function(_o){return Zt(_o,"dir")})}})}),Nn.nodeChanged())},zn=function(Nn){Nn.addCommand("mceDirectionLTR",function(){Pn(Nn,"ltr")}),Nn.addCommand("mceDirectionRTL",function(){Pn(Nn,"rtl")})},kr=function(Nn,ir){return function(Ur){var Mr=function(jr){var hn=Sn.fromDom(jr.element);Ur.setActive(fa(hn)===ir)};return Nn.on("NodeChange",Mr),function(){return Nn.off("NodeChange",Mr)}}},$r=function(Nn){Nn.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return Nn.execCommand("mceDirectionLTR")},onSetup:kr(Nn,"ltr")}),Nn.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return Nn.execCommand("mceDirectionRTL")},onSetup:kr(Nn,"rtl")})};function Cr(){g.add("directionality",function(Nn){zn(Nn),$r(Nn)})}Cr()})();(function(){var g=function(ft){var Ze=ft,wt=function(){return Ze},zt=function(gn){Ze=gn};return{get:wt,set:zt}},w=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(ft){return{isFullscreen:function(){return ft.get()!==null}}},x=function(ft){var Ze=typeof ft;return ft===null?"null":Ze==="object"&&(Array.prototype.isPrototypeOf(ft)||ft.constructor&&ft.constructor.name==="Array")?"array":Ze==="object"&&(String.prototype.isPrototypeOf(ft)||ft.constructor&&ft.constructor.name==="String")?"string":Ze},He=function(ft){return function(Ze){return x(Ze)===ft}},Ge=function(ft){return function(Ze){return typeof Ze===ft}},Xe=He("string"),ze=He("array"),We=Ge("boolean"),at=function(ft){return ft==null},nt=function(ft){return!at(ft)},A=Ge("function"),Te=Ge("number"),et=function(){},Qe=function(ft,Ze){return function(){for(var wt=[],zt=0;zt<arguments.length;zt++)wt[zt]=arguments[zt];return ft(Ze.apply(null,wt))}},$e=function(ft,Ze){return function(wt){return ft(Ze(wt))}},Ye=function(ft){return function(){return ft}},ut=function(ft){return ft};function ct(ft){for(var Ze=[],wt=1;wt<arguments.length;wt++)Ze[wt-1]=arguments[wt];return function(){for(var zt=[],gn=0;gn<arguments.length;gn++)zt[gn]=arguments[gn];var qn=Ze.concat(zt);return ft.apply(null,qn)}}var qe=Ye(!1),lt=Ye(!0),Ue=function(){return pt},pt=function(){var ft=function(zt){return zt()},Ze=ut,wt={fold:function(zt,gn){return zt()},isSome:qe,isNone:lt,getOr:Ze,getOrThunk:ft,getOrDie:function(zt){throw new Error(zt||"error: getOrDie called on none.")},getOrNull:Ye(null),getOrUndefined:Ye(void 0),or:Ze,orThunk:ft,map:Ue,each:et,bind:Ue,exists:qe,forall:lt,filter:function(){return Ue()},toArray:function(){return[]},toString:Ye("none()")};return wt}(),It=function(ft){var Ze=Ye(ft),wt=function(){return gn},zt=function(qn){return qn(ft)},gn={fold:function(qn,_r){return _r(ft)},isSome:lt,isNone:qe,getOr:Ze,getOrThunk:Ze,getOrDie:Ze,getOrNull:Ze,getOrUndefined:Ze,or:wt,orThunk:wt,map:function(qn){return It(qn(ft))},each:function(qn){qn(ft)},bind:zt,exists:zt,forall:zt,filter:function(qn){return qn(ft)?gn:pt},toArray:function(){return[ft]},toString:function(){return"some("+ft+")"}};return gn},Tt=function(ft){return ft==null?pt:It(ft)},mt={some:It,none:Ue,from:Tt},vt=function(){return vt=Object.assign||function(Ze){for(var wt,zt=1,gn=arguments.length;zt<gn;zt++){wt=arguments[zt];for(var qn in wt)Object.prototype.hasOwnProperty.call(wt,qn)&&(Ze[qn]=wt[qn])}return Ze},vt.apply(this,arguments)},Et=function(ft){var Ze=g(mt.none()),wt=function(){return Ze.get().each(ft)},zt=function(){wt(),Ze.set(mt.none())},gn=function(){return Ze.get().isSome()},qn=function(){return Ze.get()},_r=function(xa){wt(),Ze.set(mt.some(xa))};return{clear:zt,isSet:gn,get:qn,set:_r}},st=function(){return Et(function(ft){return ft.unbind()})},At=function(){var ft=Et(et),Ze=function(wt){return ft.get().each(wt)};return vt(vt({},ft),{on:Ze})},nn=Array.prototype.push,wn=function(ft,Ze){for(var wt=ft.length,zt=new Array(wt),gn=0;gn<wt;gn++){var qn=ft[gn];zt[gn]=Ze(qn,gn)}return zt},Ht=function(ft,Ze){for(var wt=0,zt=ft.length;wt<zt;wt++){var gn=ft[wt];Ze(gn,wt)}},Sn=function(ft,Ze){for(var wt=[],zt=0,gn=ft.length;zt<gn;zt++){var qn=ft[zt];Ze(qn,zt)&&wt.push(qn)}return wt},lr=function(ft,Ze,wt){for(var zt=0,gn=ft.length;zt<gn;zt++){var qn=ft[zt];if(Ze(qn,zt))return mt.some(qn);if(wt(qn,zt))break}return mt.none()},Ve=function(ft,Ze){return lr(ft,Ze,qe)},jt=function(ft){for(var Ze=[],wt=0,zt=ft.length;wt<zt;++wt){if(!ze(ft[wt]))throw new Error("Arr.flatten item "+wt+" was not an array, input: "+ft);nn.apply(Ze,ft[wt])}return Ze},cn=function(ft,Ze){return jt(wn(ft,Ze))},yt=function(ft,Ze){return Ze>=0&&Ze<ft.length?mt.some(ft[Ze]):mt.none()},Mt=function(ft){return yt(ft,0)},Lt=function(ft,Ze){for(var wt=0;wt<ft.length;wt++){var zt=Ze(ft[wt],wt);if(zt.isSome())return zt}return mt.none()},qt=Object.keys,an=function(ft,Ze){for(var wt=qt(ft),zt=0,gn=wt.length;zt<gn;zt++){var qn=wt[zt],_r=ft[qn];Ze(_r,qn)}},ot=function(ft,Ze){return ft.indexOf(Ze)!==-1},En=function(ft){return ft.style!==void 0&&A(ft.style.getPropertyValue)},Pt=function(ft,Ze){var wt=Ze||document,zt=wt.createElement("div");if(zt.innerHTML=ft,!zt.hasChildNodes()||zt.childNodes.length>1)throw new Error("HTML must have a single root node");return Ot(zt.childNodes[0])},xt=function(ft,Ze){var wt=Ze||document,zt=wt.createElement(ft);return Ot(zt)},vn=function(ft,Ze){var wt=Ze||document,zt=wt.createTextNode(ft);return Ot(zt)},Ot=function(ft){if(ft==null)throw new Error("Node cannot be null or undefined");return{dom:ft}},Zt=function(ft,Ze,wt){return mt.from(ft.dom.elementFromPoint(Ze,wt)).map(Ot)},mn={fromHtml:Pt,fromTag:xt,fromText:vn,fromDom:Ot,fromPoint:Zt};typeof window!="undefined"||Function("return this;")();var ln=9,Ft=11,bn=1,Kn=3,Jt=function(ft){return ft.dom.nodeType},Rn=function(ft){return function(Ze){return Jt(Ze)===ft}},rr=Rn(bn),Vn=Rn(Kn),Br=Rn(ln),la=Rn(Ft),fa=function(ft){var Ze=!1,wt;return function(){for(var zt=[],gn=0;gn<arguments.length;gn++)zt[gn]=arguments[gn];return Ze||(Ze=!0,wt=ft.apply(null,zt)),wt}},co=function(ft,Ze,wt,zt){var gn=ft.isiOS()&&/ipad/i.test(wt)===!0,qn=ft.isiOS()&&!gn,_r=ft.isiOS()||ft.isAndroid(),xa=_r||zt("(pointer:coarse)"),Ua=gn||!qn&&_r&&zt("(min-device-width:768px)"),Qr=qn||_r&&!Ua,wa=Ze.isSafari()&&ft.isiOS()&&/safari/i.test(wt)===!1,ao=!Qr&&!Ua&&!wa;return{isiPad:Ye(gn),isiPhone:Ye(qn),isTablet:Ye(Ua),isPhone:Ye(Qr),isTouch:Ye(xa),isAndroid:ft.isAndroid,isiOS:ft.isiOS,isWebView:Ye(wa),isDesktop:Ye(ao)}},Eo=function(ft,Ze){for(var wt=0;wt<ft.length;wt++){var zt=ft[wt];if(zt.test(Ze))return zt}},hr=function(ft,Ze){var wt=Eo(ft,Ze);if(!wt)return{major:0,minor:0};var zt=function(gn){return Number(Ze.replace(wt,"$"+gn))};return Pn(zt(1),zt(2))},yr=function(ft,Ze){var wt=String(Ze).toLowerCase();return ft.length===0?mr():hr(ft,wt)},mr=function(){return Pn(0,0)},Pn=function(ft,Ze){return{major:ft,minor:Ze}},zn={nu:Pn,detect:yr,unknown:mr},kr=function(ft,Ze){return Lt(Ze.brands,function(wt){var zt=wt.brand.toLowerCase();return Ve(ft,function(gn){var qn;return zt===((qn=gn.brand)===null||qn===void 0?void 0:qn.toLowerCase())}).map(function(gn){return{current:gn.name,version:zn.nu(parseInt(wt.version,10),0)}})})},$r=function(ft,Ze){var wt=String(Ze).toLowerCase();return Ve(ft,function(zt){return zt.search(wt)})},Cr=function(ft,Ze){return $r(ft,Ze).map(function(wt){var zt=zn.detect(wt.versionRegexes,Ze);return{current:wt.name,version:zt}})},Nn=function(ft,Ze){return $r(ft,Ze).map(function(wt){var zt=zn.detect(wt.versionRegexes,Ze);return{current:wt.name,version:zt}})},ir=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ur=function(ft){return function(Ze){return ot(Ze,ft)}},Mr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(ft){return ot(ft,"edge/")&&ot(ft,"chrome")&&ot(ft,"safari")&&ot(ft,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ir],search:function(ft){return ot(ft,"chrome")&&!ot(ft,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(ft){return ot(ft,"msie")||ot(ft,"trident")}},{name:"Opera",versionRegexes:[ir,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ur("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ur("firefox")},{name:"Safari",versionRegexes:[ir,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(ft){return(ot(ft,"safari")||ot(ft,"mobile/"))&&ot(ft,"applewebkit")}}],jr=[{name:"Windows",search:Ur("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(ft){return ot(ft,"iphone")||ot(ft,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ur("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ur("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ur("linux"),versionRegexes:[]},{name:"Solaris",search:Ur("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ur("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ur("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],hn={browsers:Ye(Mr),oses:Ye(jr)},Qn="Edge",jn="Chrome",gr="IE",sa="Opera",Va="Firefox",_o="Safari",Ka=function(){return Ya({current:void 0,version:zn.unknown()})},Ya=function(ft){var Ze=ft.current,wt=ft.version,zt=function(gn){return function(){return Ze===gn}};return{current:Ze,version:wt,isEdge:zt(Qn),isChrome:zt(jn),isIE:zt(gr),isOpera:zt(sa),isFirefox:zt(Va),isSafari:zt(_o)}},ni={unknown:Ka,nu:Ya,edge:Ye(Qn),chrome:Ye(jn),ie:Ye(gr),opera:Ye(sa),firefox:Ye(Va),safari:Ye(_o)},Zi="Windows",wo="iOS",mi="Android",ii="Linux",ou="OSX",pi="Solaris",wi="FreeBSD",$i="ChromeOS",fo=function(){return Hi({current:void 0,version:zn.unknown()})},Hi=function(ft){var Ze=ft.current,wt=ft.version,zt=function(gn){return function(){return Ze===gn}};return{current:Ze,version:wt,isWindows:zt(Zi),isiOS:zt(wo),isAndroid:zt(mi),isOSX:zt(ou),isLinux:zt(ii),isSolaris:zt(pi),isFreeBSD:zt(wi),isChromeOS:zt($i)}},ga={unknown:fo,nu:Hi,windows:Ye(Zi),ios:Ye(wo),android:Ye(mi),linux:Ye(ii),osx:Ye(ou),solaris:Ye(pi),freebsd:Ye(wi),chromeos:Ye($i)},Iu=function(ft,Ze,wt){var zt=hn.browsers(),gn=hn.oses(),qn=Ze.bind(function(Ua){return kr(zt,Ua)}).orThunk(function(){return Cr(zt,ft)}).fold(ni.unknown,ni.nu),_r=Nn(gn,ft).fold(ga.unknown,ga.nu),xa=co(_r,qn,ft,wt);return{browser:qn,os:_r,deviceType:xa}},Po={detect:Iu},eu=function(ft){return window.matchMedia(ft).matches},Fu=fa(function(){return Po.detect(navigator.userAgent,mt.from(navigator.userAgentData),eu)}),iu=function(){return Fu()},Su=function(ft,Ze){var wt=ft.dom;if(wt.nodeType!==bn)return!1;var zt=wt;if(zt.matches!==void 0)return zt.matches(Ze);if(zt.msMatchesSelector!==void 0)return zt.msMatchesSelector(Ze);if(zt.webkitMatchesSelector!==void 0)return zt.webkitMatchesSelector(Ze);if(zt.mozMatchesSelector!==void 0)return zt.mozMatchesSelector(Ze);throw new Error("Browser lacks native selectors")},ju=function(ft){return ft.nodeType!==bn&&ft.nodeType!==ln&&ft.nodeType!==Ft||ft.childElementCount===0},ks=function(ft,Ze){var wt=document;return ju(wt)?[]:wn(wt.querySelectorAll(ft),mn.fromDom)},Gt=function(ft,Ze){return ft.dom===Ze.dom},Mn=function(ft){return mn.fromDom(ft.dom.ownerDocument)},on=function(ft){return Br(ft)?ft:Mn(ft)},Wn=function(ft){return mt.from(ft.dom.parentNode).map(mn.fromDom)},zr=function(ft,Ze){for(var wt=A(Ze)?Ze:qe,zt=ft.dom,gn=[];zt.parentNode!==null&&zt.parentNode!==void 0;){var qn=zt.parentNode,_r=mn.fromDom(qn);if(gn.push(_r),wt(_r)===!0)break;zt=qn}return gn},oa=function(ft){var Ze=function(wt){return Sn(wt,function(zt){return!Gt(ft,zt)})};return Wn(ft).map(Xt).map(Ze).getOr([])},Xt=function(ft){return wn(ft.dom.childNodes,mn.fromDom)},dn=function(ft){return la(ft)&&nt(ft.dom.host)},Yn=A(Element.prototype.attachShadow)&&A(Node.prototype.getRootNode),sr=Ye(Yn),ht=Yn?function(ft){return mn.fromDom(ft.dom.getRootNode())}:on,$t=function(ft){var Ze=ht(ft);return dn(Ze)?mt.some(Ze):mt.none()},fn=function(ft){return mn.fromDom(ft.dom.host)},Tn=function(ft){if(sr()&&nt(ft.target)){var Ze=mn.fromDom(ft.target);if(rr(Ze)&&Hn(Ze)&&ft.composed&&ft.composedPath){var wt=ft.composedPath();if(wt)return Mt(wt)}}return mt.from(ft.target)},Hn=function(ft){return nt(ft.dom.shadowRoot)},Un=function(ft){var Ze=Vn(ft)?ft.dom.parentNode:ft.dom;if(Ze==null||Ze.ownerDocument===null)return!1;var wt=Ze.ownerDocument;return $t(mn.fromDom(Ze)).fold(function(){return wt.body.contains(Ze)},$e(Un,fn))},Fr=function(ft){var Ze=ft.dom.body;if(Ze==null)throw new Error("Body is not available yet");return mn.fromDom(Ze)},ea=function(ft,Ze,wt){if(Xe(wt)||We(wt)||Te(wt))ft.setAttribute(Ze,wt+"");else throw new Error("Attribute value was not simple")},Oa=function(ft,Ze,wt){ea(ft.dom,Ze,wt)},Ha=function(ft,Ze){var wt=ft.dom.getAttribute(Ze);return wt===null?void 0:wt},za=function(ft,Ze){ft.dom.removeAttribute(Ze)},Qa=function(ft,Ze,wt){if(!Xe(wt))throw new Error("CSS value must be a string: "+wt);En(ft)&&ft.style.setProperty(Ze,wt)},Do=function(ft,Ze){var wt=ft.dom;an(Ze,function(zt,gn){Qa(wt,gn,zt)})},si=function(ft,Ze){var wt=ft.dom,zt=window.getComputedStyle(wt),gn=zt.getPropertyValue(Ze);return gn===""&&!Un(ft)?du(wt,Ze):gn},du=function(ft,Ze){return En(ft)?ft.style.getPropertyValue(Ze):""},ls=function(ft,Ze,wt,zt,gn,qn,_r){return{target:ft,x:Ze,y:wt,stop:zt,prevent:gn,kill:qn,raw:_r}},Wu=function(ft){var Ze=mn.fromDom(Tn(ft).getOr(ft.target)),wt=function(){return ft.stopPropagation()},zt=function(){return ft.preventDefault()},gn=Qe(zt,wt);return ls(Ze,ft.clientX,ft.clientY,wt,zt,gn,ft)},Ci=function(ft,Ze){return function(wt){ft(wt)&&Ze(Wu(wt))}},Zs=function(ft,Ze,wt,zt,gn){var qn=Ci(wt,zt);return ft.dom.addEventListener(Ze,qn,gn),{unbind:ct(go,ft,Ze,qn,gn)}},Ts=function(ft,Ze,wt,zt){return Zs(ft,Ze,wt,zt,!1)},go=function(ft,Ze,wt,zt){ft.dom.removeEventListener(Ze,wt,zt)},Ki=lt,el=function(ft,Ze,wt){return Ts(ft,Ze,Ki,wt)},As=function(ft,Ze){var wt=function(zt,gn){return As(ft+zt,Ze+gn)};return{left:ft,top:Ze,translate:wt}},ml=As,Ll=function(ft){var Ze=ft!==void 0?ft.dom:document,wt=Ze.body.scrollLeft||Ze.documentElement.scrollLeft,zt=Ze.body.scrollTop||Ze.documentElement.scrollTop;return ml(wt,zt)},Ju=function(ft){var Ze=ft===void 0?window:ft;return iu().browser.isFirefox()?mt.none():mt.from(Ze.visualViewport)},Zu=function(ft,Ze,wt,zt){return{x:ft,y:Ze,width:wt,height:zt,right:ft+wt,bottom:Ze+zt}},Bl=function(ft){var Ze=ft===void 0?window:ft,wt=Ze.document,zt=Ll(mn.fromDom(wt));return Ju(Ze).fold(function(){var gn=Ze.document.documentElement,qn=gn.clientWidth,_r=gn.clientHeight;return Zu(zt.left,zt.top,qn,_r)},function(gn){return Zu(Math.max(gn.pageLeft,zt.left),Math.max(gn.pageTop,zt.top),gn.width,gn.height)})},tl=function(ft,Ze,wt){return Ju(wt).map(function(zt){var gn=function(qn){return Ze(Wu(qn))};return zt.addEventListener(ft,gn),{unbind:function(){return zt.removeEventListener(ft,gn)}}}).getOrThunk(function(){return{unbind:et}})},pl=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Rt=tinymce.util.Tools.resolve("tinymce.Env"),xn=tinymce.util.Tools.resolve("tinymce.util.Delay"),In=function(ft,Ze){ft.fire("FullscreenStateChanged",{state:Ze}),ft.fire("ResizeEditor")},fr=function(ft){return ft.getParam("fullscreen_native",!1,"boolean")},Rr=function(ft){var Ze=mn.fromDom(ft.getElement());return $t(Ze).map(fn).getOrThunk(function(){return Fr(Mn(Ze))})},ba=function(ft){return ft.fullscreenElement!==void 0?ft.fullscreenElement:ft.msFullscreenElement!==void 0?ft.msFullscreenElement:ft.webkitFullscreenElement!==void 0?ft.webkitFullscreenElement:null},No=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},jo=function(ft){var Ze=ft.dom;Ze.requestFullscreen?Ze.requestFullscreen():Ze.msRequestFullscreen?Ze.msRequestFullscreen():Ze.webkitRequestFullScreen&&Ze.webkitRequestFullScreen()},Xa=function(ft){var Ze=ft.dom;Ze.exitFullscreen?Ze.exitFullscreen():Ze.msExitFullscreen?Ze.msExitFullscreen():Ze.webkitCancelFullScreen&&Ze.webkitCancelFullScreen()},Go=function(ft){return ft.dom===ba(Mn(ft).dom)},li=function(ft,Ze,wt){return Sn(zr(ft,wt),Ze)},Bs=function(ft,Ze){return Sn(oa(ft),Ze)},Sc=function(ft){return ks(ft)},xc=function(ft,Ze,wt){return li(ft,function(zt){return Su(zt,Ze)},wt)},Na=function(ft,Ze){return Bs(ft,function(wt){return Su(wt,Ze)})},nl="data-ephox-mobile-fullscreen-style",Ec="display:none!important;",_s="position:absolute!important;",kc="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",ld="background-color:rgb(255,255,255)!important;",If=Rt.os.isAndroid(),Ti=function(ft){var Ze=si(ft,"background-color");return Ze!==void 0&&Ze!==""?"background-color:"+Ze+"!important":ld},tc=function(ft,Ze,wt){var zt=function(Qr){return Na(Qr,"*:not(.tox-silver-sink)")},gn=function(Qr){return function(wa){var ao=Ha(wa,"style"),bo=ao===void 0?"no-styles":ao.trim();bo!==Qr&&(Oa(wa,nl,bo),Do(wa,ft.parseStyle(Qr)))}},qn=xc(Ze,"*"),_r=cn(qn,zt),xa=Ti(wt);Ht(_r,gn(Ec)),Ht(qn,gn(_s+kc+xa));var Ua=If===!0?"":_s;gn(Ua+kc+xa)(Ze)},cd=function(ft){var Ze=Sc("["+nl+"]");Ht(Ze,function(wt){var zt=Ha(wt,nl);zt!=="no-styles"?Do(wt,ft.parseStyle(zt)):za(wt,"style"),za(wt,nl)})},es=pl.DOM,xu=function(){return Bl(window)},Tc=function(ft){return window.scrollTo(ft.x,ft.y)},ar=Ju().fold(function(){return{bind:et,unbind:et}},function(ft){var Ze=At(),wt=st(),zt=st(),gn=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},qn=function(){window.requestAnimationFrame(function(){Ze.on(function(Qr){return Do(Qr,{top:ft.offsetTop+"px",left:ft.offsetLeft+"px",height:ft.height+"px",width:ft.width+"px"})})})},_r=xn.throttle(function(){gn(),qn()},50),xa=function(Qr){Ze.set(Qr),_r(),wt.set(tl("resize",_r)),zt.set(tl("scroll",_r))},Ua=function(){Ze.on(function(){wt.clear(),zt.clear()}),Ze.clear()};return{bind:xa,unbind:Ua}}),nc=function(ft,Ze){var wt=document.body,zt=document.documentElement,gn=ft.getContainer(),qn=mn.fromDom(gn),_r=Rr(ft),xa=Ze.get(),Ua=mn.fromDom(ft.getBody()),Qr=Rt.deviceType.isTouch(),wa=gn.style,ao=ft.iframeElement,bo=ao.style,ja=function(Xo){Xo(wt,"tox-fullscreen"),Xo(zt,"tox-fullscreen"),Xo(gn,"tox-fullscreen"),$t(qn).map(function(qu){return fn(qu).dom}).each(function(qu){Xo(qu,"tox-fullscreen"),Xo(qu,"tox-shadowhost")})},hi=function(){Qr&&cd(ft.dom),ja(es.removeClass),ar.unbind(),mt.from(Ze.get()).each(function(Xo){return Xo.fullscreenChangeHandler.unbind()})};if(xa)xa.fullscreenChangeHandler.unbind(),fr(ft)&&Go(_r)&&Xa(Mn(_r)),bo.width=xa.iframeWidth,bo.height=xa.iframeHeight,wa.width=xa.containerWidth,wa.height=xa.containerHeight,wa.top=xa.containerTop,wa.left=xa.containerLeft,hi(),Tc(xa.scrollPos),Ze.set(null),In(ft,!1),ft.off("remove",hi);else{var Za=el(Mn(_r),No(),function(Xo){fr(ft)&&!Go(_r)&&Ze.get()!==null&&nc(ft,Ze)}),Zo={scrollPos:xu(),containerWidth:wa.width,containerHeight:wa.height,containerTop:wa.top,containerLeft:wa.left,iframeWidth:bo.width,iframeHeight:bo.height,fullscreenChangeHandler:Za};Qr&&tc(ft.dom,qn,Ua),bo.width=bo.height="100%",wa.width=wa.height="",ja(es.addClass),ar.bind(qn),ft.on("remove",hi),Ze.set(Zo),fr(ft)&&jo(_r),In(ft,!0)}},tu=function(ft,Ze){ft.addCommand("mceFullScreen",function(){nc(ft,Ze)})},Wc=function(ft,Ze){return function(wt){wt.setActive(Ze.get()!==null);var zt=function(gn){return wt.setActive(gn.state)};return ft.on("FullscreenStateChanged",zt),function(){return ft.off("FullscreenStateChanged",zt)}}},hl=function(ft,Ze){var wt=function(){return ft.execCommand("mceFullScreen")};ft.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:wt,onSetup:Wc(ft,Ze)}),ft.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:wt,onSetup:Wc(ft,Ze)})};function rc(){w.add("fullscreen",function(ft){var Ze=g(null);return ft.inline||(tu(ft,Ze),hl(ft,Ze),ft.addShortcut("Meta+Shift+F","","mceFullScreen")),C(Ze)})}rc()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(He){He.addCommand("InsertHorizontalRule",function(){He.execCommand("mceInsertContent",!1,"<hr />")})},C=function(He){var Ge=function(){return He.execCommand("InsertHorizontalRule")};He.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:Ge}),He.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:Ge})};function x(){g.add("hr",function(He){w(He),C(He)})}x()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(qe){return qe.getParam("insertdatetime_dateformat",qe.translate("%Y-%m-%d"))},C=function(qe){return qe.getParam("insertdatetime_timeformat",qe.translate("%H:%M:%S"))},x=function(qe){return qe.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},He=function(qe){var lt=x(qe);return lt.length>0?lt[0]:C(qe)},Ge=function(qe){return qe.getParam("insertdatetime_element",!1)},Xe="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),ze="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),We="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),at="January February March April May June July August September October November December".split(" "),nt=function(qe,lt){if(qe=""+qe,qe.length<lt)for(var Ue=0;Ue<lt-qe.length;Ue++)qe="0"+qe;return qe},A=function(qe,lt,Ue){return Ue===void 0&&(Ue=new Date),lt=lt.replace("%D","%m/%d/%Y"),lt=lt.replace("%r","%I:%M:%S %p"),lt=lt.replace("%Y",""+Ue.getFullYear()),lt=lt.replace("%y",""+Ue.getYear()),lt=lt.replace("%m",nt(Ue.getMonth()+1,2)),lt=lt.replace("%d",nt(Ue.getDate(),2)),lt=lt.replace("%H",""+nt(Ue.getHours(),2)),lt=lt.replace("%M",""+nt(Ue.getMinutes(),2)),lt=lt.replace("%S",""+nt(Ue.getSeconds(),2)),lt=lt.replace("%I",""+((Ue.getHours()+11)%12+1)),lt=lt.replace("%p",Ue.getHours()<12?"AM":"PM"),lt=lt.replace("%B",""+qe.translate(at[Ue.getMonth()])),lt=lt.replace("%b",""+qe.translate(We[Ue.getMonth()])),lt=lt.replace("%A",""+qe.translate(ze[Ue.getDay()])),lt=lt.replace("%a",""+qe.translate(Xe[Ue.getDay()])),lt=lt.replace("%%","%"),lt},Te=function(qe,lt,Ue,pt){var It=qe.dom.create("time",{datetime:Ue},pt);lt.parentNode.insertBefore(It,lt),qe.dom.remove(lt),qe.selection.select(It,!0),qe.selection.collapse(!1)},et=function(qe,lt){if(Ge(qe)){var Ue=A(qe,lt),pt=void 0;/%[HMSIp]/.test(lt)?pt=A(qe,"%Y-%m-%dT%H:%M"):pt=A(qe,"%Y-%m-%d");var It=qe.dom.getParent(qe.selection.getStart(),"time");It?Te(qe,It,pt,Ue):qe.insertContent('<time datetime="'+pt+'">'+Ue+"</time>")}else qe.insertContent(A(qe,lt))},Qe=function(qe){qe.addCommand("mceInsertDate",function(lt,Ue){et(qe,Ue!=null?Ue:w(qe))}),qe.addCommand("mceInsertTime",function(lt,Ue){et(qe,Ue!=null?Ue:C(qe))})},$e=function(qe){var lt=qe,Ue=function(){return lt},pt=function(It){lt=It};return{get:Ue,set:pt}},Ye=tinymce.util.Tools.resolve("tinymce.util.Tools"),ut=function(qe){var lt=x(qe),Ue=$e(He(qe)),pt=function(Tt){return qe.execCommand("mceInsertDate",!1,Tt)};qe.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(Tt){return Tt===Ue.get()},fetch:function(Tt){Tt(Ye.map(lt,function(mt){return{type:"choiceitem",text:A(qe,mt),value:mt}}))},onAction:function(Tt){pt(Ue.get())},onItemAction:function(Tt,mt){Ue.set(mt),pt(mt)}});var It=function(Tt){return function(){Ue.set(Tt),pt(Tt)}};qe.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return Ye.map(lt,function(Tt){return{type:"menuitem",text:A(qe,Tt),onAction:It(Tt)}})}})};function ct(){g.add("insertdatetime",function(qe){Qe(qe),ut(qe)})}ct()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=tinymce.util.Tools.resolve("tinymce.util.VK"),C=function(Rt){var xn=typeof Rt;return Rt===null?"null":xn==="object"&&(Array.prototype.isPrototypeOf(Rt)||Rt.constructor&&Rt.constructor.name==="Array")?"array":xn==="object"&&(String.prototype.isPrototypeOf(Rt)||Rt.constructor&&Rt.constructor.name==="String")?"string":xn},x=function(Rt){return function(xn){return C(xn)===Rt}},He=function(Rt){return function(xn){return typeof xn===Rt}},Ge=function(Rt){return function(xn){return Rt===xn}},Xe=x("string"),ze=x("array"),We=Ge(null),at=He("boolean"),nt=He("function"),A=function(){},Te=function(Rt){return function(){return Rt}},et=function(Rt){return Rt},Qe=function(Rt,xn){return Rt===xn},$e=Te(!1),Ye=Te(!0),ut=function(){return ct},ct=function(){var Rt=function(fr){return fr()},xn=et,In={fold:function(fr,Rr){return fr()},isSome:$e,isNone:Ye,getOr:xn,getOrThunk:Rt,getOrDie:function(fr){throw new Error(fr||"error: getOrDie called on none.")},getOrNull:Te(null),getOrUndefined:Te(void 0),or:xn,orThunk:Rt,map:ut,each:A,bind:ut,exists:$e,forall:Ye,filter:function(){return ut()},toArray:function(){return[]},toString:Te("none()")};return In}(),qe=function(Rt){var xn=Te(Rt),In=function(){return Rr},fr=function(ba){return ba(Rt)},Rr={fold:function(ba,No){return No(Rt)},isSome:Ye,isNone:$e,getOr:xn,getOrThunk:xn,getOrDie:xn,getOrNull:xn,getOrUndefined:xn,or:In,orThunk:In,map:function(ba){return qe(ba(Rt))},each:function(ba){ba(Rt)},bind:fr,exists:fr,forall:fr,filter:function(ba){return ba(Rt)?Rr:ct},toArray:function(){return[Rt]},toString:function(){return"some("+Rt+")"}};return Rr},lt=function(Rt){return Rt==null?ct:qe(Rt)},Ue={some:qe,none:ut,from:lt},pt=Array.prototype.indexOf,It=Array.prototype.push,Tt=function(Rt,xn){return pt.call(Rt,xn)},mt=function(Rt,xn){return Tt(Rt,xn)>-1},vt=function(Rt,xn){for(var In=Rt.length,fr=new Array(In),Rr=0;Rr<In;Rr++){var ba=Rt[Rr];fr[Rr]=xn(ba,Rr)}return fr},Et=function(Rt,xn){for(var In=0,fr=Rt.length;In<fr;In++){var Rr=Rt[In];xn(Rr,In)}},st=function(Rt,xn,In){return Et(Rt,function(fr,Rr){In=xn(In,fr,Rr)}),In},At=function(Rt){for(var xn=[],In=0,fr=Rt.length;In<fr;++In){if(!ze(Rt[In]))throw new Error("Arr.flatten item "+In+" was not an array, input: "+Rt);It.apply(xn,Rt[In])}return xn},nn=function(Rt,xn){return At(vt(Rt,xn))},wn=function(Rt,xn){for(var In=0;In<Rt.length;In++){var fr=xn(Rt[In],In);if(fr.isSome())return fr}return Ue.none()},Ht=function(Rt,xn,In){return In===void 0&&(In=Qe),Rt.exists(function(fr){return In(fr,xn)})},Sn=function(Rt){for(var xn=[],In=function(Rr){xn.push(Rr)},fr=0;fr<Rt.length;fr++)Rt[fr].each(In);return xn},lr=function(Rt,xn){return Rt?Ue.some(xn):Ue.none()},Ve=function(Rt){var xn=Rt.getParam("link_assume_external_targets",!1);return at(xn)&&xn?1:Xe(xn)&&(xn==="http"||xn==="https")?xn:0},jt=function(Rt){return Rt.getParam("link_context_toolbar",!1,"boolean")},cn=function(Rt){return Rt.getParam("link_list")},yt=function(Rt){return Rt.getParam("default_link_target")},Mt=function(Rt){return Rt.getParam("target_list",!0)},Lt=function(Rt){return Rt.getParam("rel_list",[],"array")},qt=function(Rt){return Rt.getParam("link_class_list",[],"array")},an=function(Rt){return Rt.getParam("link_title",!0,"boolean")},ot=function(Rt){return Rt.getParam("allow_unsafe_link_target",!1,"boolean")},En=function(Rt){return Rt.getParam("link_quicklink",!1,"boolean")},Pt=function(Rt){return Rt.getParam("link_default_protocol","http","string")},xt=tinymce.util.Tools.resolve("tinymce.util.Tools"),vn=function(Rt){return Xe(Rt.value)?Rt.value:""},Ot=function(Rt){return Xe(Rt.text)?Rt.text:Xe(Rt.title)?Rt.title:""},Zt=function(Rt,xn){var In=[];return xt.each(Rt,function(fr){var Rr=Ot(fr);if(fr.menu!==void 0){var ba=Zt(fr.menu,xn);In.push({text:Rr,items:ba})}else{var No=xn(fr);In.push({text:Rr,value:No})}}),In},mn=function(Rt){return Rt===void 0&&(Rt=vn),function(xn){return Ue.from(xn).map(function(In){return Zt(In,Rt)})}},ln=function(Rt){return mn(vn)(Rt)},Ft=function(Rt,xn){return function(In){return{name:Rt,type:"listbox",label:xn,items:In}}},bn={sanitize:ln,sanitizeWith:mn,createUi:Ft,getValue:vn},Kn=function(){return Kn=Object.assign||function(xn){for(var In,fr=1,Rr=arguments.length;fr<Rr;fr++){In=arguments[fr];for(var ba in In)Object.prototype.hasOwnProperty.call(In,ba)&&(xn[ba]=In[ba])}return xn},Kn.apply(this,arguments)},Jt=Object.keys,Rn=Object.hasOwnProperty,rr=function(Rt,xn){for(var In=Jt(Rt),fr=0,Rr=In.length;fr<Rr;fr++){var ba=In[fr],No=Rt[ba];xn(No,ba)}},Vn=function(Rt){return function(xn,In){Rt[In]=xn}},Br=function(Rt,xn,In,fr){var Rr={};return rr(Rt,function(ba,No){(xn(ba,No)?In:fr)(ba,No)}),Rr},la=function(Rt,xn){var In={};return Br(Rt,xn,Vn(In),A),In},fa=function(Rt,xn){return Rn.call(Rt,xn)},co=function(Rt,xn){return fa(Rt,xn)&&Rt[xn]!==void 0&&Rt[xn]!==null},Eo=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),hr=tinymce.util.Tools.resolve("tinymce.util.URI"),yr=function(Rt){return Rt&&Rt.nodeName.toLowerCase()==="a"},mr=function(Rt){return yr(Rt)&&!!kr(Rt)},Pn=function(Rt,xn){if(Rt.collapsed)return[];var In=Rt.cloneContents(),fr=new Eo(In.firstChild,In),Rr=[],ba=In.firstChild;do xn(ba)&&Rr.push(ba);while(ba=fr.next());return Rr},zn=function(Rt){return/^\w+:/i.test(Rt)},kr=function(Rt){var xn=Rt.getAttribute("data-mce-href");return xn||Rt.getAttribute("href")},$r=function(Rt,xn){var In=["noopener"],fr=Rt?Rt.split(/\s+/):[],Rr=function(Xa){return xt.trim(Xa.sort().join(" "))},ba=function(Xa){return Xa=No(Xa),Xa.length>0?Xa.concat(In):In},No=function(Xa){return Xa.filter(function(Go){return xt.inArray(In,Go)===-1})},jo=xn?ba(fr):No(fr);return jo.length>0?Rr(jo):""},Cr=function(Rt){return Rt.replace(/\uFEFF/g,"")},Nn=function(Rt,xn){return xn=xn||Rt.selection.getNode(),hn(xn)?Rt.dom.select("a[href]",xn)[0]:Rt.dom.getParent(xn,"a[href]")},ir=function(Rt,xn){var In=xn?xn.innerText||xn.textContent:Rt.getContent({format:"text"});return Cr(In)},Ur=function(Rt){return xt.grep(Rt,mr).length>0},Mr=function(Rt){return Pn(Rt,mr).length>0},jr=function(Rt){var xn=Rt.schema.getTextInlineElements(),In=function(Rr){return Rr.nodeType===1&&!yr(Rr)&&!fa(xn,Rr.nodeName.toLowerCase())},fr=Pn(Rt.selection.getRng(),In);return fr.length===0},hn=function(Rt){return Rt&&Rt.nodeName==="FIGURE"&&/\bimage\b/i.test(Rt.className)},Qn=function(Rt){var xn=["title","rel","class","target"];return st(xn,function(In,fr){return Rt[fr].each(function(Rr){In[fr]=Rr.length>0?Rr:null}),In},{href:Rt.href})},jn=function(Rt,xn){return(xn==="http"||xn==="https")&&!zn(Rt)?xn+"://"+Rt:Rt},gr=function(Rt,xn){var In=Kn({},xn);if(!(Lt(Rt).length>0)&&ot(Rt)===!1){var fr=$r(In.rel,In.target==="_blank");In.rel=fr||null}return Ue.from(In.target).isNone()&&Mt(Rt)===!1&&(In.target=yt(Rt)),In.href=jn(In.href,Ve(Rt)),In},sa=function(Rt,xn,In,fr){In.each(function(Rr){fa(xn,"innerText")?xn.innerText=Rr:xn.textContent=Rr}),Rt.dom.setAttribs(xn,fr),Rt.selection.select(xn)},Va=function(Rt,xn,In,fr){hn(xn)?ou(Rt,xn,fr):In.fold(function(){Rt.execCommand("mceInsertLink",!1,fr)},function(Rr){Rt.insertContent(Rt.dom.createHTML("a",fr,Rt.dom.encode(Rr)))})},_o=function(Rt,xn,In){var fr=Rt.selection.getNode(),Rr=Nn(Rt,fr),ba=gr(Rt,Qn(In));Rt.undoManager.transact(function(){In.href===xn.href&&xn.attach(),Rr?(Rt.focus(),sa(Rt,Rr,In.text,ba)):Va(Rt,fr,In.text,ba)})},Ka=function(Rt){var xn=Rt.dom,In=Rt.selection,fr=In.getBookmark(),Rr=In.getRng().cloneRange(),ba=xn.getParent(Rr.startContainer,"a[href]",Rt.getBody()),No=xn.getParent(Rr.endContainer,"a[href]",Rt.getBody());ba&&Rr.setStartBefore(ba),No&&Rr.setEndAfter(No),In.setRng(Rr),Rt.execCommand("unlink"),In.moveToBookmark(fr)},Ya=function(Rt){Rt.undoManager.transact(function(){var xn=Rt.selection.getNode();hn(xn)?ii(Rt,xn):Ka(Rt),Rt.focus()})},ni=function(Rt){var xn=Rt.class,In=Rt.href,fr=Rt.rel,Rr=Rt.target,ba=Rt.text,No=Rt.title;return la({class:xn.getOrNull(),href:In,rel:fr.getOrNull(),target:Rr.getOrNull(),text:ba.getOrNull(),title:No.getOrNull()},function(jo,Xa){return We(jo)===!1})},Zi=function(Rt,xn){var In=xn.href;return Kn(Kn({},xn),{href:hr.isDomSafe(In,"a",Rt.settings)?In:""})},wo=function(Rt,xn,In){var fr=Zi(Rt,In);Rt.hasPlugin("rtc",!0)?Rt.execCommand("createlink",!1,ni(fr)):_o(Rt,xn,fr)},mi=function(Rt){Rt.hasPlugin("rtc",!0)?Rt.execCommand("unlink"):Ya(Rt)},ii=function(Rt,xn){var In=Rt.dom.select("img",xn)[0];if(In){var fr=Rt.dom.getParents(In,"a[href]",xn)[0];fr&&(fr.parentNode.insertBefore(In,fr),Rt.dom.remove(fr))}},ou=function(Rt,xn,In){var fr=Rt.dom.select("img",xn)[0];if(fr){var Rr=Rt.dom.create("a",In);fr.parentNode.insertBefore(Rr,fr),Rr.appendChild(fr)}},pi=function(Rt){return co(Rt,"items")},wi=function(Rt,xn){return wn(xn,function(In){return pi(In)?wi(Rt,In.items):lr(In.value===Rt,In)})},$i=function(Rt,xn,In,fr){var Rr=fr[xn],ba=Rt.length>0;return Rr!==void 0?wi(Rr,In).map(function(No){return{url:{value:No.value,meta:{text:ba?Rt:No.text,attach:A}},text:ba?Rt:No.text}}):Ue.none()},fo=function(Rt,xn){return xn==="link"?Rt.link:xn==="anchor"?Rt.anchor:Ue.none()},Hi=function(Rt,xn){var In={text:Rt.text,title:Rt.title},fr=function(Xa){return lr(In.title.length<=0,Ue.from(Xa.meta.title).getOr(""))},Rr=function(Xa){return lr(In.text.length<=0,Ue.from(Xa.meta.text).getOr(Xa.value))},ba=function(Xa){var Go=Rr(Xa.url),li=fr(Xa.url);return Go.isSome()||li.isSome()?Ue.some(Kn(Kn({},Go.map(function(Bs){return{text:Bs}}).getOr({})),li.map(function(Bs){return{title:Bs}}).getOr({}))):Ue.none()},No=function(Xa,Go){var li=fo(xn,Go.name).getOr([]);return $i(In.text,Go.name,li,Xa)},jo=function(Xa,Go){var li=Go.name;return li==="url"?ba(Xa()):mt(["anchor","link"],li)?No(Xa(),Go):((li==="text"||li==="title")&&(In[li]=Xa()[li]),Ue.none())};return{onChange:jo}},ga={init:Hi,getDelta:$i},Iu=tinymce.util.Tools.resolve("tinymce.util.Delay"),Po=tinymce.util.Tools.resolve("tinymce.util.Promise"),eu=function(Rt,xn,In){var fr=Rt.selection.getRng();Iu.setEditorTimeout(Rt,function(){Rt.windowManager.confirm(xn,function(Rr){Rt.selection.setRng(fr),In(Rr)})})},Fu=function(Rt){var xn=Rt.href,In=xn.indexOf("@")>0&&xn.indexOf("/")===-1&&xn.indexOf("mailto:")===-1;return In?Ue.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(fr){return Kn(Kn({},fr),{href:"mailto:"+xn})}}):Ue.none()},iu=function(Rt,xn){return function(In){var fr=In.href,Rr=Rt===1&&!zn(fr)||Rt===0&&/^\s*www(\.|\d\.)/i.test(fr);return Rr?Ue.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+xn+":// prefix?",preprocess:function(ba){return Kn(Kn({},ba),{href:xn+"://"+fr})}}):Ue.none()}},Su=function(Rt,xn){return wn([Fu,iu(Ve(Rt),Pt(Rt))],function(In){return In(xn)}).fold(function(){return Po.resolve(xn)},function(In){return new Po(function(fr){eu(Rt,In.message,function(Rr){fr(Rr?In.preprocess(xn):xn)})})})},ju={preprocess:Su},ks=function(Rt){var xn=Rt.dom.select("a:not([href])"),In=nn(xn,function(fr){var Rr=fr.name||fr.id;return Rr?[{text:Rr,value:"#"+Rr}]:[]});return In.length>0?Ue.some([{text:"None",value:""}].concat(In)):Ue.none()},Gt={getAnchors:ks},Mn=function(Rt){var xn=qt(Rt);return xn.length>0?bn.sanitize(xn):Ue.none()},on={getClasses:Mn},Wn=tinymce.util.Tools.resolve("tinymce.util.XHR"),zr=function(Rt){try{return Ue.some(JSON.parse(Rt))}catch(xn){return Ue.none()}},oa=function(Rt){var xn=function(fr){return Rt.convertURL(fr.value||fr.url,"href")},In=cn(Rt);return new Po(function(fr){Xe(In)?Wn.send({url:In,success:function(Rr){return fr(zr(Rr))},error:function(Rr){return fr(Ue.none())}}):nt(In)?In(function(Rr){return fr(Ue.some(Rr))}):fr(Ue.from(In))}).then(function(fr){return fr.bind(bn.sanitizeWith(xn)).map(function(Rr){if(Rr.length>0){var ba=[{text:"None",value:""}];return ba.concat(Rr)}else return Rr})})},Xt={getLinks:oa},dn=function(Rt,xn){var In=Lt(Rt);if(In.length>0){var fr=Ht(xn,"_blank"),Rr=ot(Rt)===!1,ba=function(jo){return $r(bn.getValue(jo),fr)},No=Rr?bn.sanitizeWith(ba):bn.sanitize;return No(In)}return Ue.none()},Yn={getRels:dn},sr=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ht=function(Rt){var xn=Mt(Rt);return ze(xn)?bn.sanitize(xn).orThunk(function(){return Ue.some(sr)}):xn===!1?Ue.none():Ue.some(sr)},$t={getTargets:ht},fn=function(Rt,xn,In){var fr=Rt.getAttrib(xn,In);return fr!==null&&fr.length>0?Ue.some(fr):Ue.none()},Tn=function(Rt,xn){var In=Rt.dom,fr=jr(Rt),Rr=fr?Ue.some(ir(Rt.selection,xn)):Ue.none(),ba=xn?Ue.some(In.getAttrib(xn,"href")):Ue.none(),No=xn?Ue.from(In.getAttrib(xn,"target")):Ue.none(),jo=fn(In,xn,"rel"),Xa=fn(In,xn,"class"),Go=fn(In,xn,"title");return{url:ba,text:Rr,title:Go,target:No,rel:jo,linkClass:Xa}},Hn=function(Rt,xn){return Xt.getLinks(Rt).then(function(In){var fr=Tn(Rt,xn);return{anchor:fr,catalogs:{targets:$t.getTargets(Rt),rels:Yn.getRels(Rt,fr.target),classes:on.getClasses(Rt),anchor:Gt.getAnchors(Rt),link:In},optNode:Ue.from(xn),flags:{titleEnabled:an(Rt)}}})},Un={collect:Hn},Fr=function(Rt,xn){return function(In){var fr=In.getData();if(!fr.url.value){mi(Rt),In.close();return}var Rr=function(jo){return Ue.from(fr[jo]).filter(function(Xa){return!Ht(xn.anchor[jo],Xa)})},ba={href:fr.url.value,text:Rr("text"),target:Rr("target"),rel:Rr("rel"),class:Rr("linkClass"),title:Rr("title")},No={href:fr.url.value,attach:fr.url.meta!==void 0&&fr.url.meta.attach?fr.url.meta.attach:A};ju.preprocess(Rt,ba).then(function(jo){wo(Rt,No,jo)}),In.close()}},ea=function(Rt){var xn=Nn(Rt);return Un.collect(Rt,xn)},Oa=function(Rt,xn){var In=Rt.anchor,fr=In.url.getOr("");return{url:{value:fr,meta:{original:{value:fr}}},text:In.text.getOr(""),title:In.title.getOr(""),anchor:fr,link:fr,rel:In.rel.getOr(""),target:In.target.or(xn).getOr(""),linkClass:In.linkClass.getOr("")}},Ha=function(Rt,xn,In){var fr=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Rr=Rt.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),ba=Rt.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],No=Ue.from(yt(In)),jo=Oa(Rt,No),Xa=Rt.catalogs,Go=ga.init(jo,Xa),li={type:"panel",items:At([fr,Rr,ba,Sn([Xa.anchor.map(bn.createUi("anchor","Anchors")),Xa.rels.map(bn.createUi("rel","Rel")),Xa.targets.map(bn.createUi("target","Open link in...")),Xa.link.map(bn.createUi("link","Link list")),Xa.classes.map(bn.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:li,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:jo,onChange:function(Bs,Sc){var xc=Sc.name;Go.onChange(Bs.getData,{name:xc}).each(function(Na){Bs.setData(Na)})},onSubmit:xn}},za=function(Rt){var xn=ea(Rt);xn.then(function(In){var fr=Fr(Rt,In);return Ha(In,fr,Rt)}).then(function(In){Rt.windowManager.open(In)})},Qa=function(Rt,xn){document.body.appendChild(Rt),Rt.dispatchEvent(xn),document.body.removeChild(Rt)},Do=function(Rt){var xn=document.createElement("a");xn.target="_blank",xn.href=Rt,xn.rel="noreferrer noopener";var In=document.createEvent("MouseEvents");In.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Qa(xn,In)},si=function(Rt,xn){return Rt.dom.getParent(xn,"a[href]")},du=function(Rt){return si(Rt,Rt.selection.getStart())},ls=function(Rt){return Rt.altKey===!0&&Rt.shiftKey===!1&&Rt.ctrlKey===!1&&Rt.metaKey===!1},Wu=function(Rt,xn){if(xn){var In=kr(xn);if(/^#/.test(In)){var fr=Rt.$(In);fr.length&&Rt.selection.scrollIntoView(fr[0],!0)}else Do(xn.href)}},Ci=function(Rt){return function(){za(Rt)}},Zs=function(Rt){return function(){Wu(Rt,du(Rt))}},Ts=function(Rt){Rt.on("click",function(xn){var In=si(Rt,xn.target);In&&w.metaKeyPressed(xn)&&(xn.preventDefault(),Wu(Rt,In))}),Rt.on("keydown",function(xn){var In=du(Rt);In&&xn.keyCode===13&&ls(xn)&&(xn.preventDefault(),Wu(Rt,In))})},go=function(Rt,xn){return Rt.on("NodeChange",xn),function(){return Rt.off("NodeChange",xn)}},Ki=function(Rt){return function(xn){var In=function(){return xn.setActive(!Rt.mode.isReadOnly()&&Nn(Rt,Rt.selection.getNode())!==null)};return In(),go(Rt,In)}},el=function(Rt){return function(xn){var In=function(){return xn.setDisabled(Nn(Rt,Rt.selection.getNode())===null)};return In(),go(Rt,In)}},As=function(Rt){return function(xn){var In=function(Rr){return Ur(Rr)||Mr(Rt.selection.getRng())},fr=Rt.dom.getParents(Rt.selection.getStart());return xn.setDisabled(!In(fr)),go(Rt,function(Rr){return xn.setDisabled(!In(Rr.parents))})}},ml=function(Rt){Rt.addCommand("mceLink",function(){En(Rt)?Rt.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Ci(Rt)()})},Ll=function(Rt){Rt.addShortcut("Meta+K","",function(){Rt.execCommand("mceLink")})},Ju=function(Rt){Rt.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ci(Rt),onSetup:Ki(Rt)}),Rt.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Zs(Rt),onSetup:el(Rt)}),Rt.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return mi(Rt)},onSetup:As(Rt)})},Zu=function(Rt){Rt.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Zs(Rt),onSetup:el(Rt)}),Rt.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ci(Rt)}),Rt.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return mi(Rt)},onSetup:As(Rt)})},Bl=function(Rt){var xn="link unlink openlink",In="link";Rt.ui.registry.addContextMenu("link",{update:function(fr){return Ur(Rt.dom.getParents(fr,"a"))?xn:In}})},tl=function(Rt){var xn=function(Rr){Rr.selection.collapse(!1)},In=function(Rr){var ba=Rt.selection.getNode();return Rr.setDisabled(!Nn(Rt,ba)),A},fr=function(Rr){var ba=Nn(Rt),No=jr(Rt);if(!ba&&No){var jo=ir(Rt.selection,ba);return Ue.some(jo.length>0?jo:Rr)}else return Ue.none()};Rt.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ki(Rt)},label:"Link",predicate:function(Rr){return!!Nn(Rt,Rr)&&jt(Rt)},initValue:function(){var Rr=Nn(Rt);return Rr?kr(Rr):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Rr){var ba=Rt.selection.getNode();return Rr.setActive(!!Nn(Rt,ba)),Ki(Rt)(Rr)},onAction:function(Rr){var ba=Rr.getValue(),No=fr(ba),jo={href:ba,attach:A};wo(Rt,jo,{href:ba,text:No,title:Ue.none(),rel:Ue.none(),target:Ue.none(),class:Ue.none()}),xn(Rt),Rr.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:In,onAction:function(Rr){mi(Rt),Rr.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:In,onAction:function(Rr){Zs(Rt)(),Rr.hide()}}]})};function pl(){g.add("link",function(Rt){Ju(Rt),Zu(Rt),Bl(Rt),tl(Rt),Ts(Rt),ml(Rt),Ll(Rt)})}pl()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(tt){var gt=typeof tt;return tt===null?"null":gt==="object"&&(Array.prototype.isPrototypeOf(tt)||tt.constructor&&tt.constructor.name==="Array")?"array":gt==="object"&&(String.prototype.isPrototypeOf(tt)||tt.constructor&&tt.constructor.name==="String")?"string":gt},C=function(tt){return function(gt){return w(gt)===tt}},x=function(tt){return function(gt){return typeof gt===tt}},He=C("string"),Ge=C("object"),Xe=C("array"),ze=x("boolean"),We=x("function"),at=x("number"),nt=function(){},A=function(tt){return function(){return tt}},Te=function(tt){return tt},et=function(tt,gt){return tt===gt},Qe=function(tt){return function(gt){return!tt(gt)}},$e=A(!1),Ye=A(!0),ut=function(){return ct},ct=function(){var tt=function(rn){return rn()},gt=Te,Dt={fold:function(rn,Bn){return rn()},isSome:$e,isNone:Ye,getOr:gt,getOrThunk:tt,getOrDie:function(rn){throw new Error(rn||"error: getOrDie called on none.")},getOrNull:A(null),getOrUndefined:A(void 0),or:gt,orThunk:tt,map:ut,each:nt,bind:ut,exists:$e,forall:Ye,filter:function(){return ut()},toArray:function(){return[]},toString:A("none()")};return Dt}(),qe=function(tt){var gt=A(tt),Dt=function(){return Bn},rn=function(or){return or(tt)},Bn={fold:function(or,Aa){return Aa(tt)},isSome:Ye,isNone:$e,getOr:gt,getOrThunk:gt,getOrDie:gt,getOrNull:gt,getOrUndefined:gt,or:Dt,orThunk:Dt,map:function(or){return qe(or(tt))},each:function(or){or(tt)},bind:rn,exists:rn,forall:rn,filter:function(or){return or(tt)?Bn:ct},toArray:function(){return[tt]},toString:function(){return"some("+tt+")"}};return Bn},lt=function(tt){return tt==null?ct:qe(tt)},Ue={some:qe,none:ut,from:lt},pt=Array.prototype.slice,It=Array.prototype.push,Tt=function(tt,gt){for(var Dt=tt.length,rn=new Array(Dt),Bn=0;Bn<Dt;Bn++){var or=tt[Bn];rn[Bn]=gt(or,Bn)}return rn},mt=function(tt,gt){for(var Dt=0,rn=tt.length;Dt<rn;Dt++){var Bn=tt[Dt];gt(Bn,Dt)}},vt=function(tt,gt){for(var Dt=[],rn=0,Bn=tt.length;rn<Bn;rn++){var or=tt[rn];gt(or,rn)&&Dt.push(or)}return Dt},Et=function(tt,gt){if(tt.length===0)return[];for(var Dt=gt(tt[0]),rn=[],Bn=[],or=0,Aa=tt.length;or<Aa;or++){var oo=tt[or],Fo=gt(oo);Fo!==Dt&&(rn.push(Bn),Bn=[]),Dt=Fo,Bn.push(oo)}return Bn.length!==0&&rn.push(Bn),rn},st=function(tt,gt,Dt){return mt(tt,function(rn,Bn){Dt=gt(Dt,rn,Bn)}),Dt},At=function(tt,gt,Dt){for(var rn=0,Bn=tt.length;rn<Bn;rn++){var or=tt[rn];if(gt(or,rn))return Ue.some(or);if(Dt(or,rn))break}return Ue.none()},nn=function(tt,gt){return At(tt,gt,$e)},wn=function(tt){for(var gt=[],Dt=0,rn=tt.length;Dt<rn;++Dt){if(!Xe(tt[Dt]))throw new Error("Arr.flatten item "+Dt+" was not an array, input: "+tt);It.apply(gt,tt[Dt])}return gt},Ht=function(tt,gt){return wn(Tt(tt,gt))},Sn=function(tt){var gt=pt.call(tt,0);return gt.reverse(),gt},lr=function(tt,gt){return gt>=0&&gt<tt.length?Ue.some(tt[gt]):Ue.none()},Ve=function(tt){return lr(tt,0)},jt=function(tt){return lr(tt,tt.length-1)},cn=function(tt,gt){for(var Dt=0;Dt<tt.length;Dt++){var rn=gt(tt[Dt],Dt);if(rn.isSome())return rn}return Ue.none()},yt=function(){return yt=Object.assign||function(gt){for(var Dt,rn=1,Bn=arguments.length;rn<Bn;rn++){Dt=arguments[rn];for(var or in Dt)Object.prototype.hasOwnProperty.call(Dt,or)&&(gt[or]=Dt[or])}return gt},yt.apply(this,arguments)};function Mt(tt,gt,Dt){for(var rn=0,Bn=gt.length,or;rn<Bn;rn++)(or||!(rn in gt))&&(or||(or=Array.prototype.slice.call(gt,0,rn)),or[rn]=gt[rn]);return tt.concat(or||Array.prototype.slice.call(gt))}var Lt=function(tt){var gt=!1,Dt;return function(){for(var rn=[],Bn=0;Bn<arguments.length;Bn++)rn[Bn]=arguments[Bn];return gt||(gt=!0,Dt=tt.apply(null,rn)),Dt}},qt=function(tt,gt,Dt,rn){var Bn=tt.isiOS()&&/ipad/i.test(Dt)===!0,or=tt.isiOS()&&!Bn,Aa=tt.isiOS()||tt.isAndroid(),oo=Aa||rn("(pointer:coarse)"),Fo=Bn||!or&&Aa&&rn("(min-device-width:768px)"),Ao=or||Aa&&!Fo,Ri=gt.isSafari()&&tt.isiOS()&&/safari/i.test(Dt)===!1,Os=!Ao&&!Fo&&!Ri;return{isiPad:A(Bn),isiPhone:A(or),isTablet:A(Fo),isPhone:A(Ao),isTouch:A(oo),isAndroid:tt.isAndroid,isiOS:tt.isiOS,isWebView:A(Ri),isDesktop:A(Os)}},an=function(tt,gt){for(var Dt=0;Dt<tt.length;Dt++){var rn=tt[Dt];if(rn.test(gt))return rn}},ot=function(tt,gt){var Dt=an(tt,gt);if(!Dt)return{major:0,minor:0};var rn=function(Bn){return Number(gt.replace(Dt,"$"+Bn))};return xt(rn(1),rn(2))},En=function(tt,gt){var Dt=String(gt).toLowerCase();return tt.length===0?Pt():ot(tt,Dt)},Pt=function(){return xt(0,0)},xt=function(tt,gt){return{major:tt,minor:gt}},vn={nu:xt,detect:En,unknown:Pt},Ot=function(tt,gt){return cn(gt.brands,function(Dt){var rn=Dt.brand.toLowerCase();return nn(tt,function(Bn){var or;return rn===((or=Bn.brand)===null||or===void 0?void 0:or.toLowerCase())}).map(function(Bn){return{current:Bn.name,version:vn.nu(parseInt(Dt.version,10),0)}})})},Zt=function(tt,gt){var Dt=String(gt).toLowerCase();return nn(tt,function(rn){return rn.search(Dt)})},mn=function(tt,gt){return Zt(tt,gt).map(function(Dt){var rn=vn.detect(Dt.versionRegexes,gt);return{current:Dt.name,version:rn}})},ln=function(tt,gt){return Zt(tt,gt).map(function(Dt){var rn=vn.detect(Dt.versionRegexes,gt);return{current:Dt.name,version:rn}})},Ft=function(tt,gt){return tt.indexOf(gt)!==-1},bn=function(tt){return function(gt){return gt.replace(tt,"")}},Kn=bn(/^\s+|\s+$/g),Jt=function(tt){return tt.length>0},Rn=function(tt){return!Jt(tt)},rr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Vn=function(tt){return function(gt){return Ft(gt,tt)}},Br=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(tt){return Ft(tt,"edge/")&&Ft(tt,"chrome")&&Ft(tt,"safari")&&Ft(tt,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,rr],search:function(tt){return Ft(tt,"chrome")&&!Ft(tt,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(tt){return Ft(tt,"msie")||Ft(tt,"trident")}},{name:"Opera",versionRegexes:[rr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Vn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Vn("firefox")},{name:"Safari",versionRegexes:[rr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(tt){return(Ft(tt,"safari")||Ft(tt,"mobile/"))&&Ft(tt,"applewebkit")}}],la=[{name:"Windows",search:Vn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(tt){return Ft(tt,"iphone")||Ft(tt,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Vn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Vn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Vn("linux"),versionRegexes:[]},{name:"Solaris",search:Vn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Vn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Vn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],fa={browsers:A(Br),oses:A(la)},co="Edge",Eo="Chrome",hr="IE",yr="Opera",mr="Firefox",Pn="Safari",zn=function(){return kr({current:void 0,version:vn.unknown()})},kr=function(tt){var gt=tt.current,Dt=tt.version,rn=function(Bn){return function(){return gt===Bn}};return{current:gt,version:Dt,isEdge:rn(co),isChrome:rn(Eo),isIE:rn(hr),isOpera:rn(yr),isFirefox:rn(mr),isSafari:rn(Pn)}},$r={unknown:zn,nu:kr,edge:A(co),chrome:A(Eo),ie:A(hr),opera:A(yr),firefox:A(mr),safari:A(Pn)},Cr="Windows",Nn="iOS",ir="Android",Ur="Linux",Mr="OSX",jr="Solaris",hn="FreeBSD",Qn="ChromeOS",jn=function(){return gr({current:void 0,version:vn.unknown()})},gr=function(tt){var gt=tt.current,Dt=tt.version,rn=function(Bn){return function(){return gt===Bn}};return{current:gt,version:Dt,isWindows:rn(Cr),isiOS:rn(Nn),isAndroid:rn(ir),isOSX:rn(Mr),isLinux:rn(Ur),isSolaris:rn(jr),isFreeBSD:rn(hn),isChromeOS:rn(Qn)}},sa={unknown:jn,nu:gr,windows:A(Cr),ios:A(Nn),android:A(ir),linux:A(Ur),osx:A(Mr),solaris:A(jr),freebsd:A(hn),chromeos:A(Qn)},Va=function(tt,gt,Dt){var rn=fa.browsers(),Bn=fa.oses(),or=gt.bind(function(Fo){return Ot(rn,Fo)}).orThunk(function(){return mn(rn,tt)}).fold($r.unknown,$r.nu),Aa=ln(Bn,tt).fold(sa.unknown,sa.nu),oo=qt(Aa,or,tt,Dt);return{browser:or,os:Aa,deviceType:oo}},_o={detect:Va},Ka=function(tt){return window.matchMedia(tt).matches},Ya=Lt(function(){return _o.detect(navigator.userAgent,Ue.from(navigator.userAgentData),Ka)}),ni=function(){return Ya()},Zi=function(tt,gt,Dt){return(tt.compareDocumentPosition(gt)&Dt)!==0},wo=function(tt,gt){return Zi(tt,gt,Node.DOCUMENT_POSITION_CONTAINED_BY)},mi=1,ii=function(tt,gt){var Dt=gt||document,rn=Dt.createElement("div");if(rn.innerHTML=tt,!rn.hasChildNodes()||rn.childNodes.length>1)throw new Error("HTML must have a single root node");return wi(rn.childNodes[0])},ou=function(tt,gt){var Dt=gt||document,rn=Dt.createElement(tt);return wi(rn)},pi=function(tt,gt){var Dt=gt||document,rn=Dt.createTextNode(tt);return wi(rn)},wi=function(tt){if(tt==null)throw new Error("Node cannot be null or undefined");return{dom:tt}},$i=function(tt,gt,Dt){return Ue.from(tt.dom.elementFromPoint(gt,Dt)).map(wi)},fo={fromHtml:ii,fromTag:ou,fromText:pi,fromDom:wi,fromPoint:$i},Hi=function(tt,gt){var Dt=tt.dom;if(Dt.nodeType!==mi)return!1;var rn=Dt;if(rn.matches!==void 0)return rn.matches(gt);if(rn.msMatchesSelector!==void 0)return rn.msMatchesSelector(gt);if(rn.webkitMatchesSelector!==void 0)return rn.webkitMatchesSelector(gt);if(rn.mozMatchesSelector!==void 0)return rn.mozMatchesSelector(gt);throw new Error("Browser lacks native selectors")},ga=function(tt,gt){return tt.dom===gt.dom},Iu=function(tt,gt){var Dt=tt.dom,rn=gt.dom;return Dt===rn?!1:Dt.contains(rn)},Po=function(tt,gt){return wo(tt.dom,gt.dom)},eu=function(tt,gt){return ni().browser.isIE()?Po(tt,gt):Iu(tt,gt)},Fu=Hi,iu=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Su=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ju=tinymce.util.Tools.resolve("tinymce.util.VK"),ks=Object.keys,Gt=function(tt,gt){for(var Dt=ks(tt),rn=0,Bn=Dt.length;rn<Bn;rn++){var or=Dt[rn],Aa=tt[or];gt(Aa,or)}},Mn=function(tt){return function(gt,Dt){tt[Dt]=gt}},on=function(tt,gt,Dt,rn){var Bn={};return Gt(tt,function(or,Aa){(gt(or,Aa)?Dt:rn)(or,Aa)}),Bn},Wn=function(tt,gt){var Dt={};return on(tt,gt,Mn(Dt),nt),Dt};typeof window!="undefined"||Function("return this;")();var zr=function(tt){var gt=tt.dom.nodeName;return gt.toLowerCase()},oa=function(tt){return tt.dom.nodeType},Xt=function(tt){return function(gt){return oa(gt)===tt}},dn=Xt(mi),Yn=function(tt){return function(gt){return dn(gt)&&zr(gt)===tt}},sr=function(tt,gt,Dt){if(He(Dt)||ze(Dt)||at(Dt))tt.setAttribute(gt,Dt+"");else throw new Error("Attribute value was not simple")},ht=function(tt,gt){var Dt=tt.dom;Gt(gt,function(rn,Bn){sr(Dt,Bn,rn)})},$t=function(tt){return st(tt.dom.attributes,function(gt,Dt){return gt[Dt.name]=Dt.value,gt},{})},fn=function(tt){return Ue.from(tt.dom.parentNode).map(fo.fromDom)},Tn=function(tt){return Tt(tt.dom.childNodes,fo.fromDom)},Hn=function(tt,gt){var Dt=tt.dom.childNodes;return Ue.from(Dt[gt]).map(fo.fromDom)},Un=function(tt){return Hn(tt,0)},Fr=function(tt){return Hn(tt,tt.dom.childNodes.length-1)},ea=function(tt,gt){var Dt=fn(tt);Dt.each(function(rn){rn.dom.insertBefore(gt.dom,tt.dom)})},Oa=function(tt,gt){tt.dom.appendChild(gt.dom)},Ha=function(tt,gt){mt(gt,function(Dt){ea(tt,Dt)})},za=function(tt,gt){mt(gt,function(Dt){Oa(tt,Dt)})},Qa=function(tt){var gt=tt.dom;gt.parentNode!==null&&gt.parentNode.removeChild(gt)},Do=function(tt,gt){return fo.fromDom(tt.dom.cloneNode(gt))},si=function(tt){return Do(tt,!0)},du=function(tt,gt){var Dt=fo.fromTag(gt),rn=$t(tt);return ht(Dt,rn),Dt},ls=function(tt,gt){var Dt=du(tt,gt);ea(tt,Dt);var rn=Tn(tt);return za(Dt,rn),Qa(tt),Dt},Wu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ci=tinymce.util.Tools.resolve("tinymce.util.Tools"),Zs=function(tt){return function(gt){return gt&&gt.nodeName.toLowerCase()===tt}},Ts=function(tt){return function(gt){return gt&&tt.test(gt.nodeName)}},go=function(tt){return tt&&tt.nodeType===3},Ki=Ts(/^(OL|UL|DL)$/),el=Ts(/^(OL|UL)$/),As=Zs("ol"),ml=Ts(/^(LI|DT|DD)$/),Ll=Ts(/^(DT|DD)$/),Ju=Ts(/^(TH|TD)$/),Zu=Zs("br"),Bl=function(tt){return tt.parentNode.firstChild===tt},tl=function(tt,gt){return gt&&!!tt.schema.getTextBlockElements()[gt.nodeName]},pl=function(tt,gt){return tt&&tt.nodeName in gt},Rt=function(tt,gt){return Zu(gt)?tt.isBlock(gt.nextSibling)&&!Zu(gt.previousSibling):!1},xn=function(tt,gt,Dt){var rn=tt.isEmpty(gt);return Dt&&tt.select("span[data-mce-type=bookmark]",gt).length>0?!1:rn},In=function(tt,gt){return tt.isChildOf(gt,tt.getRoot())},fr=function(tt){return tt.getParam("lists_indent_on_tab",!0)},Rr=function(tt){var gt=tt.getParam("forced_root_block","p");return gt===!1?"":gt===!0?"p":gt},ba=function(tt){return tt.getParam("forced_root_block_attrs",{})},No=function(tt,gt){var Dt=tt.dom,rn=tt.schema.getBlockElements(),Bn=Dt.createFragment(),or=Rr(tt),Aa,oo,Fo;if(or&&(oo=Dt.create(or),oo.tagName===or.toUpperCase()&&Dt.setAttribs(oo,ba(tt)),pl(gt.firstChild,rn)||Bn.appendChild(oo)),gt)for(;Aa=gt.firstChild;){var Ao=Aa.nodeName;!Fo&&(Ao!=="SPAN"||Aa.getAttribute("data-mce-type")!=="bookmark")&&(Fo=!0),pl(Aa,rn)?(Bn.appendChild(Aa),oo=null):or?(oo||(oo=Dt.create(or),Bn.appendChild(oo)),oo.appendChild(Aa)):Bn.appendChild(Aa)}return or?Fo||oo.appendChild(Dt.create("br",{"data-mce-bogus":"1"})):Bn.appendChild(Dt.create("br")),Bn},jo=Wu.DOM,Xa=function(tt,gt,Dt){var rn=function(Ao){Ci.each(Bn,function(Ri){Ao.parentNode.insertBefore(Ri,Dt.parentNode)}),jo.remove(Ao)},Bn=jo.select('span[data-mce-type="bookmark"]',gt),or=No(tt,Dt),Aa=jo.createRng();Aa.setStartAfter(Dt),Aa.setEndAfter(gt);for(var oo=Aa.extractContents(),Fo=oo.firstChild;Fo;Fo=Fo.firstChild)if(Fo.nodeName==="LI"&&tt.dom.isEmpty(Fo)){jo.remove(Fo);break}tt.dom.isEmpty(oo)||jo.insertAfter(oo,gt),jo.insertAfter(or,gt),xn(tt.dom,Dt.parentNode)&&rn(Dt.parentNode),jo.remove(Dt),xn(tt.dom,gt)&&jo.remove(gt)},Go=Yn("dd"),li=Yn("dt"),Bs=function(tt,gt){Go(gt)?ls(gt,"dt"):li(gt)&&fn(gt).each(function(Dt){return Xa(tt,Dt.dom,gt.dom)})},Sc=function(tt){li(tt)&&ls(tt,"dd")},xc=function(tt,gt,Dt){gt==="Indent"?mt(Dt,Sc):mt(Dt,function(rn){return Bs(tt,rn)})},Na=function(tt,gt){if(go(tt))return{container:tt,offset:gt};var Dt=iu.getNode(tt,gt);return go(Dt)?{container:Dt,offset:gt>=tt.childNodes.length?Dt.data.length:0}:Dt.previousSibling&&go(Dt.previousSibling)?{container:Dt.previousSibling,offset:Dt.previousSibling.data.length}:Dt.nextSibling&&go(Dt.nextSibling)?{container:Dt.nextSibling,offset:0}:{container:tt,offset:gt}},nl=function(tt){var gt=tt.cloneRange(),Dt=Na(tt.startContainer,tt.startOffset);gt.setStart(Dt.container,Dt.offset);var rn=Na(tt.endContainer,tt.endOffset);return gt.setEnd(rn.container,rn.offset),gt},Ec=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),_s=function(tt,gt){var Dt=gt||tt.selection.getStart(!0);return tt.dom.getParent(Dt,"OL,UL,DL",es(tt,Dt))},kc=function(tt,gt){return tt&&gt.length===1&&gt[0]===tt},ld=function(tt){return vt(tt.querySelectorAll("ol,ul,dl"),Ki)},If=function(tt){var gt=_s(tt),Dt=tt.selection.getSelectedBlocks();return kc(gt,Dt)?ld(gt):vt(Dt,function(rn){return Ki(rn)&&gt!==rn})},Ti=function(tt,gt){var Dt=Ci.map(gt,function(rn){var Bn=tt.dom.getParent(rn,"li,dd,dt",es(tt,rn));return Bn||rn});return Ec.unique(Dt)},tc=function(tt){var gt=tt.selection.getSelectedBlocks();return vt(Ti(tt,gt),ml)},cd=function(tt){return vt(tc(tt),Ll)},es=function(tt,gt){var Dt=tt.dom.getParents(gt,"TD,TH");return Dt.length>0?Dt[0]:tt.getBody()},xu=function(tt,gt){var Dt=tt.dom.getParents(gt,"ol,ul",es(tt,gt));return jt(Dt)},Tc=function(tt){var gt=xu(tt,tt.selection.getStart()),Dt=vt(tt.selection.getSelectedBlocks(),el);return gt.toArray().concat(Dt)},ar=function(tt){var gt=Tc(tt);return nc(tt,gt)},nc=function(tt,gt){var Dt=Tt(gt,function(rn){return xu(tt,rn).getOr(rn)});return Ec.unique(Dt)},tu=function(tt,gt,Dt){return Dt===void 0&&(Dt=et),tt.exists(function(rn){return Dt(rn,gt)})},Wc=function(tt,gt,Dt){return tt.isSome()&&gt.isSome()?Ue.some(Dt(tt.getOrDie(),gt.getOrDie())):Ue.none()},hl=function(tt,gt){var Dt=document,rn=Dt.createDocumentFragment();return mt(tt,function(Bn){rn.appendChild(Bn.dom)}),fo.fromDom(rn)},rc=function(tt,gt,Dt){return tt.fire("ListMutation",{action:gt,element:Dt})},ft=function(tt){return tt.style!==void 0&&We(tt.style.getPropertyValue)},Ze=function(tt,gt,Dt){if(!He(Dt))throw new Error("CSS value must be a string: "+Dt);ft(tt)&&tt.style.setProperty(gt,Dt)},wt=function(tt,gt,Dt){var rn=tt.dom;Ze(rn,gt,Dt)},zt=function(tt,gt){Oa(tt.item,gt.list)},gn=function(tt){for(var gt=1;gt<tt.length;gt++)zt(tt[gt-1],tt[gt])},qn=function(tt,gt){Wc(jt(tt),Ve(gt),zt)},_r=function(tt,gt){var Dt={list:fo.fromTag(gt,tt),item:fo.fromTag("li",tt)};return Oa(Dt.list,Dt.item),Dt},xa=function(tt,gt,Dt){for(var rn=[],Bn=0;Bn<Dt;Bn++)rn.push(_r(tt,gt.listType));return rn},Ua=function(tt,gt){for(var Dt=0;Dt<tt.length-1;Dt++)wt(tt[Dt].item,"list-style-type","none");jt(tt).each(function(rn){ht(rn.list,gt.listAttributes),ht(rn.item,gt.itemAttributes),za(rn.item,gt.content)})},Qr=function(tt,gt){zr(tt.list)!==gt.listType&&(tt.list=ls(tt.list,gt.listType)),ht(tt.list,gt.listAttributes)},wa=function(tt,gt,Dt){var rn=fo.fromTag("li",tt);return ht(rn,gt),za(rn,Dt),rn},ao=function(tt,gt){Oa(tt.list,gt),tt.item=gt},bo=function(tt,gt,Dt){var rn=gt.slice(0,Dt.depth);return jt(rn).each(function(Bn){var or=wa(tt,Dt.itemAttributes,Dt.content);ao(Bn,or),Qr(Bn,Dt)}),rn},ja=function(tt,gt,Dt){var rn=xa(tt,Dt,Dt.depth-gt.length);return gn(rn),Ua(rn,Dt),qn(gt,rn),gt.concat(rn)},hi=function(tt,gt){var Dt=st(gt,function(rn,Bn){return Bn.depth>rn.length?ja(tt,rn,Bn):bo(tt,rn,Bn)},[]);return Ve(Dt).map(function(rn){return rn.list})},Za=function(tt){return Fu(tt,"OL,UL")},Zo=function(tt){return Un(tt).exists(Za)},Xo=function(tt){return Fr(tt).exists(Za)},qu=function(tt){return tt.depth>0},vo=function(tt){return tt.isSelected},Md=function(tt){var gt=Tn(tt),Dt=Xo(tt)?gt.slice(0,-1):gt;return Tt(Dt,si)},Di=function(tt,gt,Dt){return fn(tt).filter(dn).map(function(rn){return{depth:gt,dirty:!1,isSelected:Dt,content:Md(tt),itemAttributes:$t(tt),listAttributes:$t(rn),listType:zr(rn)}})},Yi=function(tt,gt){switch(tt){case"Indent":gt.depth++;break;case"Outdent":gt.depth--;break;case"Flatten":gt.depth=0}gt.dirty=!0},Im=function(tt,gt){tt.listType=gt.listType,tt.listAttributes=yt({},gt.listAttributes)},Eu=function(tt){tt.listAttributes=Wn(tt.listAttributes,function(gt,Dt){return Dt!=="start"})},Lv=function(tt,gt){var Dt=tt[gt].depth,rn=function(or){return or.depth===Dt&&!or.dirty},Bn=function(or){return or.depth<Dt};return At(Sn(tt.slice(0,gt)),rn,Bn).orThunk(function(){return At(tt.slice(gt+1),rn,Bn)})},Dd=function(tt){return mt(tt,function(gt,Dt){Lv(tt,Dt).fold(function(){gt.dirty&&Eu(gt)},function(rn){return Im(gt,rn)})}),tt},Ja=function(tt){var gt=tt,Dt=function(){return gt},rn=function(Bn){gt=Bn};return{get:Dt,set:rn}},ac=function(tt,gt,Dt,rn){return Un(rn).filter(Za).fold(function(){gt.each(function(Aa){ga(Aa.start,rn)&&Dt.set(!0)});var Bn=Di(rn,tt,Dt.get());gt.each(function(Aa){ga(Aa.end,rn)&&Dt.set(!1)});var or=Fr(rn).filter(Za).map(function(Aa){return Ac(tt,gt,Dt,Aa)}).getOr([]);return Bn.toArray().concat(or)},function(Bn){return Ac(tt,gt,Dt,Bn)})},Ac=function(tt,gt,Dt,rn){return Ht(Tn(rn),function(Bn){var or=Za(Bn)?Ac:ac,Aa=tt+1;return or(Aa,gt,Dt,Bn)})},Vi=function(tt,gt){var Dt=Ja(!1),rn=0;return Tt(tt,function(Bn){return{sourceList:Bn,entries:Ac(rn,gt,Dt,Bn)}})},Fm=function(tt,gt){var Dt=Dd(gt);return Tt(Dt,function(rn){var Bn=hl(rn.content);return fo.fromDom(No(tt,Bn.dom))})},ku=function(tt,gt){var Dt=Dd(gt);return hi(tt.contentDocument,Dt).toArray()},qc=function(tt,gt){return Ht(Et(gt,qu),function(Dt){var rn=Ve(Dt).exists(qu);return rn?ku(tt,Dt):Fm(tt,Dt)})},Ff=function(tt,gt){mt(vt(tt,vo),function(Dt){return Yi(gt,Dt)})},ri=function(tt){var gt=Tt(tc(tt),fo.fromDom);return Wc(nn(gt,Qe(Zo)),nn(Sn(gt),Qe(Zo)),function(Dt,rn){return{start:Dt,end:rn}})},Kc=function(tt,gt,Dt){var rn=Vi(gt,ri(tt));mt(rn,function(Bn){Ff(Bn.entries,Dt);var or=qc(tt,Bn.entries);mt(or,function(Aa){rc(tt,Dt==="Indent"?"IndentList":"OutdentList",Aa.dom)}),Ha(Bn.sourceList,or),Qa(Bn.sourceList)})},cs=function(tt,gt){var Dt=Tt(ar(tt),fo.fromDom),rn=Tt(cd(tt),fo.fromDom),Bn=!1;if(Dt.length||rn.length){var or=tt.selection.getBookmark();Kc(tt,Dt,gt),xc(tt,gt,rn),tt.selection.moveToBookmark(or),tt.selection.setRng(nl(tt.selection.getRng())),tt.nodeChanged(),Bn=!0}return Bn},Yc=function(tt){return cs(tt,"Indent")},uu=function(tt){return cs(tt,"Outdent")},rl=function(tt){return cs(tt,"Flatten")},Hm=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Gc=Wu.DOM,ci=function(tt){var gt={},Dt=function(rn){var Bn=tt[rn?"startContainer":"endContainer"],or=tt[rn?"startOffset":"endOffset"];if(Bn.nodeType===1){var Aa=Gc.create("span",{"data-mce-type":"bookmark"});Bn.hasChildNodes()?(or=Math.min(or,Bn.childNodes.length-1),rn?Bn.insertBefore(Aa,Bn.childNodes[or]):Gc.insertAfter(Aa,Bn.childNodes[or])):Bn.appendChild(Aa),Bn=Aa,or=0}gt[rn?"startContainer":"endContainer"]=Bn,gt[rn?"startOffset":"endOffset"]=or};return Dt(!0),tt.collapsed||Dt(),gt},Hf=function(tt){var gt=function(rn){var Bn,or=function(Fo){for(var Ao=Fo.parentNode.firstChild,Ri=0;Ao;){if(Ao===Fo)return Ri;(Ao.nodeType!==1||Ao.getAttribute("data-mce-type")!=="bookmark")&&Ri++,Ao=Ao.nextSibling}return-1},Aa=Bn=tt[rn?"startContainer":"endContainer"],oo=tt[rn?"startOffset":"endOffset"];Aa&&(Aa.nodeType===1&&(oo=or(Aa),Aa=Aa.parentNode,Gc.remove(Bn),!Aa.hasChildNodes()&&Gc.isBlock(Aa)&&Aa.appendChild(Gc.create("br"))),tt[rn?"startContainer":"endContainer"]=Aa,tt[rn?"startOffset":"endOffset"]=oo)};gt(!0),gt();var Dt=Gc.createRng();return Dt.setStart(tt.startContainer,tt.startOffset),tt.endContainer&&Dt.setEnd(tt.endContainer,tt.endOffset),nl(Dt)},Xc=function(tt){switch(tt){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},fs=function(tt){return/\btox\-/.test(tt.className)},Qc=function(tt,gt,Dt){var rn=function(or){var Aa=At(or.parents,Ki,Ju).filter(function(oo){return oo.nodeName===gt&&!fs(oo)}).isSome();Dt(Aa)},Bn=tt.dom.getParents(tt.selection.getNode());return rn({parents:Bn}),tt.on("NodeChange",rn),function(){return tt.off("NodeChange",rn)}},Nd=function(tt,gt,Dt){var rn=Dt["list-style-type"]?Dt["list-style-type"]:null;tt.setStyle(gt,"list-style-type",rn)},zm=function(tt,gt){Ci.each(gt,function(Dt,rn){tt.setAttribute(rn,Dt)})},ts=function(tt,gt,Dt){zm(gt,Dt["list-attributes"]),Ci.each(tt.select("li",gt),function(rn){zm(rn,Dt["list-item-attributes"])})},_c=function(tt,gt,Dt){Nd(tt,gt,Dt),ts(tt,gt,Dt)},gl=function(tt,gt,Dt){Ci.each(Dt,function(rn){var Bn;return tt.setStyle(gt,(Bn={},Bn[rn]="",Bn))})},d=function(tt,gt,Dt,rn){var Bn=gt[Dt?"startContainer":"endContainer"],or=gt[Dt?"startOffset":"endOffset"];for(Bn.nodeType===1&&(Bn=Bn.childNodes[Math.min(or,Bn.childNodes.length-1)]||Bn),!Dt&&Zu(Bn.nextSibling)&&(Bn=Bn.nextSibling);Bn.parentNode!==rn;){if(tl(tt,Bn)||/^(TD|TH)$/.test(Bn.parentNode.nodeName))return Bn;Bn=Bn.parentNode}return Bn},v=function(tt,gt,Dt){for(var rn=[],Bn=tt.dom,or=d(tt,gt,!0,Dt),Aa=d(tt,gt,!1,Dt),oo,Fo=[],Ao=or;Ao&&(Fo.push(Ao),Ao!==Aa);Ao=Ao.nextSibling);return Ci.each(Fo,function(Ri){if(tl(tt,Ri)){rn.push(Ri),oo=null;return}if(Bn.isBlock(Ri)||Zu(Ri)){Zu(Ri)&&Bn.remove(Ri),oo=null;return}var Os=Ri.nextSibling;if(Hm.isBookmarkNode(Ri)&&(Ki(Os)||tl(tt,Os)||!Os&&Ri.parentNode===Dt)){oo=null;return}oo||(oo=Bn.create("p"),Ri.parentNode.insertBefore(oo,Ri),rn.push(oo)),oo.appendChild(Ri)}),rn},p=function(tt,gt,Dt){var rn=tt.getStyle(gt,"list-style-type"),Bn=Dt?Dt["list-style-type"]:"";return Bn=Bn===null?"":Bn,rn===Bn},k=function(tt,gt,Dt){var rn=tt.selection.getRng(),Bn="LI",or=es(tt,tt.selection.getStart(!0)),Aa=tt.dom;if(Aa.getContentEditable(tt.selection.getNode())!=="false"){gt=gt.toUpperCase(),gt==="DL"&&(Bn="DT");var oo=ci(rn),Fo=v(tt,rn,or);Ci.each(Fo,function(Ao){var Ri,Os=Ao.previousSibling,cb=Ao.parentNode;ml(cb)||(Os&&Ki(Os)&&Os.nodeName===gt&&p(Aa,Os,Dt)?(Ri=Os,Ao=Aa.rename(Ao,Bn),Os.appendChild(Ao)):(Ri=Aa.create(gt),Ao.parentNode.insertBefore(Ri,Ao),Ri.appendChild(Ao),Ao=Aa.rename(Ao,Bn)),gl(Aa,Ao,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),_c(Aa,Ri,Dt),en(tt.dom,Ri))}),tt.selection.setRng(Hf(oo))}},N=function(tt,gt){return tt&&gt&&Ki(tt)&&tt.nodeName===gt.nodeName},Ke=function(tt,gt,Dt){var rn=tt.getStyle(gt,"list-style-type",!0),Bn=tt.getStyle(Dt,"list-style-type",!0);return rn===Bn},St=function(tt,gt){return tt.className===gt.className},Bt=function(tt,gt,Dt){return N(gt,Dt)&&Ke(tt,gt,Dt)&&St(gt,Dt)},en=function(tt,gt){var Dt,rn;if(Dt=gt.nextSibling,Bt(tt,gt,Dt)){for(;rn=Dt.firstChild;)gt.appendChild(rn);tt.remove(Dt)}if(Dt=gt.previousSibling,Bt(tt,gt,Dt)){for(;rn=Dt.lastChild;)gt.insertBefore(rn,gt.firstChild);tt.remove(Dt)}},Vt=function(tt,gt,Dt,rn){if(gt.nodeName!==Dt){var Bn=tt.dom.rename(gt,Dt);_c(tt.dom,Bn,rn),rc(tt,Xc(Dt),Bn)}else _c(tt.dom,gt,rn),rc(tt,Xc(Dt),gt)},yn=function(tt,gt,Dt,rn,Bn){var or=Ki(gt);if(or&&gt.nodeName===rn&&!ur(Bn))rl(tt);else{k(tt,rn,Bn);var Aa=ci(tt.selection.getRng()),oo=or?Mt([gt],Dt):Dt;Ci.each(oo,function(Fo){Vt(tt,Fo,rn,Bn)}),tt.selection.setRng(Hf(Aa))}},ur=function(tt){return"list-style-type"in tt},da=function(tt,gt,Dt,rn){if(gt!==tt.getBody())if(gt)if(gt.nodeName===Dt&&!ur(rn)&&!fs(gt))rl(tt);else{var Bn=ci(tt.selection.getRng());_c(tt.dom,gt,rn);var or=tt.dom.rename(gt,Dt);en(tt.dom,or),tt.selection.setRng(Hf(Bn)),k(tt,Dt,rn),rc(tt,Xc(Dt),or)}else k(tt,Dt,rn),rc(tt,Xc(Dt),gt)},ia=function(tt,gt,Dt){var rn=_s(tt),Bn=If(tt),or=Ge(Dt)?Dt:{};Bn.length>0?yn(tt,rn,Bn,gt,or):da(tt,rn,gt,or)},na=Wu.DOM,Ta=function(tt,gt){var Dt=gt.parentNode;if(Dt.nodeName==="LI"&&Dt.firstChild===gt){var rn=Dt.previousSibling;rn&&rn.nodeName==="LI"?(rn.appendChild(gt),xn(tt,Dt)&&na.remove(Dt)):na.setStyle(Dt,"listStyleType","none")}if(Ki(Dt)){var rn=Dt.previousSibling;rn&&rn.nodeName==="LI"&&rn.appendChild(gt)}},Ca=function(tt,gt){var Dt=Ci.grep(tt.select("ol,ul",gt));Ci.each(Dt,function(rn){Ta(tt,rn)})},qr=function(tt,gt,Dt,rn){var Bn=gt.startContainer,or=gt.startOffset;if(go(Bn)&&(Dt?or<Bn.data.length:or>0))return Bn;var Aa=tt.schema.getNonEmptyElements();Bn.nodeType===1&&(Bn=iu.getNode(Bn,or));var oo=new Su(Bn,rn);for(Dt&&Rt(tt.dom,Bn)&&oo.next();Bn=oo[Dt?"next":"prev2"]();)if(Bn.nodeName==="LI"&&!Bn.hasChildNodes()||Aa[Bn.nodeName]||go(Bn)&&Bn.data.length>0)return Bn},uo=function(tt,gt){var Dt=gt.childNodes;return Dt.length===1&&!Ki(Dt[0])&&tt.isBlock(Dt[0])},Wa=function(tt,gt){uo(tt,gt)&&tt.remove(gt.firstChild,!0)},yo=function(tt,gt,Dt){var rn,Bn=uo(tt,Dt)?Dt.firstChild:Dt;if(Wa(tt,gt),!xn(tt,gt,!0))for(;rn=gt.firstChild;)Bn.appendChild(rn)},gi=function(tt,gt,Dt){var rn,Bn=gt.parentNode;if(!(!In(tt,gt)||!In(tt,Dt))){Ki(Dt.lastChild)&&(rn=Dt.lastChild),Bn===Dt.lastChild&&Zu(Bn.previousSibling)&&tt.remove(Bn.previousSibling);var or=Dt.lastChild;or&&Zu(or)&&gt.hasChildNodes()&&tt.remove(or),xn(tt,Dt,!0)&&tt.$(Dt).empty(),yo(tt,gt,Dt),rn&&Dt.appendChild(rn);var Aa=eu(fo.fromDom(Dt),fo.fromDom(gt)),oo=Aa?tt.getParents(gt,Ki,Dt):[];tt.remove(gt),mt(oo,function(Fo){xn(tt,Fo)&&Fo!==tt.getRoot()&&tt.remove(Fo)})}},ai=function(tt,gt,Dt){tt.dom.$(Dt).empty(),gi(tt.dom,gt,Dt),tt.selection.setCursorLocation(Dt,0)},Ai=function(tt,gt,Dt,rn){var Bn=tt.dom;if(Bn.isEmpty(rn))ai(tt,Dt,rn);else{var or=ci(gt);gi(Bn,Dt,rn),tt.selection.setRng(Hf(or))}},Da=function(tt,gt,Dt,rn){var Bn=ci(gt);gi(tt.dom,Dt,rn);var or=Hf(Bn);tt.selection.setRng(or)},Ni=function(tt,gt){var Dt=tt.dom,rn=tt.selection,Bn=rn.getStart(),or=es(tt,Bn),Aa=Dt.getParent(rn.getStart(),"LI",or);if(Aa){var oo=Aa.parentNode;if(oo===tt.getBody()&&xn(Dt,oo))return!0;var Fo=nl(rn.getRng()),Ao=Dt.getParent(qr(tt,Fo,gt,or),"LI",or);if(Ao&&Ao!==Aa)return tt.undoManager.transact(function(){gt?Ai(tt,Fo,Ao,Aa):Bl(Aa)?uu(tt):Da(tt,Fo,Aa,Ao)}),!0;if(!Ao&&!gt&&Fo.startOffset===0&&Fo.endOffset===0)return tt.undoManager.transact(function(){rl(tt)}),!0}return!1},Ku=function(tt,gt,Dt){var rn=tt.getParent(gt.parentNode,tt.isBlock,Dt);tt.remove(gt),rn&&tt.isEmpty(rn)&&tt.remove(rn)},Ro=function(tt,gt){var Dt=tt.dom,rn=tt.selection.getStart(),Bn=es(tt,rn),or=Dt.getParent(rn,Dt.isBlock,Bn);if(or&&Dt.isEmpty(or)){var Aa=nl(tt.selection.getRng()),oo=Dt.getParent(qr(tt,Aa,gt,Bn),"LI",Bn);if(oo)return tt.undoManager.transact(function(){Ku(Dt,or,Bn),en(Dt,oo.parentNode),tt.selection.select(oo,!0),tt.selection.collapse(gt)}),!0}return!1},vu=function(tt,gt){return Ni(tt,gt)||Ro(tt,gt)},Pl=function(tt){var gt=tt.selection.getStart(),Dt=es(tt,gt),rn=tt.dom.getParent(gt,"LI,DT,DD",Dt);return rn||tc(tt).length>0?(tt.undoManager.transact(function(){tt.execCommand("Delete"),Ca(tt.dom,tt.getBody())}),!0):!1},fi=function(tt,gt){return tt.selection.isCollapsed()?vu(tt,gt):Pl(tt)},nu=function(tt){tt.on("keydown",function(gt){gt.keyCode===ju.BACKSPACE?fi(tt,!1)&&gt.preventDefault():gt.keyCode===ju.DELETE&&fi(tt,!0)&&gt.preventDefault()})},Ps=function(tt){return{backspaceDelete:function(gt){fi(tt,gt)}}},mu=function(tt,gt){var Dt=_s(tt);tt.undoManager.transact(function(){Ge(gt.styles)&&tt.dom.setStyles(Dt,gt.styles),Ge(gt.attrs)&&Gt(gt.attrs,function(rn,Bn){return tt.dom.setAttrib(Dt,Bn,rn)})})},Gr=function(tt){var gt=Sn(Kn(tt).split("")),Dt=Tt(gt,function(rn,Bn){var or=rn.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Bn)*or});return st(Dt,function(rn,Bn){return rn+Bn},0)},Oc=function(tt){if(tt--,tt<0)return"";var gt=tt%26,Dt=Math.floor(tt/26),rn=Oc(Dt),Bn=String.fromCharCode(65+gt);return rn+Bn},zf=function(tt){return/^[A-Z]+$/.test(tt)},Ga=function(tt){return/^[a-z]+$/.test(tt)},Qo=function(tt){return/^[0-9]+$/.test(tt)},Il=function(tt){return Qo(tt)?2:zf(tt)?0:Ga(tt)?1:Rn(tt)?3:4},ds=function(tt){switch(Il(tt)){case 2:return Ue.some({listStyleType:Ue.none(),start:tt});case 0:return Ue.some({listStyleType:Ue.some("upper-alpha"),start:Gr(tt).toString()});case 1:return Ue.some({listStyleType:Ue.some("lower-alpha"),start:Gr(tt).toString()});case 3:return Ue.some({listStyleType:Ue.none(),start:""});case 4:return Ue.none()}},Si=function(tt){var gt=parseInt(tt.start,10);return tu(tt.listStyleType,"upper-alpha")?Oc(gt):tu(tt.listStyleType,"lower-alpha")?Oc(gt).toLowerCase():tt.start},Pa=function(tt){var gt=_s(tt);As(gt)&&tt.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Si({start:tt.dom.getAttrib(gt,"start","1"),listStyleType:Ue.some(tt.dom.getStyle(gt,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Dt){var rn=Dt.getData();ds(rn.start).each(function(Bn){tt.execCommand("mceListUpdate",!1,{attrs:{start:Bn.start==="1"?"":Bn.start},styles:{"list-style-type":Bn.listStyleType.getOr("")}})}),Dt.close()}})},Co=function(tt,gt){return function(){var Dt=_s(tt);return Dt&&Dt.nodeName===gt}},al=function(tt){tt.addCommand("mceListProps",function(){Pa(tt)})},oc=function(tt){tt.on("BeforeExecCommand",function(gt){var Dt=gt.command.toLowerCase();Dt==="indent"?Yc(tt):Dt==="outdent"&&uu(tt)}),tt.addCommand("InsertUnorderedList",function(gt,Dt){ia(tt,"UL",Dt)}),tt.addCommand("InsertOrderedList",function(gt,Dt){ia(tt,"OL",Dt)}),tt.addCommand("InsertDefinitionList",function(gt,Dt){ia(tt,"DL",Dt)}),tt.addCommand("RemoveList",function(){rl(tt)}),al(tt),tt.addCommand("mceListUpdate",function(gt,Dt){Ge(Dt)&&mu(tt,Dt)}),tt.addQueryStateHandler("InsertUnorderedList",Co(tt,"UL")),tt.addQueryStateHandler("InsertOrderedList",Co(tt,"OL")),tt.addQueryStateHandler("InsertDefinitionList",Co(tt,"DL"))},pu=function(tt){tt.on("keydown",function(gt){gt.keyCode!==ju.TAB||ju.metaKeyPressed(gt)||tt.undoManager.transact(function(){(gt.shiftKey?uu(tt):Yc(tt))&&gt.preventDefault()})})},Fl=function(tt){fr(tt)&&pu(tt),nu(tt)},$m=function(tt){var gt=function(Dt){return function(){return tt.execCommand(Dt)}};tt.hasPlugin("advlist")||(tt.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:gt("InsertOrderedList"),onSetup:function(Dt){return Qc(tt,"OL",Dt.setActive)}}),tt.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:gt("InsertUnorderedList"),onSetup:function(Dt){return Qc(tt,"UL",Dt.setActive)}}))},xi=function(tt){var gt={text:"List properties...",icon:"ordered-list",onAction:function(){return tt.execCommand("mceListProps")},onSetup:function(Dt){return Qc(tt,"OL",function(rn){return Dt.setDisabled(!rn)})}};tt.ui.registry.addMenuItem("listprops",gt),tt.ui.registry.addContextMenu("lists",{update:function(Dt){var rn=_s(tt,Dt);return As(rn)?["listprops"]:[]}})};function Rd(){g.add("lists",function(tt){return tt.hasPlugin("rtc",!0)===!1?(Fl(tt),oc(tt)):al(tt),$m(tt),xi(tt),Ps(tt)})}Rd()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(){return w=Object.assign||function(Mn){for(var on,Wn=1,zr=arguments.length;Wn<zr;Wn++){on=arguments[Wn];for(var oa in on)Object.prototype.hasOwnProperty.call(on,oa)&&(Mn[oa]=on[oa])}return Mn},w.apply(this,arguments)},C=function(Gt){var Mn=typeof Gt;return Gt===null?"null":Mn==="object"&&(Array.prototype.isPrototypeOf(Gt)||Gt.constructor&&Gt.constructor.name==="Array")?"array":Mn==="object"&&(String.prototype.isPrototypeOf(Gt)||Gt.constructor&&Gt.constructor.name==="String")?"string":Mn},x=function(Gt){return function(Mn){return C(Mn)===Gt}},He=x("string"),Ge=x("object"),Xe=x("array"),ze=function(Gt){return Gt==null},We=function(Gt){return!ze(Gt)},at=function(){},nt=function(Gt){return function(){return Gt}},A=function(Gt){return Gt},Te=nt(!1),et=nt(!0),Qe=function(){return $e},$e=function(){var Gt=function(Wn){return Wn()},Mn=A,on={fold:function(Wn,zr){return Wn()},isSome:Te,isNone:et,getOr:Mn,getOrThunk:Gt,getOrDie:function(Wn){throw new Error(Wn||"error: getOrDie called on none.")},getOrNull:nt(null),getOrUndefined:nt(void 0),or:Mn,orThunk:Gt,map:Qe,each:at,bind:Qe,exists:Te,forall:et,filter:function(){return Qe()},toArray:function(){return[]},toString:nt("none()")};return on}(),Ye=function(Gt){var Mn=nt(Gt),on=function(){return zr},Wn=function(oa){return oa(Gt)},zr={fold:function(oa,Xt){return Xt(Gt)},isSome:et,isNone:Te,getOr:Mn,getOrThunk:Mn,getOrDie:Mn,getOrNull:Mn,getOrUndefined:Mn,or:on,orThunk:on,map:function(oa){return Ye(oa(Gt))},each:function(oa){oa(Gt)},bind:Wn,exists:Wn,forall:Wn,filter:function(oa){return oa(Gt)?zr:$e},toArray:function(){return[Gt]},toString:function(){return"some("+Gt+")"}};return zr},ut=function(Gt){return Gt==null?$e:Ye(Gt)},ct={some:Ye,none:Qe,from:ut},qe=Array.prototype.push,lt=function(Gt,Mn){for(var on=0,Wn=Gt.length;on<Wn;on++){var zr=Gt[on];Mn(zr,on)}},Ue=function(Gt){for(var Mn=[],on=0,Wn=Gt.length;on<Wn;++on){if(!Xe(Gt[on]))throw new Error("Arr.flatten item "+on+" was not an array, input: "+Gt);qe.apply(Mn,Gt[on])}return Mn},pt=function(Gt){var Mn=Gt,on=function(){return Mn},Wn=function(zr){Mn=zr};return{get:on,set:Wn}},It=Object.keys,Tt=Object.hasOwnProperty,mt=function(Gt,Mn){for(var on=It(Gt),Wn=0,zr=on.length;Wn<zr;Wn++){var oa=on[Wn],Xt=Gt[oa];Mn(Xt,oa)}},vt=function(Gt,Mn){return Et(Gt,Mn)?ct.from(Gt[Mn]):ct.none()},Et=function(Gt,Mn){return Tt.call(Gt,Mn)},st=function(Gt){return Gt.getParam("media_scripts")},At=function(Gt){return Gt.getParam("audio_template_callback")},nn=function(Gt){return Gt.getParam("video_template_callback")},wn=function(Gt){return Gt.getParam("media_live_embeds",!0)},Ht=function(Gt){return Gt.getParam("media_filter_html",!0)},Sn=function(Gt){return Gt.getParam("media_url_resolver")},lr=function(Gt){return Gt.getParam("media_alt_source",!0)},Ve=function(Gt){return Gt.getParam("media_poster",!0)},jt=function(Gt){return Gt.getParam("media_dimensions",!0)},cn=tinymce.util.Tools.resolve("tinymce.util.Tools"),yt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Mt=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Lt=function(Gt,Mn){if(Gt){for(var on=0;on<Gt.length;on++)if(Mn.indexOf(Gt[on].filter)!==-1)return Gt[on]}},qt=yt.DOM,an=function(Gt){return Gt.replace(/px$/,"")},ot=function(Gt){var Mn=Gt.map.style,on=Mn?qt.parseStyle(Mn):{};return{type:"ephox-embed-iri",source:Gt.map["data-ephox-embed-iri"],altsource:"",poster:"",width:vt(on,"max-width").map(an).getOr(""),height:vt(on,"max-height").map(an).getOr("")}},En=function(Gt,Mn){var on=pt(!1),Wn={};return Mt({validate:!1,allow_conditional_comments:!0,start:function(zr,oa){if(!on.get())if(Et(oa.map,"data-ephox-embed-iri"))on.set(!0),Wn=ot(oa);else{if(!Wn.source&&zr==="param"&&(Wn.source=oa.map.movie),(zr==="iframe"||zr==="object"||zr==="embed"||zr==="video"||zr==="audio")&&(Wn.type||(Wn.type=zr),Wn=cn.extend(oa.map,Wn)),zr==="script"){var Xt=Lt(Gt,oa.map.src);if(!Xt)return;Wn={type:"script",source:oa.map.src,width:String(Xt.width),height:String(Xt.height)}}zr==="source"&&(Wn.source?Wn.altsource||(Wn.altsource=oa.map.src):Wn.source=oa.map.src),zr==="img"&&!Wn.poster&&(Wn.poster=oa.map.src)}}}).parse(Mn),Wn.source=Wn.source||Wn.src||Wn.data,Wn.altsource=Wn.altsource||"",Wn.poster=Wn.poster||"",Wn},Pt=function(Gt){var Mn={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},on=Gt.toLowerCase().split(".").pop(),Wn=Mn[on];return Wn||""},xt=tinymce.util.Tools.resolve("tinymce.html.Schema"),vn=tinymce.util.Tools.resolve("tinymce.html.Writer"),Ot=yt.DOM,Zt=function(Gt){return/^[0-9.]+$/.test(Gt)?Gt+"px":Gt},mn=function(Gt,Mn){mt(Mn,function(on,Wn){var zr=""+on;if(Gt.map[Wn])for(var oa=Gt.length;oa--;){var Xt=Gt[oa];Xt.name===Wn&&(zr?(Gt.map[Wn]=zr,Xt.value=zr):(delete Gt.map[Wn],Gt.splice(oa,1)))}else zr&&(Gt.push({name:Wn,value:zr}),Gt.map[Wn]=zr)})},ln=function(Gt,Mn){var on=Mn.map.style,Wn=on?Ot.parseStyle(on):{};Wn["max-width"]=Zt(Gt.width),Wn["max-height"]=Zt(Gt.height),mn(Mn,{style:Ot.serializeStyle(Wn)})},Ft=["source","altsource"],bn=function(Gt,Mn,on){var Wn=vn(),zr=pt(!1),oa=0,Xt;return Mt({validate:!1,allow_conditional_comments:!0,comment:function(dn){Wn.comment(dn)},cdata:function(dn){Wn.cdata(dn)},text:function(dn,Yn){Wn.text(dn,Yn)},start:function(dn,Yn,sr){if(!zr.get())if(Et(Yn.map,"data-ephox-embed-iri"))zr.set(!0),ln(Mn,Yn);else{switch(dn){case"video":case"object":case"embed":case"img":case"iframe":Mn.height!==void 0&&Mn.width!==void 0&&mn(Yn,{width:Mn.width,height:Mn.height});break}if(on)switch(dn){case"video":mn(Yn,{poster:Mn.poster,src:""}),Mn.altsource&&mn(Yn,{src:""});break;case"iframe":mn(Yn,{src:Mn.source});break;case"source":if(oa<2&&(mn(Yn,{src:Mn[Ft[oa]],type:Mn[Ft[oa]+"mime"]}),!Mn[Ft[oa]]))return;oa++;break;case"img":if(!Mn.poster)return;Xt=!0;break}}Wn.start(dn,Yn,sr)},end:function(dn){if(!zr.get()){if(dn==="video"&&on){for(var Yn=0;Yn<2;Yn++)if(Mn[Ft[Yn]]){var sr=[];sr.map={},oa<=Yn&&(mn(sr,{src:Mn[Ft[Yn]],type:Mn[Ft[Yn]+"mime"]}),Wn.start("source",sr,!0))}}if(Mn.poster&&dn==="object"&&on&&!Xt){var ht=[];ht.map={},mn(ht,{src:Mn.poster,width:Mn.width,height:Mn.height}),Wn.start("img",ht,!0)}}Wn.end(dn)}},xt({})).parse(Gt),Wn.getContent()},Kn=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Jt=function(Gt){var Mn=Gt.match(/^(https?:\/\/|www\.)(.+)$/i);return Mn&&Mn.length>1?Mn[1]==="www."?"https://":Mn[1]:"https://"},Rn=function(Gt,Mn){for(var on=Jt(Mn),Wn=Gt.regex.exec(Mn),zr=on+Gt.url,oa=function(dn){zr=zr.replace("$"+dn,function(){return Wn[dn]?Wn[dn]:""})},Xt=0;Xt<Wn.length;Xt++)oa(Xt);return zr.replace(/\?$/,"")},rr=function(Gt){var Mn=Kn.filter(function(on){return on.regex.test(Gt)});return Mn.length>0?cn.extend({},Mn[0],{url:Rn(Mn[0],Gt)}):null},Vn=function(Gt){var Mn=Gt.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Gt.source+'" width="'+Gt.width+'" height="'+Gt.height+'"'+Mn+"></iframe>"},Br=function(Gt){var Mn='<object data="'+Gt.source+'" width="'+Gt.width+'" height="'+Gt.height+'" type="application/x-shockwave-flash">';return Gt.poster&&(Mn+='<img src="'+Gt.poster+'" width="'+Gt.width+'" height="'+Gt.height+'" />'),Mn+="</object>",Mn},la=function(Gt,Mn){return Mn?Mn(Gt):'<audio controls="controls" src="'+Gt.source+'">'+(Gt.altsource?`
<source src="`+Gt.altsource+'"'+(Gt.altsourcemime?' type="'+Gt.altsourcemime+'"':"")+` />
`:"")+"</audio>"},fa=function(Gt,Mn){return Mn?Mn(Gt):'<video width="'+Gt.width+'" height="'+Gt.height+'"'+(Gt.poster?' poster="'+Gt.poster+'"':"")+` controls="controls">
<source src="`+Gt.source+'"'+(Gt.sourcemime?' type="'+Gt.sourcemime+'"':"")+` />
`+(Gt.altsource?'<source src="'+Gt.altsource+'"'+(Gt.altsourcemime?' type="'+Gt.altsourcemime+'"':"")+` />
`:"")+"</video>"},co=function(Gt){return'<script src="'+Gt.source+'"><\/script>'},Eo=function(Gt,Mn){var on=cn.extend({},Mn);if(!on.source&&(cn.extend(on,En(st(Gt),on.embed)),!on.source))return"";on.altsource||(on.altsource=""),on.poster||(on.poster=""),on.source=Gt.convertURL(on.source,"source"),on.altsource=Gt.convertURL(on.altsource,"source"),on.sourcemime=Pt(on.source),on.altsourcemime=Pt(on.altsource),on.poster=Gt.convertURL(on.poster,"poster");var Wn=rr(on.source);if(Wn&&(on.source=Wn.url,on.type=Wn.type,on.allowfullscreen=Wn.allowFullscreen,on.width=on.width||String(Wn.w),on.height=on.height||String(Wn.h)),on.embed)return bn(on.embed,on,!0);var zr=Lt(st(Gt),on.source);zr&&(on.type="script",on.width=String(zr.width),on.height=String(zr.height));var oa=At(Gt),Xt=nn(Gt);return on.width=on.width||"300",on.height=on.height||"150",cn.each(on,function(dn,Yn){on[Yn]=Gt.dom.encode(""+dn)}),on.type==="iframe"?Vn(on):on.sourcemime==="application/x-shockwave-flash"?Br(on):on.sourcemime.indexOf("audio")!==-1?la(on,oa):on.type==="script"?co(on):fa(on,Xt)},hr=function(Gt){return Gt.hasAttribute("data-mce-object")||Gt.hasAttribute("data-ephox-embed-iri")},yr=function(Gt){Gt.on("click keyup touchend",function(){var Mn=Gt.selection.getNode();Mn&&Gt.dom.hasClass(Mn,"mce-preview-object")&&Gt.dom.getAttrib(Mn,"data-mce-selected")&&Mn.setAttribute("data-mce-selected","2")}),Gt.on("ObjectSelected",function(Mn){var on=Mn.target.getAttribute("data-mce-object");on==="script"&&Mn.preventDefault()}),Gt.on("ObjectResized",function(Mn){var on=Mn.target;if(on.getAttribute("data-mce-object")){var Wn=on.getAttribute("data-mce-html");Wn&&(Wn=unescape(Wn),on.setAttribute("data-mce-html",escape(bn(Wn,{width:String(Mn.width),height:String(Mn.height)}))))}})},mr=tinymce.util.Tools.resolve("tinymce.util.Promise"),Pn={},zn=function(Gt,Mn,on){return new mr(function(Wn,zr){var oa=function(Xt){return Xt.html&&(Pn[Gt.source]=Xt),Wn({url:Gt.source,html:Xt.html?Xt.html:Mn(Gt)})};Pn[Gt.source]?oa(Pn[Gt.source]):on({url:Gt.source},oa,zr)})},kr=function(Gt,Mn){return mr.resolve({html:Mn(Gt),url:Gt.source})},$r=function(Gt){return function(Mn){return Eo(Gt,Mn)}},Cr=function(Gt,Mn){var on=Sn(Gt);return on?zn(Mn,$r(Gt),on):kr(Mn,$r(Gt))},Nn=function(Gt){return Et(Pn,Gt)},ir=function(Gt,Mn){return vt(Mn,Gt).bind(function(on){return vt(on,"meta")})},Ur=function(Gt,Mn,on){return function(Wn){var zr,oa=function(){return vt(Gt,Wn)},Xt=function(){return vt(Mn,Wn)},dn=function(ht){return vt(ht,"value").bind(function($t){return $t.length>0?ct.some($t):ct.none()})},Yn=function(){return oa().bind(function(ht){return Ge(ht)?dn(ht).orThunk(Xt):Xt().orThunk(function(){return ct.from(ht)})})},sr=function(){return Xt().orThunk(function(){return oa().bind(function(ht){return Ge(ht)?dn(ht):ct.from(ht)})})};return zr={},zr[Wn]=(Wn===on?Yn():sr()).getOr(""),zr}},Mr=function(Gt,Mn){var on={};return vt(Gt,"dimensions").each(function(Wn){lt(["width","height"],function(zr){vt(Mn,zr).orThunk(function(){return vt(Wn,zr)}).each(function(oa){return on[zr]=oa})})}),on},jr=function(Gt,Mn){var on=Mn?ir(Mn,Gt).getOr({}):{},Wn=Ur(Gt,on,Mn);return w(w(w(w(w({},Wn("source")),Wn("altsource")),Wn("poster")),Wn("embed")),Mr(Gt,on))},hn=function(Gt){var Mn=w(w({},Gt),{source:{value:vt(Gt,"source").getOr("")},altsource:{value:vt(Gt,"altsource").getOr("")},poster:{value:vt(Gt,"poster").getOr("")}});return lt(["width","height"],function(on){vt(Gt,on).each(function(Wn){var zr=Mn.dimensions||{};zr[on]=Wn,Mn.dimensions=zr})}),Mn},Qn=function(Gt){return function(Mn){var on=Mn&&Mn.msg?"Media embed handler error: "+Mn.msg:"Media embed handler threw unknown error.";Gt.notificationManager.open({type:"error",text:on})}},jn=function(Gt,Mn){return En(st(Gt),Mn)},gr=function(Gt){var Mn=Gt.selection.getNode(),on=hr(Mn)?Gt.serializer.serialize(Mn,{selection:!0}):"";return w({embed:on},En(st(Gt),on))},sa=function(Gt,Mn){return function(on){if(He(on.url)&&on.url.trim().length>0){var Wn=on.html,zr=jn(Mn,Wn),oa=w(w({},zr),{source:on.url,embed:Wn});Gt.setData(hn(oa))}}},Va=function(Gt,Mn){for(var on=Gt.dom.select("*[data-mce-object]"),Wn=0;Wn<Mn.length;Wn++)for(var zr=on.length-1;zr>=0;zr--)Mn[Wn]===on[zr]&&on.splice(zr,1);Gt.selection.select(on[0])},_o=function(Gt,Mn){var on=Gt.dom.select("*[data-mce-object]");Gt.insertContent(Mn),Va(Gt,on),Gt.nodeChanged()},Ka=function(Gt,Mn,on){Mn.embed=bn(Mn.embed,Mn),Mn.embed&&(Gt.source===Mn.source||Nn(Mn.source))?_o(on,Mn.embed):Cr(on,Mn).then(function(Wn){_o(on,Wn.html)}).catch(Qn(on))},Ya=function(Gt){var Mn=gr(Gt),on=pt(Mn),Wn=hn(Mn),zr=function(ea,Oa){var Ha=jr(Oa.getData(),"source");ea.source!==Ha.source&&(sa(Fr,Gt)({url:Ha.source,html:""}),Cr(Gt,Ha).then(sa(Fr,Gt)).catch(Qn(Gt)))},oa=function(ea){var Oa=jr(ea.getData()),Ha=jn(Gt,Oa.embed);ea.setData(hn(Ha))},Xt=function(ea,Oa){var Ha=jr(ea.getData(),Oa),za=Eo(Gt,Ha);ea.setData(hn(w(w({},Ha),{embed:za})))},dn=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Yn=jt(Gt)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],sr={title:"General",name:"general",items:Ue([dn,Yn])},ht={type:"textarea",name:"embed",label:"Paste your embed code below:"},$t={title:"Embed",items:[ht]},fn=[];lr(Gt)&&fn.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),Ve(Gt)&&fn.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var Tn={title:"Advanced",name:"advanced",items:fn},Hn=[sr,$t];fn.length>0&&Hn.push(Tn);var Un={type:"tabpanel",tabs:Hn},Fr=Gt.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Un,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(ea){var Oa=jr(ea.getData());Ka(on.get(),Oa,Gt),ea.close()},onChange:function(ea,Oa){switch(Oa.name){case"source":zr(on.get(),ea);break;case"embed":oa(ea);break;case"dimensions":case"altsource":case"poster":Xt(ea,Oa.name);break}on.set(jr(ea.getData()))},initialData:Wn})},ni=function(Gt){var Mn=function(){Ya(Gt)};return{showDialog:Mn}},Zi=function(Gt){var Mn=function(){Ya(Gt)};Gt.addCommand("mceMedia",Mn)},wo=tinymce.util.Tools.resolve("tinymce.html.Node"),mi=tinymce.util.Tools.resolve("tinymce.Env"),ii=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ou=function(Gt,Mn){if(Ht(Gt)===!1)return Mn;var on=vn(),Wn;return Mt({validate:!1,allow_conditional_comments:!1,comment:function(zr){Wn||on.comment(zr)},cdata:function(zr){Wn||on.cdata(zr)},text:function(zr,oa){Wn||on.text(zr,oa)},start:function(zr,oa,Xt){if(Wn=!0,!(zr==="script"||zr==="noscript"||zr==="svg")){for(var dn=oa.length-1;dn>=0;dn--){var Yn=oa[dn].name;Yn.indexOf("on")===0&&(delete oa.map[Yn],oa.splice(dn,1)),Yn==="style"&&(oa[dn].value=Gt.dom.serializeStyle(Gt.dom.parseStyle(oa[dn].value),zr))}on.start(zr,oa,Xt),Wn=!1}},end:function(zr){Wn||on.end(zr)}},xt({})).parse(Mn),on.getContent()},pi=function(Gt){var Mn=Gt.name;return Mn==="iframe"||Mn==="video"||Mn==="audio"},wi=function(Gt,Mn,on,Wn){Wn===void 0&&(Wn=null);var zr=Gt.attr(on);return We(zr)?zr:Et(Mn,on)?null:Wn},$i=function(Gt,Mn,on){var Wn=Mn.name==="img"||Gt.name==="video",zr=Wn?"300":null,oa=Gt.name==="audio"?"30":"150",Xt=Wn?oa:null;Mn.attr({width:wi(Gt,on,"width",zr),height:wi(Gt,on,"height",Xt)})},fo=function(Gt,Mn,on,Wn){for(var zr=ii({forced_root_block:!1,validate:!1},Gt.schema).parse(Wn,{context:Mn});zr.firstChild;)on.append(zr.firstChild)},Hi=function(Gt,Mn){var on=Mn.name,Wn=new wo("img",1);return Wn.shortEnded=!0,Iu(Gt,Mn,Wn),$i(Mn,Wn,{}),Wn.attr({style:Mn.attr("style"),src:mi.transparentSrc,"data-mce-object":on,class:"mce-object mce-object-"+on}),Wn},ga=function(Gt,Mn){var on=Mn.name,Wn=new wo("span",1);Wn.attr({contentEditable:"false",style:Mn.attr("style"),"data-mce-object":on,class:"mce-preview-object mce-object-"+on}),Iu(Gt,Mn,Wn);var zr=Gt.dom.parseStyle(Mn.attr("style")),oa=new wo(on,1);if($i(Mn,oa,zr),oa.attr({src:Mn.attr("src"),style:Mn.attr("style"),class:Mn.attr("class")}),on==="iframe")oa.attr({allowfullscreen:Mn.attr("allowfullscreen"),frameborder:"0"});else{var Xt=["controls","crossorigin","currentTime","loop","muted","poster","preload"];lt(Xt,function(sr){oa.attr(sr,Mn.attr(sr))});var dn=Wn.attr("data-mce-html");We(dn)&&fo(Gt,on,oa,unescape(dn))}var Yn=new wo("span",1);return Yn.attr("class","mce-shim"),Wn.append(oa),Wn.append(Yn),Wn},Iu=function(Gt,Mn,on){for(var Wn=Mn.attributes,zr=Wn.length;zr--;){var oa=Wn[zr].name,Xt=Wn[zr].value;oa!=="width"&&oa!=="height"&&oa!=="style"&&((oa==="data"||oa==="src")&&(Xt=Gt.convertURL(Xt,oa)),on.attr("data-mce-p-"+oa,Xt))}var dn=Mn.firstChild&&Mn.firstChild.value;dn&&(on.attr("data-mce-html",escape(ou(Gt,dn))),on.firstChild=null)},Po=function(Gt){var Mn=Gt.attr("class");return Mn&&/\btiny-pageembed\b/.test(Mn)},eu=function(Gt){for(;Gt=Gt.parent;)if(Gt.attr("data-ephox-embed-iri")||Po(Gt))return!0;return!1},Fu=function(Gt){return function(Mn){for(var on=Mn.length,Wn,zr;on--;)Wn=Mn[on],Wn.parent&&(Wn.parent.attr("data-mce-object")||Wn.name==="script"&&(zr=Lt(st(Gt),Wn.attr("src")),!zr)||(zr&&(zr.width&&Wn.attr("width",zr.width.toString()),zr.height&&Wn.attr("height",zr.height.toString())),pi(Wn)&&wn(Gt)&&mi.ceFalse?eu(Wn)||Wn.replace(ga(Gt,Wn)):eu(Wn)||Wn.replace(Hi(Gt,Wn))))}},iu=function(Gt){Gt.on("preInit",function(){var Mn=Gt.schema.getSpecialElements();cn.each("video audio iframe object".split(" "),function(Wn){Mn[Wn]=new RegExp("</"+Wn+"[^>]*>","gi")});var on=Gt.schema.getBoolAttrs();cn.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(Wn){on[Wn]={}}),Gt.parser.addNodeFilter("iframe,video,audio,object,embed,script",Fu(Gt)),Gt.serializer.addAttributeFilter("data-mce-object",function(Wn,zr){for(var oa=Wn.length,Xt,dn,Yn,sr,ht,$t,fn,Tn;oa--;)if(Xt=Wn[oa],!!Xt.parent){for(fn=Xt.attr(zr),dn=new wo(fn,1),fn!=="audio"&&fn!=="script"&&(Tn=Xt.attr("class"),Tn&&Tn.indexOf("mce-preview-object")!==-1?dn.attr({width:Xt.firstChild.attr("width"),height:Xt.firstChild.attr("height")}):dn.attr({width:Xt.attr("width"),height:Xt.attr("height")})),dn.attr({style:Xt.attr("style")}),sr=Xt.attributes,Yn=sr.length;Yn--;){var Hn=sr[Yn].name;Hn.indexOf("data-mce-p-")===0&&dn.attr(Hn.substr(11),sr[Yn].value)}fn==="script"&&dn.attr("type","text/javascript"),ht=Xt.attr("data-mce-html"),ht&&($t=new wo("#text",3),$t.raw=!0,$t.value=ou(Gt,unescape(ht)),dn.append($t)),Xt.replace(dn)}})}),Gt.on("SetContent",function(){Gt.$("span.mce-preview-object").each(function(Mn,on){var Wn=Gt.$(on);Wn.find("span.mce-shim").length===0&&Wn.append('<span class="mce-shim"></span>')})})},Su=function(Gt){Gt.on("ResolveName",function(Mn){var on;Mn.target.nodeType===1&&(on=Mn.target.getAttribute("data-mce-object"))&&(Mn.name=on)})},ju=function(Gt){var Mn=function(){return Gt.execCommand("mceMedia")};Gt.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Mn,onSetup:function(on){var Wn=Gt.selection;return on.setActive(hr(Wn.getNode())),Wn.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",on.setActive).unbind}}),Gt.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Mn})};function ks(){g.add("media",function(Gt){return Zi(Gt),ju(Gt),Su(Gt),iu(Gt),yr(Gt),ni(Gt)})}ks()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(A){var Te=A.getParam("nonbreaking_force_tab",0);return typeof Te=="boolean"?Te===!0?3:0:Te},C=function(A){return A.getParam("nonbreaking_wrap",!0,"boolean")},x=function(A,Te){for(var et="",Qe=0;Qe<Te;Qe++)et+=A;return et},He=function(A){return A.plugins.visualchars?A.plugins.visualchars.isEnabled():!1},Ge=function(A,Te){var et=function(){return He(A)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},Qe=function(){return'<span class="'+et()+'" contenteditable="false">'+x("&nbsp;",Te)+"</span>"},$e=C(A),Ye=$e||A.plugins.visualchars?Qe():x("&nbsp;",Te);A.undoManager.transact(function(){return A.insertContent(Ye)})},Xe=function(A){A.addCommand("mceNonBreaking",function(){Ge(A,1)})},ze=tinymce.util.Tools.resolve("tinymce.util.VK"),We=function(A){var Te=w(A);Te>0&&A.on("keydown",function(et){if(et.keyCode===ze.TAB&&!et.isDefaultPrevented()){if(et.shiftKey)return;et.preventDefault(),et.stopImmediatePropagation(),Ge(A,Te)}})},at=function(A){var Te=function(){return A.execCommand("mceNonBreaking")};A.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:Te}),A.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:Te})};function nt(){g.add("nonbreaking",function(A){Xe(A),at(A),We(A)})}nt()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=tinymce.util.Tools.resolve("tinymce.util.Tools"),C=function(nt){return nt.getParam("noneditable_noneditable_class","mceNonEditable")},x=function(nt){return nt.getParam("noneditable_editable_class","mceEditable")},He=function(nt){var A=nt.getParam("noneditable_regexp",[]);return A&&A.constructor===RegExp?[A]:A},Ge=function(nt){return function(A){return(" "+A.attr("class")+" ").indexOf(nt)!==-1}},Xe=function(nt,A,Te){return function(et){var Qe=arguments,$e=Qe[Qe.length-2],Ye=$e>0?A.charAt($e-1):"";if(Ye==='"')return et;if(Ye===">"){var ut=A.lastIndexOf("<",$e);if(ut!==-1){var ct=A.substring(ut,$e);if(ct.indexOf('contenteditable="false"')!==-1)return et}}return'<span class="'+Te+'" data-mce-content="'+nt.dom.encode(Qe[0])+'">'+nt.dom.encode(typeof Qe[1]=="string"?Qe[1]:Qe[0])+"</span>"}},ze=function(nt,A,Te){var et=A.length,Qe=Te.content;if(Te.format!=="raw"){for(;et--;)Qe=Qe.replace(A[et],Xe(nt,Qe,C(nt)));Te.content=Qe}},We=function(nt){var A="contenteditable",Te=" "+w.trim(x(nt))+" ",et=" "+w.trim(C(nt))+" ",Qe=Ge(Te),$e=Ge(et),Ye=He(nt);nt.on("PreInit",function(){Ye.length>0&&nt.on("BeforeSetContent",function(ut){ze(nt,Ye,ut)}),nt.parser.addAttributeFilter("class",function(ut){for(var ct=ut.length,qe;ct--;)qe=ut[ct],Qe(qe)?qe.attr(A,"true"):$e(qe)&&qe.attr(A,"false")}),nt.serializer.addAttributeFilter(A,function(ut){for(var ct=ut.length,qe;ct--;)qe=ut[ct],!(!Qe(qe)&&!$e(qe))&&(Ye.length>0&&qe.attr("data-mce-content")?(qe.name="#text",qe.type=3,qe.raw=!0,qe.value=qe.attr("data-mce-content")):qe.attr(A,null))})})};function at(){g.add("noneditable",function(nt){We(nt)})}at()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=tinymce.util.Tools.resolve("tinymce.Env"),C=function(A){return A.getParam("pagebreak_separator","<!-- pagebreak -->")},x=function(A){return A.getParam("pagebreak_split_block",!1)},He="mce-pagebreak",Ge=function(A){var Te='<img src="'+w.transparentSrc+'" class="'+He+'" data-mce-resize="false" data-mce-placeholder />';return A?"<p>"+Te+"</p>":Te},Xe=function(A){var Te=C(A),et=function(){return x(A)},Qe=new RegExp(Te.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function($e){return"\\"+$e}),"gi");A.on("BeforeSetContent",function($e){$e.content=$e.content.replace(Qe,Ge(et()))}),A.on("PreInit",function(){A.serializer.addNodeFilter("img",function($e){for(var Ye=$e.length,ut,ct;Ye--;)if(ut=$e[Ye],ct=ut.attr("class"),ct&&ct.indexOf(He)!==-1){var qe=ut.parent;if(A.schema.getBlockElements()[qe.name]&&et()){qe.type=3,qe.value=Te,qe.raw=!0,ut.remove();continue}ut.type=3,ut.value=Te,ut.raw=!0}})})},ze=function(A){A.addCommand("mcePageBreak",function(){A.insertContent(Ge(x(A)))})},We=function(A){A.on("ResolveName",function(Te){Te.target.nodeName==="IMG"&&A.dom.hasClass(Te.target,He)&&(Te.name="pagebreak")})},at=function(A){var Te=function(){return A.execCommand("mcePageBreak")};A.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:Te}),A.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:Te})};function nt(){g.add("pagebreak",function(A){ze(A),at(A),Xe(A),We(A)})}nt()})();(function(){var g=function(Ze){var wt=Ze,zt=function(){return wt},gn=function(qn){wt=qn};return{get:zt,set:gn}},w=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(Ze){return Ze.hasPlugin("powerpaste",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},x=function(Ze){return{clipboard:Ze}},He=function(Ze){var wt=typeof Ze;return Ze===null?"null":wt==="object"&&(Array.prototype.isPrototypeOf(Ze)||Ze.constructor&&Ze.constructor.name==="Array")?"array":wt==="object"&&(String.prototype.isPrototypeOf(Ze)||Ze.constructor&&Ze.constructor.name==="String")?"string":wt},Ge=function(Ze){return function(wt){return He(wt)===Ze}},Xe=function(Ze){return function(wt){return typeof wt===Ze}},ze=Ge("array"),We=function(Ze){return Ze==null},at=function(Ze){return!We(Ze)},nt=Xe("function"),A=function(){},Te=function(Ze){return function(){return Ze}},et=function(Ze){return Ze},Qe=Te(!1),$e=Te(!0),Ye=function(){return ut},ut=function(){var Ze=function(gn){return gn()},wt=et,zt={fold:function(gn,qn){return gn()},isSome:Qe,isNone:$e,getOr:wt,getOrThunk:Ze,getOrDie:function(gn){throw new Error(gn||"error: getOrDie called on none.")},getOrNull:Te(null),getOrUndefined:Te(void 0),or:wt,orThunk:Ze,map:Ye,each:A,bind:Ye,exists:Qe,forall:$e,filter:function(){return Ye()},toArray:function(){return[]},toString:Te("none()")};return zt}(),ct=function(Ze){var wt=Te(Ze),zt=function(){return qn},gn=function(_r){return _r(Ze)},qn={fold:function(_r,xa){return xa(Ze)},isSome:$e,isNone:Qe,getOr:wt,getOrThunk:wt,getOrDie:wt,getOrNull:wt,getOrUndefined:wt,or:zt,orThunk:zt,map:function(_r){return ct(_r(Ze))},each:function(_r){_r(Ze)},bind:gn,exists:gn,forall:gn,filter:function(_r){return _r(Ze)?qn:ut},toArray:function(){return[Ze]},toString:function(){return"some("+Ze+")"}};return qn},qe=function(Ze){return Ze==null?ut:ct(Ze)},lt={some:ct,none:Ye,from:qe},Ue=Array.prototype.slice,pt=Array.prototype.push,It=function(Ze,wt){for(var zt=0,gn=Ze.length;zt<gn;zt++){var qn=Ze[zt];if(wt(qn,zt))return!0}return!1},Tt=function(Ze,wt){for(var zt=Ze.length,gn=new Array(zt),qn=0;qn<zt;qn++){var _r=Ze[qn];gn[qn]=wt(_r,qn)}return gn},mt=function(Ze,wt){for(var zt=0,gn=Ze.length;zt<gn;zt++){var qn=Ze[zt];wt(qn,zt)}},vt=function(Ze,wt){for(var zt=[],gn=0,qn=Ze.length;gn<qn;gn++){var _r=Ze[gn];wt(_r,gn)&&zt.push(_r)}return zt},Et=function(Ze,wt,zt){return mt(Ze,function(gn,qn){zt=wt(zt,gn,qn)}),zt},st=function(Ze){for(var wt=[],zt=0,gn=Ze.length;zt<gn;++zt){if(!ze(Ze[zt]))throw new Error("Arr.flatten item "+zt+" was not an array, input: "+Ze);pt.apply(wt,Ze[zt])}return wt},At=function(Ze,wt){return st(Tt(Ze,wt))},nn=nt(Array.from)?Array.from:function(Ze){return Ue.call(Ze)},wn=function(){return wn=Object.assign||function(wt){for(var zt,gn=1,qn=arguments.length;gn<qn;gn++){zt=arguments[gn];for(var _r in zt)Object.prototype.hasOwnProperty.call(zt,_r)&&(wt[_r]=zt[_r])}return wt},wn.apply(this,arguments)},Ht=function(Ze){var wt=g(lt.none()),zt=function(){return wt.get().each(Ze)},gn=function(){zt(),wt.set(lt.none())},qn=function(){return wt.get().isSome()},_r=function(){return wt.get()},xa=function(Ua){zt(),wt.set(lt.some(Ua))};return{clear:gn,isSet:qn,get:_r,set:xa}},Sn=function(){var Ze=Ht(A),wt=function(zt){return Ze.get().each(zt)};return wn(wn({},Ze),{on:wt})},lr=function(Ze,wt,zt){return wt===""||Ze.length>=wt.length&&Ze.substr(zt,zt+wt.length)===wt},Ve=function(Ze,wt){return lr(Ze,wt,0)},jt=function(Ze,wt){return lr(Ze,wt,Ze.length-wt.length)},cn=function(Ze,wt){return wt<=0?"":new Array(wt+1).join(Ze)},yt=tinymce.util.Tools.resolve("tinymce.Env"),Mt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Lt=tinymce.util.Tools.resolve("tinymce.util.Promise"),qt=tinymce.util.Tools.resolve("tinymce.util.VK"),an=function(Ze,wt,zt,gn){return Ze.fire("PastePreProcess",{content:wt,internal:zt,wordContent:gn})},ot=function(Ze,wt,zt,gn){return Ze.fire("PastePostProcess",{node:wt,internal:zt,wordContent:gn})},En=function(Ze,wt){return Ze.fire("PastePlainTextToggle",{state:wt})},Pt=function(Ze,wt){return Ze.fire("paste",{ieFake:wt})},xt=tinymce.util.Tools.resolve("tinymce.util.Tools"),vn=function(Ze){return Ze.getParam("paste_block_drop",!1)},Ot=function(Ze){return Ze.getParam("paste_data_images",!1)},Zt=function(Ze){return Ze.getParam("paste_filter_drop",!0)},mn=function(Ze){return Ze.getParam("paste_preprocess")},ln=function(Ze){return Ze.getParam("paste_postprocess")},Ft=function(Ze){return Ze.getParam("paste_webkit_styles")},bn=function(Ze){return Ze.getParam("paste_remove_styles_if_webkit",!0)},Kn=function(Ze){return Ze.getParam("paste_merge_formats",!0)},Jt=function(Ze){return Ze.getParam("smart_paste",!0)},Rn=function(Ze){return Ze.getParam("paste_as_text",!1)},rr=function(Ze){return Ze.getParam("paste_retain_style_properties")},Vn=function(Ze){var wt="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return Ze.getParam("paste_word_valid_elements",wt)},Br=function(Ze){return Ze.getParam("paste_convert_word_fake_lists",!0)},la=function(Ze){return Ze.getParam("paste_enable_default_filters",!0)},fa=function(Ze){return Ze.getParam("validate")},co=function(Ze){return Ze.getParam("allow_html_data_urls",!1,"boolean")},Eo=function(Ze){return Ze.getParam("paste_data_images",!1,"boolean")},hr=function(Ze){return Ze.getParam("images_dataimg_filter")},yr=function(Ze){return Ze.getParam("images_reuse_filename")},mr=function(Ze){return Ze.getParam("forced_root_block")},Pn=function(Ze){return Ze.getParam("forced_root_block_attrs")},zn=function(Ze){return Ze.getParam("paste_tab_spaces",4,"number")},kr=function(Ze){var wt="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return xt.explode(Ze.getParam("images_file_types",wt,"string"))},$r="x-tinymce/html",Cr="<!-- "+$r+" -->",Nn=function(Ze){return Cr+Ze},ir=function(Ze){return Ze.replace(Cr,"")},Ur=function(Ze){return Ze.indexOf(Cr)!==-1},Mr=Te($r),jr=Object.hasOwnProperty,hn=function(Ze,wt){return jr.call(Ze,wt)},Qn=tinymce.util.Tools.resolve("tinymce.html.Entities"),jn=function(Ze){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(Ze)},gr=function(Ze){return Ze.replace(/\r?\n/g,"<br>")},sa=function(Ze,wt){var zt=[],gn="<"+Ze;if(typeof wt=="object"){for(var qn in wt)hn(wt,qn)&&zt.push(qn+'="'+Qn.encodeAllRaw(wt[qn])+'"');zt.length&&(gn+=" "+zt.join(" "))}return gn+">"},Va=function(Ze,wt,zt){var gn=Ze.split(/\n\n/),qn=sa(wt,zt),_r="</"+wt+">",xa=xt.map(gn,function(Qr){return Qr.split(/\n/).join("<br />")}),Ua=function(Qr){return qn+Qr+_r};return xa.length===1?xa[0]:xt.map(xa,Ua).join("")},_o=function(Ze,wt,zt){return wt?Va(Ze,wt===!0?"p":wt,zt):gr(Ze)},Ka=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Ya=tinymce.util.Tools.resolve("tinymce.html.Serializer"),ni=" ",Zi=tinymce.util.Tools.resolve("tinymce.html.Node"),wo=tinymce.util.Tools.resolve("tinymce.html.Schema"),mi=function(Ze){return Ze.constructor===RegExp},ii=function(Ze,wt){return xt.each(wt,function(zt){mi(zt)?Ze=Ze.replace(zt,""):Ze=Ze.replace(zt[0],zt[1])}),Ze},ou=function(Ze){var wt=wo(),zt=Ka({},wt),gn="",qn=wt.getShortEndedElements(),_r=xt.makeMap("script noscript style textarea video audio iframe object"," "),xa=wt.getBlockElements(),Ua=function(Qr){var wa=Qr.name,ao=Qr;if(wa==="br"){gn+=`
`;return}if(wa!=="wbr"){if(qn[wa]&&(gn+=" "),_r[wa]){gn+=" ";return}if(Qr.type===3&&(gn+=Qr.value),!Qr.shortEnded&&(Qr=Qr.firstChild))do Ua(Qr);while(Qr=Qr.next);xa[wa]&&ao.next&&(gn+=`
`,wa==="p"&&(gn+=`
`))}};return Ze=ii(Ze,[/<!\[[^\]]+\]>/g]),Ua(zt.parse(Ze)),gn},pi=function(Ze){var wt=function(zt,gn,qn){return!gn&&!qn?" ":ni};return Ze=ii(Ze,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,wt],/<br class="Apple-interchange-newline">/g,/<br>$/i]),Ze},wi=function(Ze){var wt=0;return function(){return Ze+wt++}},$i=function(Ze){var wt=Ze.toLowerCase(),zt={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return xt.hasOwn(zt,wt)?"image/"+zt[wt]:"image/"+wt},fo=function(Ze){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(Ze)||/class="OutlineElement/.test(Ze)||/id="?docs\-internal\-guid\-/.test(Ze)},Hi=function(Ze){var wt=!1,zt=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return Ze=Ze.replace(/^[\u00a0 ]+/,""),xt.each(zt,function(gn){if(gn.test(Ze))return wt=!0,!1}),wt},ga=function(Ze){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(Ze)},Iu=function(Ze){for(var wt,zt,gn=1,qn=function(Za){var Zo="";if(Za.type===3)return Za.value;if(Za=Za.firstChild)do Zo+=qn(Za);while(Za=Za.next);return Zo},_r=function(Za,Zo){if(Za.type===3&&Zo.test(Za.value))return Za.value=Za.value.replace(Zo,""),!1;if(Za=Za.firstChild)do if(!_r(Za,Zo))return!1;while(Za=Za.next);return!0},xa=function(Za){if(Za._listIgnore){Za.remove();return}if(Za=Za.firstChild)do xa(Za);while(Za=Za.next)},Ua=function(Za,Zo,Xo){var qu=Za._listLevel||gn;qu!==gn&&(qu<gn?wt&&(wt=wt.parent.parent):(zt=wt,wt=null)),!wt||wt.name!==Zo?(zt=zt||wt,wt=new Zi(Zo,1),Xo>1&&wt.attr("start",""+Xo),Za.wrap(wt)):wt.append(Za),Za.name="li",qu>gn&&zt&&zt.lastChild.append(wt),gn=qu,xa(Za),_r(Za,/^\u00a0+/),_r(Za,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),_r(Za,/^\u00a0+/)},Qr=[],wa=Ze.firstChild;typeof wa!="undefined"&&wa!==null;)if(Qr.push(wa),wa=wa.walk(),wa!==null)for(;typeof wa!="undefined"&&wa.parent!==Ze;)wa=wa.walk();for(var ao=0;ao<Qr.length;ao++)if(Ze=Qr[ao],Ze.name==="p"&&Ze.firstChild){var bo=qn(Ze);if(ga(bo)){Ua(Ze,"ul");continue}if(Hi(bo)){var ja=/([0-9]+)\./.exec(bo),hi=1;ja&&(hi=parseInt(ja[1],10)),Ua(Ze,"ol",hi);continue}if(Ze._listLevel){Ua(Ze,"ul",1);continue}wt=null}else zt=wt,wt=null},Po=function(Ze,wt,zt,gn){var qn={},_r=Ze.dom.parseStyle(gn);xt.each(_r,function(Ua,Qr){switch(Qr){case"mso-list":var wa=/\w+ \w+([0-9]+)/i.exec(gn);wa&&(zt._listLevel=parseInt(wa[1],10)),/Ignore/i.test(Ua)&&zt.firstChild&&(zt._listIgnore=!0,zt.firstChild._listIgnore=!0);break;case"horiz-align":Qr="text-align";break;case"vert-align":Qr="vertical-align";break;case"font-color":case"mso-foreground":Qr="color";break;case"mso-background":case"mso-highlight":Qr="background";break;case"font-weight":case"font-style":Ua!=="normal"&&(qn[Qr]=Ua);return;case"mso-element":if(/^(comment|comment-list)$/i.test(Ua)){zt.remove();return}break}if(Qr.indexOf("mso-comment")===0){zt.remove();return}Qr.indexOf("mso-")!==0&&(rr(Ze)==="all"||wt&&wt[Qr])&&(qn[Qr]=Ua)}),/(bold)/i.test(qn["font-weight"])&&(delete qn["font-weight"],zt.wrap(new Zi("b",1))),/(italic)/i.test(qn["font-style"])&&(delete qn["font-style"],zt.wrap(new Zi("i",1)));var xa=Ze.dom.serializeStyle(qn,zt.name);return xa||null},eu=function(Ze,wt){var zt,gn=rr(Ze);gn&&(zt=xt.makeMap(gn.split(/[, ]/))),wt=ii(wt,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,ni],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Qr,wa){return wa.length>0?wa.replace(/./," ").slice(Math.floor(wa.length/2)).split("").join(ni):""}]]);var qn=Vn(Ze),_r=wo({valid_elements:qn,valid_children:"-li[p]"});xt.each(_r.elements,function(Qr){Qr.attributes.class||(Qr.attributes.class={},Qr.attributesOrder.push("class")),Qr.attributes.style||(Qr.attributes.style={},Qr.attributesOrder.push("style"))});var xa=Ka({},_r);xa.addAttributeFilter("style",function(Qr){for(var wa=Qr.length,ao;wa--;)ao=Qr[wa],ao.attr("style",Po(Ze,zt,ao,ao.attr("style"))),ao.name==="span"&&ao.parent&&!ao.attributes.length&&ao.unwrap()}),xa.addAttributeFilter("class",function(Qr){for(var wa=Qr.length,ao,bo;wa--;)ao=Qr[wa],bo=ao.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(bo)&&ao.remove(),ao.attr("class",null)}),xa.addNodeFilter("del",function(Qr){for(var wa=Qr.length;wa--;)Qr[wa].remove()}),xa.addNodeFilter("a",function(Qr){for(var wa=Qr.length,ao,bo,ja;wa--;){if(ao=Qr[wa],bo=ao.attr("href"),ja=ao.attr("name"),bo&&bo.indexOf("#_msocom_")!==-1){ao.remove();continue}if(bo&&bo.indexOf("file://")===0&&(bo=bo.split("#")[1],bo&&(bo="#"+bo)),!bo&&!ja)ao.unwrap();else{if(ja&&!/^_?(?:toc|edn|ftn)/i.test(ja)){ao.unwrap();continue}ao.attr({href:bo,name:ja})}}});var Ua=xa.parse(wt);return Br(Ze)&&Iu(Ua),wt=Ya({validate:fa(Ze)},_r).serialize(Ua),wt},Fu=function(Ze,wt){return la(Ze)?eu(Ze,wt):wt},iu=function(Ze,wt){var zt=Ka({},Ze.schema);zt.addNodeFilter("meta",function(qn){xt.each(qn,function(_r){_r.remove()})});var gn=zt.parse(wt,{forced_root_block:!1,isRootContent:!0});return Ya({validate:fa(Ze)},Ze.schema).serialize(gn)},Su=function(Ze,wt){return{content:Ze,cancelled:wt}},ju=function(Ze,wt,zt,gn){var qn=Ze.dom.create("div",{style:"display:none"},wt),_r=ot(Ze,qn,zt,gn);return Su(_r.node.innerHTML,_r.isDefaultPrevented())},ks=function(Ze,wt,zt,gn){var qn=an(Ze,wt,zt,gn),_r=iu(Ze,qn.content);return Ze.hasEventListeners("PastePostProcess")&&!qn.isDefaultPrevented()?ju(Ze,_r,zt,gn):Su(_r,qn.isDefaultPrevented())},Gt=function(Ze,wt,zt){var gn=fo(wt),qn=gn?Fu(Ze,wt):wt;return ks(Ze,qn,zt,gn)},Mn=function(Ze,wt){return Ze.insertContent(wt,{merge:Kn(Ze),paste:!0}),!0},on=function(Ze){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(Ze)},Wn=function(Ze,wt){return on(wt)&&It(kr(Ze),function(zt){return jt(wt.toLowerCase(),"."+zt.toLowerCase())})},zr=function(Ze,wt,zt){return Ze.undoManager.extra(function(){zt(Ze,wt)},function(){Ze.insertContent('<img src="'+wt+'">')}),!0},oa=function(Ze,wt,zt){return Ze.undoManager.extra(function(){zt(Ze,wt)},function(){Ze.execCommand("mceInsertLink",!1,wt)}),!0},Xt=function(Ze,wt,zt){return Ze.selection.isCollapsed()===!1&&on(wt)?oa(Ze,wt,zt):!1},dn=function(Ze,wt,zt){return Wn(Ze,wt)?zr(Ze,wt,zt):!1},Yn=function(Ze,wt){xt.each([Xt,dn,Mn],function(zt){return zt(Ze,wt,Mn)!==!0})},sr=function(Ze,wt,zt){zt||Jt(Ze)===!1?Mn(Ze,wt):Yn(Ze,wt)},ht=function(Ze){return" \f	\v".indexOf(Ze)!==-1},$t=function(Ze){return Ze===`
`||Ze==="\r"},fn=function(Ze,wt){return wt<Ze.length&&wt>=0?$t(Ze[wt]):!1},Tn=function(Ze,wt){var zt=cn(" ",zn(Ze)),gn=wt.replace(/\t/g,zt),qn=Et(gn,function(_r,xa){return ht(xa)||xa===ni?_r.pcIsSpace||_r.str===""||_r.str.length===gn.length-1||fn(gn,_r.str.length+1)?{pcIsSpace:!1,str:_r.str+ni}:{pcIsSpace:!0,str:_r.str+" "}:{pcIsSpace:$t(xa),str:_r.str+xa}},{pcIsSpace:!1,str:""});return qn.str},Hn=function(Ze,wt,zt,gn){var qn=Gt(Ze,wt,zt);qn.cancelled===!1&&sr(Ze,qn.content,gn)},Un=function(Ze,wt,zt){var gn=zt||Ur(wt);Hn(Ze,ir(wt),gn,!1)},Fr=function(Ze,wt){var zt=Ze.dom.encode(wt).replace(/\r\n/g,`
`),gn=Tn(Ze,zt),qn=_o(gn,mr(Ze),Pn(Ze));Hn(Ze,qn,!1,!0)},ea=function(Ze){var wt={},zt="data:text/mce-internal,";if(Ze){if(Ze.getData){var gn=Ze.getData("Text");gn&&gn.length>0&&gn.indexOf(zt)===-1&&(wt["text/plain"]=gn)}if(Ze.types)for(var qn=0;qn<Ze.types.length;qn++){var _r=Ze.types[qn];try{wt[_r]=Ze.getData(_r)}catch(xa){wt[_r]=""}}}return wt},Oa=function(Ze,wt){return ea(wt.clipboardData||Ze.getDoc().dataTransfer)},Ha=function(Ze,wt){return wt in Ze&&Ze[wt].length>0},za=function(Ze){return Ha(Ze,"text/html")||Ha(Ze,"text/plain")},Qa=function(Ze){var wt=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(Ze);return wt?{type:wt[1],data:decodeURIComponent(wt[2])}:{type:null,data:null}},Do=function(Ze,wt){var zt=hr(Ze);return zt?zt(wt):!0},si=function(Ze,wt){var zt=wt.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return at(zt)?Ze.dom.encode(zt[1]):null},du=wi("mceclip"),ls=function(Ze,wt){var zt=Qa(wt.uri),gn=zt.data,qn=zt.type,_r=du(),xa=wt.blob,Ua=new Image;if(Ua.src=wt.uri,Do(Ze,Ua)){var Qr=Ze.editorUpload.blobCache,wa=void 0,ao=Qr.getByData(gn,qn);if(ao)wa=ao;else{var bo=yr(Ze)&&at(xa.name),ja=bo?si(Ze,xa.name):_r,hi=bo?xa.name:void 0;wa=Qr.create(_r,xa,gn,ja,hi),Qr.add(wa)}Un(Ze,'<img src="'+wa.blobUri()+'">',!1)}else Un(Ze,'<img src="'+wt.uri+'">',!1)},Wu=function(Ze){return Ze.type==="paste"},Ci=function(Ze){return at(Ze.getAsFile)},Zs=function(Ze){return Lt.all(Tt(Ze,function(wt){return new Lt(function(zt){var gn=Ci(wt)?wt.getAsFile():wt,qn=new window.FileReader;qn.onload=function(){zt({blob:gn,uri:qn.result})},qn.readAsDataURL(gn)})}))},Ts=function(Ze){var wt=kr(Ze);return function(zt){return Ve(zt.type,"image/")&&It(wt,function(gn){return $i(gn)===zt.type})}},go=function(Ze,wt){var zt=wt.items?At(nn(wt.items),function(qn){return qn.kind==="file"?[qn.getAsFile()]:[]}):[],gn=wt.files?nn(wt.files):[];return vt(zt.length>0?zt:gn,Ts(Ze))},Ki=function(Ze,wt,zt){var gn=Wu(wt)?wt.clipboardData:wt.dataTransfer;if(Eo(Ze)&&gn){var qn=go(Ze,gn);if(qn.length>0)return wt.preventDefault(),Zs(qn).then(function(_r){zt&&Ze.selection.setRng(zt),mt(_r,function(xa){ls(Ze,xa)})}),!0}return!1},el=function(Ze){var wt=Ze.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&wt&&wt.items&&wt.items.length===0},As=function(Ze){return qt.metaKeyPressed(Ze)&&Ze.keyCode===86||Ze.shiftKey&&Ze.keyCode===45},ml=function(Ze,wt,zt){var gn=Sn(),qn=Sn(),_r;Ze.on("keyup",qn.clear),Ze.on("keydown",function(Qr){var wa=function(ao){As(ao)&&!ao.isDefaultPrevented()&&wt.remove()};if(As(Qr)&&!Qr.isDefaultPrevented()){if(_r=Qr.shiftKey&&Qr.keyCode===86,_r&&yt.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(Qr.stopImmediatePropagation(),gn.set(Qr),qn.set(!0),yt.ie&&_r){Qr.preventDefault(),Pt(Ze,!0);return}wt.remove(),wt.create(),Ze.once("keyup",wa),Ze.once("paste",function(){Ze.off("keyup",wa)})}});var xa=function(Qr,wa,ao,bo,ja){var hi;Ha(wa,"text/html")?hi=wa["text/html"]:(hi=wt.getHtml(),ja=ja||Ur(hi),wt.isDefaultContent(hi)&&(bo=!0)),hi=pi(hi),wt.remove();var Za=ja===!1&&jn(hi),Zo=on(hi);if((!hi.length||Za&&!Zo)&&(bo=!0),(bo||Zo)&&(Ha(wa,"text/plain")&&Za?hi=wa["text/plain"]:hi=ou(hi)),wt.isDefaultContent(hi)){ao||Qr.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}bo?Fr(Qr,hi):Un(Qr,hi,ja)},Ua=function(){return wt.getLastRng()||Ze.selection.getRng()};Ze.on("paste",function(Qr){var wa=gn.isSet()||qn.isSet();wa&&gn.clear();var ao=Oa(Ze,Qr),bo=zt.get()==="text"||_r,ja=Ha(ao,Mr());if(_r=!1,Qr.isDefaultPrevented()||el(Qr)){wt.remove();return}if(!za(ao)&&Ki(Ze,Qr,Ua())){wt.remove();return}wa||Qr.preventDefault(),yt.ie&&(!wa||Qr.ieFake)&&!Ha(ao,"text/html")&&(wt.create(),Ze.dom.bind(wt.getEl(),"paste",function(hi){hi.stopPropagation()}),Ze.getDoc().execCommand("Paste",!1,null),ao["text/html"]=wt.getHtml()),Ha(ao,"text/html")?(Qr.preventDefault(),ja||(ja=Ur(ao["text/html"])),xa(Ze,ao,wa,bo,ja)):Mt.setEditorTimeout(Ze,function(){xa(Ze,ao,wa,bo,ja)},0)})},Ll=function(Ze,wt,zt){ml(Ze,wt,zt);var gn;Ze.parser.addNodeFilter("img",function(qn,_r,xa){var Ua=function(ja){return ja.data&&ja.data.paste===!0},Qr=function(ja){!ja.attr("data-mce-object")&&gn!==yt.transparentSrc&&ja.remove()},wa=function(ja){return ja.indexOf("webkit-fake-url")===0},ao=function(ja){return ja.indexOf("data:")===0};if(!Eo(Ze)&&Ua(xa))for(var bo=qn.length;bo--;)gn=qn[bo].attr("src"),gn&&(wa(gn)||!co(Ze)&&ao(gn))&&Qr(qn[bo])})},Ju=function(Ze){return yt.ie&&Ze.inline?document.body:Ze.getBody()},Zu=function(Ze){return Ju(Ze)!==Ze.getBody()},Bl=function(Ze,wt,zt){Zu(Ze)&&Ze.dom.bind(wt,"paste keyup",function(gn){Rr(Ze,zt)||Ze.fire("paste")})},tl=function(Ze,wt,zt){var gn=Ze.dom,qn=Ze.getBody();wt.set(Ze.selection.getRng());var _r=Ze.dom.add(Ju(Ze),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},zt);(yt.ie||yt.gecko)&&gn.setStyle(_r,"left",gn.getStyle(qn,"direction",!0)==="rtl"?65535:-65535),gn.bind(_r,"beforedeactivate focusin focusout",function(xa){xa.stopPropagation()}),Bl(Ze,_r,zt),_r.focus(),Ze.selection.select(_r,!0)},pl=function(Ze,wt){if(Rt(Ze)){for(var zt=void 0,gn=wt.get();zt=Ze.dom.get("mcepastebin");)Ze.dom.remove(zt),Ze.dom.unbind(zt);gn&&Ze.selection.setRng(gn)}wt.set(null)},Rt=function(Ze){return Ze.dom.get("mcepastebin")},xn=function(Ze){var wt=function(Ua,Qr){Ua.appendChild(Qr),Ze.dom.remove(Qr,!0)},zt=xt.grep(Ju(Ze).childNodes,function(Ua){return Ua.id==="mcepastebin"}),gn=zt.shift();xt.each(zt,function(Ua){wt(gn,Ua)});for(var qn=Ze.dom.select("div[id=mcepastebin]",gn),_r=qn.length-1;_r>=0;_r--){var xa=Ze.dom.create("div");gn.insertBefore(xa,qn[_r]),wt(xa,qn[_r])}return gn?gn.innerHTML:""},In=function(Ze,wt){return wt===Ze},fr=function(Ze){return Ze&&Ze.id==="mcepastebin"},Rr=function(Ze,wt){var zt=Rt(Ze);return fr(zt)&&In(wt,zt.innerHTML)},ba=function(Ze){var wt=g(null),zt="%MCEPASTEBIN%";return{create:function(){return tl(Ze,wt,zt)},remove:function(){return pl(Ze,wt)},getEl:function(){return Rt(Ze)},getHtml:function(){return xn(Ze)},getLastRng:wt.get,isDefault:function(){return Rr(Ze,zt)},isDefaultContent:function(gn){return In(zt,gn)}}},No=function(Ze,wt){var zt=ba(Ze);return Ze.on("PreInit",function(){return Ll(Ze,zt,wt)}),{pasteFormat:wt,pasteHtml:function(gn,qn){return Un(Ze,gn,qn)},pasteText:function(gn){return Fr(Ze,gn)},pasteImageData:function(gn,qn){return Ki(Ze,gn,qn)},getDataTransferItems:ea,hasHtmlOrText:za,hasContentType:Ha}},jo=function(Ze,wt){wt.pasteFormat.get()==="text"?(wt.pasteFormat.set("html"),En(Ze,!1)):(wt.pasteFormat.set("text"),En(Ze,!0)),Ze.focus()},Xa=function(Ze,wt){Ze.addCommand("mceTogglePlainTextPaste",function(){jo(Ze,wt)}),Ze.addCommand("mceInsertClipboardContent",function(zt,gn){gn.content&&wt.pasteHtml(gn.content,gn.internal),gn.text&&wt.pasteText(gn.text)})},Go=function(Ze){return yt.iOS===!1&&typeof(Ze==null?void 0:Ze.setData)=="function"},li=function(Ze,wt,zt){if(Go(Ze))try{return Ze.clearData(),Ze.setData("text/html",wt),Ze.setData("text/plain",zt),Ze.setData(Mr(),wt),!0}catch(gn){return!1}else return!1},Bs=function(Ze,wt,zt,gn){li(Ze.clipboardData,wt.html,wt.text)?(Ze.preventDefault(),gn()):zt(wt.html,gn)},Sc=function(Ze){return function(wt,zt){var gn=Nn(wt),qn=Ze.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),_r=Ze.dom.create("div",{contenteditable:"true"},gn);Ze.dom.setStyles(qn,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),qn.appendChild(_r),Ze.dom.add(Ze.getBody(),qn);var xa=Ze.selection.getRng();_r.focus();var Ua=Ze.dom.createRng();Ua.selectNodeContents(_r),Ze.selection.setRng(Ua),Mt.setTimeout(function(){Ze.selection.setRng(xa),qn.parentNode.removeChild(qn),zt()},0)}},xc=function(Ze){return{html:Ze.selection.getContent({contextual:!0}),text:Ze.selection.getContent({format:"text"})}},Na=function(Ze){return!!Ze.dom.getParent(Ze.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",Ze.getBody())},nl=function(Ze){return!Ze.selection.isCollapsed()||Na(Ze)},Ec=function(Ze){return function(wt){nl(Ze)&&Bs(wt,xc(Ze),Sc(Ze),function(){if(yt.browser.isChrome()||yt.browser.isFirefox()){var zt=Ze.selection.getRng();Mt.setEditorTimeout(Ze,function(){Ze.selection.setRng(zt),Ze.execCommand("Delete")},0)}else Ze.execCommand("Delete")})}},_s=function(Ze){return function(wt){nl(Ze)&&Bs(wt,xc(Ze),Sc(Ze),A)}},kc=function(Ze){Ze.on("cut",Ec(Ze)),Ze.on("copy",_s(Ze))},ld=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),If=function(Ze,wt){return ld.getCaretRangeFromPoint(wt.clientX,wt.clientY,Ze.getDoc())},Ti=function(Ze){var wt=Ze["text/plain"];return wt?wt.indexOf("file://")===0:!1},tc=function(Ze,wt){Ze.focus(),Ze.selection.setRng(wt)},cd=function(Ze,wt,zt){vn(Ze)&&Ze.on("dragend dragover draggesture dragdrop drop drag",function(gn){gn.preventDefault(),gn.stopPropagation()}),Ot(Ze)||Ze.on("drop",function(gn){var qn=gn.dataTransfer;qn&&qn.files&&qn.files.length>0&&gn.preventDefault()}),Ze.on("drop",function(gn){var qn=If(Ze,gn);if(!(gn.isDefaultPrevented()||zt.get())){var _r=wt.getDataTransferItems(gn.dataTransfer),xa=wt.hasContentType(_r,Mr());if(!((!wt.hasHtmlOrText(_r)||Ti(_r))&&wt.pasteImageData(gn,qn))&&qn&&Zt(Ze)){var Ua=_r["mce-internal"]||_r["text/html"]||_r["text/plain"];Ua&&(gn.preventDefault(),Mt.setEditorTimeout(Ze,function(){Ze.undoManager.transact(function(){_r["mce-internal"]&&Ze.execCommand("Delete"),tc(Ze,qn),Ua=pi(Ua),_r["text/html"]?wt.pasteHtml(Ua,xa):wt.pasteText(Ua)})}))}}}),Ze.on("dragstart",function(gn){zt.set(!0)}),Ze.on("dragover dragend",function(gn){Ot(Ze)&&zt.get()===!1&&(gn.preventDefault(),tc(Ze,If(Ze,gn))),gn.type==="dragend"&&zt.set(!1)})},es=function(Ze){var wt=Ze.plugins.paste,zt=mn(Ze);zt&&Ze.on("PastePreProcess",function(qn){zt.call(wt,wt,qn)});var gn=ln(Ze);gn&&Ze.on("PastePostProcess",function(qn){gn.call(wt,wt,qn)})},xu=function(Ze,wt){Ze.on("PastePreProcess",function(zt){zt.content=wt(Ze,zt.content,zt.internal,zt.wordContent)})},Tc=function(Ze,wt){Ze.on("PastePostProcess",function(zt){wt(Ze,zt.node)})},ar=function(Ze,wt){if(!fo(wt))return wt;var zt=[];xt.each(Ze.schema.getBlockElements(),function(qn,_r){zt.push(_r)});var gn=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+zt.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return wt=ii(wt,[[gn,"$1"]]),wt=ii(wt,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),wt},nc=function(Ze,wt,zt,gn){if(gn||zt)return wt;var qn=Ft(Ze),_r;if(bn(Ze)===!1||qn==="all")return wt;if(qn&&(_r=qn.split(/[, ]/)),_r){var xa=Ze.dom,Ua=Ze.selection.getNode();wt=wt.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Qr,wa,ao,bo){var ja=xa.parseStyle(xa.decode(ao)),hi={};if(_r==="none")return wa+bo;for(var Za=0;Za<_r.length;Za++){var Zo=ja[_r[Za]],Xo=xa.getStyle(Ua,_r[Za],!0);/color/.test(_r[Za])&&(Zo=xa.toHex(Zo),Xo=xa.toHex(Xo)),Xo!==Zo&&(hi[_r[Za]]=Zo)}var qu=xa.serializeStyle(hi,"span");return qu?wa+' style="'+qu+'"'+bo:wa+bo})}else wt=wt.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return wt=wt.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Qr,wa,ao,bo){return wa+' style="'+ao+'"'+bo}),wt},tu=function(Ze,wt){Ze.$("a",wt).find("font,u").each(function(zt,gn){Ze.dom.remove(gn,!0)})},Wc=function(Ze){yt.webkit&&xu(Ze,nc),yt.ie&&(xu(Ze,ar),Tc(Ze,tu))},hl=function(Ze,wt){return function(zt){zt.setActive(wt.pasteFormat.get()==="text");var gn=function(qn){return zt.setActive(qn.state)};return Ze.on("PastePlainTextToggle",gn),function(){return Ze.off("PastePlainTextToggle",gn)}}},rc=function(Ze,wt){var zt=function(){return Ze.execCommand("mceTogglePlainTextPaste")};Ze.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:zt,onSetup:hl(Ze,wt)}),Ze.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:zt,onSetup:hl(Ze,wt)})};function ft(){w.add("paste",function(Ze){if(C(Ze)===!1){var wt=g(!1),zt=g(Rn(Ze)?"text":"html"),gn=No(Ze,zt);return Wc(Ze),rc(Ze,gn),Xa(Ze,gn),es(Ze),kc(Ze),cd(Ze,gn,wt),x(gn)}})}ft()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=tinymce.util.Tools.resolve("tinymce.Env"),C=tinymce.util.Tools.resolve("tinymce.util.Tools"),x=function(Qe){return Qe.getParam("content_style","","string")},He=function(Qe){return Qe.getParam("content_css_cors",!1,"boolean")},Ge=function(Qe){var $e=Qe.getParam("body_class","","hash");return $e[Qe.id]||""},Xe=function(Qe){var $e=Qe.getParam("body_class","","string");return $e.indexOf("=")===-1?$e:Ge(Qe)},ze=function(Qe){var $e=Qe.getParam("body_id","","hash");return $e[Qe.id]||$e},We=function(Qe){var $e=Qe.getParam("body_id","tinymce","string");return $e.indexOf("=")===-1?$e:ze(Qe)},at=function(Qe){var $e="",Ye=Qe.dom.encode,ut=x(Qe);$e+='<base href="'+Ye(Qe.documentBaseURI.getURI())+'">';var ct=He(Qe)?' crossorigin="anonymous"':"";C.each(Qe.contentCSS,function(vt){$e+='<link type="text/css" rel="stylesheet" href="'+Ye(Qe.documentBaseURI.toAbsolute(vt))+'"'+ct+">"}),ut&&($e+='<style type="text/css">'+ut+"</style>");var qe=We(Qe),lt=Xe(Qe),Ue=w.mac?"e.metaKey":"e.ctrlKey && !e.altKey",pt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Ue+")) {e.preventDefault();}}}, false);<\/script> ",It=Qe.getBody().dir,Tt=It?' dir="'+Ye(It)+'"':"",mt="<!DOCTYPE html><html><head>"+$e+'</head><body id="'+Ye(qe)+'" class="mce-content-body '+Ye(lt)+'"'+Tt+">"+Qe.getContent()+pt+"</body></html>";return mt},nt=function(Qe){var $e=at(Qe),Ye=Qe.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:$e}});Ye.focus("close")},A=function(Qe){Qe.addCommand("mcePreview",function(){nt(Qe)})},Te=function(Qe){var $e=function(){return Qe.execCommand("mcePreview")};Qe.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:$e}),Qe.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:$e})};function et(){g.add("preview",function(Qe){A(Qe),Te(Qe)})}et()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=tinymce.util.Tools.resolve("tinymce.Env"),C=function(Ge){Ge.addCommand("mcePrint",function(){w.browser.isIE()?Ge.getDoc().execCommand("print",!1,null):Ge.getWin().print()})},x=function(Ge){var Xe=function(){return Ge.execCommand("mcePrint")};Ge.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:Xe}),Ge.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:Xe})};function He(){g.add("print",function(Ge){C(Ge),x(Ge),Ge.addShortcut("Meta+P","","mcePrint")})}He()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),C=tinymce.util.Tools.resolve("tinymce.util.Tools"),x=function(et){return et.getParam("save_enablewhendirty",!0)},He=function(et){return!!et.getParam("save_onsavecallback")},Ge=function(et){return!!et.getParam("save_oncancelcallback")},Xe=function(et,Qe){et.notificationManager.open({text:Qe,type:"error"})},ze=function(et){var Qe=w.DOM.getParent(et.id,"form");if(!(x(et)&&!et.isDirty())){if(et.save(),He(et)){et.execCallback("save_onsavecallback",et),et.nodeChanged();return}Qe?(et.setDirty(!1),(!Qe.onsubmit||Qe.onsubmit())&&(typeof Qe.submit=="function"?Qe.submit():Xe(et,"Error: Form submit field collision.")),et.nodeChanged()):Xe(et,"Error: No form element found.")}},We=function(et){var Qe=C.trim(et.startContent);if(Ge(et)){et.execCallback("save_oncancelcallback",et);return}et.resetContent(Qe)},at=function(et){et.addCommand("mceSave",function(){ze(et)}),et.addCommand("mceCancel",function(){We(et)})},nt=function(et){return function(Qe){var $e=function(){Qe.setDisabled(x(et)&&!et.isDirty())};return $e(),et.on("NodeChange dirty",$e),function(){return et.off("NodeChange dirty",$e)}}},A=function(et){et.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return et.execCommand("mceSave")},onSetup:nt(et)}),et.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return et.execCommand("mceCancel")},onSetup:nt(et)}),et.addShortcut("Meta+S","","mceSave")};function Te(){g.add("save",function(et){A(et),at(et)})}Te()})();(function(){var g=function(Xt){var dn=Xt,Yn=function(){return dn},sr=function(ht){dn=ht};return{get:Yn,set:sr}},w=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(){return C=Object.assign||function(dn){for(var Yn,sr=1,ht=arguments.length;sr<ht;sr++){Yn=arguments[sr];for(var $t in Yn)Object.prototype.hasOwnProperty.call(Yn,$t)&&(dn[$t]=Yn[$t])}return dn},C.apply(this,arguments)},x=function(Xt){var dn=typeof Xt;return Xt===null?"null":dn==="object"&&(Array.prototype.isPrototypeOf(Xt)||Xt.constructor&&Xt.constructor.name==="Array")?"array":dn==="object"&&(String.prototype.isPrototypeOf(Xt)||Xt.constructor&&Xt.constructor.name==="String")?"string":dn},He=function(Xt){return function(dn){return x(dn)===Xt}},Ge=function(Xt){return function(dn){return typeof dn===Xt}},Xe=He("string"),ze=He("array"),We=Ge("boolean"),at=Ge("number"),nt=function(){},A=function(Xt){return function(){return Xt}},Te=function(Xt){return Xt},et=A(!1),Qe=A(!0),$e="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",Ye=A($e),ut=function(){return ct},ct=function(){var Xt=function(sr){return sr()},dn=Te,Yn={fold:function(sr,ht){return sr()},isSome:et,isNone:Qe,getOr:dn,getOrThunk:Xt,getOrDie:function(sr){throw new Error(sr||"error: getOrDie called on none.")},getOrNull:A(null),getOrUndefined:A(void 0),or:dn,orThunk:Xt,map:ut,each:nt,bind:ut,exists:et,forall:Qe,filter:function(){return ut()},toArray:function(){return[]},toString:A("none()")};return Yn}(),qe=function(Xt){var dn=A(Xt),Yn=function(){return ht},sr=function($t){return $t(Xt)},ht={fold:function($t,fn){return fn(Xt)},isSome:Qe,isNone:et,getOr:dn,getOrThunk:dn,getOrDie:dn,getOrNull:dn,getOrUndefined:dn,or:Yn,orThunk:Yn,map:function($t){return qe($t(Xt))},each:function($t){$t(Xt)},bind:sr,exists:sr,forall:sr,filter:function($t){return $t(Xt)?ht:ct},toArray:function(){return[Xt]},toString:function(){return"some("+Xt+")"}};return ht},lt=function(Xt){return Xt==null?ct:qe(Xt)},Ue={some:qe,none:ut,from:lt},pt=Ye,It=tinymce.util.Tools.resolve("tinymce.Env"),Tt=tinymce.util.Tools.resolve("tinymce.util.Tools"),mt=Array.prototype.slice,vt=Array.prototype.push,Et=function(Xt,dn){for(var Yn=Xt.length,sr=new Array(Yn),ht=0;ht<Yn;ht++){var $t=Xt[ht];sr[ht]=dn($t,ht)}return sr},st=function(Xt,dn){for(var Yn=0,sr=Xt.length;Yn<sr;Yn++){var ht=Xt[Yn];dn(ht,Yn)}},At=function(Xt,dn){for(var Yn=Xt.length-1;Yn>=0;Yn--){var sr=Xt[Yn];dn(sr,Yn)}},nn=function(Xt,dn){if(Xt.length===0)return[];for(var Yn=dn(Xt[0]),sr=[],ht=[],$t=0,fn=Xt.length;$t<fn;$t++){var Tn=Xt[$t],Hn=dn(Tn);Hn!==Yn&&(sr.push(ht),ht=[]),Yn=Hn,ht.push(Tn)}return ht.length!==0&&sr.push(ht),sr},wn=function(Xt,dn,Yn){return st(Xt,function(sr,ht){Yn=dn(Yn,sr,ht)}),Yn},Ht=function(Xt){for(var dn=[],Yn=0,sr=Xt.length;Yn<sr;++Yn){if(!ze(Xt[Yn]))throw new Error("Arr.flatten item "+Yn+" was not an array, input: "+Xt);vt.apply(dn,Xt[Yn])}return dn},Sn=function(Xt,dn){return Ht(Et(Xt,dn))},lr=function(Xt,dn){var Yn=mt.call(Xt,0);return Yn.sort(dn),Yn},Ve=Object.hasOwnProperty,jt=function(Xt,dn){return Ve.call(Xt,dn)};typeof window!="undefined"||Function("return this;")();var cn=9,yt=11,Mt=1,Lt=3,qt=function(Xt){return Xt.dom.nodeType},an=function(Xt){return function(dn){return qt(dn)===Xt}},ot=an(Lt),En=function(Xt,dn,Yn){if(Xe(Yn)||We(Yn)||at(Yn))Xt.setAttribute(dn,Yn+"");else throw new Error("Attribute value was not simple")},Pt=function(Xt,dn,Yn){En(Xt.dom,dn,Yn)},xt=function(Xt,dn,Yn){return(Xt.compareDocumentPosition(dn)&Yn)!==0},vn=function(Xt,dn){return xt(Xt,dn,Node.DOCUMENT_POSITION_PRECEDING)},Ot=function(Xt,dn){var Yn=dn||document,sr=Yn.createElement("div");if(sr.innerHTML=Xt,!sr.hasChildNodes()||sr.childNodes.length>1)throw new Error("HTML must have a single root node");return ln(sr.childNodes[0])},Zt=function(Xt,dn){var Yn=dn||document,sr=Yn.createElement(Xt);return ln(sr)},mn=function(Xt,dn){var Yn=dn||document,sr=Yn.createTextNode(Xt);return ln(sr)},ln=function(Xt){if(Xt==null)throw new Error("Node cannot be null or undefined");return{dom:Xt}},Ft=function(Xt,dn,Yn){return Ue.from(Xt.dom.elementFromPoint(dn,Yn)).map(ln)},bn={fromHtml:Ot,fromTag:Zt,fromText:mn,fromDom:ln,fromPoint:Ft},Kn=function(Xt){return Xt.nodeType!==Mt&&Xt.nodeType!==cn&&Xt.nodeType!==yt||Xt.childElementCount===0},Jt=function(Xt,dn){var Yn=dn===void 0?document:dn.dom;return Kn(Yn)?[]:Et(Yn.querySelectorAll(Xt),bn.fromDom)},Rn=function(Xt){return Ue.from(Xt.dom.parentNode).map(bn.fromDom)},rr=function(Xt){return Et(Xt.dom.childNodes,bn.fromDom)},Vn=function(Xt,dn){return{element:Xt,offset:dn}},Br=function(Xt,dn){var Yn=rr(Xt);return Yn.length>0&&dn<Yn.length?Vn(Yn[dn],0):Vn(Xt,dn)},la=function(Xt,dn){var Yn=Rn(Xt);Yn.each(function(sr){sr.dom.insertBefore(dn.dom,Xt.dom)})},fa=function(Xt,dn){Xt.dom.appendChild(dn.dom)},co=function(Xt,dn){la(Xt,dn),fa(dn,Xt)},Eo=function(Xt,dn){var Yn=function($t){if(!Xt($t))throw new Error("Can only get "+dn+" value of a "+dn+" node");return sr($t).getOr("")},sr=function($t){return Xt($t)?Ue.from($t.dom.nodeValue):Ue.none()},ht=function($t,fn){if(!Xt($t))throw new Error("Can only set raw "+dn+" value of a "+dn+" node");$t.dom.nodeValue=fn};return{get:Yn,getOption:sr,set:ht}},hr=Eo(ot,"text"),yr=function(Xt){return hr.get(Xt)},mr=function(Xt,dn){return Jt(dn,Xt)},Pn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),zn=function(Xt,dn){return Xt.isBlock(dn)||jt(Xt.schema.getShortEndedElements(),dn.nodeName)},kr=function(Xt,dn){return Xt.getContentEditable(dn)==="false"},$r=function(Xt,dn){return Xt.getContentEditable(dn)==="true"&&Xt.getContentEditableParent(dn.parentNode)==="false"},Cr=function(Xt,dn){return!Xt.isBlock(dn)&&jt(Xt.schema.getWhiteSpaceElements(),dn.nodeName)},Nn=function(Xt,dn){return zn(Xt,dn)||kr(Xt,dn)||Cr(Xt,dn)||$r(Xt,dn)},ir=function(Xt){return Xt.nodeType===3},Ur=function(){return{sOffset:0,fOffset:0,elements:[]}},Mr=function(Xt,dn){return Br(bn.fromDom(Xt),dn)},jr=function(Xt,dn,Yn,sr,ht,$t){$t===void 0&&($t=!0);for(var fn=$t?dn(!1):Yn;fn;){var Tn=kr(Xt,fn);if(Tn||Cr(Xt,fn)){var Hn=Tn?sr.cef(fn):sr.boundary(fn);if(Hn)break;fn=dn(!0);continue}else if(zn(Xt,fn)){if(sr.boundary(fn))break}else ir(fn)&&sr.text(fn);if(fn===ht)break;fn=dn(!1)}},hn=function(Xt,dn,Yn,sr,ht){if(!Nn(Xt,Yn)){var $t=Xt.getParent(sr,Xt.isBlock),fn=new Pn(Yn,$t),Tn=ht?fn.next.bind(fn):fn.prev.bind(fn);jr(Xt,Tn,Yn,{boundary:Qe,cef:Qe,text:function(Hn){ht?dn.fOffset+=Hn.length:dn.sOffset+=Hn.length,dn.elements.push(bn.fromDom(Hn))}})}},Qn=function(Xt,dn,Yn,sr,ht,$t){$t===void 0&&($t=!0);var fn=new Pn(Yn,dn),Tn=[],Hn=Ur();hn(Xt,Hn,Yn,dn,!1);var Un=function(){return Hn.elements.length>0&&(Tn.push(Hn),Hn=Ur()),!1};return jr(Xt,fn.next.bind(fn),Yn,{boundary:Un,cef:function(Fr){return Un(),ht&&Tn.push.apply(Tn,ht.cef(Fr)),!1},text:function(Fr){Hn.elements.push(bn.fromDom(Fr)),ht&&ht.text(Fr,Hn)}},sr,$t),sr&&hn(Xt,Hn,sr,dn,!0),Un(),Tn},jn=function(Xt,dn){var Yn=Mr(dn.startContainer,dn.startOffset),sr=Yn.element.dom,ht=Mr(dn.endContainer,dn.endOffset),$t=ht.element.dom;return Qn(Xt,dn.commonAncestorContainer,sr,$t,{text:function(fn,Tn){fn===$t?Tn.fOffset+=fn.length-ht.offset:fn===sr&&(Tn.sOffset+=Yn.offset)},cef:function(fn){var Tn=Sn(mr(bn.fromDom(fn),"*[contenteditable=true]"),function(Hn){var Un=Hn.dom;return Qn(Xt,Un,Un)});return lr(Tn,function(Hn,Un){return vn(Hn.elements[0].dom,Un.elements[0].dom)?1:-1})}},!1)},gr=function(Xt,dn){return dn.collapsed?[]:jn(Xt,dn)},sa=function(Xt,dn){var Yn=Xt.createRng();return Yn.selectNode(dn),gr(Xt,Yn)},Va=function(Xt,dn){return Sn(dn,function(Yn){return sa(Xt,Yn)})},_o=function(Xt,dn,Yn,sr){Yn===void 0&&(Yn=0),sr===void 0&&(sr=Xt.length);var ht=dn.regex;ht.lastIndex=Yn;for(var $t=[],fn;fn=ht.exec(Xt);){var Tn=fn[dn.matchIndex],Hn=fn.index+fn[0].indexOf(Tn),Un=Hn+Tn.length;if(Un>sr)break;$t.push({start:Hn,finish:Un}),ht.lastIndex=Un}return $t},Ka=function(Xt,dn){var Yn=wn(Xt,function(sr,ht){var $t=yr(ht),fn=sr.last,Tn=fn+$t.length,Hn=Sn(dn,function(Un,Fr){return Un.start<Tn&&Un.finish>fn?[{element:ht,start:Math.max(fn,Un.start)-fn,finish:Math.min(Tn,Un.finish)-fn,matchId:Fr}]:[]});return{results:sr.results.concat(Hn),last:Tn}},{results:[],last:0}).results;return nn(Yn,function(sr){return sr.matchId})},Ya=function(Xt,dn){return Sn(dn,function(Yn){var sr=Yn.elements,ht=Et(sr,yr).join(""),$t=_o(ht,Xt,Yn.sOffset,ht.length-Yn.fOffset);return Ka(sr,$t)})},ni=function(Xt,dn){At(Xt,function(Yn,sr){At(Yn,function(ht){var $t=bn.fromDom(dn.cloneNode(!1));Pt($t,"data-mce-index",sr);var fn=ht.element.dom;if(fn.length===ht.finish&&ht.start===0)co(ht.element,$t);else{fn.length!==ht.finish&&fn.splitText(ht.finish);var Tn=fn.splitText(ht.start);co(bn.fromDom(Tn),$t)}})})},Zi=function(Xt,dn,Yn,sr){var ht=sa(Xt,Yn),$t=Ya(dn,ht);return ni($t,sr),$t.length},wo=function(Xt,dn,Yn,sr){var ht=Yn.getBookmark(),$t=Xt.select("td[data-mce-selected],th[data-mce-selected]"),fn=$t.length>0?Va(Xt,$t):gr(Xt,Yn.getRng()),Tn=Ya(dn,fn);return ni(Tn,sr),Yn.moveToBookmark(ht),Tn.length},mi=function(Xt){var dn=Xt.getAttribute("data-mce-index");return typeof dn=="number"?""+dn:dn},ii=function(Xt,dn,Yn,sr){var ht=Xt.dom.create("span",{"data-mce-bogus":1});ht.className="mce-match-marker";var $t=Xt.getBody();return Fu(Xt,dn,!1),sr?wo(Xt.dom,Yn,Xt.selection,ht):Zi(Xt.dom,Yn,$t,ht)},ou=function(Xt){var dn=Xt.parentNode;Xt.firstChild&&dn.insertBefore(Xt.firstChild,Xt),Xt.parentNode.removeChild(Xt)},pi=function(Xt,dn){var Yn=[],sr=Tt.toArray(Xt.getBody().getElementsByTagName("span"));if(sr.length)for(var ht=0;ht<sr.length;ht++){var $t=mi(sr[ht]);$t===null||!$t.length||$t===dn.toString()&&Yn.push(sr[ht])}return Yn},wi=function(Xt,dn,Yn){var sr=dn.get(),ht=sr.index,$t=Xt.dom;Yn=Yn!==!1,Yn?ht+1===sr.count?ht=0:ht++:ht-1===-1?ht=sr.count-1:ht--,$t.removeClass(pi(Xt,sr.index),"mce-match-marker-selected");var fn=pi(Xt,ht);return fn.length?($t.addClass(pi(Xt,ht),"mce-match-marker-selected"),Xt.selection.scrollIntoView(fn[0]),ht):-1},$i=function(Xt,dn){var Yn=dn.parentNode;Xt.remove(dn),Xt.isEmpty(Yn)&&Xt.remove(Yn)},fo=function(Xt,dn){var Yn=Xt.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),sr="("+Yn+")";return dn?"(?:^|\\s|"+pt()+")"+sr+("(?=$|\\s|"+pt()+")"):sr},Hi=function(Xt,dn,Yn,sr,ht,$t){var fn=Xt.selection,Tn=fo(Yn,ht),Hn=fn.isForward(),Un={regex:new RegExp(Tn,sr?"g":"gi"),matchIndex:1},Fr=ii(Xt,dn,Un,$t);if(It.browser.isSafari()&&fn.setRng(fn.getRng(),Hn),Fr){var ea=wi(Xt,dn,!0);dn.set({index:ea,count:Fr,text:Yn,matchCase:sr,wholeWord:ht,inSelection:$t})}return Fr},ga=function(Xt,dn){var Yn=wi(Xt,dn,!0);dn.set(C(C({},dn.get()),{index:Yn}))},Iu=function(Xt,dn){var Yn=wi(Xt,dn,!1);dn.set(C(C({},dn.get()),{index:Yn}))},Po=function(Xt){var dn=mi(Xt);return dn!==null&&dn.length>0},eu=function(Xt,dn,Yn,sr,ht){var $t=dn.get(),fn=$t.index,Tn,Hn=fn;sr=sr!==!1;for(var Un=Xt.getBody(),Fr=Tt.grep(Tt.toArray(Un.getElementsByTagName("span")),Po),ea=0;ea<Fr.length;ea++){var Oa=mi(Fr[ea]),Ha=Tn=parseInt(Oa,10);if(ht||Ha===$t.index){for(Yn.length?(Fr[ea].firstChild.nodeValue=Yn,ou(Fr[ea])):$i(Xt.dom,Fr[ea]);Fr[++ea];)if(Ha=parseInt(mi(Fr[ea]),10),Ha===Tn)$i(Xt.dom,Fr[ea]);else{ea--;break}sr&&Hn--}else Tn>fn&&Fr[ea].setAttribute("data-mce-index",String(Tn-1))}return dn.set(C(C({},$t),{count:ht?0:$t.count-1,index:Hn})),sr?ga(Xt,dn):Iu(Xt,dn),!ht&&dn.get().count>0},Fu=function(Xt,dn,Yn){for(var sr,ht,$t=dn.get(),fn=Tt.toArray(Xt.getBody().getElementsByTagName("span")),Tn=0;Tn<fn.length;Tn++){var Hn=mi(fn[Tn]);Hn!==null&&Hn.length&&(Hn===$t.index.toString()&&(sr||(sr=fn[Tn].firstChild),ht=fn[Tn].firstChild),ou(fn[Tn]))}if(dn.set(C(C({},$t),{index:-1,count:0,text:""})),sr&&ht){var Un=Xt.dom.createRng();return Un.setStart(sr,0),Un.setEnd(ht,ht.data.length),Yn!==!1&&Xt.selection.setRng(Un),Un}},iu=function(Xt,dn){return dn.get().count>1},Su=function(Xt,dn){return dn.get().count>1},ju=function(Xt,dn){var Yn=function(Tn){return Fu(Xt,dn,Tn)},sr=function(Tn,Hn,Un,Fr){return Fr===void 0&&(Fr=!1),Hi(Xt,dn,Tn,Hn,Un,Fr)},ht=function(){return ga(Xt,dn)},$t=function(){return Iu(Xt,dn)},fn=function(Tn,Hn,Un){return eu(Xt,dn,Tn,Hn,Un)};return{done:Yn,find:sr,next:ht,prev:$t,replace:fn}},ks=function(Xt){var dn=g(Ue.none()),Yn=function(){return dn.get().each(Xt)},sr=function(){Yn(),dn.set(Ue.none())},ht=function(){return dn.get().isSome()},$t=function(){return dn.get()},fn=function(Tn){Yn(),dn.set(Ue.some(Tn))};return{clear:sr,isSet:ht,get:$t,set:fn}},Gt=function(){var Xt=ks(nt),dn=function(Yn){return Xt.get().each(Yn)};return C(C({},Xt),{on:dn})},Mn=function(Xt,dn){var Yn=Gt();Xt.undoManager.add();var sr=Tt.trim(Xt.selection.getContent({format:"text"})),ht=function(za){var Qa=iu(Xt,dn)?za.enable:za.disable;Qa("next");var Do=Su(Xt,dn)?za.enable:za.disable;Do("prev")},$t=function(za){var Qa=za.getData(),Do=dn.get();dn.set(C(C({},Do),{matchCase:Qa.matchcase,wholeWord:Qa.wholewords,inSelection:Qa.inselection}))},fn=function(za,Qa){var Do=["replace","replaceall","prev","next"],si=Qa?za.disable:za.enable;st(Do,si)},Tn=function(za){Xt.windowManager.alert("Could not find the specified string.",function(){za.focus("findtext")})},Hn=function(za,Qa){It.browser.isSafari()&&It.deviceType.isTouch()&&(Qa==="find"||Qa==="replace"||Qa==="replaceall")&&za.focus(Qa)},Un=function(za){Fu(Xt,dn,!1),fn(za,!0),ht(za)},Fr=function(za){var Qa=za.getData(),Do=dn.get();if(!Qa.findtext.length){Un(za);return}if(Do.text===Qa.findtext&&Do.matchCase===Qa.matchcase&&Do.wholeWord===Qa.wholewords)ga(Xt,dn);else{var si=Hi(Xt,dn,Qa.findtext,Qa.matchcase,Qa.wholewords,Qa.inselection);si<=0&&Tn(za),fn(za,si===0)}ht(za)},ea=dn.get(),Oa={findtext:sr,replacetext:"",wholewords:ea.wholeWord,matchcase:ea.matchCase,inselection:ea.inSelection},Ha={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:Oa,onChange:function(za,Qa){Qa.name==="findtext"&&dn.get().count>0&&Un(za)},onAction:function(za,Qa){var Do=za.getData();switch(Qa.name){case"find":Fr(za);break;case"replace":eu(Xt,dn,Do.replacetext)?ht(za):Un(za);break;case"replaceall":eu(Xt,dn,Do.replacetext,!0,!0),Un(za);break;case"prev":Iu(Xt,dn),ht(za);break;case"next":ga(Xt,dn),ht(za);break;case"matchcase":case"wholewords":case"inselection":$t(za),Un(za);break}Hn(za,Qa.name)},onSubmit:function(za){Fr(za),Hn(za,"find")},onClose:function(){Xt.focus(),Fu(Xt,dn),Xt.undoManager.add()}};Yn.set(Xt.windowManager.open(Ha,{inline:"toolbar"}))},on=function(Xt,dn){Xt.addCommand("SearchReplace",function(){Mn(Xt,dn)})},Wn=function(Xt,dn){return function(){Mn(Xt,dn)}},zr=function(Xt,dn){Xt.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Wn(Xt,dn),icon:"search"}),Xt.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Wn(Xt,dn),icon:"search"}),Xt.shortcuts.add("Meta+F","",Wn(Xt,dn))};function oa(){w.add("searchreplace",function(Xt){var dn=g({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return on(Xt,dn),zr(Xt,dn),ju(Xt,dn)})}oa()})();(function(){var g=function(Mt){var Lt=Mt,qt=function(){return Lt},an=function(ot){Lt=ot};return{get:qt,set:an}},w=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(Mt){return Mt.hasPlugin("tinymcespellchecker",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0):!1},x=Object.hasOwnProperty,He=function(Mt){for(var Lt in Mt)if(x.call(Mt,Lt))return!1;return!0},Ge=tinymce.util.Tools.resolve("tinymce.util.Tools"),Xe=tinymce.util.Tools.resolve("tinymce.util.URI"),ze=tinymce.util.Tools.resolve("tinymce.util.XHR"),We=function(Mt){return Mt.fire("SpellcheckStart")},at=function(Mt){return Mt.fire("SpellcheckEnd")},nt=function(Mt){var Lt="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return Mt.getParam("spellchecker_languages",Lt)},A=function(Mt){var Lt=Mt.getParam("language","en");return Mt.getParam("spellchecker_language",Lt)},Te=function(Mt){return Mt.getParam("spellchecker_rpc_url")},et=function(Mt){return Mt.getParam("spellchecker_callback")},Qe=function(Mt){var Lt=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`§©«®±¶·¸»¼½¾¿×÷¤”“„    ]+',"g");return Mt.getParam("spellchecker_wordchar_pattern",Lt)},$e=function(Mt){return Mt&&Mt.nodeType===1&&Mt.contentEditable==="false"},Ye=function(Mt,Lt){var qt,an=[],ot=Lt.dom,En=Lt.schema.getBlockElements(),Pt=Lt.schema.getWhiteSpaceElements(),xt=Lt.schema.getShortEndedElements(),vn=function(Pn,zn){if(!Pn[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:Pn.index,end:Pn.index+Pn[0].length,text:Pn[0],data:zn}},Ot=function(Pn){if(Pn.nodeType===3)return Pn.data;if(Pt[Pn.nodeName]&&!En[Pn.nodeName])return"";if($e(Pn))return`
`;var zn="";if((En[Pn.nodeName]||xt[Pn.nodeName])&&(zn+=`
`),Pn=Pn.firstChild)do zn+=Ot(Pn);while(Pn=Pn.nextSibling);return zn},Zt=function(Pn,zn,kr){var $r,Cr,Nn,ir,Ur=[],Mr=0,jr=Pn,hn,Qn=0;zn=zn.slice(0),zn.sort(function(jn,gr){return jn.start-gr.start}),hn=zn.shift();e:for(;;){if((En[jr.nodeName]||xt[jr.nodeName]||$e(jr))&&Mr++,jr.nodeType===3&&(!Cr&&jr.length+Mr>=hn.end?(Cr=jr,ir=hn.end-Mr):$r&&Ur.push(jr),!$r&&jr.length+Mr>hn.start&&($r=jr,Nn=hn.start-Mr),Mr+=jr.length),$r&&Cr){if(jr=kr({startNode:$r,startNodeIndex:Nn,endNode:Cr,endNodeIndex:ir,innerNodes:Ur,match:hn.text,matchIndex:Qn}),Mr-=Cr.length-ir,$r=null,Cr=null,Ur=[],hn=zn.shift(),Qn++,!hn)break}else if((!Pt[jr.nodeName]||En[jr.nodeName])&&jr.firstChild){if(!$e(jr)){jr=jr.firstChild;continue}}else if(jr.nextSibling){jr=jr.nextSibling;continue}for(;;)if(jr.nextSibling){jr=jr.nextSibling;break}else if(jr.parentNode!==Pn)jr=jr.parentNode;else break e}},mn=function(Pn){var zn=function(kr,$r){var Cr=an[$r];Cr.stencil||(Cr.stencil=Pn(Cr));var Nn=Cr.stencil.cloneNode(!1);return Nn.setAttribute("data-mce-index",""+$r),kr&&Nn.appendChild(ot.doc.createTextNode(kr)),Nn};return function(kr){var $r,Cr,Nn,ir=kr.startNode,Ur=kr.endNode,Mr=kr.matchIndex,jr=ot.doc;if(ir===Ur){var hn=ir;Nn=hn.parentNode,kr.startNodeIndex>0&&($r=jr.createTextNode(hn.data.substring(0,kr.startNodeIndex)),Nn.insertBefore($r,hn));var Qn=zn(kr.match,Mr);return Nn.insertBefore(Qn,hn),kr.endNodeIndex<hn.length&&(Cr=jr.createTextNode(hn.data.substring(kr.endNodeIndex)),Nn.insertBefore(Cr,hn)),hn.parentNode.removeChild(hn),Qn}$r=jr.createTextNode(ir.data.substring(0,kr.startNodeIndex)),Cr=jr.createTextNode(Ur.data.substring(kr.endNodeIndex));for(var jn=zn(ir.data.substring(kr.startNodeIndex),Mr),gr=0,sa=kr.innerNodes.length;gr<sa;++gr){var Va=kr.innerNodes[gr],_o=zn(Va.data,Mr);Va.parentNode.replaceChild(_o,Va)}var Ka=zn(Ur.data.substring(0,kr.endNodeIndex),Mr);return Nn=ir.parentNode,Nn.insertBefore($r,ir),Nn.insertBefore(jn,ir),Nn.removeChild(ir),Nn=Ur.parentNode,Nn.insertBefore(Ka,Ur),Nn.insertBefore(Cr,Ur),Nn.removeChild(Ur),Ka}},ln=function(Pn){for(var zn=Pn.parentNode;Pn.childNodes.length>0;)zn.insertBefore(Pn.childNodes[0],Pn);zn.removeChild(Pn)},Ft=function(Pn){return Pn.className.indexOf("mce-spellchecker-word")!==-1},bn=function(Pn){var zn=Mt.getElementsByTagName("*"),kr=[];Pn=typeof Pn=="number"?""+Pn:null;for(var $r=0;$r<zn.length;$r++){var Cr=zn[$r],Nn=Cr.getAttribute("data-mce-index");Nn!==null&&Nn.length&&Ft(Cr)&&(Nn===Pn||Pn===null)&&kr.push(Cr)}return kr},Kn=function(Pn){for(var zn=an.length;zn--;)if(an[zn]===Pn)return zn;return-1};function Jt(Pn){var zn=[];return Rn(function(kr,$r){Pn(kr,$r)&&zn.push(kr)}),an=zn,this}function Rn(Pn){for(var zn=0,kr=an.length;zn<kr&&Pn(an[zn],zn)!==!1;zn++);return this}function rr(Pn){return an.length&&Zt(Mt,an,mn(Pn)),this}function Vn(Pn,zn){if(mr&&Pn.global)for(;qt=Pn.exec(mr);)an.push(vn(qt,zn));return this}function Br(Pn){var zn,kr=bn(Pn?Kn(Pn):null);for(zn=kr.length;zn--;)ln(kr[zn]);return this}var la=function(Pn){return an[Pn.getAttribute("data-mce-index")]},fa=function(Pn){return bn(Kn(Pn))[0]};function co(Pn,zn,kr){return an.push({start:Pn,end:Pn+zn,text:mr.substr(Pn,zn),data:kr}),this}var Eo=function(Pn){var zn=bn(Kn(Pn)),kr=Lt.dom.createRng();return kr.setStartBefore(zn[0]),kr.setEndAfter(zn[zn.length-1]),kr},hr=function(Pn,zn){var kr=Eo(Pn);return kr.deleteContents(),zn.length>0&&kr.insertNode(Lt.dom.doc.createTextNode(zn)),kr};function yr(){return an.splice(0,an.length),Br(),this}var mr=Ot(Mt);return{text:mr,matches:an,each:Rn,filter:Jt,reset:yr,matchFromElement:la,elementFromMatch:fa,find:Vn,add:co,wrap:rr,unwrap:Br,replace:hr,rangeFromMatch:Eo,indexOf:Kn}},ut=function(Mt,Lt){if(!Lt.get()){var qt=Ye(Mt.getBody(),Mt);Lt.set(qt)}return Lt.get()},ct=function(Mt,Lt,qt){return function(an,ot,En,Pt){var xt={method:an,lang:qt.get()},vn="";xt[an==="addToDictionary"?"word":"text"]=ot,Ge.each(xt,function(Ot,Zt){vn&&(vn+="&"),vn+=Zt+"="+encodeURIComponent(Ot)}),ze.send({url:new Xe(Lt).toAbsolute(Te(Mt)),type:"post",content_type:"application/x-www-form-urlencoded",data:vn,success:function(Ot){var Zt=JSON.parse(Ot);if(Zt)Zt.error?Pt(Zt.error):En(Zt);else{var mn=Mt.translate("Server response wasn't proper JSON.");Pt(mn)}},error:function(){var Ot=Mt.translate("The spelling service was not found: (")+Te(Mt)+Mt.translate(")");Pt(Ot)}})}},qe=function(Mt,Lt,qt,an,ot,En,Pt){var xt=et(Mt),vn=xt||ct(Mt,Lt,qt);vn.call(Mt.plugins.spellchecker,an,ot,En,Pt)},lt=function(Mt,Lt,qt,an,ot,En){if(!Tt(Mt,qt,an)){var Pt=function(vn){Mt.notificationManager.open({text:vn,type:"error"}),Mt.setProgressState(!1),Tt(Mt,qt,an)},xt=function(vn){Et(Mt,qt,an,ot,vn)};Mt.setProgressState(!0),qe(Mt,Lt,En,"spellcheck",ut(Mt,an).text,xt,Pt),Mt.focus()}},Ue=function(Mt,Lt,qt){Mt.dom.select("span.mce-spellchecker-word").length||Tt(Mt,Lt,qt)},pt=function(Mt,Lt,qt,an,ot,En,Pt){Mt.setProgressState(!0),qe(Mt,Lt,ot,"addToDictionary",En,function(){Mt.setProgressState(!1),Mt.dom.remove(Pt,!0),Ue(Mt,qt,an)},function(xt){Mt.notificationManager.open({text:xt,type:"error"}),Mt.setProgressState(!1)})},It=function(Mt,Lt,qt,an,ot,En){Mt.selection.collapse(),En?Ge.each(Mt.dom.select("span.mce-spellchecker-word"),function(Pt){Pt.getAttribute("data-mce-word")===an&&Mt.dom.remove(Pt,!0)}):Mt.dom.remove(ot,!0),Ue(Mt,Lt,qt)},Tt=function(Mt,Lt,qt){var an=Mt.selection.getBookmark();if(ut(Mt,qt).reset(),Mt.selection.moveToBookmark(an),qt.set(null),Lt.get())return Lt.set(!1),at(Mt),!0},mt=function(Mt){var Lt=Mt.getAttribute("data-mce-index");return typeof Lt=="number"?""+Lt:Lt},vt=function(Mt,Lt){var qt=[],an=Ge.toArray(Mt.getBody().getElementsByTagName("span"));if(an.length)for(var ot=0;ot<an.length;ot++){var En=mt(an[ot]);En===null||!En.length||En===Lt.toString()&&qt.push(an[ot])}return qt},Et=function(Mt,Lt,qt,an,ot){var En=!!ot.dictionary,Pt=ot.words;if(Mt.setProgressState(!1),He(Pt)){var xt=Mt.translate("No misspellings found.");Mt.notificationManager.open({text:xt,type:"info"}),Lt.set(!1);return}an.set({suggestions:Pt,hasDictionarySupport:En});var vn=Mt.selection.getBookmark();ut(Mt,qt).find(Qe(Mt)).filter(function(Ot){return!!Pt[Ot.text]}).wrap(function(Ot){return Mt.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":Ot.text})}),Mt.selection.moveToBookmark(vn),Lt.set(!0),We(Mt)},st=function(Mt,Lt,qt,an,ot){var En=function(){return Qe(Mt)},Pt=function(xt){Et(Mt,Lt,an,qt,xt)};return{getTextMatcher:an.get,getWordCharPattern:En,markErrors:Pt,getLanguage:ot.get}},At=function(Mt,Lt,qt,an,ot,En){Mt.addCommand("mceSpellCheck",function(){lt(Mt,Lt,qt,an,ot,En)})},nn=function(){return nn=Object.assign||function(Lt){for(var qt,an=1,ot=arguments.length;an<ot;an++){qt=arguments[an];for(var En in qt)Object.prototype.hasOwnProperty.call(qt,En)&&(Lt[En]=qt[En])}return Lt},nn.apply(this,arguments)},wn="SpellcheckStart SpellcheckEnd",Ht=function(Mt,Lt){var qt=[];return Ge.each(Lt,function(an){qt.push({selectable:!0,text:an.name,data:an.value})}),qt},Sn=function(Mt){return Ge.map(nt(Mt).split(","),function(Lt){var qt=Lt.split("=");return{name:qt[0],value:qt[1]}})},lr=function(Mt,Lt,qt,an,ot,En){var Pt=Ht("Language",Sn(Mt)),xt=function(){lt(Mt,Lt,qt,an,En,ot)},vn={tooltip:"Spellcheck",onAction:xt,icon:"spell-check",onSetup:function(Zt){var mn=function(){Zt.setActive(qt.get())};return Mt.on(wn,mn),function(){Mt.off(wn,mn)}}},Ot=nn(nn({},vn),{type:"splitbutton",select:function(Zt){return Zt===ot.get()},fetch:function(Zt){var mn=Ge.map(Pt,function(ln){return{type:"choiceitem",value:ln.data,text:ln.text}});Zt(mn)},onItemAction:function(Zt,mn){ot.set(mn)}});Pt.length>1?Mt.ui.registry.addSplitButton("spellchecker",Ot):Mt.ui.registry.addToggleButton("spellchecker",vn),Mt.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(Zt){Zt.setActive(qt.get());var mn=function(){Zt.setActive(qt.get())};return Mt.on(wn,mn),function(){Mt.off(wn,mn)}},onAction:xt})},Ve=!0,jt=function(Mt,Lt,qt,an,ot,En,Pt,xt){var vn=[],Ot=qt.get().suggestions[Pt];Ge.each(Ot,function(mn){vn.push({text:mn,onAction:function(){Mt.insertContent(Mt.dom.encode(mn)),Mt.dom.remove(xt),Ue(Mt,an,ot)}})});var Zt=qt.get().hasDictionarySupport;return Zt&&(vn.push({type:"separator"}),vn.push({text:"Add to dictionary",onAction:function(){pt(Mt,Lt,an,ot,En,Pt,xt)}})),vn.push.apply(vn,[{type:"separator"},{text:"Ignore",onAction:function(){It(Mt,an,ot,Pt,xt)}},{text:"Ignore all",onAction:function(){It(Mt,an,ot,Pt,xt,Ve)}}]),vn},cn=function(Mt,Lt,qt,an,ot,En){var Pt=function(xt){var vn=xt;if(vn.className==="mce-spellchecker-word"){var Ot=vt(Mt,mt(vn));if(Ot.length>0){var Zt=Mt.dom.createRng();return Zt.setStartBefore(Ot[0]),Zt.setEndAfter(Ot[Ot.length-1]),Mt.selection.setRng(Zt),jt(Mt,Lt,qt,an,ot,En,vn.getAttribute("data-mce-word"),Ot)}}else return[]};Mt.ui.registry.addContextMenu("spellchecker",{update:Pt})};function yt(){w.add("spellchecker",function(Mt,Lt){if(C(Mt)===!1){var qt=g(!1),an=g(A(Mt)),ot=g(null),En=g(null);return lr(Mt,Lt,qt,ot,an,En),cn(Mt,Lt,En,qt,ot,an),At(Mt,Lt,qt,ot,En,an),st(Mt,qt,En,ot,an)}})}yt()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),C=tinymce.util.Tools.resolve("tinymce.EditorManager"),x=tinymce.util.Tools.resolve("tinymce.Env"),He=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ge=tinymce.util.Tools.resolve("tinymce.util.Tools"),Xe=tinymce.util.Tools.resolve("tinymce.util.VK"),ze=function(et){return et.getParam("tabfocus_elements",":prev,:next")},We=function(et){return et.getParam("tab_focus",ze(et))},at=w.DOM,nt=function(et){et.keyCode===Xe.TAB&&!et.ctrlKey&&!et.altKey&&!et.metaKey&&et.preventDefault()},A=function(et){var Qe=function($e){var Ye;if(!($e.keyCode!==Xe.TAB||$e.ctrlKey||$e.altKey||$e.metaKey||$e.isDefaultPrevented())){var ut=function(Ue){var pt=at.select(":input:enabled,*[tabindex]:not(iframe)"),It=function(vt){var Et=vt;return vt.nodeName==="BODY"||Et.type!=="hidden"&&Et.style.display!=="none"&&Et.style.visibility!=="hidden"&&It(vt.parentNode)},Tt=function(vt){return/INPUT|TEXTAREA|BUTTON/.test(vt.tagName)&&C.get($e.id)&&vt.tabIndex!==-1&&It(vt)};if(Ge.each(pt,function(vt,Et){if(vt.id===et.id)return Ye=Et,!1}),Ue>0){for(var mt=Ye+1;mt<pt.length;mt++)if(Tt(pt[mt]))return pt[mt]}else for(var mt=Ye-1;mt>=0;mt--)if(Tt(pt[mt]))return pt[mt];return null},ct=Ge.explode(We(et));ct.length===1&&(ct[1]=ct[0],ct[0]=":prev");var qe;if($e.shiftKey?ct[0]===":prev"?qe=ut(-1):qe=at.get(ct[0]):ct[1]===":next"?qe=ut(1):qe=at.get(ct[1]),qe){var lt=C.get(qe.id||qe.name);qe.id&&lt?lt.focus():He.setTimeout(function(){x.webkit||window.focus(),qe.focus()},10),$e.preventDefault()}}};et.on("init",function(){et.inline&&at.setAttrib(et.getBody(),"tabIndex",null),et.on("keyup",nt),x.gecko?et.on("keypress keydown",Qe):et.on("keydown",Qe)})};function Te(){g.add("tabfocus",function(et){A(et)})}Te()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(Jt){var Rn=typeof Jt;return Jt===null?"null":Rn==="object"&&(Array.prototype.isPrototypeOf(Jt)||Jt.constructor&&Jt.constructor.name==="Array")?"array":Rn==="object"&&(String.prototype.isPrototypeOf(Jt)||Jt.constructor&&Jt.constructor.name==="String")?"string":Rn},C=function(Jt){return function(Rn){return w(Rn)===Jt}},x=function(Jt){return function(Rn){return typeof Rn===Jt}},He=C("string"),Ge=x("function"),Xe=function(){},ze=function(Jt){return function(){return Jt}},We=function(Jt){return Jt};function at(Jt){for(var Rn=[],rr=1;rr<arguments.length;rr++)Rn[rr-1]=arguments[rr];return function(){for(var Vn=[],Br=0;Br<arguments.length;Br++)Vn[Br]=arguments[Br];var la=Rn.concat(Vn);return Jt.apply(null,la)}}var nt=ze(!1),A=ze(!0),Te=tinymce.util.Tools.resolve("tinymce.util.Tools"),et=tinymce.util.Tools.resolve("tinymce.util.XHR"),Qe=function(Jt){return Jt.getParam("template_cdate_classes","cdate")},$e=function(Jt){return Jt.getParam("template_mdate_classes","mdate")},Ye=function(Jt){return Jt.getParam("template_selected_content_classes","selcontent")},ut=function(Jt){return Jt.getParam("template_preview_replace_values")},ct=function(Jt){return Jt.getParam("content_style","","string")},qe=function(Jt){return Jt.getParam("content_css_cors",!1,"boolean")},lt=function(Jt){return Jt.getParam("template_replace_values")},Ue=function(Jt){return Jt.getParam("templates")},pt=function(Jt){return Jt.getParam("template_cdate_format",Jt.translate("%Y-%m-%d"))},It=function(Jt){return Jt.getParam("template_mdate_format",Jt.translate("%Y-%m-%d"))},Tt=function(Jt){var Rn=Jt.getParam("body_class","","hash");return Rn[Jt.id]||""},mt=function(Jt){var Rn=Jt.getParam("body_class","","string");return Rn.indexOf("=")===-1?Rn:Tt(Jt)},vt=function(Jt,Rn){if(Jt=""+Jt,Jt.length<Rn)for(var rr=0;rr<Rn-Jt.length;rr++)Jt="0"+Jt;return Jt},Et=function(Jt,Rn,rr){rr===void 0&&(rr=new Date);var Vn="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Br="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),la="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),fa="January February March April May June July August September October November December".split(" ");return Rn=Rn.replace("%D","%m/%d/%Y"),Rn=Rn.replace("%r","%I:%M:%S %p"),Rn=Rn.replace("%Y",""+rr.getFullYear()),Rn=Rn.replace("%y",""+rr.getYear()),Rn=Rn.replace("%m",vt(rr.getMonth()+1,2)),Rn=Rn.replace("%d",vt(rr.getDate(),2)),Rn=Rn.replace("%H",""+vt(rr.getHours(),2)),Rn=Rn.replace("%M",""+vt(rr.getMinutes(),2)),Rn=Rn.replace("%S",""+vt(rr.getSeconds(),2)),Rn=Rn.replace("%I",""+((rr.getHours()+11)%12+1)),Rn=Rn.replace("%p",rr.getHours()<12?"AM":"PM"),Rn=Rn.replace("%B",""+Jt.translate(fa[rr.getMonth()])),Rn=Rn.replace("%b",""+Jt.translate(la[rr.getMonth()])),Rn=Rn.replace("%A",""+Jt.translate(Br[rr.getDay()])),Rn=Rn.replace("%a",""+Jt.translate(Vn[rr.getDay()])),Rn=Rn.replace("%%","%"),Rn},st=function(Jt,Rn){return function(){var rr=Ue(Jt);Ge(rr)?rr(Rn):He(rr)?et.send({url:rr,success:function(Vn){Rn(JSON.parse(Vn))}}):Rn(rr)}},At=function(Jt,Rn){return Te.each(Rn,function(rr,Vn){Ge(rr)&&(rr=rr(Vn)),Jt=Jt.replace(new RegExp("\\{\\$"+Vn+"\\}","g"),rr)}),Jt},nn=function(Jt,Rn){var rr=Jt.dom,Vn=lt(Jt);Te.each(rr.select("*",Rn),function(Br){Te.each(Vn,function(la,fa){rr.hasClass(Br,fa)&&Ge(la)&&la(Br)})})},wn=function(Jt,Rn){return new RegExp("\\b"+Rn+"\\b","g").test(Jt.className)},Ht=function(Jt,Rn,rr){var Vn=Jt.dom,Br=Jt.selection.getContent();rr=At(rr,lt(Jt));var la=Vn.create("div",null,rr),fa=Vn.select(".mceTmpl",la);fa&&fa.length>0&&(la=Vn.create("div",null),la.appendChild(fa[0].cloneNode(!0))),Te.each(Vn.select("*",la),function(co){wn(co,Qe(Jt).replace(/\s+/g,"|"))&&(co.innerHTML=Et(Jt,pt(Jt))),wn(co,$e(Jt).replace(/\s+/g,"|"))&&(co.innerHTML=Et(Jt,It(Jt))),wn(co,Ye(Jt).replace(/\s+/g,"|"))&&(co.innerHTML=Br)}),nn(Jt,la),Jt.execCommand("mceInsertContent",!1,la.innerHTML),Jt.addVisual()},Sn=function(){return lr},lr=function(){var Jt=function(Vn){return Vn()},Rn=We,rr={fold:function(Vn,Br){return Vn()},isSome:nt,isNone:A,getOr:Rn,getOrThunk:Jt,getOrDie:function(Vn){throw new Error(Vn||"error: getOrDie called on none.")},getOrNull:ze(null),getOrUndefined:ze(void 0),or:Rn,orThunk:Jt,map:Sn,each:Xe,bind:Sn,exists:nt,forall:A,filter:function(){return Sn()},toArray:function(){return[]},toString:ze("none()")};return rr}(),Ve=function(Jt){var Rn=ze(Jt),rr=function(){return Br},Vn=function(la){return la(Jt)},Br={fold:function(la,fa){return fa(Jt)},isSome:A,isNone:nt,getOr:Rn,getOrThunk:Rn,getOrDie:Rn,getOrNull:Rn,getOrUndefined:Rn,or:rr,orThunk:rr,map:function(la){return Ve(la(Jt))},each:function(la){la(Jt)},bind:Vn,exists:Vn,forall:Vn,filter:function(la){return la(Jt)?Br:lr},toArray:function(){return[Jt]},toString:function(){return"some("+Jt+")"}};return Br},jt=function(Jt){return Jt==null?lr:Ve(Jt)},cn={some:Ve,none:Sn,from:jt},yt=function(Jt,Rn){for(var rr=Jt.length,Vn=new Array(rr),Br=0;Br<rr;Br++){var la=Jt[Br];Vn[Br]=Rn(la,Br)}return Vn},Mt=function(Jt,Rn,rr){for(var Vn=0,Br=Jt.length;Vn<Br;Vn++){var la=Jt[Vn];if(Rn(la,Vn))return cn.some(la);if(rr(la,Vn))break}return cn.none()},Lt=function(Jt,Rn){return Mt(Jt,Rn,nt)},qt=tinymce.util.Tools.resolve("tinymce.Env"),an=tinymce.util.Tools.resolve("tinymce.util.Promise"),ot=Object.hasOwnProperty,En=function(Jt,Rn){return Pt(Jt,Rn)?cn.from(Jt[Rn]):cn.none()},Pt=function(Jt,Rn){return ot.call(Jt,Rn)},xt={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},vn=function(Jt){return Jt.replace(/["'<>&]/g,function(Rn){return En(xt,Rn).getOr(Rn)})},Ot=function(Jt,Rn){if(Rn.indexOf("<html>")===-1){var rr="",Vn=ct(Jt),Br=qe(Jt)?' crossorigin="anonymous"':"";Te.each(Jt.contentCSS,function(mr){rr+='<link type="text/css" rel="stylesheet" href="'+Jt.documentBaseURI.toAbsolute(mr)+'"'+Br+">"}),Vn&&(rr+='<style type="text/css">'+Vn+"</style>");var la=mt(Jt),fa=Jt.dom.encode,co=qt.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Eo='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+co+")) {e.preventDefault();}}}, false);<\/script> ",hr=Jt.getBody().dir,yr=hr?' dir="'+fa(hr)+'"':"";Rn='<!DOCTYPE html><html><head><base href="'+fa(Jt.documentBaseURI.getURI())+'">'+rr+Eo+'</head><body class="'+fa(la)+'"'+yr+">"+Rn+"</body></html>"}return At(Rn,ut(Jt))},Zt=function(Jt,Rn){var rr=function(){if(!Rn||Rn.length===0){var mr=Jt.translate("No templates defined.");return Jt.notificationManager.open({text:mr,type:"info"}),cn.none()}return cn.from(Te.map(Rn,function(Pn,zn){var kr=function($r){return $r.url!==void 0};return{selected:zn===0,text:Pn.title,value:{url:kr(Pn)?cn.from(Pn.url):cn.none(),content:kr(Pn)?cn.none():cn.from(Pn.content),description:Pn.description}}}))},Vn=function(mr){return yt(mr,function(Pn){return{text:Pn.text,value:Pn.text}})},Br=function(mr,Pn){return Lt(mr,function(zn){return zn.text===Pn})},la=function(mr){Jt.windowManager.alert("Could not load the specified template.",function(){return mr.focus("template")})},fa=function(mr){return new an(function(Pn,zn){mr.value.url.fold(function(){return Pn(mr.value.content.getOr(""))},function(kr){return et.send({url:kr,success:function($r){Pn($r)},error:function($r){zn($r)}})})})},co=function(mr,Pn){return function(zn,kr){if(kr.name==="template"){var $r=zn.getData().template;Br(mr,$r).each(function(Cr){zn.block("Loading..."),fa(Cr).then(function(Nn){Pn(zn,Cr,Nn)}).catch(function(){Pn(zn,Cr,""),zn.disable("save"),la(zn)})})}}},Eo=function(mr){return function(Pn){var zn=Pn.getData();Br(mr,zn.template).each(function(kr){fa(kr).then(function($r){Jt.execCommand("mceInsertTemplate",!1,$r),Pn.close()}).catch(function(){Pn.disable("save"),la(Pn)})})}},hr=function(mr){var Pn=Vn(mr),zn=function(Cr,Nn){return{title:"Insert Template",size:"large",body:{type:"panel",items:Cr},initialData:Nn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Eo(mr),onChange:co(mr,kr)}},kr=function(Cr,Nn,ir){var Ur=Ot(Jt,ir),Mr=[{type:"selectbox",name:"template",label:"Templates",items:Pn},{type:"htmlpanel",html:'<p aria-live="polite">'+vn(Nn.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],jr={template:Nn.text,preview:Ur};Cr.unblock(),Cr.redial(zn(Mr,jr)),Cr.focus("template")},$r=Jt.windowManager.open(zn([],{template:"",preview:""}));$r.block("Loading..."),fa(mr[0]).then(function(Cr){kr($r,mr[0],Cr)}).catch(function(){kr($r,mr[0],""),$r.disable("save"),la($r)})},yr=rr();yr.each(hr)},mn=function(Jt){return function(Rn){Zt(Jt,Rn)}},ln=function(Jt){Jt.addCommand("mceInsertTemplate",at(Ht,Jt)),Jt.addCommand("mceTemplate",st(Jt,mn(Jt)))},Ft=function(Jt){Jt.on("PreProcess",function(Rn){var rr=Jt.dom,Vn=It(Jt);Te.each(rr.select("div",Rn.node),function(Br){rr.hasClass(Br,"mceTmpl")&&(Te.each(rr.select("*",Br),function(la){rr.hasClass(la,$e(Jt).replace(/\s+/g,"|"))&&(la.innerHTML=Et(Jt,Vn))}),nn(Jt,Br))})})},bn=function(Jt){var Rn=function(){return Jt.execCommand("mceTemplate")};Jt.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:Rn}),Jt.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:Rn})};function Kn(){g.add("template",function(Jt){bn(Jt),ln(Jt),Ft(Jt)})}Kn()})();(function(){var g=function(ht){var $t=ht,fn=function(){return $t},Tn=function(Hn){$t=Hn};return{get:fn,set:Tn}},w=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(){return C=Object.assign||function($t){for(var fn,Tn=1,Hn=arguments.length;Tn<Hn;Tn++){fn=arguments[Tn];for(var Un in fn)Object.prototype.hasOwnProperty.call(fn,Un)&&($t[Un]=fn[Un])}return $t},C.apply(this,arguments)};function x(ht,$t,fn){for(var Tn=0,Hn=$t.length,Un;Tn<Hn;Tn++)(Un||!(Tn in $t))&&(Un||(Un=Array.prototype.slice.call($t,0,Tn)),Un[Tn]=$t[Tn]);return ht.concat(Un||Array.prototype.slice.call($t))}var He=function(ht){var $t=typeof ht;return ht===null?"null":$t==="object"&&(Array.prototype.isPrototypeOf(ht)||ht.constructor&&ht.constructor.name==="Array")?"array":$t==="object"&&(String.prototype.isPrototypeOf(ht)||ht.constructor&&ht.constructor.name==="String")?"string":$t},Ge=function(ht){return function($t){return He($t)===ht}},Xe=Ge("string"),ze=Ge("object"),We=Ge("array"),at=function(){},nt=function(ht){return function(){return ht}},A=function(ht){return ht},Te=function(ht){return function(){throw new Error(ht)}},et=nt(!1),Qe=nt(!0),$e=function(){return Ye},Ye=function(){var ht=function(Tn){return Tn()},$t=A,fn={fold:function(Tn,Hn){return Tn()},isSome:et,isNone:Qe,getOr:$t,getOrThunk:ht,getOrDie:function(Tn){throw new Error(Tn||"error: getOrDie called on none.")},getOrNull:nt(null),getOrUndefined:nt(void 0),or:$t,orThunk:ht,map:$e,each:at,bind:$e,exists:et,forall:Qe,filter:function(){return $e()},toArray:function(){return[]},toString:nt("none()")};return fn}(),ut=function(ht){var $t=nt(ht),fn=function(){return Hn},Tn=function(Un){return Un(ht)},Hn={fold:function(Un,Fr){return Fr(ht)},isSome:Qe,isNone:et,getOr:$t,getOrThunk:$t,getOrDie:$t,getOrNull:$t,getOrUndefined:$t,or:fn,orThunk:fn,map:function(Un){return ut(Un(ht))},each:function(Un){Un(ht)},bind:Tn,exists:Tn,forall:Tn,filter:function(Un){return Un(ht)?Hn:Ye},toArray:function(){return[ht]},toString:function(){return"some("+ht+")"}};return Hn},ct=function(ht){return ht==null?Ye:ut(ht)},qe={some:ut,none:$e,from:ct},lt=Array.prototype.slice,Ue=Array.prototype.indexOf,pt=function(ht,$t){return Ue.call(ht,$t)},It=function(ht,$t){return pt(ht,$t)>-1},Tt=function(ht,$t){for(var fn=ht.length,Tn=new Array(fn),Hn=0;Hn<fn;Hn++){var Un=ht[Hn];Tn[Hn]=$t(Un,Hn)}return Tn},mt=function(ht,$t){for(var fn=0,Tn=ht.length;fn<Tn;fn++){var Hn=ht[fn];$t(Hn,fn)}},vt=function(ht,$t){for(var fn=ht.length-1;fn>=0;fn--){var Tn=ht[fn];$t(Tn,fn)}},Et=function(ht,$t){for(var fn=[],Tn=0,Hn=ht.length;Tn<Hn;Tn++){var Un=ht[Tn];$t(Un,Tn)&&fn.push(Un)}return fn},st=function(ht,$t,fn){return vt(ht,function(Tn,Hn){fn=$t(fn,Tn,Hn)}),fn},At=function(ht,$t,fn){return mt(ht,function(Tn,Hn){fn=$t(fn,Tn,Hn)}),fn},nn=function(ht,$t,fn){for(var Tn=0,Hn=ht.length;Tn<Hn;Tn++){var Un=ht[Tn];if($t(Un,Tn))return qe.some(Un);if(fn(Un,Tn))break}return qe.none()},wn=function(ht,$t){return nn(ht,$t,et)},Ht=function(ht,$t){for(var fn=0,Tn=ht.length;fn<Tn;++fn){var Hn=ht[fn];if($t(Hn,fn)!==!0)return!1}return!0},Sn=function(ht,$t){var fn=lt.call(ht,0);return fn.sort($t),fn},lr=function(ht,$t){return $t>=0&&$t<ht.length?qe.some(ht[$t]):qe.none()},Ve=function(ht){return lr(ht,0)},jt=Object.keys,cn=Object.hasOwnProperty,yt=function(ht,$t){return cn.call(ht,$t)},Mt=function(ht){if(!We(ht))throw new Error("cases must be an array");if(ht.length===0)throw new Error("there must be at least one case");var $t=[],fn={};return mt(ht,function(Tn,Hn){var Un=jt(Tn);if(Un.length!==1)throw new Error("one and only one name per case");var Fr=Un[0],ea=Tn[Fr];if(fn[Fr]!==void 0)throw new Error("duplicate key detected:"+Fr);if(Fr==="cata")throw new Error("cannot have a case named cata (sorry)");if(!We(ea))throw new Error("case arguments must be an array");$t.push(Fr),fn[Fr]=function(){for(var Oa=[],Ha=0;Ha<arguments.length;Ha++)Oa[Ha]=arguments[Ha];var za=Oa.length;if(za!==ea.length)throw new Error("Wrong number of arguments to case "+Fr+". Expected "+ea.length+" ("+ea+"), got "+za);var Qa=function(Do){var si=jt(Do);if($t.length!==si.length)throw new Error("Wrong number of arguments to match. Expected: "+$t.join(",")+`
Actual: `+si.join(","));var du=Ht($t,function(ls){return It(si,ls)});if(!du)throw new Error("Not all branches were specified when using match. Specified: "+si.join(", ")+`
Required: `+$t.join(", "));return Do[Fr].apply(null,Oa)};return{fold:function(){for(var Do=[],si=0;si<arguments.length;si++)Do[si]=arguments[si];if(Do.length!==ht.length)throw new Error("Wrong number of arguments to fold. Expected "+ht.length+", got "+Do.length);var du=Do[Hn];return du.apply(null,Oa)},match:Qa,log:function(Do){}}}}),fn},Lt={generate:Mt};Lt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var qt=function(ht){var $t=[],fn=[];return mt(ht,function(Tn){Tn.fold(function(Hn){$t.push(Hn)},function(Hn){fn.push(Hn)})}),{errors:$t,values:fn}},an=function(ht){var $t=function(Qa){return an(ht)},fn=function(Qa){return an(ht)},Tn=function(Qa){return an(Qa(ht))},Hn=function(Qa){return an(ht)},Un=function(Qa){Qa(ht)},Fr=function(Qa){return Qa(ht)},ea=function(Qa,Do){return Do(ht)},Oa=function(Qa){return Qa(ht)},Ha=function(Qa){return Qa(ht)},za=function(){return qe.some(ht)};return{isValue:Qe,isError:et,getOr:nt(ht),getOrThunk:nt(ht),getOrDie:nt(ht),or:$t,orThunk:fn,fold:ea,map:Tn,mapError:Hn,each:Un,bind:Fr,exists:Oa,forall:Ha,toOptional:za}},ot=function(ht){var $t=function(Ha){return Ha()},fn=function(){return Te(String(ht))()},Tn=A,Hn=function(Ha){return Ha()},Un=function(Ha){return ot(ht)},Fr=function(Ha){return ot(Ha(ht))},ea=function(Ha){return ot(ht)},Oa=function(Ha,za){return Ha(ht)};return{isValue:et,isError:Qe,getOr:A,getOrThunk:$t,getOrDie:fn,or:Tn,orThunk:Hn,fold:Oa,map:Un,mapError:Fr,each:at,bind:ea,exists:et,forall:Qe,toOptional:qe.none}},En=function(ht,$t){return ht.fold(function(){return ot($t)},an)},Pt={value:an,error:ot,fromOption:En},xt=function(ht){return ht.type==="inline-command"||ht.type==="inline-format"},vn=function(ht){return ht.type==="block-command"||ht.type==="block-format"},Ot=function(ht){return Sn(ht,function($t,fn){return $t.start.length===fn.start.length?0:$t.start.length>fn.start.length?-1:1})},Zt=function(ht){var $t=function(Un){return Pt.error({message:Un,pattern:ht})},fn=function(Un,Fr,ea){if(ht.format!==void 0){var Oa=void 0;if(We(ht.format)){if(!Ht(ht.format,Xe))return $t(Un+" pattern has non-string items in the `format` array");Oa=ht.format}else if(Xe(ht.format))Oa=[ht.format];else return $t(Un+" pattern has non-string `format` parameter");return Pt.value(Fr(Oa))}else return ht.cmd!==void 0?Xe(ht.cmd)?Pt.value(ea(ht.cmd,ht.value)):$t(Un+" pattern has non-string `cmd` parameter"):$t(Un+" pattern is missing both `format` and `cmd` parameters")};if(!ze(ht))return $t("Raw pattern is not an object");if(!Xe(ht.start))return $t("Raw pattern is missing `start` parameter");if(ht.end!==void 0){if(!Xe(ht.end))return $t("Inline pattern has non-string `end` parameter");if(ht.start.length===0&&ht.end.length===0)return $t("Inline pattern has empty `start` and `end` parameters");var Tn=ht.start,Hn=ht.end;return Hn.length===0&&(Hn=Tn,Tn=""),fn("Inline",function(Un){return{type:"inline-format",start:Tn,end:Hn,format:Un}},function(Un,Fr){return{type:"inline-command",start:Tn,end:Hn,cmd:Un,value:Fr}})}else return ht.replacement!==void 0?Xe(ht.replacement)?ht.start.length===0?$t("Replacement pattern has empty `start` parameter"):Pt.value({type:"inline-command",start:"",end:ht.start,cmd:"mceInsertContent",value:ht.replacement}):$t("Replacement pattern has non-string `replacement` parameter"):ht.start.length===0?$t("Block pattern has empty `start` parameter"):fn("Block",function(Un){return{type:"block-format",start:ht.start,format:Un[0]}},function(Un,Fr){return{type:"block-command",start:ht.start,cmd:Un,value:Fr}})},mn=function(ht){if(ht.type==="block-command")return{start:ht.start,cmd:ht.cmd,value:ht.value};if(ht.type==="block-format")return{start:ht.start,format:ht.format};if(ht.type==="inline-command")return ht.cmd==="mceInsertContent"&&ht.start===""?{start:ht.end,replacement:ht.value}:{start:ht.start,end:ht.end,cmd:ht.cmd,value:ht.value};if(ht.type==="inline-format")return{start:ht.start,end:ht.end,format:ht.format.length===1?ht.format[0]:ht.format}},ln=function(ht){return{inlinePatterns:Et(ht,xt),blockPatterns:Ot(Et(ht,vn))}},Ft=function(ht){var $t=function(Tn){var Hn=qt(Tt(Tn,Zt));if(Hn.errors.length>0){var Un=Hn.errors[0];throw new Error(Un.message+`:
`+JSON.stringify(Un.pattern,null,2))}ht.set(ln(Hn.values))},fn=function(){return x(x([],Tt(ht.get().inlinePatterns,mn),!0),Tt(ht.get().blockPatterns,mn))};return{setPatterns:$t,getPatterns:fn}},bn=typeof window!="undefined"?window:Function("return this;")(),Kn=function(){for(var ht=[],$t=0;$t<arguments.length;$t++)ht[$t]=arguments[$t];var fn=bn.console;fn&&(fn.error?fn.error.apply(fn,ht):fn.log.apply(fn,ht))},Jt=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],Rn=function(ht){var $t=ht.getParam("textpattern_patterns",Jt,"array");if(!We($t))return Kn("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var fn=qt(Tt($t,Zt));return mt(fn.errors,function(Tn){return Kn(Tn.message,Tn.pattern)}),ln(fn.values)},rr=function(ht){var $t=ht.getParam("forced_root_block","p");return $t===!1?"":$t===!0?"p":$t},Vn=tinymce.util.Tools.resolve("tinymce.util.Delay"),Br=tinymce.util.Tools.resolve("tinymce.util.VK"),la="\uFEFF",fa=" ",co=tinymce.util.Tools.resolve("tinymce.util.Tools"),Eo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),hr=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),yr=function(ht,$t){return{container:ht,offset:$t}},mr=function(ht){return ht.nodeType===Node.TEXT_NODE},Pn=function(ht,$t,fn){if($t&&ht.isEmpty($t)&&!fn($t)){var Tn=$t.parentNode;ht.remove($t),Pn(ht,Tn,fn)}},zn=function(ht,$t,fn,Tn){Tn===void 0&&(Tn=!0);var Hn=$t.startContainer.parentNode,Un=$t.endContainer.parentNode;$t.deleteContents(),Tn&&!fn($t.startContainer)&&(mr($t.startContainer)&&$t.startContainer.data.length===0&&ht.remove($t.startContainer),mr($t.endContainer)&&$t.endContainer.data.length===0&&ht.remove($t.endContainer),Pn(ht,Hn,fn),Hn!==Un&&Pn(ht,Un,fn))},kr=function(ht,$t){var fn=$t.get(ht);return We(fn)&&Ve(fn).exists(function(Tn){return yt(Tn,"block")})},$r=function(ht){return ht.start.length===0},Cr=function(ht,$t){var fn=qe.from(ht.dom.getParent($t.startContainer,ht.dom.isBlock));return rr(ht)===""?fn.orThunk(function(){return qe.some(ht.getBody())}):fn},Nn=Eo.DOM,ir=function(ht){return function($t){return ht===$t?-1:0}},Ur=function(ht){return function($t){return ht.isBlock($t)||It(["BR","IMG","HR","INPUT"],$t.nodeName)||ht.getContentEditable($t)==="false"}},Mr=function(ht,$t,fn){if(mr(ht)&&$t>=0)return qe.some(yr(ht,$t));var Tn=hr(Nn);return qe.from(Tn.backwards(ht,$t,ir(ht),fn)).map(function(Hn){return yr(Hn.container,Hn.container.data.length)})},jr=function(ht,$t,fn){if(mr(ht)&&$t>=ht.length)return qe.some(yr(ht,$t));var Tn=hr(Nn);return qe.from(Tn.forwards(ht,$t,ir(ht),fn)).map(function(Hn){return yr(Hn.container,0)})},hn=function(ht,$t,fn){if(!mr(ht))return qe.none();var Tn=ht.textContent;if($t>=0&&$t<=Tn.length)return qe.some(yr(ht,$t));var Hn=hr(Nn);return qe.from(Hn.backwards(ht,$t,ir(ht),fn)).bind(function(Un){var Fr=Un.container.data;return hn(Un.container,$t+Fr.length,fn)})},Qn=function(ht,$t,fn){if(!mr(ht))return qe.none();var Tn=ht.textContent;if($t<=Tn.length)return qe.some(yr(ht,$t));var Hn=hr(Nn);return qe.from(Hn.forwards(ht,$t,ir(ht),fn)).bind(function(Un){return Qn(Un.container,$t-Tn.length,fn)})},jn=function(ht,$t,fn,Tn,Hn){var Un=hr(ht,Ur(ht));return qe.from(Un.backwards($t,fn,Tn,Hn))},gr=function(ht,$t,fn){if(mr($t)&&(fn<0||fn>$t.data.length))return[];for(var Tn=[fn],Hn=$t;Hn!==ht&&Hn.parentNode;){for(var Un=Hn.parentNode,Fr=0;Fr<Un.childNodes.length;Fr++)if(Un.childNodes[Fr]===Hn){Tn.push(Fr);break}Hn=Un}return Hn===ht?Tn.reverse():[]},sa=function(ht,$t,fn,Tn,Hn){var Un=gr(ht,$t,fn),Fr=gr(ht,Tn,Hn);return{start:Un,end:Fr}},Va=function(ht,$t){var fn=$t.slice(),Tn=fn.pop(),Hn=At(fn,function(Un,Fr){return Un.bind(function(ea){return qe.from(ea.childNodes[Fr])})},qe.some(ht));return Hn.bind(function(Un){return mr(Un)&&(Tn<0||Tn>Un.data.length)?qe.none():qe.some({node:Un,offset:Tn})})},_o=function(ht,$t){return Va(ht,$t.start).bind(function(fn){var Tn=fn.node,Hn=fn.offset;return Va(ht,$t.end).map(function(Un){var Fr=Un.node,ea=Un.offset,Oa=document.createRange();return Oa.setStart(Tn,Hn),Oa.setEnd(Fr,ea),Oa})})},Ka=function(ht,$t){return sa(ht,$t.startContainer,$t.startOffset,$t.endContainer,$t.endOffset)},Ya=function(ht,$t,fn){var Tn=jr($t,0,$t);Tn.each(function(Hn){var Un=Hn.container;Qn(Un,fn.start.length,$t).each(function(Fr){var ea=ht.createRng();ea.setStart(Un,0),ea.setEnd(Fr.container,Fr.offset),zn(ht,ea,function(Oa){return Oa===$t})})})},ni=function(ht,$t){var fn=ht.dom,Tn=$t.pattern,Hn=_o(fn.getRoot(),$t.range).getOrDie("Unable to resolve path range");return Cr(ht,Hn).each(function(Un){Tn.type==="block-format"?kr(Tn.format,ht.formatter)&&ht.undoManager.transact(function(){Ya(ht.dom,Un,Tn),ht.formatter.apply(Tn.format)}):Tn.type==="block-command"&&ht.undoManager.transact(function(){Ya(ht.dom,Un,Tn),ht.execCommand(Tn.cmd,!1,Tn.value)})}),!0},Zi=function(ht,$t){var fn=$t.replace(fa," ");return wn(ht,function(Tn){return $t.indexOf(Tn.start)===0||fn.indexOf(Tn.start)===0})},wo=function(ht,$t){var fn=ht.dom,Tn=ht.selection.getRng();return Cr(ht,Tn).filter(function(Hn){var Un=rr(ht),Fr=Un===""&&fn.is(Hn,"body")||fn.is(Hn,Un);return Hn!==null&&Fr}).bind(function(Hn){var Un=Hn.textContent,Fr=Zi($t,Un);return Fr.map(function(ea){return co.trim(Un).length===ea.start.length?[]:[{pattern:ea,range:sa(fn.getRoot(),Hn,0,Hn,0)}]})}).getOr([])},mi=function(ht,$t){if($t.length!==0){var fn=ht.selection.getBookmark();mt($t,function(Tn){return ni(ht,Tn)}),ht.selection.moveToBookmark(fn)}},ii=0,ou=function(ht){var $t=new Date,fn=$t.getTime(),Tn=Math.floor(Math.random()*1e9);return ii++,ht+"_"+Tn+ii+String(fn)},pi=function(ht,$t,fn){return $t===""||ht.length>=$t.length&&ht.substr(fn,fn+$t.length)===$t},wi=function(ht,$t){return pi(ht,$t,ht.length-$t.length)},$i=function(ht,$t){return ht.create("span",{"data-mce-type":"bookmark",id:$t})},fo=function(ht,$t){var fn=ht.createRng();return fn.setStartAfter($t.start),fn.setEndBefore($t.end),fn},Hi=function(ht,$t,fn){var Tn=_o(ht.getRoot(),fn).getOrDie("Unable to resolve path range"),Hn=Tn.startContainer,Un=Tn.endContainer,Fr=Tn.endOffset===0?Un:Un.splitText(Tn.endOffset),ea=Tn.startOffset===0?Hn:Hn.splitText(Tn.startOffset);return{prefix:$t,end:Fr.parentNode.insertBefore($i(ht,$t+"-end"),Fr),start:ea.parentNode.insertBefore($i(ht,$t+"-start"),ea)}},ga=function(ht,$t,fn){Pn(ht,ht.get($t.prefix+"-end"),fn),Pn(ht,ht.get($t.prefix+"-start"),fn)},Iu=function(ht,$t,fn){return function(Tn,Hn){var Un=Tn.data,Fr=Un.substring(0,Hn),ea=Fr.lastIndexOf(fn.charAt(fn.length-1)),Oa=Fr.lastIndexOf(fn);return Oa!==-1?Oa+fn.length:ea!==-1?ea+1:-1}},Po=function(ht,$t,fn,Tn){var Hn=$t.start,Un=jn(ht,Tn.container,Tn.offset,Iu(ht,fn,Hn),fn);return Un.bind(function(Fr){if(Fr.offset>=Hn.length){var ea=ht.createRng();return ea.setStart(Fr.container,Fr.offset-Hn.length),ea.setEnd(Fr.container,Fr.offset),qe.some(ea)}else{var Oa=Fr.offset-Hn.length;return hn(Fr.container,Oa,fn).map(function(Ha){var za=ht.createRng();return za.setStart(Ha.container,Ha.offset),za.setEnd(Fr.container,Fr.offset),za}).filter(function(Ha){return Ha.toString()===Hn}).orThunk(function(){return Po(ht,$t,fn,yr(Fr.container,0))})}})},eu=function(ht,$t,fn,Tn,Hn,Un){if(Un===void 0&&(Un=!1),$t.start.length===0&&!Un){var Fr=ht.createRng();return Fr.setStart(fn,Tn),Fr.setEnd(fn,Tn),qe.some(Fr)}return Mr(fn,Tn,Hn).bind(function(ea){var Oa=Po(ht,$t,Hn,ea);return Oa.bind(function(Ha){if(Un){if(Ha.endContainer===ea.container&&Ha.endOffset===ea.offset)return qe.none();if(ea.offset===0&&Ha.endContainer.textContent.length===Ha.endOffset)return qe.none()}return qe.some(Ha)})})},Fu=function(ht,$t,fn){var Tn=ht.dom,Hn=Tn.getRoot(),Un=fn.pattern,Fr=fn.position.container,ea=fn.position.offset;return hn(Fr,ea-fn.pattern.end.length,$t).bind(function(Oa){var Ha=sa(Hn,Oa.container,Oa.offset,Fr,ea);if($r(Un))return qe.some({matches:[{pattern:Un,startRng:Ha,endRng:Ha}],position:Oa});var za=iu(ht,fn.remainingPatterns,Oa.container,Oa.offset,$t),Qa=za.getOr({matches:[],position:Oa}),Do=Qa.position,si=eu(Tn,Un,Do.container,Do.offset,$t,za.isNone());return si.map(function(du){var ls=Ka(Hn,du);return{matches:Qa.matches.concat([{pattern:Un,startRng:ls,endRng:Ha}]),position:yr(du.startContainer,du.startOffset)}})})},iu=function(ht,$t,fn,Tn,Hn){var Un=ht.dom;return Mr(fn,Tn,Un.getRoot()).bind(function(Fr){var ea=Un.createRng();ea.setStart(Hn,0),ea.setEnd(fn,Tn);for(var Oa=ea.toString(),Ha=0;Ha<$t.length;Ha++){var za=$t[Ha];if(wi(Oa,za.end)){var Qa=$t.slice();Qa.splice(Ha,1);var Do=Fu(ht,Hn,{pattern:za,remainingPatterns:Qa,position:Fr});if(Do.isSome())return Do}}return qe.none()})},Su=function(ht,$t,fn){ht.selection.setRng(fn),$t.type==="inline-format"?mt($t.format,function(Tn){ht.formatter.apply(Tn)}):ht.execCommand($t.cmd,!1,$t.value)},ju=function(ht,$t,fn,Tn){var Hn=fo(ht.dom,fn);zn(ht.dom,Hn,Tn),Su(ht,$t,Hn)},ks=function(ht,$t,fn,Tn,Hn){var Un=ht.dom,Fr=fo(Un,Tn),ea=fo(Un,fn);zn(Un,ea,Hn),zn(Un,Fr,Hn);var Oa={prefix:fn.prefix,start:fn.end,end:Tn.start},Ha=fo(Un,Oa);Su(ht,$t,Ha)},Gt=function(ht,$t){var fn=ou("mce_textpattern"),Tn=st($t,function(Hn,Un){var Fr=Hi(ht,fn+("_end"+Hn.length),Un.endRng);return Hn.concat([C(C({},Un),{endMarker:Fr})])},[]);return st(Tn,function(Hn,Un){var Fr=Tn.length-Hn.length-1,ea=$r(Un.pattern)?Un.endMarker:Hi(ht,fn+("_start"+Fr),Un.startRng);return Hn.concat([C(C({},Un),{startMarker:ea})])},[])},Mn=function(ht,$t,fn){var Tn=ht.selection.getRng();return Tn.collapsed===!1?[]:Cr(ht,Tn).bind(function(Hn){var Un=Tn.startOffset-(fn?1:0);return iu(ht,$t,Tn.startContainer,Un,Hn)}).fold(function(){return[]},function(Hn){return Hn.matches})},on=function(ht,$t){if($t.length!==0){var fn=ht.dom,Tn=ht.selection.getBookmark(),Hn=Gt(fn,$t);mt(Hn,function(Un){var Fr=fn.getParent(Un.startMarker.start,fn.isBlock),ea=function(Oa){return Oa===Fr};$r(Un.pattern)?ju(ht,Un.pattern,Un.endMarker,ea):ks(ht,Un.pattern,Un.startMarker,Un.endMarker,ea),ga(fn,Un.endMarker,ea),ga(fn,Un.startMarker,ea)}),ht.selection.moveToBookmark(Tn)}},Wn=function(ht,$t){if(!ht.selection.isCollapsed())return!1;var fn=Mn(ht,$t.inlinePatterns,!1),Tn=wo(ht,$t.blockPatterns);return Tn.length>0||fn.length>0?(ht.undoManager.add(),ht.undoManager.extra(function(){ht.execCommand("mceInsertNewLine")},function(){ht.insertContent(la,{preserve_zwsp:!0}),on(ht,fn),mi(ht,Tn);var Hn=ht.selection.getRng(),Un=Mr(Hn.startContainer,Hn.startOffset,ht.dom.getRoot());ht.execCommand("mceInsertNewLine"),Un.each(function(Fr){var ea=Fr.container;ea.data.charAt(Fr.offset-1)===la&&(ea.deleteData(Fr.offset-1,1),Pn(ht.dom,ea.parentNode,function(Oa){return Oa===ht.dom.getRoot()}))})}),!0):!1},zr=function(ht,$t){var fn=Mn(ht,$t.inlinePatterns,!0);fn.length>0&&ht.undoManager.transact(function(){on(ht,fn)})},oa=function(ht,$t,fn){for(var Tn=0;Tn<ht.length;Tn++)if(fn(ht[Tn],$t))return!0;return!1},Xt=function(ht,$t){return oa(ht,$t,function(fn,Tn){return fn===Tn.keyCode&&Br.modifierPressed(Tn)===!1})},dn=function(ht,$t){return oa(ht,$t,function(fn,Tn){return fn.charCodeAt(0)===Tn.charCode})},Yn=function(ht,$t){var fn=[",",".",";",":","!","?"],Tn=[32];ht.on("keydown",function(Hn){Hn.keyCode===13&&!Br.modifierPressed(Hn)&&Wn(ht,$t.get())&&Hn.preventDefault()},!0),ht.on("keyup",function(Hn){Xt(Tn,Hn)&&zr(ht,$t.get())}),ht.on("keypress",function(Hn){dn(fn,Hn)&&Vn.setEditorTimeout(ht,function(){zr(ht,$t.get())})})};function sr(){w.add("textpattern",function(ht){var $t=g(Rn(ht));return Yn(ht,$t),Ft($t)})}sr()})();(function(){var g=function(nt){var A=nt,Te=function(){return A},et=function(Qe){A=Qe};return{get:Te,set:et}},w=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(nt,A){nt.fire("VisualBlocks",{state:A})},x=function(nt,A,Te){var et=nt.dom;et.toggleClass(nt.getBody(),"mce-visualblocks"),Te.set(!Te.get()),C(nt,Te.get())},He=function(nt,A,Te){nt.addCommand("mceVisualBlocks",function(){x(nt,A,Te)})},Ge=function(nt){return nt.getParam("visualblocks_default_state",!1,"boolean")},Xe=function(nt,A,Te){nt.on("PreviewFormats AfterPreviewFormats",function(et){Te.get()&&nt.dom.toggleClass(nt.getBody(),"mce-visualblocks",et.type==="afterpreviewformats")}),nt.on("init",function(){Ge(nt)&&x(nt,A,Te)})},ze=function(nt,A){return function(Te){Te.setActive(A.get());var et=function(Qe){return Te.setActive(Qe.state)};return nt.on("VisualBlocks",et),function(){return nt.off("VisualBlocks",et)}}},We=function(nt,A){var Te=function(){return nt.execCommand("mceVisualBlocks")};nt.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:Te,onSetup:ze(nt,A)}),nt.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:Te,onSetup:ze(nt,A)})};function at(){w.add("visualblocks",function(nt,A){var Te=g(!1);He(nt,A,Te),We(nt,Te),Xe(nt,A,Te)})}at()})();(function(){var g=function(hn){var Qn=hn,jn=function(){return Qn},gr=function(sa){Qn=sa};return{get:jn,set:gr}},w=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(hn){var Qn=function(){return hn.get()};return{isEnabled:Qn}},x=function(hn,Qn){return hn.fire("VisualChars",{state:Qn})},He=function(hn){var Qn=typeof hn;return hn===null?"null":Qn==="object"&&(Array.prototype.isPrototypeOf(hn)||hn.constructor&&hn.constructor.name==="Array")?"array":Qn==="object"&&(String.prototype.isPrototypeOf(hn)||hn.constructor&&hn.constructor.name==="String")?"string":Qn},Ge=function(hn){return function(Qn){return He(Qn)===hn}},Xe=function(hn){return function(Qn){return typeof Qn===hn}},ze=Ge("string"),We=Xe("boolean"),at=Xe("number"),nt=function(){},A=function(hn){return function(){return hn}},Te=function(hn){return hn},et=A(!1),Qe=A(!0),$e=function(){return Ye},Ye=function(){var hn=function(gr){return gr()},Qn=Te,jn={fold:function(gr,sa){return gr()},isSome:et,isNone:Qe,getOr:Qn,getOrThunk:hn,getOrDie:function(gr){throw new Error(gr||"error: getOrDie called on none.")},getOrNull:A(null),getOrUndefined:A(void 0),or:Qn,orThunk:hn,map:$e,each:nt,bind:$e,exists:et,forall:Qe,filter:function(){return $e()},toArray:function(){return[]},toString:A("none()")};return jn}(),ut=function(hn){var Qn=A(hn),jn=function(){return sa},gr=function(Va){return Va(hn)},sa={fold:function(Va,_o){return _o(hn)},isSome:Qe,isNone:et,getOr:Qn,getOrThunk:Qn,getOrDie:Qn,getOrNull:Qn,getOrUndefined:Qn,or:jn,orThunk:jn,map:function(Va){return ut(Va(hn))},each:function(Va){Va(hn)},bind:gr,exists:gr,forall:gr,filter:function(Va){return Va(hn)?sa:Ye},toArray:function(){return[hn]},toString:function(){return"some("+hn+")"}};return sa},ct=function(hn){return hn==null?Ye:ut(hn)},qe={some:ut,none:$e,from:ct},lt=function(hn,Qn){for(var jn=hn.length,gr=new Array(jn),sa=0;sa<jn;sa++){var Va=hn[sa];gr[sa]=Qn(Va,sa)}return gr},Ue=function(hn,Qn){for(var jn=0,gr=hn.length;jn<gr;jn++){var sa=hn[jn];Qn(sa,jn)}},pt=function(hn,Qn){for(var jn=[],gr=0,sa=hn.length;gr<sa;gr++){var Va=hn[gr];Qn(Va,gr)&&jn.push(Va)}return jn},It=Object.keys,Tt=function(hn,Qn){for(var jn=It(hn),gr=0,sa=jn.length;gr<sa;gr++){var Va=jn[gr],_o=hn[Va];Qn(_o,Va)}};typeof window!="undefined"||Function("return this;")();var mt=3,vt=function(hn){return hn.dom.nodeType},Et=function(hn){return hn.dom.nodeValue},st=function(hn){return function(Qn){return vt(Qn)===hn}},At=st(mt),nn=function(hn,Qn,jn){if(ze(jn)||We(jn)||at(jn))hn.setAttribute(Qn,jn+"");else throw new Error("Attribute value was not simple")},wn=function(hn,Qn,jn){nn(hn.dom,Qn,jn)},Ht=function(hn,Qn){var jn=hn.dom.getAttribute(Qn);return jn===null?void 0:jn},Sn=function(hn,Qn){hn.dom.removeAttribute(Qn)},lr=function(hn,Qn){var jn=Ht(hn,Qn);return jn===void 0||jn===""?[]:jn.split(" ")},Ve=function(hn,Qn,jn){var gr=lr(hn,Qn),sa=gr.concat([jn]);return wn(hn,Qn,sa.join(" ")),!0},jt=function(hn,Qn,jn){var gr=pt(lr(hn,Qn),function(sa){return sa!==jn});return gr.length>0?wn(hn,Qn,gr.join(" ")):Sn(hn,Qn),!1},cn=function(hn){return hn.dom.classList!==void 0},yt=function(hn){return lr(hn,"class")},Mt=function(hn,Qn){return Ve(hn,"class",Qn)},Lt=function(hn,Qn){return jt(hn,"class",Qn)},qt=function(hn,Qn){cn(hn)?hn.dom.classList.add(Qn):Mt(hn,Qn)},an=function(hn){var Qn=cn(hn)?hn.dom.classList:yt(hn);Qn.length===0&&Sn(hn,"class")},ot=function(hn,Qn){if(cn(hn)){var jn=hn.dom.classList;jn.remove(Qn)}else Lt(hn,Qn);an(hn)},En=function(hn,Qn){var jn=Qn||document,gr=jn.createElement("div");if(gr.innerHTML=hn,!gr.hasChildNodes()||gr.childNodes.length>1)throw new Error("HTML must have a single root node");return vn(gr.childNodes[0])},Pt=function(hn,Qn){var jn=Qn||document,gr=jn.createElement(hn);return vn(gr)},xt=function(hn,Qn){var jn=Qn||document,gr=jn.createTextNode(hn);return vn(gr)},vn=function(hn){if(hn==null)throw new Error("Node cannot be null or undefined");return{dom:hn}},Ot=function(hn,Qn,jn){return qe.from(hn.dom.elementFromPoint(Qn,jn)).map(vn)},Zt={fromHtml:En,fromTag:Pt,fromText:xt,fromDom:vn,fromPoint:Ot},mn={" ":"nbsp","­":"shy"},ln=function(hn,Qn){var jn="";return Tt(hn,function(gr,sa){jn+=sa}),new RegExp("["+jn+"]",Qn?"g":"")},Ft=function(hn){var Qn="";return Tt(hn,function(jn){Qn&&(Qn+=","),Qn+="span.mce-"+jn}),Qn},bn=ln(mn),Kn=ln(mn,!0),Jt=Ft(mn),Rn="mce-nbsp",rr=function(hn){return'<span data-mce-bogus="1" class="mce-'+mn[hn]+'">'+hn+"</span>"},Vn=function(hn){var Qn=Et(hn);return At(hn)&&Qn!==void 0&&bn.test(Qn)},Br=function(hn,Qn){var jn=[],gr=hn.dom,sa=lt(gr.childNodes,Zt.fromDom);return Ue(sa,function(Va){Qn(Va)&&(jn=jn.concat([Va])),jn=jn.concat(Br(Va,Qn))}),jn},la=function(hn,Qn){for(;hn.parentNode;){if(hn.parentNode===Qn)return hn;hn=hn.parentNode}},fa=function(hn){return hn.replace(Kn,rr)},co=function(hn){return hn.nodeName.toLowerCase()==="span"&&hn.classList.contains("mce-nbsp-wrap")},Eo=function(hn,Qn){var jn=Br(Zt.fromDom(Qn),Vn);Ue(jn,function(gr){var sa=gr.dom.parentNode;if(co(sa))qt(Zt.fromDom(sa),Rn);else{for(var Va=fa(hn.dom.encode(Et(gr))),_o=hn.dom.create("div",null,Va),Ka=void 0;Ka=_o.lastChild;)hn.dom.insertAfter(Ka,gr.dom);hn.dom.remove(gr.dom)}})},hr=function(hn,Qn){var jn=hn.dom.select(Jt,Qn);Ue(jn,function(gr){co(gr)?ot(Zt.fromDom(gr),Rn):hn.dom.remove(gr,!0)})},yr=function(hn){var Qn=hn.getBody(),jn=hn.selection.getBookmark(),gr=la(hn.selection.getNode(),Qn);gr=gr!==void 0?gr:Qn,hr(hn,gr),Eo(hn,gr),hn.selection.moveToBookmark(jn)},mr=function(hn,Qn){x(hn,Qn.get());var jn=hn.getBody();Qn.get()===!0?Eo(hn,jn):hr(hn,jn)},Pn=function(hn,Qn){Qn.set(!Qn.get());var jn=hn.selection.getBookmark();mr(hn,Qn),hn.selection.moveToBookmark(jn)},zn=function(hn,Qn){hn.addCommand("mceVisualChars",function(){Pn(hn,Qn)})},kr=function(hn){return hn.getParam("visualchars_default_state",!1)},$r=function(hn){return hn.getParam("forced_root_block")!==!1},Cr=function(hn,Qn){hn.on("init",function(){mr(hn,Qn)})},Nn=tinymce.util.Tools.resolve("tinymce.util.Delay"),ir=function(hn,Qn){var jn=Nn.debounce(function(){yr(hn)},300);$r(hn)&&hn.on("keydown",function(gr){Qn.get()===!0&&(gr.keyCode===13?yr(hn):jn())}),hn.on("remove",jn.stop)},Ur=function(hn,Qn){return function(jn){jn.setActive(Qn.get());var gr=function(sa){return jn.setActive(sa.state)};return hn.on("VisualChars",gr),function(){return hn.off("VisualChars",gr)}}},Mr=function(hn,Qn){var jn=function(){return hn.execCommand("mceVisualChars")};hn.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:jn,onSetup:Ur(hn,Qn)}),hn.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:jn,onSetup:Ur(hn,Qn)})};function jr(){w.add("visualchars",function(hn){var Qn=g(kr(hn));return zn(hn,Qn),Mr(hn,Qn),ir(hn,Qn),Cr(hn,Qn),C(Qn)})}jr()})();(function(){var g=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(Ot){return Ot},C=function(){return C=Object.assign||function(Zt){for(var mn,ln=1,Ft=arguments.length;ln<Ft;ln++){mn=arguments[ln];for(var bn in mn)Object.prototype.hasOwnProperty.call(mn,bn)&&(Zt[bn]=mn[bn])}return Zt},C.apply(this,arguments)},x="\uFEFF",He=function(Ot){return Ot.replace(/\uFEFF/g,"")},Ge=function(Ot,Zt){for(var mn=Ot.length,ln=new Array(mn),Ft=0;Ft<mn;Ft++){var bn=Ot[Ft];ln[Ft]=Zt(bn,Ft)}return ln},Xe="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",ze={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:Xe},We={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},at=[new RegExp(ze.aletter),new RegExp(ze.midnumlet),new RegExp(ze.midletter),new RegExp(ze.midnum),new RegExp(ze.numeric),new RegExp(ze.cr),new RegExp(ze.lf),new RegExp(ze.newline),new RegExp(ze.extend),new RegExp(ze.format),new RegExp(ze.katakana),new RegExp(ze.extendnumlet),new RegExp("@")],nt="",A=new RegExp("^"+ze.punctuation+"$"),Te=/^\s+$/,et=at,Qe=We.OTHER,$e=function(Ot){for(var Zt=Qe,mn=et.length,ln=0;ln<mn;++ln){var Ft=et[ln];if(Ft&&Ft.test(Ot)){Zt=ln;break}}return Zt},Ye=function(Ot){var Zt={};return function(mn){if(Zt[mn])return Zt[mn];var ln=Ot(mn);return Zt[mn]=ln,ln}},ut=function(Ot){var Zt=Ye($e);return Ge(Ot,Zt)},ct=function(Ot,Zt){var mn=Ot[Zt],ln=Ot[Zt+1];if(Zt<0||Zt>Ot.length-1&&Zt!==0||mn===We.ALETTER&&ln===We.ALETTER)return!1;var Ft=Ot[Zt+2];if(mn===We.ALETTER&&(ln===We.MIDLETTER||ln===We.MIDNUMLET||ln===We.AT)&&Ft===We.ALETTER)return!1;var bn=Ot[Zt-1];return(mn===We.MIDLETTER||mn===We.MIDNUMLET||ln===We.AT)&&ln===We.ALETTER&&bn===We.ALETTER||(mn===We.NUMERIC||mn===We.ALETTER)&&(ln===We.NUMERIC||ln===We.ALETTER)||(mn===We.MIDNUM||mn===We.MIDNUMLET)&&ln===We.NUMERIC&&bn===We.NUMERIC||mn===We.NUMERIC&&(ln===We.MIDNUM||ln===We.MIDNUMLET)&&Ft===We.NUMERIC||mn===We.EXTEND||mn===We.FORMAT||bn===We.EXTEND||bn===We.FORMAT||ln===We.EXTEND||ln===We.FORMAT||mn===We.CR&&ln===We.LF?!1:mn===We.NEWLINE||mn===We.CR||mn===We.LF||ln===We.NEWLINE||ln===We.CR||ln===We.LF?!0:!(mn===We.KATAKANA&&ln===We.KATAKANA||ln===We.EXTENDNUMLET&&(mn===We.ALETTER||mn===We.NUMERIC||mn===We.KATAKANA||mn===We.EXTENDNUMLET)||mn===We.EXTENDNUMLET&&(ln===We.ALETTER||ln===We.NUMERIC||ln===We.KATAKANA)||mn===We.AT)},qe=nt,lt=Te,Ue=A,pt=function(Ot){return Ot==="http"||Ot==="https"},It=function(Ot,Zt){var mn;for(mn=Zt;mn<Ot.length&&!lt.test(Ot[mn]);mn++);return mn},Tt=function(Ot,Zt){var mn=It(Ot,Zt+1),ln=Ot.slice(Zt+1,mn).join(qe);return ln.substr(0,3)==="://"?mn:Zt},mt=function(Ot,Zt,mn,ln){for(var Ft=[],bn=[],Kn=0;Kn<mn.length;++Kn)if(bn.push(Ot[Kn]),ct(mn,Kn)){var Jt=Zt[Kn];if((ln.includeWhitespace||!lt.test(Jt))&&(ln.includePunctuation||!Ue.test(Jt))){var Rn=Kn-bn.length+1,rr=Kn+1,Vn=Zt.slice(Rn,rr).join(qe);if(pt(Vn)){var Br=Tt(Zt,Kn),la=Ot.slice(rr,Br);Array.prototype.push.apply(bn,la),Kn=Br}Ft.push(bn)}bn=[]}return Ft},vt=function(){return{includeWhitespace:!1,includePunctuation:!1}},Et=function(Ot,Zt,mn){mn=C(C({},vt()),mn);for(var ln=[],Ft=[],bn=0;bn<Ot.length;bn++){var Kn=Zt(Ot[bn]);Kn!==x&&(ln.push(Ot[bn]),Ft.push(Kn))}var Jt=ut(Ft);return mt(ln,Ft,Jt,mn)},st=Et,At=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),nn=function(Ot,Zt){for(var mn=Zt.getBlockElements(),ln=Zt.getShortEndedElements(),Ft=function(Rn){return mn[Rn.nodeName]||ln[Rn.nodeName]},bn=[],Kn="",Jt=new At(Ot,Ot);Ot=Jt.next();)Ot.nodeType===3?Kn+=He(Ot.data):Ft(Ot)&&Kn.length&&(bn.push(Kn),Kn="");return Kn.length&&bn.push(Kn),bn},wn=function(Ot){return Ot.replace(/\u200B/g,"")},Ht=function(Ot){return Ot.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},Sn=function(Ot,Zt){var mn=wn(nn(Ot,Zt).join(`
`));return st(mn.split(""),w).length},lr=function(Ot,Zt){var mn=nn(Ot,Zt).join("");return Ht(mn)},Ve=function(Ot,Zt){var mn=nn(Ot,Zt).join("").replace(/\s/g,"");return Ht(mn)},jt=function(Ot,Zt){return function(){return Zt(Ot.getBody(),Ot.schema)}},cn=function(Ot,Zt){return function(){return Zt(Ot.selection.getRng().cloneContents(),Ot.schema)}},yt=function(Ot){return jt(Ot,Sn)},Mt=function(Ot){return{body:{getWordCount:yt(Ot),getCharacterCount:jt(Ot,lr),getCharacterCountWithoutSpaces:jt(Ot,Ve)},selection:{getWordCount:cn(Ot,Sn),getCharacterCount:cn(Ot,lr),getCharacterCountWithoutSpaces:cn(Ot,Ve)},getCount:yt(Ot)}},Lt=function(Ot,Zt){Ot.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Zt.body.getWordCount()),String(Zt.selection.getWordCount())],["Characters (no spaces)",String(Zt.body.getCharacterCountWithoutSpaces()),String(Zt.selection.getCharacterCountWithoutSpaces())],["Characters",String(Zt.body.getCharacterCount()),String(Zt.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},qt=function(Ot,Zt){Ot.addCommand("mceWordCount",function(){return Lt(Ot,Zt)})},an=tinymce.util.Tools.resolve("tinymce.util.Delay"),ot=function(Ot,Zt){Ot.fire("wordCountUpdate",{wordCount:{words:Zt.body.getWordCount(),characters:Zt.body.getCharacterCount(),charactersWithoutSpaces:Zt.body.getCharacterCountWithoutSpaces()}})},En=function(Ot,Zt){ot(Ot,Zt)},Pt=function(Ot,Zt,mn){var ln=an.debounce(function(){return En(Ot,Zt)},mn);Ot.on("init",function(){En(Ot,Zt),an.setEditorTimeout(Ot,function(){Ot.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",ln)},0)})},xt=function(Ot){var Zt=function(){return Ot.execCommand("mceWordCount")};Ot.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Zt}),Ot.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Zt})};function vn(Ot){Ot===void 0&&(Ot=300),g.add("wordcount",function(Zt){var mn=Mt(Zt);return qt(Zt,mn),xt(Zt),Pt(Zt,mn,Ot),mn})}vn()})();const _sfc_main$7=defineComponent({name:"TinymceImageUpload",__name:"ImgUpload",props:ca({fullscreen:{type:Boolean},disabled:{type:Boolean,default:!1}},uploadContainerProps),emits:["uploading","done","error"],setup(g,{emit:w}){const C=g;function x(A){return ro(this,null,function*(){var et;const{api:Te}=C;if(!Te||!isFunction$1(Te))return warn();try{const Qe=yield(et=C.api)==null?void 0:et.call(C,{data:ca({},C.uploadParams||{}),file:A.file,name:C.name,filename:C.filename});A.onSuccess({data:Qe})}catch(Qe){A.onError(Qe)}})}const He=w;let Ge=!1;const{uploadUrl:Xe}=useGlobSetting(),{t:ze}=useI18n(),{prefixCls:We}=useDesign("tinymce-img-upload"),at=computed(()=>{const{disabled:A}=C;return{disabled:A}});function nt(A){var Ye;const Te=A.file,et=Te==null?void 0:Te.status,Qe=(Ye=Te==null?void 0:Te.response)==null?void 0:Ye.data,$e=Te==null?void 0:Te.name;et==="uploading"?Ge||(He("uploading",$e),Ge=!0):et==="done"?(He("done",$e,Qe),Ge=!1):et==="error"&&(He("error"),Ge=!1)}return(A,Te)=>{const et=resolveComponent("a-button");return openBlock(),createElementBlock("div",{class:normalizeClass([unref(We),{fullscreen:g.fullscreen}])},[createVNode(unref(Upload),{name:"file",onChange:nt,action:unref(Xe),showUploadList:!1,accept:".jpg,.jpeg,.gif,.png,.webp","custom-request":x},{default:withCtx(()=>[createVNode(et,mergeProps({type:"primary"},ca({},at.value)),{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ze)("component.upload.imgUpload")),1)]),_:1},16)]),_:1},8,["action"])],2)}}}),ImgUpload=_export_sfc(_sfc_main$7,[["__scopeId","data-v-be02c210"]]),plugins=["advlist anchor autolink autosave code codesample  directionality  fullscreen hr insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus  template  textpattern visualblocks visualchars wordcount"],toolbar=["fontsizeselect lineheight searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link  preview anchor pagebreak insertdatetime media  forecolor backcolor fullscreen"],validEvents=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],isValidKey=g=>validEvents.indexOf(g)!==-1,bindHandlers=(g,w,C)=>{Object.keys(w).filter(isValidKey).forEach(x=>{const He=w[x];typeof He=="function"&&(x==="onInit"?He(g,C):C.on(x.substring(2),Ge=>He(Ge,C)))})};var define_import_meta_env_default={VITE_GLOB_APP_TITLE:"MJ管理后台",VITE_USE_MOCK:"false",VITE_BUILD_COMPRESS:"none",VITE_GLOB_API_URL:"https://admin.mjczy.top",VITE_GLOB_UPLOAD_URL:"/upload",VITE_GLOB_API_URL_PREFIX:"",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const _hoisted_1$3=["id"],_sfc_main$6=defineComponent({name:"Tinymce",inheritAttrs:!1,__name:"Editor",props:{options:{type:Object,default:()=>({})},value:{type:String},toolbar:{type:Array,default:toolbar},plugins:{type:Array,default:plugins},modelValue:{type:String},height:{type:[Number,String],required:!1,default:400},width:{type:[Number,String],required:!1,default:"auto"},showImageUpload:{type:Boolean,default:!0}},emits:["change","update:modelValue","inited","init-error"],setup(g,{emit:w}){const C=g,x=w,He=useAttrs$1(),Ge=ref(null),Xe=ref(!1),ze=ref(buildShortUUID("tiny-vue")),We=ref(null),{prefixCls:at}=useDesign("tinymce-container"),nt=useAppStore(),A=computed(()=>{const Tt=C.width;return isNumber$1(Tt)?`${Tt}px`:Tt}),Te=computed(()=>nt.getDarkMode==="light"?"oxide":"oxide-dark"),et=computed(()=>{const Tt=useLocale().getLocale.value;return["zh_CN","en"].includes(Tt)?Tt:"zh_CN"}),Qe=computed(()=>{const{height:Tt,options:mt,toolbar:vt,plugins:Et}=C,st=define_import_meta_env_default.VITE_PUBLIC_PATH||"";return Pu(ca({selector:`#${unref(ze)}`,height:Tt,toolbar:vt,menubar:"file edit insert view format table",plugins:Et,language_url:st+"/resource/tinymce/langs/"+et.value+".js",language:et.value,branding:!1,default_link_target:"_blank",link_title:!1,object_resizing:!1,auto_focus:!0,skin:Te.value,skin_url:st+"/resource/tinymce/skins/ui/"+Te.value,content_css:st+"/resource/tinymce/skins/ui/"+Te.value+"/content.min.css"},mt),{setup:At=>{Ge.value=At,At.on("init",nn=>ct(nn))}})}),$e=computed(()=>{const{options:Tt}=C,mt=Tt&&Reflect.get(Tt,"readonly"),vt=unref(Ge);return vt&&vt.setMode(mt?"readonly":"design"),mt!=null?mt:!1});watch(()=>He.disabled,()=>{const Tt=unref(Ge);Tt&&Tt.setMode(He.disabled?"readonly":"design")}),onMountedOrActivated(()=>{Qe.value.inline||(ze.value=buildShortUUID("tiny-vue")),nextTick(()=>{setTimeout(()=>{ut()},30)})}),onBeforeUnmount(()=>{Ye()}),onDeactivated(()=>{Ye()});function Ye(){var Tt;tinymce$1!==null&&((Tt=tinymce$1==null?void 0:tinymce$1.remove)==null||Tt.call(tinymce$1,unref(Qe).selector))}function ut(){const Tt=unref(We);Tt&&(Tt.style.visibility=""),tinymce$1.init(unref(Qe)).then(mt=>{x("inited",mt)}).catch(mt=>{x("init-error",mt)})}function ct(Tt){const mt=unref(Ge);if(!mt)return;const vt=C.modelValue||"";mt.setContent(vt),lt(mt),bindHandlers(Tt,He,unref(Ge))}function qe(Tt,mt,vt){Tt&&typeof mt=="string"&&mt!==vt&&mt!==Tt.getContent({format:He.outputFormat})&&Tt.setContent(mt)}function lt(Tt){const mt=He.modelEvents?He.modelEvents:null,vt=Array.isArray(mt)?mt.join(" "):mt;watch(()=>C.modelValue,(Et,st)=>{qe(Tt,Et,st)}),watch(()=>C.value,(Et,st)=>{qe(Tt,Et,st)},{immediate:!0}),Tt.on(vt||"change keyup undo redo",()=>{const Et=Tt.getContent({format:He.outputFormat});x("update:modelValue",Et),x("change",Et)}),Tt.on("FullscreenStateChanged",Et=>{Xe.value=Et.state})}function Ue(Tt){var Et;const mt=unref(Ge);if(!mt)return;mt.execCommand("mceInsertContent",!1,It(Tt));const vt=(Et=mt==null?void 0:mt.getContent())!=null?Et:"";qe(mt,vt)}function pt(Tt,mt){var At,nn;const vt=unref(Ge);if(!vt)return;const Et=(At=vt==null?void 0:vt.getContent())!=null?At:"",st=(nn=Et==null?void 0:Et.replace(It(Tt),`<img src="${mt}" style="max-width: 80%"/>`))!=null?nn:"";qe(vt,st)}function It(Tt){return`[uploading:${Tt}]`}return(Tt,mt)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(at)),style:normalizeStyle({width:A.value})},[g.showImageUpload?withDirectives((openBlock(),createBlock(ImgUpload,{key:0,fullscreen:Xe.value,onUploading:Ue,onDone:pt,disabled:$e.value,api:unref(uploadApi)},null,8,["fullscreen","disabled","api"])),[[vShow,Ge.value]]):createCommentVNode("",!0),Qe.value.inline?renderSlot(Tt.$slots,"default",{key:2}):(openBlock(),createElementBlock("textarea",{key:1,id:ze.value,ref_key:"elRef",ref:We,style:{visibility:"hidden"}},null,8,_hoisted_1$3))],6))}}),Tinymce=withInstall(_sfc_main$6);var dist={exports:{}};/*!
 * Vditor v3.10.8 - A markdown editor written in TypeScript.
 *
 * MIT License
 *
 * Copyright (c) 2018-present B3log 开源, b3log.org
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */(function(g,w){(function(x,He){g.exports=He()})(commonjsGlobal,()=>(()=>{var C={192:Xe=>{var ze=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},We=-1,at=1,nt=0;ze.Diff=function(A,Te){return[A,Te]},ze.prototype.diff_main=function(A,Te,et,Qe){typeof Qe=="undefined"&&(this.Diff_Timeout<=0?Qe=Number.MAX_VALUE:Qe=new Date().getTime()+this.Diff_Timeout*1e3);var $e=Qe;if(A==null||Te==null)throw new Error("Null input. (diff_main)");if(A==Te)return A?[new ze.Diff(nt,A)]:[];typeof et=="undefined"&&(et=!0);var Ye=et,ut=this.diff_commonPrefix(A,Te),ct=A.substring(0,ut);A=A.substring(ut),Te=Te.substring(ut),ut=this.diff_commonSuffix(A,Te);var qe=A.substring(A.length-ut);A=A.substring(0,A.length-ut),Te=Te.substring(0,Te.length-ut);var lt=this.diff_compute_(A,Te,Ye,$e);return ct&&lt.unshift(new ze.Diff(nt,ct)),qe&&lt.push(new ze.Diff(nt,qe)),this.diff_cleanupMerge(lt),lt},ze.prototype.diff_compute_=function(A,Te,et,Qe){var $e;if(!A)return[new ze.Diff(at,Te)];if(!Te)return[new ze.Diff(We,A)];var Ye=A.length>Te.length?A:Te,ut=A.length>Te.length?Te:A,ct=Ye.indexOf(ut);if(ct!=-1)return $e=[new ze.Diff(at,Ye.substring(0,ct)),new ze.Diff(nt,ut),new ze.Diff(at,Ye.substring(ct+ut.length))],A.length>Te.length&&($e[0][0]=$e[2][0]=We),$e;if(ut.length==1)return[new ze.Diff(We,A),new ze.Diff(at,Te)];var qe=this.diff_halfMatch_(A,Te);if(qe){var lt=qe[0],Ue=qe[1],pt=qe[2],It=qe[3],Tt=qe[4],mt=this.diff_main(lt,pt,et,Qe),vt=this.diff_main(Ue,It,et,Qe);return mt.concat([new ze.Diff(nt,Tt)],vt)}return et&&A.length>100&&Te.length>100?this.diff_lineMode_(A,Te,Qe):this.diff_bisect_(A,Te,Qe)},ze.prototype.diff_lineMode_=function(A,Te,et){var Qe=this.diff_linesToChars_(A,Te);A=Qe.chars1,Te=Qe.chars2;var $e=Qe.lineArray,Ye=this.diff_main(A,Te,!1,et);this.diff_charsToLines_(Ye,$e),this.diff_cleanupSemantic(Ye),Ye.push(new ze.Diff(nt,""));for(var ut=0,ct=0,qe=0,lt="",Ue="";ut<Ye.length;){switch(Ye[ut][0]){case at:qe++,Ue+=Ye[ut][1];break;case We:ct++,lt+=Ye[ut][1];break;case nt:if(ct>=1&&qe>=1){Ye.splice(ut-ct-qe,ct+qe),ut=ut-ct-qe;for(var pt=this.diff_main(lt,Ue,!1,et),It=pt.length-1;It>=0;It--)Ye.splice(ut,0,pt[It]);ut=ut+pt.length}qe=0,ct=0,lt="",Ue="";break}ut++}return Ye.pop(),Ye},ze.prototype.diff_bisect_=function(A,Te,et){for(var Qe=A.length,$e=Te.length,Ye=Math.ceil((Qe+$e)/2),ut=Ye,ct=2*Ye,qe=new Array(ct),lt=new Array(ct),Ue=0;Ue<ct;Ue++)qe[Ue]=-1,lt[Ue]=-1;qe[ut+1]=0,lt[ut+1]=0;for(var pt=Qe-$e,It=pt%2!=0,Tt=0,mt=0,vt=0,Et=0,st=0;st<Ye&&!(new Date().getTime()>et);st++){for(var At=-st+Tt;At<=st-mt;At+=2){var nn=ut+At,wn;At==-st||At!=st&&qe[nn-1]<qe[nn+1]?wn=qe[nn+1]:wn=qe[nn-1]+1;for(var Ht=wn-At;wn<Qe&&Ht<$e&&A.charAt(wn)==Te.charAt(Ht);)wn++,Ht++;if(qe[nn]=wn,wn>Qe)mt+=2;else if(Ht>$e)Tt+=2;else if(It){var Sn=ut+pt-At;if(Sn>=0&&Sn<ct&&lt[Sn]!=-1){var lr=Qe-lt[Sn];if(wn>=lr)return this.diff_bisectSplit_(A,Te,wn,Ht,et)}}}for(var Ve=-st+vt;Ve<=st-Et;Ve+=2){var Sn=ut+Ve,lr;Ve==-st||Ve!=st&&lt[Sn-1]<lt[Sn+1]?lr=lt[Sn+1]:lr=lt[Sn-1]+1;for(var jt=lr-Ve;lr<Qe&&jt<$e&&A.charAt(Qe-lr-1)==Te.charAt($e-jt-1);)lr++,jt++;if(lt[Sn]=lr,lr>Qe)Et+=2;else if(jt>$e)vt+=2;else if(!It){var nn=ut+pt-Ve;if(nn>=0&&nn<ct&&qe[nn]!=-1){var wn=qe[nn],Ht=ut+wn-nn;if(lr=Qe-lr,wn>=lr)return this.diff_bisectSplit_(A,Te,wn,Ht,et)}}}}return[new ze.Diff(We,A),new ze.Diff(at,Te)]},ze.prototype.diff_bisectSplit_=function(A,Te,et,Qe,$e){var Ye=A.substring(0,et),ut=Te.substring(0,Qe),ct=A.substring(et),qe=Te.substring(Qe),lt=this.diff_main(Ye,ut,!1,$e),Ue=this.diff_main(ct,qe,!1,$e);return lt.concat(Ue)},ze.prototype.diff_linesToChars_=function(A,Te){var et=[],Qe={};et[0]="";function $e(qe){for(var lt="",Ue=0,pt=-1,It=et.length;pt<qe.length-1;){pt=qe.indexOf(`
`,Ue),pt==-1&&(pt=qe.length-1);var Tt=qe.substring(Ue,pt+1);(Qe.hasOwnProperty?Qe.hasOwnProperty(Tt):Qe[Tt]!==void 0)?lt+=String.fromCharCode(Qe[Tt]):(It==Ye&&(Tt=qe.substring(Ue),pt=qe.length),lt+=String.fromCharCode(It),Qe[Tt]=It,et[It++]=Tt),Ue=pt+1}return lt}var Ye=4e4,ut=$e(A);Ye=65535;var ct=$e(Te);return{chars1:ut,chars2:ct,lineArray:et}},ze.prototype.diff_charsToLines_=function(A,Te){for(var et=0;et<A.length;et++){for(var Qe=A[et][1],$e=[],Ye=0;Ye<Qe.length;Ye++)$e[Ye]=Te[Qe.charCodeAt(Ye)];A[et][1]=$e.join("")}},ze.prototype.diff_commonPrefix=function(A,Te){if(!A||!Te||A.charAt(0)!=Te.charAt(0))return 0;for(var et=0,Qe=Math.min(A.length,Te.length),$e=Qe,Ye=0;et<$e;)A.substring(Ye,$e)==Te.substring(Ye,$e)?(et=$e,Ye=et):Qe=$e,$e=Math.floor((Qe-et)/2+et);return $e},ze.prototype.diff_commonSuffix=function(A,Te){if(!A||!Te||A.charAt(A.length-1)!=Te.charAt(Te.length-1))return 0;for(var et=0,Qe=Math.min(A.length,Te.length),$e=Qe,Ye=0;et<$e;)A.substring(A.length-$e,A.length-Ye)==Te.substring(Te.length-$e,Te.length-Ye)?(et=$e,Ye=et):Qe=$e,$e=Math.floor((Qe-et)/2+et);return $e},ze.prototype.diff_commonOverlap_=function(A,Te){var et=A.length,Qe=Te.length;if(et==0||Qe==0)return 0;et>Qe?A=A.substring(et-Qe):et<Qe&&(Te=Te.substring(0,et));var $e=Math.min(et,Qe);if(A==Te)return $e;for(var Ye=0,ut=1;;){var ct=A.substring($e-ut),qe=Te.indexOf(ct);if(qe==-1)return Ye;ut+=qe,(qe==0||A.substring($e-ut)==Te.substring(0,ut))&&(Ye=ut,ut++)}},ze.prototype.diff_halfMatch_=function(A,Te){if(this.Diff_Timeout<=0)return null;var et=A.length>Te.length?A:Te,Qe=A.length>Te.length?Te:A;if(et.length<4||Qe.length*2<et.length)return null;var $e=this;function Ye(mt,vt,Et){for(var st=mt.substring(Et,Et+Math.floor(mt.length/4)),At=-1,nn="",wn,Ht,Sn,lr;(At=vt.indexOf(st,At+1))!=-1;){var Ve=$e.diff_commonPrefix(mt.substring(Et),vt.substring(At)),jt=$e.diff_commonSuffix(mt.substring(0,Et),vt.substring(0,At));nn.length<jt+Ve&&(nn=vt.substring(At-jt,At)+vt.substring(At,At+Ve),wn=mt.substring(0,Et-jt),Ht=mt.substring(Et+Ve),Sn=vt.substring(0,At-jt),lr=vt.substring(At+Ve))}return nn.length*2>=mt.length?[wn,Ht,Sn,lr,nn]:null}var ut=Ye(et,Qe,Math.ceil(et.length/4)),ct=Ye(et,Qe,Math.ceil(et.length/2)),qe;if(!ut&&!ct)return null;ct?ut?qe=ut[4].length>ct[4].length?ut:ct:qe=ct:qe=ut;var lt,Ue,pt,It;A.length>Te.length?(lt=qe[0],Ue=qe[1],pt=qe[2],It=qe[3]):(pt=qe[0],It=qe[1],lt=qe[2],Ue=qe[3]);var Tt=qe[4];return[lt,Ue,pt,It,Tt]},ze.prototype.diff_cleanupSemantic=function(A){for(var Te=!1,et=[],Qe=0,$e=null,Ye=0,ut=0,ct=0,qe=0,lt=0;Ye<A.length;)A[Ye][0]==nt?(et[Qe++]=Ye,ut=qe,ct=lt,qe=0,lt=0,$e=A[Ye][1]):(A[Ye][0]==at?qe+=A[Ye][1].length:lt+=A[Ye][1].length,$e&&$e.length<=Math.max(ut,ct)&&$e.length<=Math.max(qe,lt)&&(A.splice(et[Qe-1],0,new ze.Diff(We,$e)),A[et[Qe-1]+1][0]=at,Qe--,Qe--,Ye=Qe>0?et[Qe-1]:-1,ut=0,ct=0,qe=0,lt=0,$e=null,Te=!0)),Ye++;for(Te&&this.diff_cleanupMerge(A),this.diff_cleanupSemanticLossless(A),Ye=1;Ye<A.length;){if(A[Ye-1][0]==We&&A[Ye][0]==at){var Ue=A[Ye-1][1],pt=A[Ye][1],It=this.diff_commonOverlap_(Ue,pt),Tt=this.diff_commonOverlap_(pt,Ue);It>=Tt?(It>=Ue.length/2||It>=pt.length/2)&&(A.splice(Ye,0,new ze.Diff(nt,pt.substring(0,It))),A[Ye-1][1]=Ue.substring(0,Ue.length-It),A[Ye+1][1]=pt.substring(It),Ye++):(Tt>=Ue.length/2||Tt>=pt.length/2)&&(A.splice(Ye,0,new ze.Diff(nt,Ue.substring(0,Tt))),A[Ye-1][0]=at,A[Ye-1][1]=pt.substring(0,pt.length-Tt),A[Ye+1][0]=We,A[Ye+1][1]=Ue.substring(Tt),Ye++),Ye++}Ye++}},ze.prototype.diff_cleanupSemanticLossless=function(A){function Te(Tt,mt){if(!Tt||!mt)return 6;var vt=Tt.charAt(Tt.length-1),Et=mt.charAt(0),st=vt.match(ze.nonAlphaNumericRegex_),At=Et.match(ze.nonAlphaNumericRegex_),nn=st&&vt.match(ze.whitespaceRegex_),wn=At&&Et.match(ze.whitespaceRegex_),Ht=nn&&vt.match(ze.linebreakRegex_),Sn=wn&&Et.match(ze.linebreakRegex_),lr=Ht&&Tt.match(ze.blanklineEndRegex_),Ve=Sn&&mt.match(ze.blanklineStartRegex_);return lr||Ve?5:Ht||Sn?4:st&&!nn&&wn?3:nn||wn?2:st||At?1:0}for(var et=1;et<A.length-1;){if(A[et-1][0]==nt&&A[et+1][0]==nt){var Qe=A[et-1][1],$e=A[et][1],Ye=A[et+1][1],ut=this.diff_commonSuffix(Qe,$e);if(ut){var ct=$e.substring($e.length-ut);Qe=Qe.substring(0,Qe.length-ut),$e=ct+$e.substring(0,$e.length-ut),Ye=ct+Ye}for(var qe=Qe,lt=$e,Ue=Ye,pt=Te(Qe,$e)+Te($e,Ye);$e.charAt(0)===Ye.charAt(0);){Qe+=$e.charAt(0),$e=$e.substring(1)+Ye.charAt(0),Ye=Ye.substring(1);var It=Te(Qe,$e)+Te($e,Ye);It>=pt&&(pt=It,qe=Qe,lt=$e,Ue=Ye)}A[et-1][1]!=qe&&(qe?A[et-1][1]=qe:(A.splice(et-1,1),et--),A[et][1]=lt,Ue?A[et+1][1]=Ue:(A.splice(et+1,1),et--))}et++}},ze.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,ze.whitespaceRegex_=/\s/,ze.linebreakRegex_=/[\r\n]/,ze.blanklineEndRegex_=/\n\r?\n$/,ze.blanklineStartRegex_=/^\r?\n\r?\n/,ze.prototype.diff_cleanupEfficiency=function(A){for(var Te=!1,et=[],Qe=0,$e=null,Ye=0,ut=!1,ct=!1,qe=!1,lt=!1;Ye<A.length;)A[Ye][0]==nt?(A[Ye][1].length<this.Diff_EditCost&&(qe||lt)?(et[Qe++]=Ye,ut=qe,ct=lt,$e=A[Ye][1]):(Qe=0,$e=null),qe=lt=!1):(A[Ye][0]==We?lt=!0:qe=!0,$e&&(ut&&ct&&qe&&lt||$e.length<this.Diff_EditCost/2&&ut+ct+qe+lt==3)&&(A.splice(et[Qe-1],0,new ze.Diff(We,$e)),A[et[Qe-1]+1][0]=at,Qe--,$e=null,ut&&ct?(qe=lt=!0,Qe=0):(Qe--,Ye=Qe>0?et[Qe-1]:-1,qe=lt=!1),Te=!0)),Ye++;Te&&this.diff_cleanupMerge(A)},ze.prototype.diff_cleanupMerge=function(A){A.push(new ze.Diff(nt,""));for(var Te=0,et=0,Qe=0,$e="",Ye="",ut;Te<A.length;)switch(A[Te][0]){case at:Qe++,Ye+=A[Te][1],Te++;break;case We:et++,$e+=A[Te][1],Te++;break;case nt:et+Qe>1?(et!==0&&Qe!==0&&(ut=this.diff_commonPrefix(Ye,$e),ut!==0&&(Te-et-Qe>0&&A[Te-et-Qe-1][0]==nt?A[Te-et-Qe-1][1]+=Ye.substring(0,ut):(A.splice(0,0,new ze.Diff(nt,Ye.substring(0,ut))),Te++),Ye=Ye.substring(ut),$e=$e.substring(ut)),ut=this.diff_commonSuffix(Ye,$e),ut!==0&&(A[Te][1]=Ye.substring(Ye.length-ut)+A[Te][1],Ye=Ye.substring(0,Ye.length-ut),$e=$e.substring(0,$e.length-ut))),Te-=et+Qe,A.splice(Te,et+Qe),$e.length&&(A.splice(Te,0,new ze.Diff(We,$e)),Te++),Ye.length&&(A.splice(Te,0,new ze.Diff(at,Ye)),Te++),Te++):Te!==0&&A[Te-1][0]==nt?(A[Te-1][1]+=A[Te][1],A.splice(Te,1)):Te++,Qe=0,et=0,$e="",Ye="";break}A[A.length-1][1]===""&&A.pop();var ct=!1;for(Te=1;Te<A.length-1;)A[Te-1][0]==nt&&A[Te+1][0]==nt&&(A[Te][1].substring(A[Te][1].length-A[Te-1][1].length)==A[Te-1][1]?(A[Te][1]=A[Te-1][1]+A[Te][1].substring(0,A[Te][1].length-A[Te-1][1].length),A[Te+1][1]=A[Te-1][1]+A[Te+1][1],A.splice(Te-1,1),ct=!0):A[Te][1].substring(0,A[Te+1][1].length)==A[Te+1][1]&&(A[Te-1][1]+=A[Te+1][1],A[Te][1]=A[Te][1].substring(A[Te+1][1].length)+A[Te+1][1],A.splice(Te+1,1),ct=!0)),Te++;ct&&this.diff_cleanupMerge(A)},ze.prototype.diff_xIndex=function(A,Te){var et=0,Qe=0,$e=0,Ye=0,ut;for(ut=0;ut<A.length&&(A[ut][0]!==at&&(et+=A[ut][1].length),A[ut][0]!==We&&(Qe+=A[ut][1].length),!(et>Te));ut++)$e=et,Ye=Qe;return A.length!=ut&&A[ut][0]===We?Ye:Ye+(Te-$e)},ze.prototype.diff_prettyHtml=function(A){for(var Te=[],et=/&/g,Qe=/</g,$e=/>/g,Ye=/\n/g,ut=0;ut<A.length;ut++){var ct=A[ut][0],qe=A[ut][1],lt=qe.replace(et,"&amp;").replace(Qe,"&lt;").replace($e,"&gt;").replace(Ye,"&para;<br>");switch(ct){case at:Te[ut]='<ins style="background:#e6ffe6;">'+lt+"</ins>";break;case We:Te[ut]='<del style="background:#ffe6e6;">'+lt+"</del>";break;case nt:Te[ut]="<span>"+lt+"</span>";break}}return Te.join("")},ze.prototype.diff_text1=function(A){for(var Te=[],et=0;et<A.length;et++)A[et][0]!==at&&(Te[et]=A[et][1]);return Te.join("")},ze.prototype.diff_text2=function(A){for(var Te=[],et=0;et<A.length;et++)A[et][0]!==We&&(Te[et]=A[et][1]);return Te.join("")},ze.prototype.diff_levenshtein=function(A){for(var Te=0,et=0,Qe=0,$e=0;$e<A.length;$e++){var Ye=A[$e][0],ut=A[$e][1];switch(Ye){case at:et+=ut.length;break;case We:Qe+=ut.length;break;case nt:Te+=Math.max(et,Qe),et=0,Qe=0;break}}return Te+=Math.max(et,Qe),Te},ze.prototype.diff_toDelta=function(A){for(var Te=[],et=0;et<A.length;et++)switch(A[et][0]){case at:Te[et]="+"+encodeURI(A[et][1]);break;case We:Te[et]="-"+A[et][1].length;break;case nt:Te[et]="="+A[et][1].length;break}return Te.join("	").replace(/%20/g," ")},ze.prototype.diff_fromDelta=function(A,Te){for(var et=[],Qe=0,$e=0,Ye=Te.split(/\t/g),ut=0;ut<Ye.length;ut++){var ct=Ye[ut].substring(1);switch(Ye[ut].charAt(0)){case"+":try{et[Qe++]=new ze.Diff(at,decodeURI(ct))}catch(Ue){throw new Error("Illegal escape in diff_fromDelta: "+ct)}break;case"-":case"=":var qe=parseInt(ct,10);if(isNaN(qe)||qe<0)throw new Error("Invalid number in diff_fromDelta: "+ct);var lt=A.substring($e,$e+=qe);Ye[ut].charAt(0)=="="?et[Qe++]=new ze.Diff(nt,lt):et[Qe++]=new ze.Diff(We,lt);break;default:if(Ye[ut])throw new Error("Invalid diff operation in diff_fromDelta: "+Ye[ut])}}if($e!=A.length)throw new Error("Delta length ("+$e+") does not equal source text length ("+A.length+").");return et},ze.prototype.match_main=function(A,Te,et){if(A==null||Te==null||et==null)throw new Error("Null input. (match_main)");return et=Math.max(0,Math.min(et,A.length)),A==Te?0:A.length?A.substring(et,et+Te.length)==Te?et:this.match_bitap_(A,Te,et):-1},ze.prototype.match_bitap_=function(A,Te,et){if(Te.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var Qe=this.match_alphabet_(Te),$e=this;function Ye(wn,Ht){var Sn=wn/Te.length,lr=Math.abs(et-Ht);return $e.Match_Distance?Sn+lr/$e.Match_Distance:lr?1:Sn}var ut=this.Match_Threshold,ct=A.indexOf(Te,et);ct!=-1&&(ut=Math.min(Ye(0,ct),ut),ct=A.lastIndexOf(Te,et+Te.length),ct!=-1&&(ut=Math.min(Ye(0,ct),ut)));var qe=1<<Te.length-1;ct=-1;for(var lt,Ue,pt=Te.length+A.length,It,Tt=0;Tt<Te.length;Tt++){for(lt=0,Ue=pt;lt<Ue;)Ye(Tt,et+Ue)<=ut?lt=Ue:pt=Ue,Ue=Math.floor((pt-lt)/2+lt);pt=Ue;var mt=Math.max(1,et-Ue+1),vt=Math.min(et+Ue,A.length)+Te.length,Et=Array(vt+2);Et[vt+1]=(1<<Tt)-1;for(var st=vt;st>=mt;st--){var At=Qe[A.charAt(st-1)];if(Tt===0?Et[st]=(Et[st+1]<<1|1)&At:Et[st]=(Et[st+1]<<1|1)&At|((It[st+1]|It[st])<<1|1)|It[st+1],Et[st]&qe){var nn=Ye(Tt,st-1);if(nn<=ut)if(ut=nn,ct=st-1,ct>et)mt=Math.max(1,2*et-ct);else break}}if(Ye(Tt+1,et)>ut)break;It=Et}return ct},ze.prototype.match_alphabet_=function(A){for(var Te={},et=0;et<A.length;et++)Te[A.charAt(et)]=0;for(var et=0;et<A.length;et++)Te[A.charAt(et)]|=1<<A.length-et-1;return Te},ze.prototype.patch_addContext_=function(A,Te){if(Te.length!=0){if(A.start2===null)throw Error("patch not initialized");for(var et=Te.substring(A.start2,A.start2+A.length1),Qe=0;Te.indexOf(et)!=Te.lastIndexOf(et)&&et.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)Qe+=this.Patch_Margin,et=Te.substring(A.start2-Qe,A.start2+A.length1+Qe);Qe+=this.Patch_Margin;var $e=Te.substring(A.start2-Qe,A.start2);$e&&A.diffs.unshift(new ze.Diff(nt,$e));var Ye=Te.substring(A.start2+A.length1,A.start2+A.length1+Qe);Ye&&A.diffs.push(new ze.Diff(nt,Ye)),A.start1-=$e.length,A.start2-=$e.length,A.length1+=$e.length+Ye.length,A.length2+=$e.length+Ye.length}},ze.prototype.patch_make=function(A,Te,et){var Qe,$e;if(typeof A=="string"&&typeof Te=="string"&&typeof et=="undefined")Qe=A,$e=this.diff_main(Qe,Te,!0),$e.length>2&&(this.diff_cleanupSemantic($e),this.diff_cleanupEfficiency($e));else if(A&&typeof A=="object"&&typeof Te=="undefined"&&typeof et=="undefined")$e=A,Qe=this.diff_text1($e);else if(typeof A=="string"&&Te&&typeof Te=="object"&&typeof et=="undefined")Qe=A,$e=Te;else if(typeof A=="string"&&typeof Te=="string"&&et&&typeof et=="object")Qe=A,$e=et;else throw new Error("Unknown call format to patch_make.");if($e.length===0)return[];for(var Ye=[],ut=new ze.patch_obj,ct=0,qe=0,lt=0,Ue=Qe,pt=Qe,It=0;It<$e.length;It++){var Tt=$e[It][0],mt=$e[It][1];switch(!ct&&Tt!==nt&&(ut.start1=qe,ut.start2=lt),Tt){case at:ut.diffs[ct++]=$e[It],ut.length2+=mt.length,pt=pt.substring(0,lt)+mt+pt.substring(lt);break;case We:ut.length1+=mt.length,ut.diffs[ct++]=$e[It],pt=pt.substring(0,lt)+pt.substring(lt+mt.length);break;case nt:mt.length<=2*this.Patch_Margin&&ct&&$e.length!=It+1?(ut.diffs[ct++]=$e[It],ut.length1+=mt.length,ut.length2+=mt.length):mt.length>=2*this.Patch_Margin&&ct&&(this.patch_addContext_(ut,Ue),Ye.push(ut),ut=new ze.patch_obj,ct=0,Ue=pt,qe=lt);break}Tt!==at&&(qe+=mt.length),Tt!==We&&(lt+=mt.length)}return ct&&(this.patch_addContext_(ut,Ue),Ye.push(ut)),Ye},ze.prototype.patch_deepCopy=function(A){for(var Te=[],et=0;et<A.length;et++){var Qe=A[et],$e=new ze.patch_obj;$e.diffs=[];for(var Ye=0;Ye<Qe.diffs.length;Ye++)$e.diffs[Ye]=new ze.Diff(Qe.diffs[Ye][0],Qe.diffs[Ye][1]);$e.start1=Qe.start1,$e.start2=Qe.start2,$e.length1=Qe.length1,$e.length2=Qe.length2,Te[et]=$e}return Te},ze.prototype.patch_apply=function(A,Te){if(A.length==0)return[Te,[]];A=this.patch_deepCopy(A);var et=this.patch_addPadding(A);Te=et+Te+et,this.patch_splitMax(A);for(var Qe=0,$e=[],Ye=0;Ye<A.length;Ye++){var ut=A[Ye].start2+Qe,ct=this.diff_text1(A[Ye].diffs),qe,lt=-1;if(ct.length>this.Match_MaxBits?(qe=this.match_main(Te,ct.substring(0,this.Match_MaxBits),ut),qe!=-1&&(lt=this.match_main(Te,ct.substring(ct.length-this.Match_MaxBits),ut+ct.length-this.Match_MaxBits),(lt==-1||qe>=lt)&&(qe=-1))):qe=this.match_main(Te,ct,ut),qe==-1)$e[Ye]=!1,Qe-=A[Ye].length2-A[Ye].length1;else{$e[Ye]=!0,Qe=qe-ut;var Ue;if(lt==-1?Ue=Te.substring(qe,qe+ct.length):Ue=Te.substring(qe,lt+this.Match_MaxBits),ct==Ue)Te=Te.substring(0,qe)+this.diff_text2(A[Ye].diffs)+Te.substring(qe+ct.length);else{var pt=this.diff_main(ct,Ue,!1);if(ct.length>this.Match_MaxBits&&this.diff_levenshtein(pt)/ct.length>this.Patch_DeleteThreshold)$e[Ye]=!1;else{this.diff_cleanupSemanticLossless(pt);for(var It=0,Tt,mt=0;mt<A[Ye].diffs.length;mt++){var vt=A[Ye].diffs[mt];vt[0]!==nt&&(Tt=this.diff_xIndex(pt,It)),vt[0]===at?Te=Te.substring(0,qe+Tt)+vt[1]+Te.substring(qe+Tt):vt[0]===We&&(Te=Te.substring(0,qe+Tt)+Te.substring(qe+this.diff_xIndex(pt,It+vt[1].length))),vt[0]!==We&&(It+=vt[1].length)}}}}}return Te=Te.substring(et.length,Te.length-et.length),[Te,$e]},ze.prototype.patch_addPadding=function(A){for(var Te=this.Patch_Margin,et="",Qe=1;Qe<=Te;Qe++)et+=String.fromCharCode(Qe);for(var Qe=0;Qe<A.length;Qe++)A[Qe].start1+=Te,A[Qe].start2+=Te;var $e=A[0],Ye=$e.diffs;if(Ye.length==0||Ye[0][0]!=nt)Ye.unshift(new ze.Diff(nt,et)),$e.start1-=Te,$e.start2-=Te,$e.length1+=Te,$e.length2+=Te;else if(Te>Ye[0][1].length){var ut=Te-Ye[0][1].length;Ye[0][1]=et.substring(Ye[0][1].length)+Ye[0][1],$e.start1-=ut,$e.start2-=ut,$e.length1+=ut,$e.length2+=ut}if($e=A[A.length-1],Ye=$e.diffs,Ye.length==0||Ye[Ye.length-1][0]!=nt)Ye.push(new ze.Diff(nt,et)),$e.length1+=Te,$e.length2+=Te;else if(Te>Ye[Ye.length-1][1].length){var ut=Te-Ye[Ye.length-1][1].length;Ye[Ye.length-1][1]+=et.substring(0,ut),$e.length1+=ut,$e.length2+=ut}return et},ze.prototype.patch_splitMax=function(A){for(var Te=this.Match_MaxBits,et=0;et<A.length;et++)if(!(A[et].length1<=Te)){var Qe=A[et];A.splice(et--,1);for(var $e=Qe.start1,Ye=Qe.start2,ut="";Qe.diffs.length!==0;){var ct=new ze.patch_obj,qe=!0;for(ct.start1=$e-ut.length,ct.start2=Ye-ut.length,ut!==""&&(ct.length1=ct.length2=ut.length,ct.diffs.push(new ze.Diff(nt,ut)));Qe.diffs.length!==0&&ct.length1<Te-this.Patch_Margin;){var lt=Qe.diffs[0][0],Ue=Qe.diffs[0][1];lt===at?(ct.length2+=Ue.length,Ye+=Ue.length,ct.diffs.push(Qe.diffs.shift()),qe=!1):lt===We&&ct.diffs.length==1&&ct.diffs[0][0]==nt&&Ue.length>2*Te?(ct.length1+=Ue.length,$e+=Ue.length,qe=!1,ct.diffs.push(new ze.Diff(lt,Ue)),Qe.diffs.shift()):(Ue=Ue.substring(0,Te-ct.length1-this.Patch_Margin),ct.length1+=Ue.length,$e+=Ue.length,lt===nt?(ct.length2+=Ue.length,Ye+=Ue.length):qe=!1,ct.diffs.push(new ze.Diff(lt,Ue)),Ue==Qe.diffs[0][1]?Qe.diffs.shift():Qe.diffs[0][1]=Qe.diffs[0][1].substring(Ue.length))}ut=this.diff_text2(ct.diffs),ut=ut.substring(ut.length-this.Patch_Margin);var pt=this.diff_text1(Qe.diffs).substring(0,this.Patch_Margin);pt!==""&&(ct.length1+=pt.length,ct.length2+=pt.length,ct.diffs.length!==0&&ct.diffs[ct.diffs.length-1][0]===nt?ct.diffs[ct.diffs.length-1][1]+=pt:ct.diffs.push(new ze.Diff(nt,pt))),qe||A.splice(++et,0,ct)}}},ze.prototype.patch_toText=function(A){for(var Te=[],et=0;et<A.length;et++)Te[et]=A[et];return Te.join("")},ze.prototype.patch_fromText=function(A){var Te=[];if(!A)return Te;for(var et=A.split(`
`),Qe=0,$e=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;Qe<et.length;){var Ye=et[Qe].match($e);if(!Ye)throw new Error("Invalid patch string: "+et[Qe]);var ut=new ze.patch_obj;for(Te.push(ut),ut.start1=parseInt(Ye[1],10),Ye[2]===""?(ut.start1--,ut.length1=1):Ye[2]=="0"?ut.length1=0:(ut.start1--,ut.length1=parseInt(Ye[2],10)),ut.start2=parseInt(Ye[3],10),Ye[4]===""?(ut.start2--,ut.length2=1):Ye[4]=="0"?ut.length2=0:(ut.start2--,ut.length2=parseInt(Ye[4],10)),Qe++;Qe<et.length;){var ct=et[Qe].charAt(0);try{var qe=decodeURI(et[Qe].substring(1))}catch(lt){throw new Error("Illegal escape in patch_fromText: "+qe)}if(ct=="-")ut.diffs.push(new ze.Diff(We,qe));else if(ct=="+")ut.diffs.push(new ze.Diff(at,qe));else if(ct==" ")ut.diffs.push(new ze.Diff(nt,qe));else{if(ct=="@")break;if(ct!=="")throw new Error('Invalid patch mode "'+ct+'" in: '+qe)}Qe++}}return Te},ze.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},ze.patch_obj.prototype.toString=function(){var A,Te;this.length1===0?A=this.start1+",0":this.length1==1?A=this.start1+1:A=this.start1+1+","+this.length1,this.length2===0?Te=this.start2+",0":this.length2==1?Te=this.start2+1:Te=this.start2+1+","+this.length2;for(var et=["@@ -"+A+" +"+Te+` @@
`],Qe,$e=0;$e<this.diffs.length;$e++){switch(this.diffs[$e][0]){case at:Qe="+";break;case We:Qe="-";break;case nt:Qe=" ";break}et[$e+1]=Qe+encodeURI(this.diffs[$e][1])+`
`}return et.join("").replace(/%20/g," ")},Xe.exports=ze,Xe.exports.diff_match_patch=ze,Xe.exports.DIFF_DELETE=We,Xe.exports.DIFF_INSERT=at,Xe.exports.DIFF_EQUAL=nt},923:(Xe,ze,We)=>{We.d(ze,{default:()=>an});var at=We(288),nt=We(59),A=We(784),Te=We(51),et=We(500),Qe=We(339),$e=We(108),Ye=function(ot){ot===void 0&&(ot=document);var En=function(Pt){var xt=document.createElement("img");xt.src=Pt.getAttribute("data-src"),xt.addEventListener("load",function(){!Pt.getAttribute("style")&&!Pt.getAttribute("class")&&!Pt.getAttribute("width")&&!Pt.getAttribute("height")&&xt.naturalHeight>xt.naturalWidth&&xt.naturalWidth/xt.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&xt.naturalHeight>window.innerHeight-40&&(Pt.style.height=window.innerHeight-40+"px"),Pt.src=xt.src}),Pt.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return ot.querySelectorAll("img").forEach(function(Pt){Pt.getAttribute("data-src")&&En(Pt)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),ot.querySelectorAll("img").forEach(function(Pt){window.vditorImageIntersectionObserver.observe(Pt)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(Pt){Pt.forEach(function(xt){(typeof xt.isIntersecting=="undefined"?xt.intersectionRatio!==0:xt.isIntersecting)&&xt.target.getAttribute("data-src")&&En(xt.target)})}),ot.querySelectorAll("img").forEach(function(Pt){window.vditorImageIntersectionObserver.observe(Pt)}))},ut=We(960),ct=We(0),qe=We(975),lt=We(931),Ue=We(597),pt=We(162),It=We(70),Tt=We(591),mt=We(913),vt=We(873),Et=We(161),st=We(598),At=We(905),nn=function(ot){document.querySelectorAll(".vditor-anchor").forEach(function(En){ot===1&&En.classList.add("vditor-anchor--left"),En.onclick=function(){var Pt=En.getAttribute("href").substr(1),xt=document.getElementById("vditorAnchor-"+Pt).offsetTop;document.querySelector("html").scrollTop=xt}}),window.onhashchange=function(){var En=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));En&&(document.querySelector("html").scrollTop=En.offsetTop)}},wn=We(796),Ht=We(827),Sn=function(ot,En){if(En===void 0&&(En="zh_CN"),!(typeof speechSynthesis=="undefined"||typeof SpeechSynthesisUtterance=="undefined")){var Pt=function(){var ln=speechSynthesis.getVoices(),Ft,bn;return ln.forEach(function(Kn){Kn.lang===En.replace("_","-")&&(Ft=Kn),Kn.default&&(bn=Kn)}),Ft||(Ft=bn),Ft},xt='<svg><use xlink:href="#vditor-icon-play"></use></svg>',vn='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(xt='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',vn='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var Ot=document.querySelector(".vditor-speech");Ot||(Ot=document.createElement("button"),Ot.className="vditor-speech",ot.insertAdjacentElement("beforeend",Ot),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=Pt));var Zt=Pt(),mn=new SpeechSynthesisUtterance;mn.voice=Zt,mn.onend=mn.onerror=function(){Ot.style.display="none",speechSynthesis.cancel(),Ot.classList.remove("vditor-speech--current"),Ot.innerHTML=xt},ot.addEventListener(window.ontouchstart!==void 0?"touchend":"click",function(ln){var Ft=ln.target;if(Ft.classList.contains("vditor-speech")||Ft.parentElement.classList.contains("vditor-speech")){Ot.classList.contains("vditor-speech--current")?speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),Ot.innerHTML=vn):(speechSynthesis.pause(),Ot.innerHTML=xt)):(mn.text=Ot.getAttribute("data-text"),speechSynthesis.speak(mn),Ot.classList.add("vditor-speech--current"),Ot.innerHTML=vn),(0,Ht.jl)(window.vditorSpeechRange),ot.focus();return}if(Ot.style.display="none",speechSynthesis.cancel(),Ot.classList.remove("vditor-speech--current"),Ot.innerHTML=xt,getSelection().rangeCount!==0){var bn=getSelection().getRangeAt(0),Kn=bn.toString().trim();if(Kn){window.vditorSpeechRange=bn.cloneRange();var Jt=bn.getBoundingClientRect();Ot.innerHTML=xt,Ot.style.display="block",Ot.style.top=Jt.top+Jt.height+document.querySelector("html").scrollTop-20+"px",window.ontouchstart!==void 0?Ot.style.left=ln.changedTouches[ln.changedTouches.length-1].pageX+2+"px":Ot.style.left=ln.clientX+2+"px",Ot.setAttribute("data-text",Kn)}}})}},lr=function(ot,En,Pt,xt){function vn(Ot){return Ot instanceof Pt?Ot:new Pt(function(Zt){Zt(Ot)})}return new(Pt||(Pt=Promise))(function(Ot,Zt){function mn(bn){try{Ft(xt.next(bn))}catch(Kn){Zt(Kn)}}function ln(bn){try{Ft(xt.throw(bn))}catch(Kn){Zt(Kn)}}function Ft(bn){bn.done?Ot(bn.value):vn(bn.value).then(mn,ln)}Ft((xt=xt.apply(ot,En||[])).next())})},Ve=function(ot,En){var Pt={label:0,sent:function(){if(Ot[0]&1)throw Ot[1];return Ot[1]},trys:[],ops:[]},xt,vn,Ot,Zt;return Zt={next:mn(0),throw:mn(1),return:mn(2)},typeof Symbol=="function"&&(Zt[Symbol.iterator]=function(){return this}),Zt;function mn(Ft){return function(bn){return ln([Ft,bn])}}function ln(Ft){if(xt)throw new TypeError("Generator is already executing.");for(;Zt&&(Zt=0,Ft[0]&&(Pt=0)),Pt;)try{if(xt=1,vn&&(Ot=Ft[0]&2?vn.return:Ft[0]?vn.throw||((Ot=vn.return)&&Ot.call(vn),0):vn.next)&&!(Ot=Ot.call(vn,Ft[1])).done)return Ot;switch(vn=0,Ot&&(Ft=[Ft[0]&2,Ot.value]),Ft[0]){case 0:case 1:Ot=Ft;break;case 4:return Pt.label++,{value:Ft[1],done:!1};case 5:Pt.label++,vn=Ft[1],Ft=[0];continue;case 7:Ft=Pt.ops.pop(),Pt.trys.pop();continue;default:if(Ot=Pt.trys,!(Ot=Ot.length>0&&Ot[Ot.length-1])&&(Ft[0]===6||Ft[0]===2)){Pt=0;continue}if(Ft[0]===3&&(!Ot||Ft[1]>Ot[0]&&Ft[1]<Ot[3])){Pt.label=Ft[1];break}if(Ft[0]===6&&Pt.label<Ot[1]){Pt.label=Ot[1],Ot=Ft;break}if(Ot&&Pt.label<Ot[2]){Pt.label=Ot[2],Pt.ops.push(Ft);break}Ot[2]&&Pt.ops.pop(),Pt.trys.pop();continue}Ft=En.call(ot,Pt)}catch(bn){Ft=[6,bn],vn=0}finally{xt=Ot=0}if(Ft[0]&5)throw Ft[1];return{value:Ft[0]?Ft[1]:void 0,done:!0}}},jt=function(ot){var En,Pt={anchor:0,cdn:mt.Y.CDN,customEmoji:{},emojiPath:"".concat(mt.Y.CDN,"/dist/images/emoji"),hljs:mt.Y.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:mt.Y.MARKDOWN_OPTIONS,math:mt.Y.MATH_OPTIONS,mode:"light",speech:{enable:!1},render:{media:{enable:!0}},theme:mt.Y.THEME_OPTIONS};return ot.cdn&&(!((En=ot.theme)===null||En===void 0)&&En.path||(Pt.theme.path="".concat(ot.cdn,"/dist/css/content-theme")),ot.emojiPath||(Pt.emojiPath="".concat(ot.cdn,"/dist/images/emoji"))),(0,At.h)(Pt,ot)},cn=function(ot,En){var Pt=jt(En);return(0,Et.Z)("".concat(Pt.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){var xt=(0,wn.X)({autoSpace:Pt.markdown.autoSpace,gfmAutoLink:Pt.markdown.gfmAutoLink,codeBlockPreview:Pt.markdown.codeBlockPreview,emojiSite:Pt.emojiPath,emojis:Pt.customEmoji,fixTermTypo:Pt.markdown.fixTermTypo,footnotes:Pt.markdown.footnotes,headingAnchor:Pt.anchor!==0,inlineMathDigit:Pt.math.inlineDigit,lazyLoadImage:Pt.lazyLoadImage,linkBase:Pt.markdown.linkBase,linkPrefix:Pt.markdown.linkPrefix,listStyle:Pt.markdown.listStyle,mark:Pt.markdown.mark,mathBlockPreview:Pt.markdown.mathBlockPreview,paragraphBeginningSpace:Pt.markdown.paragraphBeginningSpace,sanitize:Pt.markdown.sanitize,toc:Pt.markdown.toc});return En!=null&&En.renderers&&xt.SetJSRenderers({renderers:{Md2HTML:En.renderers}}),xt.SetHeadingID(!0),xt.Md2HTML(ot)})},yt=function(ot,En,Pt){return lr(void 0,void 0,void 0,function(){var xt,vn,Ot,Zt;return Ve(this,function(mn){switch(mn.label){case 0:return xt=jt(Pt),[4,cn(En,xt)];case 1:if(vn=mn.sent(),xt.transform&&(vn=xt.transform(vn)),ot.innerHTML=vn,ot.classList.add("vditor-reset"),xt.i18n)return[3,5];if(["en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(xt.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return Ot="vditorI18nScript",Zt=Ot+xt.lang,document.querySelectorAll('head script[id^="'.concat(Ot,'"]')).forEach(function(ln){ln.id!==Zt&&document.head.removeChild(ln)}),[4,(0,Et.Z)("".concat(xt.cdn,"/dist/js/i18n/").concat(xt.lang,".js"),Zt)];case 3:mn.sent(),mn.label=4;case 4:return[3,6];case 5:window.VditorI18n=xt.i18n,mn.label=6;case 6:return xt.icon?[4,(0,Et.Z)("".concat(xt.cdn,"/dist/js/icons/").concat(xt.icon,".js"),"vditorIconScript")]:[3,8];case 7:mn.sent(),mn.label=8;case 8:return(0,vt.H)(xt.theme.current,xt.theme.path),xt.anchor===1&&ot.classList.add("vditor-reset--anchor"),(0,Te.o)(ot,xt.hljs),(0,$e.$)(xt.hljs,ot,xt.cdn),(0,ut.T)(ot,{cdn:xt.cdn,math:xt.math}),(0,qe.e)(ot,xt.cdn,xt.mode),(0,lt.Y)(ot,xt.cdn,xt.mode),(0,Ue.K)(ot,xt.cdn),(0,et.D)(ot,xt.cdn),(0,Qe.m)(ot,xt.cdn),(0,A.v)(ot,xt.cdn,xt.mode),(0,pt.l)(ot,xt.cdn,xt.mode),(0,Tt.M)(ot,xt.cdn),(0,at.$)(ot,xt.cdn),xt.render.media.enable&&(0,ct.l)(ot),xt.speech.enable&&Sn(ot),xt.anchor!==0&&nn(xt.anchor),xt.after&&xt.after(),xt.lazyLoadImage&&Ye(ot),ot.addEventListener("click",function(ln){var Ft=(0,st._Y)(ln.target,"SPAN");if(Ft&&(0,st.KJ)(Ft,"vditor-toc")){var bn=ot.querySelector("#"+Ft.getAttribute("data-target-id"));bn&&window.scrollTo(window.scrollX,bn.offsetTop);return}}),[2]}})})},Mt=We(726),Lt=We(13),qt=function(){function ot(){}return ot.adapterRender=nt,ot.previewImage=Mt.o,ot.codeRender=Te.o,ot.graphvizRender=Qe.m,ot.highlightRender=$e.$,ot.mathRender=ut.T,ot.mermaidRender=qe.e,ot.SMILESRender=lt.Y,ot.markmapRender=Ue.K,ot.flowchartRender=et.D,ot.chartRender=A.v,ot.abcRender=at.$,ot.mindmapRender=pt.l,ot.plantumlRender=Tt.M,ot.outlineRender=It.N,ot.mediaRender=ct.l,ot.speechRender=Sn,ot.lazyLoadImageRender=Ye,ot.md2html=cn,ot.preview=yt,ot.setCodeTheme=Lt.h,ot.setContentTheme=vt.H,ot}();const an=qt},913:(Xe,ze,We)=>{We.d(ze,{Y:()=>nt,g:()=>at});var at="3.10.8",nt=function(){function A(){}return A.ZWSP="​",A.DROP_EDITOR="application/editor",A.MOBILE_WIDTH=520,A.CLASS_MENU_DISABLED="vditor-menu--disabled",A.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],A.CODE_THEME=["a11y-dark","agate","an-old-hope","androidstudio","arta","atom-one-dark","atom-one-dark-reasonable","base16/3024","base16/apathy","base16/apprentice","base16/ashes","base16/atelier-cave","base16/atelier-dune","base16/atelier-estuary","base16/atelier-forest","base16/atelier-heath","base16/atelier-lakeside","base16/atelier-plateau","base16/atelier-savanna","base16/atelier-seaside","base16/atelier-sulphurpool","base16/atlas","base16/bespin","base16/black-metal","base16/black-metal-bathory","base16/black-metal-burzum","base16/black-metal-dark-funeral","base16/black-metal-gorgoroth","base16/black-metal-immortal","base16/black-metal-khold","base16/black-metal-marduk","base16/black-metal-mayhem","base16/black-metal-nile","base16/black-metal-venom","base16/brewer","base16/bright","base16/brogrammer","base16/brush-trees-dark","base16/chalk","base16/circus","base16/classic-dark","base16/codeschool","base16/colors","base16/danqing","base16/darcula","base16/dark-violet","base16/darkmoss","base16/darktooth","base16/decaf","base16/default-dark","base16/dracula","base16/edge-dark","base16/eighties","base16/embers","base16/equilibrium-dark","base16/equilibrium-gray-dark","base16/espresso","base16/eva","base16/eva-dim","base16/flat","base16/framer","base16/gigavolt","base16/google-dark","base16/grayscale-dark","base16/green-screen","base16/gruvbox-dark-hard","base16/gruvbox-dark-medium","base16/gruvbox-dark-pale","base16/gruvbox-dark-soft","base16/hardcore","base16/harmonic16-dark","base16/heetch-dark","base16/helios","base16/hopscotch","base16/horizon-dark","base16/humanoid-dark","base16/ia-dark","base16/icy-dark","base16/ir-black","base16/isotope","base16/kimber","base16/london-tube","base16/macintosh","base16/marrakesh","base16/materia","base16/material","base16/material-darker","base16/material-palenight","base16/material-vivid","base16/mellow-purple","base16/mocha","base16/monokai","base16/nebula","base16/nord","base16/nova","base16/ocean","base16/oceanicnext","base16/onedark","base16/outrun-dark","base16/papercolor-dark","base16/paraiso","base16/pasque","base16/phd","base16/pico","base16/pop","base16/porple","base16/qualia","base16/railscasts","base16/rebecca","base16/ros-pine","base16/ros-pine-moon","base16/sandcastle","base16/seti-ui","base16/silk-dark","base16/snazzy","base16/solar-flare","base16/solarized-dark","base16/spacemacs","base16/summercamp","base16/summerfruit-dark","base16/synth-midnight-terminal-dark","base16/tango","base16/tender","base16/tomorrow-night","base16/twilight","base16/unikitty-dark","base16/vulcan","base16/windows-10","base16/windows-95","base16/windows-high-contrast","base16/windows-nt","base16/woodland","base16/xcode-dusk","base16/zenburn","codepen-embed","dark","devibeans","far","felipec","github-dark","github-dark-dimmed","gml","gradient-dark","hybrid","ir-black","isbl-editor-dark","kimbie-dark","lioshi","monokai","monokai-sublime","night-owl","nnfx-dark","nord","obsidian","panda-syntax-dark","paraiso-dark","pojoaque","qtcreator-dark","rainbow","shades-of-purple","srcery","stackoverflow-dark","sunburst","tomorrow-night-blue","tomorrow-night-bright","tokyo-night-dark","vs2015","xt256","ant-design","a11y-light","arduino-light","ascetic","atom-one-light","base16/atelier-cave-light","base16/atelier-dune-light","base16/atelier-estuary-light","base16/atelier-forest-light","base16/atelier-heath-light","base16/atelier-lakeside-light","base16/atelier-plateau-light","base16/atelier-savanna-light","base16/atelier-seaside-light","base16/atelier-sulphurpool-light","base16/brush-trees","base16/classic-light","base16/cupcake","base16/cupertino","base16/default-light","base16/dirtysea","base16/edge-light","base16/equilibrium-gray-light","base16/equilibrium-light","base16/fruit-soda","base16/github","base16/google-light","base16/grayscale-light","base16/gruvbox-light-hard","base16/gruvbox-light-medium","base16/gruvbox-light-soft","base16/harmonic16-light","base16/heetch-light","base16/humanoid-light","base16/horizon-light","base16/ia-light","base16/material-lighter","base16/mexico-light","base16/one-light","base16/papercolor-light","base16/ros-pine-dawn","base16/sagelight","base16/shapeshifter","base16/silk-light","base16/solar-flare-light","base16/solarized-light","base16/summerfruit-light","base16/synth-midnight-terminal-light","base16/tomorrow","base16/unikitty-light","base16/windows-10-light","base16/windows-95-light","base16/windows-high-contrast-light","brown-paper","base16/windows-nt-light","color-brewer","docco","foundation","github","googlecode","gradient-light","grayscale","idea","intellij-light","isbl-editor-light","kimbie-light","lightfair","magula","mono-blue","nnfx-light","panda-syntax-light","paraiso-light","purebasic","qtcreator-light","routeros","school-book","stackoverflow-light","tokyo-night-light","vs","xcode","default"],A.ALIAS_CODE_LANGUAGES=["abc","plantuml","mermaid","flowchart","echarts","mindmap","graphviz","math","markmap","smiles","js","ts","html","toml","c#","bat"],A.CDN="https://unpkg.com/vditor@".concat("3.10.8"),A.MARKDOWN_OPTIONS={autoSpace:!1,gfmAutoLink:!0,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},A.HLJS_OPTIONS={enable:!0,lineNumber:!1,defaultLang:"",style:"github"},A.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},A.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:"".concat(A.CDN,"/dist/css/content-theme")},A}()},931:(Xe,ze,We)=>{We.d(ze,{Y:()=>et});var at=We(913),nt=We(161),A=We(59),Te=We(933),et=function(Qe,$e,Ye){Qe===void 0&&(Qe=document),$e===void 0&&($e=at.Y.CDN);var ut=A.SMILESRenderAdapter.getElements(Qe);ut.length>0&&(0,nt.Z)("".concat($e,"/dist/js/smiles-drawer/smiles-drawer.min.js?v=2.1.7"),"vditorAbcjsScript").then(function(){var ct=new SmiDrawer({},{});ut.forEach(function(qe){var lt=A.SMILESRenderAdapter.getCode(qe).trim();if(!(qe.getAttribute("data-processed")==="true"||lt.trim()==="")){var Ue="smiles"+(0,Te.Ee)();qe.innerHTML='<svg id="'.concat(Ue,'"></svg>'),ct.draw(lt,"#"+Ue,Ye==="dark"?"dark":void 0),qe.setAttribute("data-processed","true")}})})}},288:(Xe,ze,We)=>{We.d(ze,{$:()=>Te});var at=We(913),nt=We(161),A=We(59),Te=function(et,Qe){et===void 0&&(et=document),Qe===void 0&&(Qe=at.Y.CDN);var $e=A.abcRenderAdapter.getElements(et);$e.length>0&&(0,nt.Z)("".concat(Qe,"/dist/js/abcjs/abcjs_basic.min.js"),"vditorAbcjsScript").then(function(){$e.forEach(function(Ye){Ye.parentElement.classList.contains("vditor-wysiwyg__pre")||Ye.parentElement.classList.contains("vditor-ir__marker--pre")||Ye.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(Ye,A.abcRenderAdapter.getCode(Ye).trim()),Ye.style.overflowX="auto",Ye.setAttribute("data-processed","true"))})})}},59:(Xe,ze,We)=>{We.r(ze),We.d(ze,{SMILESRenderAdapter:()=>nt,abcRenderAdapter:()=>$e,chartRenderAdapter:()=>Qe,flowchartRenderAdapter:()=>ut,graphvizRenderAdapter:()=>Ye,markmapRenderAdapter:()=>Te,mathRenderAdapter:()=>at,mermaidRenderAdapter:()=>A,mindmapRenderAdapter:()=>et,plantumlRenderAdapter:()=>ct});var at={getCode:function(qe){return qe.textContent},getElements:function(qe){return qe.querySelectorAll(".language-math")}},nt={getCode:function(qe){return qe.textContent},getElements:function(qe){return qe.querySelectorAll(".language-smiles")}},A={getCode:function(qe){return qe.textContent},getElements:function(qe){return qe.querySelectorAll(".language-mermaid")}},Te={getCode:function(qe){return qe.textContent},getElements:function(qe){return qe.querySelectorAll(".language-markmap")}},et={getCode:function(qe){return qe.getAttribute("data-code")},getElements:function(qe){return qe.querySelectorAll(".language-mindmap")}},Qe={getCode:function(qe){return qe.innerText},getElements:function(qe){return qe.querySelectorAll(".language-echarts")}},$e={getCode:function(qe){return qe.textContent},getElements:function(qe){return qe.querySelectorAll(".language-abc")}},Ye={getCode:function(qe){return qe.textContent},getElements:function(qe){return qe.querySelectorAll(".language-graphviz")}},ut={getCode:function(qe){return qe.textContent},getElements:function(qe){return qe.querySelectorAll(".language-flowchart")}},ct={getCode:function(qe){return qe.textContent},getElements:function(qe){return qe.querySelectorAll(".language-plantuml")}}},784:(Xe,ze,We)=>{We.d(ze,{v:()=>$e});var at=We(913),nt=We(161),A=We(59),Te=We(933),et=function(Ye,ut,ct,qe){function lt(Ue){return Ue instanceof ct?Ue:new ct(function(pt){pt(Ue)})}return new(ct||(ct=Promise))(function(Ue,pt){function It(vt){try{mt(qe.next(vt))}catch(Et){pt(Et)}}function Tt(vt){try{mt(qe.throw(vt))}catch(Et){pt(Et)}}function mt(vt){vt.done?Ue(vt.value):lt(vt.value).then(It,Tt)}mt((qe=qe.apply(Ye,ut||[])).next())})},Qe=function(Ye,ut){var ct={label:0,sent:function(){if(Ue[0]&1)throw Ue[1];return Ue[1]},trys:[],ops:[]},qe,lt,Ue,pt;return pt={next:It(0),throw:It(1),return:It(2)},typeof Symbol=="function"&&(pt[Symbol.iterator]=function(){return this}),pt;function It(mt){return function(vt){return Tt([mt,vt])}}function Tt(mt){if(qe)throw new TypeError("Generator is already executing.");for(;pt&&(pt=0,mt[0]&&(ct=0)),ct;)try{if(qe=1,lt&&(Ue=mt[0]&2?lt.return:mt[0]?lt.throw||((Ue=lt.return)&&Ue.call(lt),0):lt.next)&&!(Ue=Ue.call(lt,mt[1])).done)return Ue;switch(lt=0,Ue&&(mt=[mt[0]&2,Ue.value]),mt[0]){case 0:case 1:Ue=mt;break;case 4:return ct.label++,{value:mt[1],done:!1};case 5:ct.label++,lt=mt[1],mt=[0];continue;case 7:mt=ct.ops.pop(),ct.trys.pop();continue;default:if(Ue=ct.trys,!(Ue=Ue.length>0&&Ue[Ue.length-1])&&(mt[0]===6||mt[0]===2)){ct=0;continue}if(mt[0]===3&&(!Ue||mt[1]>Ue[0]&&mt[1]<Ue[3])){ct.label=mt[1];break}if(mt[0]===6&&ct.label<Ue[1]){ct.label=Ue[1],Ue=mt;break}if(Ue&&ct.label<Ue[2]){ct.label=Ue[2],ct.ops.push(mt);break}Ue[2]&&ct.ops.pop(),ct.trys.pop();continue}mt=ut.call(Ye,ct)}catch(vt){mt=[6,vt],lt=0}finally{qe=Ue=0}if(mt[0]&5)throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}},$e=function(Ye,ut,ct){Ye===void 0&&(Ye=document),ut===void 0&&(ut=at.Y.CDN);var qe=A.chartRenderAdapter.getElements(Ye);qe.length>0&&(0,nt.Z)("".concat(ut,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){qe.forEach(function(lt){return et(void 0,void 0,void 0,function(){var Ue,pt,It;return Qe(this,function(Tt){switch(Tt.label){case 0:if(lt.parentElement.classList.contains("vditor-wysiwyg__pre")||lt.parentElement.classList.contains("vditor-ir__marker--pre"))return[2];if(Ue=A.chartRenderAdapter.getCode(lt).trim(),!Ue)return[2];Tt.label=1;case 1:return Tt.trys.push([1,3,,4]),lt.getAttribute("data-processed")==="true"?[2]:[4,(0,Te.kY)(Ue)];case 2:return pt=Tt.sent(),echarts.init(lt,ct==="dark"?"dark":void 0).setOption(pt),lt.setAttribute("data-processed","true"),[3,4];case 3:return It=Tt.sent(),lt.className="vditor-reset--error",lt.innerHTML="echarts render error: <br>".concat(It),[3,4];case 4:return[2]}})})})})}},51:(Xe,ze,We)=>{We.d(ze,{o:()=>A});var at=We(695),nt=We(913),A=function(Te,et){Array.from(Te.querySelectorAll("pre > code")).filter(function(Qe,$e){return!(Qe.parentElement.classList.contains("vditor-wysiwyg__pre")||Qe.parentElement.classList.contains("vditor-ir__marker--pre")||Qe.classList.contains("language-mermaid")||Qe.classList.contains("language-flowchart")||Qe.classList.contains("language-echarts")||Qe.classList.contains("language-mindmap")||Qe.classList.contains("language-plantuml")||Qe.classList.contains("language-markmap")||Qe.classList.contains("language-abc")||Qe.classList.contains("language-graphviz")||Qe.classList.contains("language-math")||Qe.classList.contains("language-smiles")||Qe.style.maxHeight.indexOf("px")>-1||Te.classList.contains("vditor-preview")&&$e>5)}).forEach(function(Qe){var $e,Ye,ut,ct=Qe.innerText;if(Qe.classList.contains("highlight-chroma")){var qe=Qe.cloneNode(!0);qe.querySelectorAll(".highlight-ln").forEach(function(It){It.remove()}),ct=qe.innerText}else ct.endsWith(`
`)&&(ct=ct.substr(0,ct.length-1));var lt='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(lt='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var Ue=document.createElement("div");Ue.className="vditor-copy",Ue.innerHTML='<span aria-label="'.concat((($e=window.VditorI18n)===null||$e===void 0?void 0:$e.copy)||"复制",`"
onmouseover="this.setAttribute('aria-label', '`).concat(((Ye=window.VditorI18n)===null||Ye===void 0?void 0:Ye.copy)||"复制",`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`).concat(((ut=window.VditorI18n)===null||ut===void 0?void 0:ut.copied)||"已复制",`');this.previousElementSibling.blur()">`).concat(lt,"</span>");var pt=document.createElement("textarea");pt.value=(0,at.p)(ct),Ue.insertAdjacentElement("afterbegin",pt),et&&et.renderMenu&&et.renderMenu(Qe,Ue),Qe.before(Ue),Qe.style.maxHeight=window.outerHeight-40+"px",Qe.insertAdjacentHTML("afterend",'<span style="position: absolute">'.concat(nt.Y.ZWSP,"</span>"))})}},500:(Xe,ze,We)=>{We.d(ze,{D:()=>Te});var at=We(913),nt=We(161),A=We(59),Te=function(et,Qe){Qe===void 0&&(Qe=at.Y.CDN);var $e=A.flowchartRenderAdapter.getElements(et);$e.length!==0&&(0,nt.Z)("".concat(Qe,"/dist/js/flowchart.js/flowchart.min.js"),"vditorFlowchartScript").then(function(){$e.forEach(function(Ye){if(Ye.getAttribute("data-processed")!=="true"){var ut=flowchart.parse(A.flowchartRenderAdapter.getCode(Ye));Ye.innerHTML="",ut.drawSVG(Ye),Ye.setAttribute("data-processed","true")}})})}},339:(Xe,ze,We)=>{We.d(ze,{m:()=>Te});var at=We(913),nt=We(161),A=We(59),Te=function(et,Qe){Qe===void 0&&(Qe=at.Y.CDN);var $e=A.graphvizRenderAdapter.getElements(et);$e.length!==0&&(0,nt.Z)("".concat(Qe,"/dist/js/graphviz/viz.js"),"vditorGraphVizScript").then(function(){$e.forEach(function(Ye){var ut=A.graphvizRenderAdapter.getCode(Ye);if(!(Ye.parentElement.classList.contains("vditor-wysiwyg__pre")||Ye.parentElement.classList.contains("vditor-ir__marker--pre"))&&!(Ye.getAttribute("data-processed")==="true"||ut.trim()==="")){try{var ct=new Blob(["importScripts('".concat(document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js"),"');")],{type:"application/javascript"}),qe=window.URL||window.webkitURL,lt=qe.createObjectURL(ct),Ue=new Worker(lt);new Viz({worker:Ue}).renderSVGElement(ut).then(function(pt){Ye.innerHTML=pt.outerHTML}).catch(function(pt){Ye.innerHTML="graphviz render error: <br>".concat(pt),Ye.className="vditor-reset--error"})}catch(pt){}Ye.setAttribute("data-processed","true")}})})}},108:(Xe,ze,We)=>{We.d(ze,{$:()=>Te});var at=We(913),nt=We(161),A=We(505),Te=function(et,Qe,$e){Qe===void 0&&(Qe=document),$e===void 0&&($e=at.Y.CDN);var Ye=et.style;at.Y.CODE_THEME.includes(Ye)||(Ye="github");var ut=document.getElementById("vditorHljsStyle"),ct="".concat($e,"/dist/js/highlight.js/styles/").concat(Ye,".min.css");if(ut&&ut.getAttribute("href")!==ct&&ut.remove(),(0,A.T)("".concat($e,"/dist/js/highlight.js/styles/").concat(Ye,".min.css"),"vditorHljsStyle"),et.enable!==!1){var qe=Qe.querySelectorAll("pre > code");qe.length!==0&&(0,nt.Z)("".concat($e,"/dist/js/highlight.js/highlight.min.js?v=11.7.0"),"vditorHljsScript").then(function(){(0,nt.Z)("".concat($e,"/dist/js/highlight.js/third-languages.js?v=1.0.1"),"vditorHljsThirdScript").then(function(){Qe.querySelectorAll("pre > code").forEach(function(lt){if(!(lt.parentElement.classList.contains("vditor-ir__marker--pre")||lt.parentElement.classList.contains("vditor-wysiwyg__pre"))&&!(lt.classList.contains("language-mermaid")||lt.classList.contains("language-flowchart")||lt.classList.contains("language-echarts")||lt.classList.contains("language-mindmap")||lt.classList.contains("language-plantuml")||lt.classList.contains("language-smiles")||lt.classList.contains("language-abc")||lt.classList.contains("language-graphviz")||lt.classList.contains("language-math"))){et.defaultLang!==""&&lt.className.indexOf("language-")===-1&&lt.classList.add("language-"+et.defaultLang);var Ue=et.defaultLang||lt.className.replace("language-","");if(window.hljs.getLanguage(Ue)||(Ue="plaintext"),lt.innerHTML=window.hljs.highlight(lt.textContent,{language:Ue,ignoreIllegals:!0}).value,lt.classList.add("hljs"),!!et.lineNumber){lt.classList.add("vditor-linenumber");var pt=lt.querySelector(".vditor-linenumber__temp");pt||(pt=document.createElement("div"),pt.className="vditor-linenumber__temp",lt.insertAdjacentElement("beforeend",pt));var It=getComputedStyle(lt).whiteSpace,Tt=!1;(It==="pre-wrap"||It==="pre-line")&&(Tt=!0);var mt="",vt=lt.textContent.split(/\r\n|\r|\n/g);vt.pop(),vt.map(function(Et){var st="";Tt&&(pt.textContent=Et||`
`,st=' style="height:'.concat(pt.getBoundingClientRect().height,'px"')),mt+="<span".concat(st,"></span>")}),pt.style.display="none",mt='<span class="vditor-linenumber__rows">'.concat(mt,"</span>"),lt.insertAdjacentHTML("beforeend",mt)}}})})})}}},597:(Xe,ze,We)=>{We.d(ze,{K:()=>$e});var at=We(913),nt=We(161),A=We(59),Te={},et=function(Ye,ut){var ct=Ye.transform(ut),qe=Object.keys(ct.features).filter(function(Tt){return!Te[Tt]});qe.forEach(function(Tt){Te[Tt]=!0});var lt=Ye.getAssets(qe),Ue=lt.styles,pt=lt.scripts,It=window.markmap;return Ue&&It.loadCSS(Ue),pt&&It.loadJS(pt),ct},Qe=function(Ye,ut){var ct=window.markmap,qe=ct.Transformer,lt=ct.Markmap,Ue=ct.deriveOptions;ct.globalCSS;var pt=new qe;Ye.innerHTML='<svg style="width:100%"></svg>';var It=Ye.firstChild,Tt=lt.create(It,null),mt=et(pt,ut),vt=mt.root,Et=mt.frontmatter,st=Et==null?void 0:Et.markmap,At=Ue(st);Tt.setData(vt,At),Tt.fit()},$e=function(Ye,ut){Ye===void 0&&(Ye=document),ut===void 0&&(ut=at.Y.CDN);var ct=A.markmapRenderAdapter.getElements(Ye);ct.length!==0&&(0,nt.Z)("".concat(ut,"/dist/js/markmap/markmap.min.js"),"vditorMarkerScript").then(function(){ct.forEach(function(qe){var lt=A.markmapRenderAdapter.getCode(qe);if(!(qe.getAttribute("data-processed")==="true"||lt.trim()==="")){var Ue=document.createElement("div");Ue.className="language-markmap",qe.parentNode.appendChild(Ue),Qe(Ue,lt),qe.parentNode.childNodes[0].nodeName=="CODE"&&qe.parentNode.removeChild(qe.parentNode.childNodes[0])}})})}},960:(Xe,ze,We)=>{We.d(ze,{T:()=>Qe});var at=We(913),nt=We(161),A=We(505),Te=We(695),et=We(59),Qe=function($e,Ye){$e===void 0&&($e=document);var ut=et.mathRenderAdapter.getElements($e);if(ut.length!==0){var ct={cdn:at.Y.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(Ye&&Ye.math&&(Ye.math=Object.assign({},ct.math,Ye.math)),Ye=Object.assign({},ct,Ye),Ye.math.engine==="KaTeX")(0,A.T)("".concat(Ye.cdn,"/dist/js/katex/katex.min.css?v=0.16.9"),"vditorKatexStyle"),(0,nt.Z)("".concat(Ye.cdn,"/dist/js/katex/katex.min.js?v=0.16.9"),"vditorKatexScript").then(function(){(0,nt.Z)("".concat(Ye.cdn,"/dist/js/katex/mhchem.min.js?v=0.16.9"),"vditorKatexChemScript").then(function(){ut.forEach(function(Ue){if(!(Ue.parentElement.classList.contains("vditor-wysiwyg__pre")||Ue.parentElement.classList.contains("vditor-ir__marker--pre"))&&!Ue.getAttribute("data-math")){var pt=(0,Te.p)(et.mathRenderAdapter.getCode(Ue));Ue.setAttribute("data-math",pt);try{Ue.innerHTML=katex.renderToString(pt,{displayMode:Ue.tagName==="DIV",output:"html",macros:Ye.math.macros})}catch(It){Ue.innerHTML=It.message,Ue.className="language-math vditor-reset--error"}Ue.addEventListener("copy",function(It){It.stopPropagation(),It.preventDefault();var Tt=It.currentTarget.closest(".language-math");It.clipboardData.setData("text/html",Tt.innerHTML),It.clipboardData.setData("text/plain",Tt.getAttribute("data-math"))})}})})});else if(Ye.math.engine==="MathJax"){var qe=function(Ue){if(Ue.length!==0){var pt=0,It=Ue[Ue.length-1],Tt=function(){var mt=Ue[pt++];mt===It?mt():mt(Tt)};Tt()}};window.MathJax||(window.MathJax={loader:{paths:{mathjax:"".concat(Ye.cdn,"/dist/js/mathjax")}},startup:{typeset:!1},tex:{macros:Ye.math.macros}},Object.assign(window.MathJax,Ye.math.mathJaxOptions)),(0,nt.U)("".concat(Ye.cdn,"/dist/js/mathjax/tex-svg-full.js"),"protyleMathJaxScript");var lt=function(Ue,pt){var It=(0,Te.p)(Ue.textContent).trim(),Tt=window.MathJax.getMetricsFor(Ue);Tt.display=Ue.tagName==="DIV",window.MathJax.tex2svgPromise(It,Tt).then(function(mt){Ue.innerHTML="",Ue.setAttribute("data-math",It),Ue.append(mt),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var vt=mt.querySelector('[data-mml-node="merror"]');vt&&vt.textContent.trim()!==""&&(Ue.innerHTML=vt.textContent.trim(),Ue.className="vditor-reset--error"),pt&&pt()})};window.MathJax.startup.promise.then(function(){for(var Ue=[],pt=function(Tt){var mt=ut[Tt];!mt.parentElement.classList.contains("vditor-wysiwyg__pre")&&!mt.parentElement.classList.contains("vditor-ir__marker--pre")&&!mt.getAttribute("data-math")&&(0,Te.p)(mt.textContent).trim()&&Ue.push(function(vt){Tt===ut.length-1?lt(mt):lt(mt,vt)})},It=0;It<ut.length;It++)pt(It);qe(Ue)})}}}},0:(Xe,ze,We)=>{We.d(ze,{l:()=>et});var at=We(933),nt=function(Qe,$e){Qe.insertAdjacentHTML("afterend",'<video controls="controls" src="'.concat($e,'"></video>')),Qe.remove()},A=function(Qe,$e){Qe.insertAdjacentHTML("afterend",'<audio controls="controls" src="'.concat($e,'"></audio>')),Qe.remove()},Te=function(Qe,$e){var Ye=$e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),ut=$e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),ct=$e.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),qe=$e.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),lt=$e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),Ue=$e.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),pt=$e.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),It=$e.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);if(Ye&&Ye[1].length===11)Qe.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'.concat(Ye[1]+(Ye[2]?"?start="+Ye[2]:""),'"></iframe>')),Qe.remove();else if(ut&&ut[1])Qe.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'.concat(ut[1],'"></iframe>')),Qe.remove();else if(ct&&ct[1])Qe.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='.concat(ct[1],'"></iframe>')),Qe.remove();else if(qe&&qe[1])Qe.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`.concat(qe[1],'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>')),Qe.remove();else if(lt&&lt[0])Qe.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`.concat(encodeURIComponent(lt[0]),'"></iframe>')),Qe.remove();else if(Ue&&Ue[2])Qe.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`.concat(Ue[2],'"></iframe>')),Qe.remove();else if($e.indexOf("bilibili.com")>-1&&($e.indexOf("bvid=")>-1||pt&&pt[1])){var Tt={bvid:(0,at.TK)("bvid",$e)||pt&&pt[1],page:"1",high_quality:"1",as_wide:"1",allowfullscreen:"true",autoplay:"0"};new URL($e.startsWith("http")?$e:"https:"+$e).search.split("&").forEach(function(Et,st){if(Et){st===0&&(Et=Et.substr(1));var At=Et.split("=");Tt[At[0]]=At[1]}});var mt="https://player.bilibili.com/player.html?",vt=Object.keys(Tt);vt.forEach(function(Et,st){mt+="".concat(Et,"=").concat(Tt[Et]),st<vt.length-1&&(mt+="&")}),Qe.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="'.concat(mt,'"></iframe>')),Qe.remove()}else It&&It[1]&&(Qe.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'.concat(It[1],'"></iframe>')),Qe.remove())},et=function(Qe){Qe&&Qe.querySelectorAll("a").forEach(function($e){var Ye=$e.getAttribute("href");Ye&&(Ye.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?nt($e,Ye):Ye.match(/^.+.(mp3|wav|flac)$/)?A($e,Ye):Te($e,Ye))})}},975:(Xe,ze,We)=>{We.d(ze,{e:()=>$e});var at=We(913),nt=We(161),A=We(59),Te=We(933),et=function(Ye,ut,ct,qe){function lt(Ue){return Ue instanceof ct?Ue:new ct(function(pt){pt(Ue)})}return new(ct||(ct=Promise))(function(Ue,pt){function It(vt){try{mt(qe.next(vt))}catch(Et){pt(Et)}}function Tt(vt){try{mt(qe.throw(vt))}catch(Et){pt(Et)}}function mt(vt){vt.done?Ue(vt.value):lt(vt.value).then(It,Tt)}mt((qe=qe.apply(Ye,ut||[])).next())})},Qe=function(Ye,ut){var ct={label:0,sent:function(){if(Ue[0]&1)throw Ue[1];return Ue[1]},trys:[],ops:[]},qe,lt,Ue,pt;return pt={next:It(0),throw:It(1),return:It(2)},typeof Symbol=="function"&&(pt[Symbol.iterator]=function(){return this}),pt;function It(mt){return function(vt){return Tt([mt,vt])}}function Tt(mt){if(qe)throw new TypeError("Generator is already executing.");for(;pt&&(pt=0,mt[0]&&(ct=0)),ct;)try{if(qe=1,lt&&(Ue=mt[0]&2?lt.return:mt[0]?lt.throw||((Ue=lt.return)&&Ue.call(lt),0):lt.next)&&!(Ue=Ue.call(lt,mt[1])).done)return Ue;switch(lt=0,Ue&&(mt=[mt[0]&2,Ue.value]),mt[0]){case 0:case 1:Ue=mt;break;case 4:return ct.label++,{value:mt[1],done:!1};case 5:ct.label++,lt=mt[1],mt=[0];continue;case 7:mt=ct.ops.pop(),ct.trys.pop();continue;default:if(Ue=ct.trys,!(Ue=Ue.length>0&&Ue[Ue.length-1])&&(mt[0]===6||mt[0]===2)){ct=0;continue}if(mt[0]===3&&(!Ue||mt[1]>Ue[0]&&mt[1]<Ue[3])){ct.label=mt[1];break}if(mt[0]===6&&ct.label<Ue[1]){ct.label=Ue[1],Ue=mt;break}if(Ue&&ct.label<Ue[2]){ct.label=Ue[2],ct.ops.push(mt);break}Ue[2]&&ct.ops.pop(),ct.trys.pop();continue}mt=ut.call(Ye,ct)}catch(vt){mt=[6,vt],lt=0}finally{qe=Ue=0}if(mt[0]&5)throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}},$e=function(Ye,ut,ct){Ye===void 0&&(Ye=document),ut===void 0&&(ut=at.Y.CDN);var qe=A.mermaidRenderAdapter.getElements(Ye);qe.length!==0&&(0,nt.Z)("".concat(ut,"/dist/js/mermaid/mermaid.min.js"),"vditorMermaidScript").then(function(){var lt={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8,showSequenceNumbers:!0},gantt:{leftPadding:75,rightPadding:20}};ct==="dark"&&(lt.theme="dark"),mermaid.initialize(lt),qe.forEach(function(Ue){return et(void 0,void 0,void 0,function(){var pt,It,Tt,mt,vt;return Qe(this,function(Et){switch(Et.label){case 0:if(pt=A.mermaidRenderAdapter.getCode(Ue),Ue.getAttribute("data-processed")==="true"||pt.trim()==="")return[2];It="mermaid"+(0,Te.Ee)(),Et.label=1;case 1:return Et.trys.push([1,3,,4]),[4,mermaid.render(It,Ue.textContent)];case 2:return Tt=Et.sent(),Ue.innerHTML=Tt.svg,[3,4];case 3:return mt=Et.sent(),vt=document.querySelector("#"+It),Ue.innerHTML="".concat(vt.outerHTML,`<br>
<div style="text-align: left"><small>`).concat(mt.message.replace(/\n/,"<br>"),"</small></div>"),vt.parentElement.remove(),[3,4];case 4:return Ue.setAttribute("data-processed","true"),[2]}})})})})}},162:(Xe,ze,We)=>{We.d(ze,{l:()=>Te});var at=We(913),nt=We(161),A=We(59),Te=function(et,Qe,$e){et===void 0&&(et=document),Qe===void 0&&(Qe=at.Y.CDN);var Ye=A.mindmapRenderAdapter.getElements(et);Ye.length>0&&(0,nt.Z)("".concat(Qe,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){Ye.forEach(function(ut){if(!(ut.parentElement.classList.contains("vditor-wysiwyg__pre")||ut.parentElement.classList.contains("vditor-ir__marker--pre"))){var ct=A.mindmapRenderAdapter.getCode(ut);if(ct)try{if(ut.getAttribute("data-processed")==="true")return;echarts.init(ut,$e==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(ct))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(qe,lt){var Ue;return!((Ue=lt==null?void 0:lt.data)===null||Ue===void 0)&&Ue.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),ut.setAttribute("data-processed","true")}catch(qe){ut.className="vditor-reset--error",ut.innerHTML="mindmap render error: <br>".concat(qe)}}})})}},70:(Xe,ze,We)=>{We.d(ze,{N:()=>A});var at=We(164),nt=We(960),A=function(Te,et,Qe){var $e="",Ye=[];if(Array.from(Te.children).forEach(function(lt,Ue){if((0,at.c)(lt)){if(Qe){var pt=lt.id.lastIndexOf("_");lt.id=lt.id.substring(0,pt===-1?void 0:pt)+"_"+Ue}Ye.push(lt.id),$e+=lt.outerHTML.replace("<wbr>","")}}),$e==="")return et.innerHTML="","";var ut=document.createElement("div");if(Qe)Qe.lute.SetToC(!0),Qe.currentMode==="wysiwyg"&&!Qe.preview.element.contains(Te)?ut.innerHTML=Qe.lute.SpinVditorDOM("<p>[ToC]</p>"+$e):Qe.currentMode==="ir"&&!Qe.preview.element.contains(Te)?ut.innerHTML=Qe.lute.SpinVditorIRDOM("<p>[ToC]</p>"+$e):ut.innerHTML=Qe.lute.HTML2VditorDOM("<p>[ToC]</p>"+$e),Qe.lute.SetToC(Qe.options.preview.markdown.toc);else{et.classList.add("vditor-outline");var ct=Lute.New();ct.SetToC(!0),ut.innerHTML=ct.HTML2VditorDOM("<p>[ToC]</p>"+$e)}var qe=ut.firstElementChild.querySelectorAll("li > span[data-target-id]");return qe.forEach(function(lt,Ue){if(lt.nextElementSibling&&lt.nextElementSibling.tagName==="UL"){var pt="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(pt='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),lt.innerHTML="".concat(pt,"<span>").concat(lt.innerHTML,"</span>")}else lt.innerHTML="<svg></svg><span>".concat(lt.innerHTML,"</span>");lt.setAttribute("data-target-id",Ye[Ue])}),$e=ut.firstElementChild.innerHTML,qe.length===0?(et.innerHTML="",$e):(et.innerHTML=$e,Qe&&(0,nt.T)(et,{cdn:Qe.options.cdn,math:Qe.options.preview.math}),et.firstElementChild.addEventListener("click",function(lt){for(var Ue=lt.target;Ue&&!Ue.isEqualNode(et);){if(Ue.classList.contains("vditor-outline__action")){Ue.classList.contains("vditor-outline__action--close")?(Ue.classList.remove("vditor-outline__action--close"),Ue.parentElement.nextElementSibling.setAttribute("style","display:block")):(Ue.classList.add("vditor-outline__action--close"),Ue.parentElement.nextElementSibling.setAttribute("style","display:none")),lt.preventDefault(),lt.stopPropagation();break}else if(Ue.getAttribute("data-target-id")){lt.preventDefault(),lt.stopPropagation();var pt=document.getElementById(Ue.getAttribute("data-target-id"));if(!pt)return;if(Qe)if(Qe.options.height==="auto"){var It=pt.offsetTop+Qe.element.offsetTop;Qe.options.toolbarConfig.pin||(It+=Qe.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,It)}else Qe.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,Qe.element.offsetTop),Qe.preview.element.contains(Te)?Te.parentElement.scrollTop=pt.offsetTop:Te.scrollTop=pt.offsetTop;else window.scrollTo(window.scrollX,pt.offsetTop);break}Ue=Ue.parentElement}}),$e)}},591:(Xe,ze,We)=>{We.d(ze,{M:()=>Te});var at=We(913),nt=We(161),A=We(59),Te=function(et,Qe){et===void 0&&(et=document),Qe===void 0&&(Qe=at.Y.CDN);var $e=A.plantumlRenderAdapter.getElements(et);$e.length!==0&&(0,nt.Z)("".concat(Qe,"/dist/js/plantuml/plantuml-encoder.min.js"),"vditorPlantumlScript").then(function(){$e.forEach(function(Ye){if(!(Ye.parentElement.classList.contains("vditor-wysiwyg__pre")||Ye.parentElement.classList.contains("vditor-ir__marker--pre"))){var ut=A.plantumlRenderAdapter.getCode(Ye).trim();if(ut)try{Ye.innerHTML='<object type="image/svg+xml" data="https://www.plantuml.com/plantuml/svg/~1'.concat(plantumlEncoder.encode(ut),'"/>')}catch(ct){Ye.className="vditor-reset--error",Ye.innerHTML="plantuml render error: <br>".concat(ct)}}})})}},796:(Xe,ze,We)=>{We.d(ze,{X:()=>at});var at=function(nt){var A=Lute.New();return A.PutEmojis(nt.emojis),A.SetEmojiSite(nt.emojiSite),A.SetHeadingAnchor(nt.headingAnchor),A.SetInlineMathAllowDigitAfterOpenMarker(nt.inlineMathDigit),A.SetAutoSpace(nt.autoSpace),A.SetToC(nt.toc),A.SetFootnotes(nt.footnotes),A.SetFixTermTypo(nt.fixTermTypo),A.SetVditorCodeBlockPreview(nt.codeBlockPreview),A.SetVditorMathBlockPreview(nt.mathBlockPreview),A.SetSanitize(nt.sanitize),A.SetChineseParagraphBeginningSpace(nt.paragraphBeginningSpace),A.SetRenderListStyle(nt.listStyle),A.SetLinkBase(nt.linkBase),A.SetLinkPrefix(nt.linkPrefix),A.SetMark(nt.mark),A.SetGFMAutoLink(nt.gfmAutoLink),nt.lazyLoadImage&&A.SetImageLazyLoading(nt.lazyLoadImage),A}},726:(Xe,ze,We)=>{We.d(ze,{o:()=>at});var at=function(nt,A,Te){Te===void 0&&(Te="classic");var et=nt.getBoundingClientRect(),Qe=36;document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'.concat(Te==="dark"?" vditor--dark":"",`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `).concat(window.VditorI18n.spin,`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`).concat(window.VditorI18n.close,`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `).concat(nt.width,"px;height:").concat(nt.height,"px;transform: translate3d(").concat(et.left,"px, ").concat(et.top-Qe,'px, 0)" src="').concat(nt.getAttribute("src"),`">
    </div>
</div>`)),document.body.style.overflow="hidden";var $e=document.querySelector(".vditor-img img"),Ye="translate3d(".concat(Math.max(0,window.innerWidth-nt.naturalWidth)/2,"px, ").concat(Math.max(0,window.innerHeight-Qe-nt.naturalHeight)/2,"px, 0)");setTimeout(function(){$e.setAttribute("style","transition: transform .3s ease-in-out;transform: ".concat(Ye)),setTimeout(function(){$e.parentElement.scrollTo(($e.parentElement.scrollWidth-$e.parentElement.clientWidth)/2,($e.parentElement.scrollHeight-$e.parentElement.clientHeight)/2)},400)});var ut=document.querySelector(".vditor-img__btn");ut.addEventListener("click",function(){var ct=parseInt(ut.getAttribute("data-deg"),10)+90;ct/90%2===1&&nt.naturalWidth>$e.parentElement.clientHeight?$e.style.transform="translate3d(".concat(Math.max(0,window.innerWidth-nt.naturalWidth)/2,"px, ").concat(nt.naturalWidth/2-nt.naturalHeight/2,"px, 0) rotateZ(").concat(ct,"deg)"):$e.style.transform="".concat(Ye," rotateZ(").concat(ct,"deg)"),ut.setAttribute("data-deg",ct.toString()),setTimeout(function(){$e.parentElement.scrollTo(($e.parentElement.scrollWidth-$e.parentElement.clientWidth)/2,($e.parentElement.scrollHeight-$e.parentElement.clientHeight)/2)},400)})}},13:(Xe,ze,We)=>{We.d(ze,{h:()=>A});var at=We(913),nt=We(505),A=function(Te,et){et===void 0&&(et=at.Y.CDN),at.Y.CODE_THEME.includes(Te)||(Te="github");var Qe=document.getElementById("vditorHljsStyle"),$e="".concat(et,"/dist/js/highlight.js/styles/").concat(Te,".min.css");Qe?Qe.getAttribute("href")!==$e&&(Qe.remove(),(0,nt.T)($e,"vditorHljsStyle")):(0,nt.T)($e,"vditorHljsStyle")}},873:(Xe,ze,We)=>{We.d(ze,{H:()=>nt});var at=We(505),nt=function(A,Te){if(!(!A||!Te)){var et=document.getElementById("vditorContentTheme"),Qe="".concat(Te,"/").concat(A,".css");et?et.getAttribute("href")!==Qe&&(et.remove(),(0,at.T)(Qe,"vditorContentTheme")):(0,at.T)(Qe,"vditorContentTheme")}}},161:(Xe,ze,We)=>{We.d(ze,{U:()=>at,Z:()=>nt});var at=function(A,Te){if(document.getElementById(Te))return!1;var et=new XMLHttpRequest;et.open("GET",A,!1),et.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),et.send("");var Qe=document.createElement("script");Qe.type="text/javascript",Qe.text=et.responseText,Qe.id=Te,document.head.appendChild(Qe)},nt=function(A,Te){return new Promise(function(et,Qe){if(document.getElementById(Te))return et(!0),!1;var $e=document.createElement("script");$e.src=A,$e.async=!0,document.head.appendChild($e),$e.onerror=function(Ye){Qe(Ye)},$e.onload=function(){if(document.getElementById(Te))return $e.remove(),et(!0),!1;$e.id=Te,et(!0)}})}},505:(Xe,ze,We)=>{We.d(ze,{T:()=>at});var at=function(nt,A){if(!document.getElementById(A)){var Te=document.createElement("link");Te.id=A,Te.rel="stylesheet",Te.type="text/css",Te.href=nt,document.getElementsByTagName("head")[0].appendChild(Te)}}},695:(Xe,ze,We)=>{We.d(ze,{p:()=>at});var at=function(nt){return nt.replace(/\u00a0/g," ")}},629:(Xe,ze,We)=>{We.d(ze,{D:()=>A,H8:()=>$e,_0:()=>et,fG:()=>Qe,gm:()=>nt,nr:()=>at,y3:()=>Te});var at=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},nt=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},A=function(){try{return typeof localStorage!="undefined"}catch(Ye){return!1}},Te=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},et=function(Ye){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!!(Ye.metaKey&&!Ye.ctrlKey):!!(!Ye.metaKey&&Ye.ctrlKey)},Qe=function(Ye){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?Ye.indexOf("⇧")>-1&&nt()&&(Ye=Ye.replace(";",":").replace("=","+").replace("-","_")):(Ye.startsWith("⌘")?Ye=Ye.replace("⌘","⌘+"):Ye.startsWith("⌥")&&Ye.substr(1,1)!=="⌘"?Ye=Ye.replace("⌥","⌥+"):Ye=Ye.replace("⇧⌘","⌘+⇧+").replace("⌥⌘","⌥+⌘+"),Ye=Ye.replace("⌘","Ctrl").replace("⇧","Shift").replace("⌥","Alt"),Ye.indexOf("Shift")>-1&&(Ye=Ye.replace(";",":").replace("=","+").replace("-","_"))),Ye},$e=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},933:(Xe,ze,We)=>{We.d(ze,{Ee:()=>at,TK:()=>nt,kY:()=>A});var at=function(){return([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(Te){return(parseInt(Te,10)^window.crypto.getRandomValues(new Uint32Array(1))[0]&15>>parseInt(Te,10)/4).toString(16)})},nt=function(Te,et){et===void 0&&(et=window.location.search);var Qe=et.substring(et.indexOf("?")),$e=Qe.indexOf("#"),Ye=new URLSearchParams(Qe.substring(0,$e>=0?$e:void 0));return Ye.get(Te)},A=function(Te){return Function('"use strict";return ('.concat(Te,")"))()}},598:(Xe,ze,We)=>{We.d(ze,{Ab:()=>A,KJ:()=>Ye,KR:()=>Te,Rp:()=>ut,Th:()=>et,XW:()=>nt,_Y:()=>$e,pt:()=>Qe});var at=We(164),nt=function(ct,qe){for(var lt=Ye(ct,qe),Ue=!1,pt=!1;lt&&!lt.classList.contains("vditor-reset")&&!pt;)Ue=Ye(lt.parentElement,qe),Ue?lt=Ue:pt=!0;return lt||!1},A=function(ct,qe){for(var lt=(0,at.f)(ct,qe),Ue=!1,pt=!1;lt&&!lt.classList.contains("vditor-reset")&&!pt;)Ue=(0,at.f)(lt.parentElement,qe),Ue?lt=Ue:pt=!0;return lt||!1},Te=function(ct){var qe=A(ct,"UL"),lt=A(ct,"OL"),Ue=qe;return lt&&(!qe||qe&&lt.contains(qe))&&(Ue=lt),Ue},et=function(ct,qe,lt){if(!ct)return!1;ct.nodeType===3&&(ct=ct.parentElement);for(var Ue=ct,pt=!1;Ue&&!pt&&!Ue.classList.contains("vditor-reset");)Ue.getAttribute(qe)===lt?pt=!0:Ue=Ue.parentElement;return pt&&Ue},Qe=function(ct){if(!ct)return!1;ct.nodeType===3&&(ct=ct.parentElement);var qe=ct,lt=!1,Ue=et(ct,"data-block","0");if(Ue)return Ue;for(;qe&&!lt&&!qe.classList.contains("vditor-reset");)qe.tagName==="H1"||qe.tagName==="H2"||qe.tagName==="H3"||qe.tagName==="H4"||qe.tagName==="H5"||qe.tagName==="H6"||qe.tagName==="P"||qe.tagName==="BLOCKQUOTE"||qe.tagName==="OL"||qe.tagName==="UL"?lt=!0:qe=qe.parentElement;return lt&&qe},$e=function(ct,qe){if(!ct)return!1;ct.nodeType===3&&(ct=ct.parentElement);for(var lt=ct,Ue=!1;lt&&!Ue&&!lt.classList.contains("vditor-reset");)lt.nodeName===qe?Ue=!0:lt=lt.parentElement;return Ue&&lt},Ye=function(ct,qe){if(!ct)return!1;ct.nodeType===3&&(ct=ct.parentElement);for(var lt=ct,Ue=!1;lt&&!Ue&&!lt.classList.contains("vditor-reset");)lt.classList.contains(qe)?Ue=!0:lt=lt.parentElement;return Ue&&lt},ut=function(ct){for(;ct&&ct.lastChild;)ct=ct.lastChild;return ct}},164:(Xe,ze,We)=>{We.d(ze,{c:()=>nt,f:()=>at});var at=function(A,Te){if(!A)return!1;A.nodeType===3&&(A=A.parentElement);for(var et=A,Qe=!1;et&&!Qe&&!et.classList.contains("vditor-reset");)et.nodeName.indexOf(Te)===0?Qe=!0:et=et.parentElement;return Qe&&et},nt=function(A){var Te=at(A,"H");return Te&&Te.tagName.length===2&&Te.tagName!=="HR"?Te:!1}},905:(Xe,ze,We)=>{We.d(ze,{h:()=>at});var at=function(){for(var nt=[],A=0;A<arguments.length;A++)nt[A]=arguments[A];for(var Te={},et=function($e){for(var Ye in $e)$e.hasOwnProperty(Ye)&&(Object.prototype.toString.call($e[Ye])==="[object Object]"?Te[Ye]=at(Te[Ye],$e[Ye]):Te[Ye]=$e[Ye])},Qe=0;Qe<nt.length;Qe++)et(nt[Qe]);return Te}},827:(Xe,ze,We)=>{We.d(ze,{Co:()=>Qe,ED:()=>Ye,Ey:()=>et,Fm:()=>ut,RN:()=>Te,Z2:()=>qe,ir:()=>ct,jl:()=>$e});var at=We(913),nt=We(629),A=We(598),Te=function(lt){var Ue,pt=lt[lt.currentMode].element;return getSelection().rangeCount>0&&(Ue=getSelection().getRangeAt(0),pt.isEqualNode(Ue.startContainer)||pt.contains(Ue.startContainer))?Ue:lt[lt.currentMode].range?lt[lt.currentMode].range:(pt.focus(),Ue=pt.ownerDocument.createRange(),Ue.setStart(pt,0),Ue.collapse(!0),Ue)},et=function(lt){var Ue=window.getSelection().getRangeAt(0);if(!lt.contains(Ue.startContainer)&&!(0,A.KJ)(Ue.startContainer,"vditor-panel--none"))return{left:0,top:0};var pt=lt.parentElement.getBoundingClientRect(),It;if(Ue.getClientRects().length===0)if(Ue.startContainer.nodeType===3){var Tt=Ue.startContainer.parentElement;if(Tt&&Tt.getClientRects().length>0)It=Tt.getClientRects()[0];else return{left:0,top:0}}else{var mt=Ue.startContainer.children;if(mt[Ue.startOffset]&&mt[Ue.startOffset].getClientRects().length>0)It=mt[Ue.startOffset].getClientRects()[0];else if(Ue.startContainer.childNodes.length>0){var vt=Ue.cloneRange();Ue.selectNode(Ue.startContainer.childNodes[Math.max(0,Ue.startOffset-1)]),It=Ue.getClientRects()[0],Ue.setEnd(vt.endContainer,vt.endOffset),Ue.setStart(vt.startContainer,vt.startOffset)}else It=Ue.startContainer.getClientRects()[0];if(!It){for(var Et=Ue.startContainer.childNodes[Ue.startOffset];!Et.getClientRects||Et.getClientRects&&Et.getClientRects().length===0;)Et=Et.parentElement;It=Et.getClientRects()[0]}}else It=Ue.getClientRects()[0];return{left:It.left-pt.left,top:It.top-pt.top}},Qe=function(lt,Ue){if(!Ue){if(getSelection().rangeCount===0)return!1;Ue=getSelection().getRangeAt(0)}var pt=Ue.commonAncestorContainer;return lt.isEqualNode(pt)||lt.contains(pt)},$e=function(lt){var Ue=window.getSelection();Ue.removeAllRanges(),Ue.addRange(lt)},Ye=function(lt,Ue,pt){var It={end:0,start:0};if(!pt){if(getSelection().rangeCount===0)return It;pt=window.getSelection().getRangeAt(0)}if(Qe(Ue,pt)){var Tt=pt.cloneRange();lt.childNodes[0]&&lt.childNodes[0].childNodes[0]?Tt.setStart(lt.childNodes[0].childNodes[0],0):Tt.selectNodeContents(lt),Tt.setEnd(pt.startContainer,pt.startOffset),It.start=Tt.toString().length,It.end=It.start+pt.toString().length}return It},ut=function(lt,Ue,pt){var It=0,Tt=0,mt=pt.childNodes[Tt],vt=!1,Et=!1;lt=Math.max(0,lt),Ue=Math.max(0,Ue);var st=pt.ownerDocument.createRange();for(st.setStart(mt||pt,0),st.collapse(!0);!Et&&mt;){var At=It+mt.textContent.length;if(!vt&&lt>=It&&lt<=At&&(lt===0?st.setStart(mt,0):mt.childNodes[0].nodeType===3?st.setStart(mt.childNodes[0],lt-It):mt.nextSibling?st.setStartBefore(mt.nextSibling):st.setStartAfter(mt),vt=!0,lt===Ue)){Et=!0;break}vt&&Ue>=It&&Ue<=At&&(Ue===0?st.setEnd(mt,0):mt.childNodes[0].nodeType===3?st.setEnd(mt.childNodes[0],Ue-It):mt.nextSibling?st.setEndBefore(mt.nextSibling):st.setEndAfter(mt),Et=!0),It=At,mt=pt.childNodes[++Tt]}return!Et&&pt.childNodes[Tt-1]&&st.setStartBefore(pt.childNodes[Tt-1]),$e(st),st},ct=function(lt,Ue){var pt=lt.querySelector("wbr");if(pt){if(!pt.previousElementSibling)pt.previousSibling?Ue.setStart(pt.previousSibling,pt.previousSibling.textContent.length):pt.nextSibling?pt.nextSibling.nodeType===3?Ue.setStart(pt.nextSibling,0):Ue.setStartBefore(pt.nextSibling):Ue.setStart(pt.parentElement,0);else if(pt.previousElementSibling.isSameNode(pt.previousSibling))if(pt.previousElementSibling.lastChild){Ue.setStartBefore(pt),Ue.collapse(!0),$e(Ue),(0,nt.H8)()&&(pt.previousElementSibling.tagName==="EM"||pt.previousElementSibling.tagName==="STRONG"||pt.previousElementSibling.tagName==="S")&&(Ue.insertNode(document.createTextNode(at.Y.ZWSP)),Ue.collapse(!1)),pt.remove();return}else Ue.setStartAfter(pt.previousElementSibling);else Ue.setStart(pt.previousSibling,pt.previousSibling.textContent.length);Ue.collapse(!0),pt.remove(),$e(Ue)}},qe=function(lt,Ue){var pt=document.createElement("div");pt.innerHTML=lt;var It=pt.querySelectorAll("p");It.length===1&&!It[0].previousSibling&&!It[0].nextSibling&&Ue[Ue.currentMode].element.children.length>0&&pt.firstElementChild.tagName==="P"&&(lt=It[0].innerHTML.trim());var Tt=document.createElement("div");Tt.innerHTML=lt;var mt=Te(Ue);if(mt.toString()!==""&&(Ue[Ue.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),Tt.firstElementChild&&Tt.firstElementChild.getAttribute("data-block")==="0"){Tt.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var vt=(0,A.pt)(mt.startContainer);vt?vt.insertAdjacentHTML("afterend",Tt.innerHTML):Ue[Ue.currentMode].element.insertAdjacentHTML("beforeend",Tt.innerHTML),ct(Ue[Ue.currentMode].element,mt)}else{var Et=document.createElement("template");Et.innerHTML=lt,mt.insertNode(Et.content.cloneNode(!0)),mt.collapse(!1),$e(mt)}}}},x={};function He(Xe){var ze=x[Xe];if(ze!==void 0)return ze.exports;var We=x[Xe]={exports:{}};return C[Xe](We,We.exports,He),We.exports}He.d=(Xe,ze)=>{for(var We in ze)He.o(ze,We)&&!He.o(Xe,We)&&Object.defineProperty(Xe,We,{enumerable:!0,get:ze[We]})},He.o=(Xe,ze)=>Object.prototype.hasOwnProperty.call(Xe,ze),He.r=Xe=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Xe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Xe,"__esModule",{value:!0})};var Ge={};return(()=>{He.d(Ge,{default:()=>gl});var Xe=He(923),ze=He(913),We=He(695),at=function(d){return d.currentMode==="sv"?(0,We.p)("".concat(d.sv.element.textContent,`
`).replace(/\n\n$/,`
`)):d.currentMode==="wysiwyg"?d.lute.VditorDOM2Md(d.wysiwyg.element.innerHTML):d.currentMode==="ir"?d.lute.VditorIRDOM2Md(d.ir.element.innerHTML):""},nt=He(161),A=function(){function d(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return d.prototype.renderEchart=function(v){var p=this;v.devtools.element.style.display==="block"&&(0,nt.Z)("".concat(v.options.cdn,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){p.ASTChart||(p.ASTChart=echarts.init(v.devtools.element.lastElementChild));try{p.element.lastElementChild.style.display="block",p.element.firstElementChild.innerHTML="",p.ASTChart.setOption({series:[{data:JSON.parse(v.lute.RenderEChartsJSON(at(v))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),p.ASTChart.resize()}catch(k){p.element.lastElementChild.style.display="none",p.element.firstElementChild.innerHTML=k}})},d}(),Te=He(629),et=function(d,v){v.forEach(function(p){if(d[p]){var k=d[p].children[0];k&&k.classList.contains("vditor-menu--current")&&k.classList.remove("vditor-menu--current")}})},Qe=function(d,v){v.forEach(function(p){if(d[p]){var k=d[p].children[0];k&&!k.classList.contains("vditor-menu--current")&&k.classList.add("vditor-menu--current")}})},$e=function(d,v){v.forEach(function(p){if(d[p]){var k=d[p].children[0];k&&k.classList.contains(ze.Y.CLASS_MENU_DISABLED)&&k.classList.remove(ze.Y.CLASS_MENU_DISABLED)}})},Ye=function(d,v){v.forEach(function(p){if(d[p]){var k=d[p].children[0];k&&!k.classList.contains(ze.Y.CLASS_MENU_DISABLED)&&k.classList.add(ze.Y.CLASS_MENU_DISABLED)}})},ut=function(d,v){v.forEach(function(p){d[p]&&d[p]&&(d[p].style.display="none")})},ct=function(d,v){v.forEach(function(p){d[p]&&d[p]&&(d[p].style.display="block")})},qe=function(d,v,p){v.includes("subToolbar")&&(d.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(k){p&&k.isEqualNode(p)||(k.style.display="none")}),d.toolbar.elements.emoji&&(d.toolbar.elements.emoji.lastElementChild.style.display="none")),v.includes("hint")&&(d.hint.element.style.display="none"),d.wysiwyg.popover&&v.includes("popover")&&(d.wysiwyg.popover.style.display="none")},lt=function(d,v,p,k){p.addEventListener((0,Te.y3)(),function(N){N.preventDefault(),N.stopPropagation(),!p.classList.contains(ze.Y.CLASS_MENU_DISABLED)&&(d.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(Ke){Ke.classList.remove("vditor-hint--current")}),v.style.display==="block"?v.style.display="none":(qe(d,["subToolbar","hint","popover"],p.parentElement.parentElement),p.classList.contains("vditor-tooltipped")||p.classList.add("vditor-hint--current"),v.style.display="block",d.toolbar.element.getBoundingClientRect().right-p.getBoundingClientRect().right<250?v.classList.add("vditor-panel--left"):v.classList.remove("vditor-panel--left")))})},Ue=He(598),pt=He(164),It=function(d,v,p,k){},Tt=He(288),mt=He(784),vt=He(51),Et=He(500),st=He(339),At=He(108),nn=He(960),wn=He(975),Ht=He(597),Sn=He(162),lr=He(591),Ve=He(931),jt=function(d,v,p){p===void 0&&(p="sv");var k=document.createElement("div");k.innerHTML=d;var N=!1;k.childElementCount===1&&k.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(N=!0);var Ke=k.querySelectorAll("pre");if(k.childElementCount===1&&Ke.length===1&&Ke[0].className!=="vditor-wysiwyg"&&Ke[0].className!=="vditor-sv"&&(N=!0),d.indexOf(`
<p class="p1">`)===0&&(N=!0),k.childElementCount===1&&k.firstElementChild.tagName==="TABLE"&&k.querySelector(".line-number")&&k.querySelector(".line-content")&&(N=!0),N){var St=v||d;return/\n/.test(St)||Ke.length===1?p==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'.concat(St.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"<wbr></code></pre></div>"):"\n```\n"+St.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":p==="wysiwyg"?"<code>".concat(St.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"</code><wbr>"):"`".concat(St,"`")}return!1},cn=function(d,v){if(d){if(d.parentElement.getAttribute("data-type")==="html-block"){d.setAttribute("data-render","1");return}var p=d.firstElementChild.className.replace("language-","");if(p==="abc")(0,Tt.$)(d,v.options.cdn);else if(p==="mermaid")(0,wn.e)(d,v.options.cdn,v.options.theme);else if(p==="smiles")(0,Ve.Y)(d,v.options.cdn,v.options.theme);else if(p==="markmap")(0,Ht.K)(d,v.options.cdn);else if(p==="flowchart")(0,Et.D)(d,v.options.cdn);else if(p==="echarts")(0,mt.v)(d,v.options.cdn,v.options.theme);else if(p==="mindmap")(0,Sn.l)(d,v.options.cdn,v.options.theme);else if(p==="plantuml")(0,lr.M)(d,v.options.cdn);else if(p==="graphviz")(0,st.m)(d,v.options.cdn);else if(p==="math")(0,nn.T)(d,{cdn:v.options.cdn,math:v.options.preview.math});else{var k=v.options.customRenders.find(function(N){if(N.language===p)return N.render(d,v),!0});k||((0,At.$)(Object.assign({},v.options.preview.hljs),d,v.options.cdn),(0,vt.o)(d,v.options.preview.hljs))}d.setAttribute("data-render","1")}},yt=He(827),Mt=function(d){if(d.currentMode!=="sv"){var v=d[d.currentMode].element,p=d.outline.render(d);p===""&&(p="[ToC]"),v.querySelectorAll('[data-type="toc-block"]').forEach(function(k){k.innerHTML=p,(0,nn.T)(k,{cdn:d.options.cdn,math:d.options.preview.math})})}},Lt=function(d,v){var p=(0,Ue._Y)(d.target,"SPAN");if(p&&(0,Ue.KJ)(p,"vditor-toc")){var k=v[v.currentMode].element.querySelector("#"+p.getAttribute("data-target-id"));if(k)if(v.options.height==="auto"){var N=k.offsetTop+v.element.offsetTop;v.options.toolbarConfig.pin||(N+=v.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,N)}else v.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,v.element.offsetTop),v[v.currentMode].element.scrollTop=k.offsetTop;return}},qt=function(d,v,p,k){if(d.previousElementSibling&&d.previousElementSibling.classList.contains("vditor-toc")){if(p.key==="Backspace"&&(0,yt.ED)(d,v[v.currentMode].element,k).start===0)return d.previousElementSibling.remove(),go(v),!0;if(si(v,p,k,d,d.previousElementSibling))return!0}if(d.nextElementSibling&&d.nextElementSibling.classList.contains("vditor-toc")){if(p.key==="Delete"&&(0,yt.ED)(d,v[v.currentMode].element,k).start>=d.textContent.trimRight().length)return d.nextElementSibling.remove(),go(v),!0;if(Do(v,p,k,d,d.nextElementSibling))return!0}if(p.key==="Backspace"||p.key==="Delete"){var N=(0,Ue.KJ)(k.startContainer,"vditor-toc");if(N)return N.remove(),go(v),!0}},an=function(d,v,p,k){p===void 0&&(p=!1);var N=(0,Ue.pt)(v.startContainer);if(N&&!p&&N.getAttribute("data-type")!=="code-block"){if(Zs(N.innerHTML)&&N.previousElementSibling||Ts(N.innerHTML))return;for(var Ke=(0,yt.ED)(N,d.ir.element,v).start,St=!0,Bt=Ke-1;Bt>N.textContent.substr(0,Ke).lastIndexOf(`
`);Bt--)if(N.textContent.charAt(Bt)!==" "&&N.textContent.charAt(Bt)!=="	"){St=!1;break}Ke===0&&(St=!1);for(var en=!0,Bt=Ke-1;Bt<N.textContent.length;Bt++)if(N.textContent.charAt(Bt)!==" "&&N.textContent.charAt(Bt)!==`
`){en=!1;break}if(St){typeof d.options.input=="function"&&d.options.input(at(d));return}if(en&&/^#{1,6} $/.test(N.textContent)&&(en=!1),en){var Vt=(0,Ue.KJ)(v.startContainer,"vditor-ir__marker");if(!Vt){var yn=v.startContainer.previousSibling;yn&&yn.nodeType!==3&&yn.classList.contains("vditor-ir__node--expand")&&yn.classList.remove("vditor-ir__node--expand"),typeof d.options.input=="function"&&d.options.input(at(d));return}}}if(d.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(Ro){Ro.classList.remove("vditor-ir__node--expand")}),N||(N=d.ir.element),!N.querySelector("wbr")){var ur=(0,Ue.KJ)(v.startContainer,"vditor-ir__preview");ur?ur.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):v.insertNode(document.createElement("wbr"))}N.querySelectorAll("[style]").forEach(function(Ro){Ro.removeAttribute("style")}),N.getAttribute("data-type")==="link-ref-defs-block"&&(N=d.ir.element);var da=N.isEqualNode(d.ir.element),ia=(0,Ue.Th)(N,"data-type","footnotes-block"),na="";if(da)na=N.innerHTML;else{var Ta=(0,pt.f)(v.startContainer,"BLOCKQUOTE"),Ca=(0,Ue.KR)(v.startContainer);if(Ca&&(N=Ca),Ta&&(!Ca||Ca&&!Ta.contains(Ca))&&(N=Ta),ia&&(N=ia),na=N.outerHTML,N.tagName==="UL"||N.tagName==="OL"){var qr=N.previousElementSibling,uo=N.nextElementSibling;qr&&(qr.tagName==="UL"||qr.tagName==="OL")&&(na=qr.outerHTML+na,qr.remove()),uo&&(uo.tagName==="UL"||uo.tagName==="OL")&&(na=na+uo.outerHTML,uo.remove()),na=na.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else N.previousElementSibling&&N.previousElementSibling.textContent.replace(ze.Y.ZWSP,"")!==""&&k&&k.inputType==="insertParagraph"&&(na=N.previousElementSibling.outerHTML+na,N.previousElementSibling.remove());N.innerText.startsWith("```")||(d.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(Ro){Ro&&!N.isEqualNode(Ro)&&(na+=Ro.outerHTML,Ro.remove())}),d.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(Ro){Ro&&!N.isEqualNode(Ro)&&(na+=Ro.outerHTML,Ro.remove())}))}if(It("SpinVditorIRDOM",na,"argument",d.options.debugger),na=d.lute.SpinVditorIRDOM(na),It("SpinVditorIRDOM",na,"result",d.options.debugger),da)N.innerHTML=na;else if(N.outerHTML=na,ia){var Wa=(0,Ue.Th)(d.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(Wa){var yo=Wa.textContent,gi=yo.substring(1,yo.indexOf("]:")),ai=d.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(gi,'"]'));ai&&ai.setAttribute("aria-label",yo.substr(gi.length+3).trim().substr(0,24))}}var Ai,Da=d.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");Da.forEach(function(Ro,vu){vu===0?Ai=Ro:(Ai.insertAdjacentHTML("beforeend",Ro.innerHTML),Ro.remove())}),Da.length>0&&d.ir.element.insertAdjacentElement("beforeend",Da[0]);var Ni,Ku=d.ir.element.querySelectorAll("[data-type='footnotes-block']");Ku.forEach(function(Ro,vu){vu===0?Ni=Ro:(Ni.insertAdjacentHTML("beforeend",Ro.innerHTML),Ro.remove())}),Ku.length>0&&d.ir.element.insertAdjacentElement("beforeend",Ku[0]),(0,yt.ir)(d.ir.element,v),d.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(Ro){cn(Ro,d)}),Mt(d),Xa(d,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},ot=function(d,v){if(d==="")return!1;if(d.indexOf("⇧")===-1&&d.indexOf("⌘")===-1&&d.indexOf("⌥")===-1)return!(0,Te._0)(v)&&!v.altKey&&!v.shiftKey&&v.code===d;if(d==="⇧Tab")return!!(!(0,Te._0)(v)&&!v.altKey&&v.shiftKey&&v.code==="Tab");var p=d.split("");if(d.startsWith("⌥")){var k=p.length===3?p[2]:p[1];return!!((p.length===3?(0,Te._0)(v):!(0,Te._0)(v))&&v.altKey&&!v.shiftKey&&v.code===(/^[0-9]$/.test(k)?"Digit":"Key")+k)}d==="⌘Enter"&&(p=["⌘","Enter"]);var N=p.length>2&&p[0]==="⇧",Ke=N?p[2]:p[1];return N&&((0,Te.gm)()||!/Mac/.test(navigator.platform))&&(Ke==="-"?Ke="_":Ke==="="&&(Ke="+")),!!((0,Te._0)(v)&&v.key.toLowerCase()===Ke.toLowerCase()&&!v.altKey&&(!N&&!v.shiftKey||N&&v.shiftKey))},En=function(d){var v=d.startContainer;if(v.nodeType===3&&v.nodeValue.length!==d.startOffset)return!1;for(var p=v.nextSibling;p&&p.textContent==="";)p=p.nextSibling;if(p){if(p&&p.nodeType!==3&&p.classList.contains("vditor-ir__node")&&!p.getAttribute("data-block"))return p}else{var k=(0,Ue.KJ)(v,"vditor-ir__marker");if(k&&!k.nextSibling){var N=v.parentElement.parentElement.nextSibling;if(N&&N.nodeType!==3&&N.classList.contains("vditor-ir__node"))return N}return!1}return!1},Pt=function(d){var v=d.startContainer,p=v.previousSibling;return v.nodeType===3&&d.startOffset===0&&p&&p.nodeType!==3&&p.classList.contains("vditor-ir__node")&&!p.getAttribute("data-block")?p:!1},xt=function(d,v){v.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(St){St.classList.remove("vditor-ir__node--expand")});var p=(0,Ue.XW)(d.startContainer,"vditor-ir__node"),k=!d.collapsed&&(0,Ue.XW)(d.endContainer,"vditor-ir__node");if(!(!d.collapsed&&(!p||p!==k))){p&&(p.classList.add("vditor-ir__node--expand"),p.classList.remove("vditor-ir__node--hidden"),(0,yt.jl)(d));var N=En(d);if(N){N.classList.add("vditor-ir__node--expand"),N.classList.remove("vditor-ir__node--hidden");return}var Ke=Pt(d);if(Ke){Ke.classList.add("vditor-ir__node--expand"),Ke.classList.remove("vditor-ir__node--hidden");return}}},vn=function(d,v){if(d.ir.composingLock=v.isComposing,v.isComposing)return!1;v.key.indexOf("Arrow")===-1&&v.key!=="Meta"&&v.key!=="Control"&&v.key!=="Alt"&&v.key!=="Shift"&&v.key!=="CapsLock"&&v.key!=="Escape"&&!/^F\d{1,2}$/.test(v.key)&&d.undo.recordFirstPosition(d,v);var p=(0,yt.RN)(d),k=p.startContainer;if(!Un(v,d,k)||(Fr(p,d,v),fr(p),v.key!=="Enter"&&v.key!=="Tab"&&v.key!=="Backspace"&&v.key.indexOf("Arrow")===-1&&!(0,Te._0)(v)&&v.key!=="Escape"&&v.key!=="Delete"))return!1;var N=(0,Ue.Th)(k,"data-newline","1");if(!(0,Te._0)(v)&&!v.altKey&&!v.shiftKey&&v.key==="Enter"&&N&&p.startOffset<N.textContent.length){var Ke=N.previousElementSibling;Ke&&(p.insertNode(document.createTextNode(Ke.textContent)),p.collapse(!1));var St=N.nextSibling;St&&(p.insertNode(document.createTextNode(St.textContent)),p.collapse(!0))}var Bt=(0,Ue._Y)(k,"P");if(As(v,d,Bt,p)||Ki(p,d,Bt,v)||Rt(d,p,v,Bt))return!0;var en=(0,Ue.KJ)(k,"vditor-ir__marker--pre");if(en&&en.tagName==="PRE"){var Vt=en.firstChild;if(pl(d,v,en,p)||(Vt.getAttribute("data-type")==="math-block"||Vt.getAttribute("data-type")==="html-block")&&si(d,v,p,Vt,en.parentElement)||Do(d,v,p,Vt,en.parentElement))return!0}var yn=(0,Ue.Th)(k,"data-type","code-block-info");if(yn){if(v.key==="Enter"||v.key==="Tab")return p.selectNodeContents(yn.nextElementSibling.firstChild),p.collapse(!0),v.preventDefault(),qe(d,["hint"]),!0;if(v.key==="Backspace"){var ur=(0,yt.ED)(yn,d.ir.element).start;ur===1&&p.setStart(k,0),ur===2&&(d.hint.recentLanguage="")}if(si(d,v,p,yn,yn.parentElement))return qe(d,["hint"]),!0}var da=(0,Ue._Y)(k,"TD")||(0,Ue._Y)(k,"TH");if(v.key.indexOf("Arrow")>-1&&da){var ia=Ha(da);if(ia&&si(d,v,p,da,ia))return!0;var na=za(da);if(na&&Do(d,v,p,da,na))return!0}if(tl(d,v,p)||xn(d,p,v)||el(d,p,v))return!0;var Ta=(0,pt.c)(k);if(Ta){if(ot("⌘=",v)){var Ca=Ta.querySelector(".vditor-ir__marker--heading");return Ca&&Ca.textContent.trim().length>1&&Go(d,Ca.textContent.substr(1)),v.preventDefault(),!0}if(ot("⌘-",v)){var Ca=Ta.querySelector(".vditor-ir__marker--heading");return Ca&&Ca.textContent.trim().length<6&&Go(d,Ca.textContent.trim()+"# "),v.preventDefault(),!0}}var qr=(0,Ue.pt)(k);if(v.key==="Backspace"&&!(0,Te._0)(v)&&!v.shiftKey&&!v.altKey&&p.toString()===""){if(In(d,p,v,Bt))return!0;if(qr&&qr.previousElementSibling&&qr.tagName!=="UL"&&qr.tagName!=="OL"&&(qr.previousElementSibling.getAttribute("data-type")==="code-block"||qr.previousElementSibling.getAttribute("data-type")==="math-block")){var uo=(0,yt.ED)(qr,d.ir.element,p).start;if(uo===0||uo===1&&qr.innerText.startsWith(ze.Y.ZWSP))return p.selectNodeContents(qr.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),p.collapse(!1),xt(p,d),qr.textContent.trim().replace(ze.Y.ZWSP,"")===""&&(qr.remove(),Xa(d)),v.preventDefault(),!0}if(Ta){var Wa=Ta.firstElementChild.textContent.length;(0,yt.ED)(Ta,d.ir.element).start===Wa&&Wa!==0&&(p.setStart(Ta.firstElementChild.firstChild,Wa-1),p.collapse(!0),(0,yt.jl)(p))}}return(v.key==="ArrowUp"||v.key==="ArrowDown")&&qr&&(qr.querySelectorAll(".vditor-ir__node").forEach(function(yo){yo.contains(k)||yo.classList.add("vditor-ir__node--hidden")}),Rr(v,qr,p))?!0:(ea(p,v.key),qr&&qt(qr,d,v,p)?(v.preventDefault(),!0):!1)},Ot=He(726),Zt=function(d,v){d.querySelectorAll("[data-type=footnotes-link]").forEach(function(p){for(var k=p.parentElement,N=k.nextSibling;N&&N.textContent.startsWith("    ");){var Ke=N;Ke.childNodes.forEach(function(St){k.append(St.cloneNode(!0))}),N=N.nextSibling,Ke.remove()}v&&v(k)})},mn=function(d,v){var p,k=getSelection().getRangeAt(0).cloneRange(),N=k.startContainer;k.startContainer.nodeType!==3&&k.startContainer.tagName==="DIV"&&(N=k.startContainer.childNodes[k.startOffset-1]);var Ke=(0,Ue.Th)(N,"data-block","0");if(Ke&&v&&(v.inputType==="deleteContentBackward"||v.data===" ")){for(var St=(0,yt.ED)(Ke,d.sv.element,k).start,Bt=!0,en=St-1;en>Ke.textContent.substr(0,St).lastIndexOf(`
`);en--)if(Ke.textContent.charAt(en)!==" "&&Ke.textContent.charAt(en)!=="	"){Bt=!1;break}if(St===0&&(Bt=!1),Bt){Gt(d);return}if(v.inputType==="deleteContentBackward"){var Vt=(0,Ue.Th)(N,"data-type","code-block-open-marker")||(0,Ue.Th)(N,"data-type","code-block-close-marker");if(Vt){if(Vt.getAttribute("data-type")==="code-block-close-marker"){var yn=Su(N,"code-block-open-marker");if(yn){yn.textContent=Vt.textContent,Gt(d);return}}if(Vt.getAttribute("data-type")==="code-block-open-marker"){var yn=Su(N,"code-block-close-marker",!1);if(yn){yn.textContent=Vt.textContent,Gt(d);return}}}var ur=(0,Ue.Th)(N,"data-type","math-block-open-marker");if(ur){var da=ur.nextElementSibling.nextElementSibling;da&&da.getAttribute("data-type")==="math-block-close-marker"&&(da.remove(),Gt(d));return}Ke.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(qr){qr.textContent.length===1&&qr.remove()}),Ke.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(qr){qr.textContent.length===1&&qr.remove()});var ia=(0,Ue.Th)(N,"data-type","heading-marker");if(ia&&ia.textContent.indexOf("#")===-1){Gt(d);return}}if((v.data===" "||v.inputType==="deleteContentBackward")&&((0,Ue.Th)(N,"data-type","padding")||(0,Ue.Th)(N,"data-type","li-marker")||(0,Ue.Th)(N,"data-type","task-marker")||(0,Ue.Th)(N,"data-type","blockquote-marker"))){Gt(d);return}}if(Ke&&Ke.textContent.trimRight()==="$$"){Gt(d);return}Ke||(Ke=d.sv.element),((p=Ke.firstElementChild)===null||p===void 0?void 0:p.getAttribute("data-type"))==="link-ref-defs-block"&&(Ke=d.sv.element),(0,Ue.Th)(N,"data-type","footnotes-link")&&(Ke=d.sv.element),Ke.textContent.indexOf(Lute.Caret)===-1&&k.insertNode(document.createTextNode(Lute.Caret)),Ke.querySelectorAll("[style]").forEach(function(qr){qr.removeAttribute("style")}),Ke.querySelectorAll("font").forEach(function(qr){qr.outerHTML=qr.innerHTML});var na=Ke.textContent,Ta=Ke.isEqualNode(d.sv.element);if(Ta)na=Ke.textContent;else{Ke.previousElementSibling&&(na=Ke.previousElementSibling.textContent+na,Ke.previousElementSibling.remove()),Ke.previousElementSibling&&na.indexOf(`---
`)===0&&(na=Ke.previousElementSibling.textContent+na,Ke.previousElementSibling.remove());var Ca="";d.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(qr,uo){qr&&!Ke.isEqualNode(qr.parentElement)&&(Ca+=qr.parentElement.textContent+`
`,qr.parentElement.remove())}),d.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(qr,uo){qr&&!Ke.isEqualNode(qr.parentElement)&&(Ca+=qr.parentElement.textContent+`
`,qr.parentElement.remove())}),na=Ca+na}na=ju(na,d),Ta?Ke.innerHTML=na:Ke.outerHTML=na,d.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(qr){d.sv.element.insertAdjacentElement("beforeend",qr.parentElement)}),Zt(d.sv.element,function(qr){d.sv.element.insertAdjacentElement("beforeend",qr)}),(0,yt.ir)(d.sv.element,k),Po(d),Gt(d,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},ln=function(d,v){var p,k,N,Ke,St;if(d.sv.composingLock=v.isComposing,v.isComposing||(v.key.indexOf("Arrow")===-1&&v.key!=="Meta"&&v.key!=="Control"&&v.key!=="Alt"&&v.key!=="Shift"&&v.key!=="CapsLock"&&v.key!=="Escape"&&!/^F\d{1,2}$/.test(v.key)&&d.undo.recordFirstPosition(d,v),v.key!=="Enter"&&v.key!=="Tab"&&v.key!=="Backspace"&&v.key.indexOf("Arrow")===-1&&!(0,Te._0)(v)&&v.key!=="Escape"))return!1;var Bt=(0,yt.RN)(d),en=Bt.startContainer;Bt.startContainer.nodeType!==3&&Bt.startContainer.tagName==="DIV"&&(en=Bt.startContainer.childNodes[Bt.startOffset-1]);var Vt=(0,Ue.Th)(en,"data-type","text"),yn=(0,Ue.Th)(en,"data-type","blockquote-marker");if(!yn&&Bt.startOffset===0&&Vt&&Vt.previousElementSibling&&Vt.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(yn=Vt.previousElementSibling),yn&&v.key==="Enter"&&!(0,Te._0)(v)&&!v.altKey&&yn.nextElementSibling.textContent.trim()===""&&(0,yt.ED)(yn,d.sv.element,Bt).start===yn.textContent.length)return((p=yn.previousElementSibling)===null||p===void 0?void 0:p.getAttribute("data-type"))==="padding"&&yn.previousElementSibling.setAttribute("data-action","enter-remove"),yn.remove(),Gt(d),v.preventDefault(),!0;var ur=(0,Ue.Th)(en,"data-type","li-marker"),da=(0,Ue.Th)(en,"data-type","task-marker"),ia=ur;if(ia||da&&da.nextElementSibling.getAttribute("data-type")!=="task-marker"&&(ia=da),!ia&&Bt.startOffset===0&&Vt&&Vt.previousElementSibling&&(Vt.previousElementSibling.getAttribute("data-type")==="li-marker"||Vt.previousElementSibling.getAttribute("data-type")==="task-marker")&&(ia=Vt.previousElementSibling),ia){var na=(0,yt.ED)(ia,d.sv.element,Bt).start,Ta=ia.getAttribute("data-type")==="task-marker",Ca=ia;if(Ta&&(Ca=ia.previousElementSibling.previousElementSibling.previousElementSibling),na===ia.textContent.length){if(v.key==="Enter"&&!(0,Te._0)(v)&&!v.altKey&&!v.shiftKey&&ia.nextElementSibling.textContent.trim()==="")return((k=Ca.previousElementSibling)===null||k===void 0?void 0:k.getAttribute("data-type"))==="padding"?(Ca.previousElementSibling.remove(),mn(d)):(Ta&&(Ca.remove(),ia.previousElementSibling.previousElementSibling.remove(),ia.previousElementSibling.remove()),ia.nextElementSibling.remove(),ia.remove(),Gt(d)),v.preventDefault(),!0;if(v.key==="Tab")return v.shiftKey?Ca.previousElementSibling.getAttribute("data-type")==="padding"&&Ca.previousElementSibling.remove():Ca.insertAdjacentHTML("beforebegin",'<span data-type="padding">'.concat(Ca.textContent.replace(/\S/g," "),"</span>")),/^\d/.test(Ca.textContent)&&(Ca.textContent=Ca.textContent.replace(/^\d{1,}/,"1"),Bt.selectNodeContents(ia.firstChild),Bt.collapse(!1)),mn(d),v.preventDefault(),!0}}if(el(d,Bt,v))return!0;var qr=(0,Ue.Th)(en,"data-block","0"),uo=(0,pt.f)(en,"SPAN");if(v.key==="Enter"&&!(0,Te._0)(v)&&!v.altKey&&!v.shiftKey&&qr){var Wa=!1,yo=qr.textContent.match(/^\n+/);(0,yt.ED)(qr,d.sv.element).start<=(yo?yo[0].length:0)&&(Wa=!0);var gi=`
`;if(uo){if(((N=uo.previousElementSibling)===null||N===void 0?void 0:N.getAttribute("data-action"))==="enter-remove")return uo.previousElementSibling.remove(),Gt(d),v.preventDefault(),!0;gi+=ks(uo)}return Bt.insertNode(document.createTextNode(gi)),Bt.collapse(!1),qr&&qr.textContent.trim()!==""&&!Wa?mn(d):Gt(d),v.preventDefault(),!0}if(v.key==="Backspace"&&!(0,Te._0)(v)&&!v.altKey&&!v.shiftKey){if(uo&&((Ke=uo.previousElementSibling)===null||Ke===void 0?void 0:Ke.getAttribute("data-type"))==="newline"&&(0,yt.ED)(uo,d.sv.element,Bt).start===1&&uo.getAttribute("data-type").indexOf("code-block-")===-1)return Bt.setStart(uo,0),Bt.extractContents(),uo.textContent.trim()!==""?mn(d):Gt(d),v.preventDefault(),!0;if(qr&&(0,yt.ED)(qr,d.sv.element,Bt).start===0&&qr.previousElementSibling){Bt.extractContents();var ai=qr.previousElementSibling.lastElementChild;return ai.getAttribute("data-type")==="newline"&&(ai.remove(),ai=qr.previousElementSibling.lastElementChild),ai.getAttribute("data-type")!=="newline"&&(ai.insertAdjacentHTML("afterend",qr.innerHTML),qr.remove()),qr.textContent.trim()!==""&&!(!((St=qr.previousElementSibling)===null||St===void 0)&&St.querySelector('[data-type="code-block-open-marker"]'))?mn(d):(ai.getAttribute("data-type")!=="newline"&&(Bt.selectNodeContents(ai.lastChild),Bt.collapse(!1)),Gt(d)),v.preventDefault(),!0}}return!1},Ft=He(873),bn=function(d){d.options.theme==="dark"?d.element.classList.add("vditor--dark"):d.element.classList.remove("vditor--dark")},Kn=function(d){d.element.innerHTML="",d.element.classList.add("vditor"),d.options.rtl&&d.element.setAttribute("dir","rtl"),bn(d),(0,Ft.H)(d.options.preview.theme.current,d.options.preview.theme.path),typeof d.options.height=="number"?d.element.style.height=d.options.height+"px":d.element.style.height=d.options.height,typeof d.options.minHeight=="number"&&(d.element.style.minHeight=d.options.minHeight+"px"),typeof d.options.width=="number"?d.element.style.width=d.options.width+"px":d.element.style.width=d.options.width,d.element.appendChild(d.toolbar.element);var v=document.createElement("div");if(v.className="vditor-content",d.options.outline.position==="left"&&v.appendChild(d.outline.element),v.appendChild(d.wysiwyg.element.parentElement),v.appendChild(d.sv.element),v.appendChild(d.ir.element.parentElement),v.appendChild(d.preview.element),d.toolbar.elements.devtools&&v.appendChild(d.devtools.element),d.options.outline.position==="right"&&(d.outline.element.classList.add("vditor-outline--right"),v.appendChild(d.outline.element)),d.upload&&v.appendChild(d.upload.element),d.options.resize.enable&&v.appendChild(d.resize.element),v.appendChild(d.hint.element),v.appendChild(d.tip.element),d.element.appendChild(v),v.addEventListener("click",function(){qe(d,["subToolbar"])}),d.toolbar.elements.export&&d.element.insertAdjacentHTML("beforeend",'<iframe id="vditorExportIframe" style="width: 100%;height: 0;border: 0"></iframe>'),ii(d,d.options.mode,Br(d)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&typeof window.visualViewport!="undefined"){var p=!1,k=function(N){p||(p=!0,requestAnimationFrame(function(){p=!1;var Ke=d.toolbar.element;Ke.style.transform="none",Ke.getBoundingClientRect().top<0&&(Ke.style.transform="translate(0, ".concat(-Ke.getBoundingClientRect().top,"px)"))}))};window.visualViewport.addEventListener("scroll",k),window.visualViewport.addEventListener("resize",k)}},Jt=function(d){var v=window.innerWidth<=ze.Y.MOBILE_WIDTH?10:35;if(d.wysiwyg.element.parentElement.style.display!=="none"){var p=(d.wysiwyg.element.parentElement.clientWidth-d.options.preview.maxWidth)/2;d.wysiwyg.element.style.padding="10px ".concat(Math.max(v,p),"px")}if(d.ir.element.parentElement.style.display!=="none"){var p=(d.ir.element.parentElement.clientWidth-d.options.preview.maxWidth)/2;d.ir.element.style.padding="10px ".concat(Math.max(v,p),"px")}d.preview.element.style.display!=="block"?d.toolbar.element.style.paddingLeft=Math.max(5,parseInt(d[d.currentMode].element.style.paddingLeft||"0",10)+(d.options.outline.position==="left"?d.outline.element.offsetWidth:0))+"px":d.toolbar.element.style.paddingLeft=5+(d.options.outline.position==="left"?d.outline.element.offsetWidth:0)+"px"},Rn=function(d){if(d.options.typewriterMode){var v=window.innerHeight;typeof d.options.height=="number"?(v=d.options.height,typeof d.options.minHeight=="number"&&(v=Math.max(v,d.options.minHeight)),v=Math.min(window.innerHeight,v)):v=d.element.clientHeight,d.element.classList.contains("vditor--fullscreen")&&(v=window.innerHeight),d[d.currentMode].element.style.setProperty("--editor-bottom",(v-d.toolbar.element.offsetHeight)/2+"px")}},rr;function Vn(){window.removeEventListener("resize",rr)}var Br=function(d){Rn(d),Vn(),window.addEventListener("resize",rr=function(){Jt(d),Rn(d)});var v=(0,Te.D)()&&localStorage.getItem(d.options.cache.id);return(!d.options.cache.enable||!v)&&(d.options.value?v=d.options.value:d.originalInnerHTML?v=d.lute.HTML2Md(d.originalInnerHTML):d.options.cache.enable||(v="")),v||""},la=function(d){clearTimeout(d[d.currentMode].hlToolbarTimeoutId),d[d.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(d[d.currentMode].element.getAttribute("contenteditable")!=="false"&&(0,yt.Co)(d[d.currentMode].element)){et(d.toolbar.elements,ze.Y.EDIT_TOOLBARS),$e(d.toolbar.elements,ze.Y.EDIT_TOOLBARS);var v=(0,yt.RN)(d),p=v.startContainer;v.startContainer.nodeType===3&&(p=v.startContainer.parentElement),p.classList.contains("vditor-reset")&&(p=p.childNodes[v.startOffset]);var k=d.currentMode==="sv"?(0,Ue.Th)(p,"data-type","heading"):(0,pt.c)(p);k&&Qe(d.toolbar.elements,["headings"]);var N=d.currentMode==="sv"?(0,Ue.Th)(p,"data-type","blockquote"):(0,Ue._Y)(p,"BLOCKQUOTE");N&&Qe(d.toolbar.elements,["quote"]);var Ke=(0,Ue.Th)(p,"data-type","strong");Ke&&Qe(d.toolbar.elements,["bold"]);var St=(0,Ue.Th)(p,"data-type","em");St&&Qe(d.toolbar.elements,["italic"]);var Bt=(0,Ue.Th)(p,"data-type","s");Bt&&Qe(d.toolbar.elements,["strike"]);var en=(0,Ue.Th)(p,"data-type","a");en&&Qe(d.toolbar.elements,["link"]);var Vt=(0,Ue._Y)(p,"LI");Vt?(Vt.classList.contains("vditor-task")?Qe(d.toolbar.elements,["check"]):Vt.parentElement.tagName==="OL"?Qe(d.toolbar.elements,["ordered-list"]):Vt.parentElement.tagName==="UL"&&Qe(d.toolbar.elements,["list"]),$e(d.toolbar.elements,["outdent","indent"])):Ye(d.toolbar.elements,["outdent","indent"]);var yn=(0,Ue.Th)(p,"data-type","code-block");yn&&(Ye(d.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),Qe(d.toolbar.elements,["code"]));var ur=(0,Ue.Th)(p,"data-type","code");ur&&(Ye(d.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),Qe(d.toolbar.elements,["inline-code"]));var da=(0,Ue.Th)(p,"data-type","table");da&&Ye(d.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},fa=function(d,v){v===void 0&&(v={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),v.enableHint&&d.hint.render(d),clearTimeout(d.wysiwyg.afterRenderTimeoutId),d.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!d.wysiwyg.composingLock){var p=at(d);typeof d.options.input=="function"&&v.enableInput&&d.options.input(p),d.options.counter.enable&&d.counter.render(d,p),d.options.cache.enable&&(0,Te.D)()&&(localStorage.setItem(d.options.cache.id,p),d.options.cache.after&&d.options.cache.after(p)),d.devtools&&d.devtools.renderEchart(d),v.enableAddUndoStack&&d.undo.addToUndoStack(d)}},d.options.undoDelay)},co=function(d){for(var v=d.previousSibling;v;){if(v.nodeType!==3&&v.tagName==="A"&&!v.previousSibling&&v.innerHTML.replace(ze.Y.ZWSP,"")===""&&v.nextSibling)return v;v=v.previousSibling}return!1},Eo=function(d){for(var v=d.startContainer.nextSibling;v&&v.textContent==="";)v=v.nextSibling;return!!(v&&v.nodeType!==3&&(v.tagName==="CODE"||v.getAttribute("data-type")==="math-inline"||v.getAttribute("data-type")==="html-entity"||v.getAttribute("data-type")==="html-inline"))},hr=function(d){for(var v="",p=d.nextSibling;p;)p.nodeType===3?v+=p.textContent:v+=p.outerHTML,p=p.nextSibling;return v},yr=function(d){for(var v="",p=d.previousSibling;p;)p.nodeType===3?v=p.textContent+v:v=p.outerHTML+v,p=p.previousSibling;return v},mr=function(d){for(var v=d;v&&!v.nextSibling;)v=v.parentElement;return v.nextSibling},Pn=function(d){var v=yr(d.startContainer),p=hr(d.startContainer),k=d.startContainer.textContent,N=d.startOffset,Ke="",St="";return(k.substr(0,N)!==""&&k.substr(0,N)!==ze.Y.ZWSP||v)&&(Ke="".concat(v).concat(k.substr(0,N))),(k.substr(N)!==""&&k.substr(N)!==ze.Y.ZWSP||p)&&(St="".concat(k.substr(N)).concat(p)),{afterHTML:St,beforeHTML:Ke}},zn=function(d,v){Array.from(d.wysiwyg.element.childNodes).find(function(p){if(p.nodeType===3){var k=document.createElement("p");k.setAttribute("data-block","0"),k.textContent=p.textContent;var N=v.startContainer.nodeType===3?v.startOffset:p.textContent.length;return p.parentNode.insertBefore(k,p),p.remove(),v.setStart(k.firstChild,Math.min(k.firstChild.textContent.length,N)),v.collapse(!0),(0,yt.jl)(v),!0}else if(!p.getAttribute("data-block"))return p.tagName==="P"?p.remove():(p.tagName==="DIV"?(v.insertNode(document.createElement("wbr")),p.outerHTML='<p data-block="0">'.concat(p.innerHTML,"</p>")):p.tagName==="BR"?p.outerHTML='<p data-block="0">'.concat(p.outerHTML,"<wbr></p>"):(v.insertNode(document.createElement("wbr")),p.outerHTML='<p data-block="0">'.concat(p.outerHTML,"</p>")),(0,yt.ir)(d.wysiwyg.element,v),v=getSelection().getRangeAt(0)),!0})},kr=function(d,v){var p=(0,yt.RN)(d),k=(0,Ue.pt)(p.startContainer);k||(k=p.startContainer.childNodes[p.startOffset]),!k&&d.wysiwyg.element.children.length===0&&(k=d.wysiwyg.element),k&&!k.classList.contains("vditor-wysiwyg__block")&&(p.insertNode(document.createElement("wbr")),k.innerHTML.trim()==="<wbr>"&&(k.innerHTML="<wbr><br>"),k.tagName==="BLOCKQUOTE"||k.classList.contains("vditor-reset")?k.innerHTML="<".concat(v,' data-block="0">').concat(k.innerHTML.trim(),"</").concat(v,">"):k.outerHTML="<".concat(v,' data-block="0">').concat(k.innerHTML.trim(),"</").concat(v,">"),(0,yt.ir)(d.wysiwyg.element,p),Mt(d))},$r=function(d){var v=getSelection().getRangeAt(0),p=(0,Ue.pt)(v.startContainer);p||(p=v.startContainer.childNodes[v.startOffset]),p&&(v.insertNode(document.createElement("wbr")),p.outerHTML='<p data-block="0">'.concat(p.innerHTML,"</p>"),(0,yt.ir)(d.wysiwyg.element,v)),d.wysiwyg.popover.style.display="none"},Cr=function(d,v,p){p===void 0&&(p=!0);var k=d.previousElementSibling,N=k.ownerDocument.createRange();k.tagName==="CODE"?(k.style.display="inline-block",p?N.setStart(k.firstChild,1):N.selectNodeContents(k)):(k.style.display="block",k.firstChild.firstChild||k.firstChild.appendChild(document.createTextNode("")),N.selectNodeContents(k.firstChild)),p?N.collapse(!0):N.collapse(!1),(0,yt.jl)(N),!d.firstElementChild.classList.contains("language-mindmap")&&Po(v)},Nn=function(d,v){if(d.wysiwyg.composingLock=v.isComposing,v.isComposing)return!1;v.key.indexOf("Arrow")===-1&&v.key!=="Meta"&&v.key!=="Control"&&v.key!=="Alt"&&v.key!=="Shift"&&v.key!=="CapsLock"&&v.key!=="Escape"&&!/^F\d{1,2}$/.test(v.key)&&d.undo.recordFirstPosition(d,v);var p=(0,yt.RN)(d),k=p.startContainer;if(!Un(v,d,k)||(Fr(p,d,v),fr(p),v.key!=="Enter"&&v.key!=="Tab"&&v.key!=="Backspace"&&v.key.indexOf("Arrow")===-1&&!(0,Te._0)(v)&&v.key!=="Escape"&&v.key!=="Delete"))return!1;var N=(0,Ue.pt)(k),Ke=(0,Ue._Y)(k,"P");if(As(v,d,Ke,p)||Ki(p,d,Ke,v)||tl(d,v,p))return!0;var St=(0,Ue.KJ)(k,"vditor-wysiwyg__block");if(St){if(v.key==="Escape"&&St.children.length===2)return d.wysiwyg.popover.style.display="none",St.firstElementChild.style.display="none",d.wysiwyg.element.blur(),v.preventDefault(),!0;if(!(0,Te._0)(v)&&!v.shiftKey&&v.altKey&&v.key==="Enter"&&St.getAttribute("data-type")==="code-block"){var Bt=d.wysiwyg.popover.querySelector(".vditor-input");return Bt.focus(),Bt.select(),v.preventDefault(),!0}if(St.getAttribute("data-block")==="0"&&(pl(d,v,St.firstElementChild,p)||Do(d,v,p,St.firstElementChild,St)||St.getAttribute("data-type")!=="yaml-front-matter"&&si(d,v,p,St.firstElementChild,St)))return!0}if(Rt(d,p,v,Ke))return!0;var en=(0,Ue.Ab)(k,"BLOCKQUOTE");if(en&&!v.shiftKey&&v.altKey&&v.key==="Enter"){(0,Te._0)(v)?p.setStartBefore(en):p.setStartAfter(en),(0,yt.jl)(p);var Vt=document.createElement("p");return Vt.setAttribute("data-block","0"),Vt.innerHTML=`
`,p.insertNode(Vt),p.collapse(!0),(0,yt.jl)(p),fa(d),Po(d),v.preventDefault(),!0}var yn=(0,pt.c)(k);if(yn){if(yn.tagName==="H6"&&k.textContent.length===p.startOffset&&!(0,Te._0)(v)&&!v.shiftKey&&!v.altKey&&v.key==="Enter"){var ur=document.createElement("p");return ur.textContent=`
`,ur.setAttribute("data-block","0"),k.parentElement.insertAdjacentElement("afterend",ur),p.setStart(ur,0),(0,yt.jl)(p),fa(d),Po(d),v.preventDefault(),!0}if(ot("⌘=",v)){var da=parseInt(yn.tagName.substr(1),10)-1;return da>0&&(kr(d,"h".concat(da)),fa(d)),v.preventDefault(),!0}if(ot("⌘-",v)){var da=parseInt(yn.tagName.substr(1),10)+1;return da<7&&(kr(d,"h".concat(da)),fa(d)),v.preventDefault(),!0}v.key==="Backspace"&&!(0,Te._0)(v)&&!v.shiftKey&&!v.altKey&&yn.textContent.length===1&&$r(d)}if(xn(d,p,v))return!0;if(v.altKey&&v.key==="Enter"&&!(0,Te._0)(v)&&!v.shiftKey){var ia=(0,Ue._Y)(k,"A"),na=(0,Ue.Th)(k,"data-type","link-ref"),Ta=(0,Ue.Th)(k,"data-type","footnotes-ref");if(ia||na||Ta||yn&&yn.tagName.length===2){var Ca=d.wysiwyg.popover.querySelector("input");Ca.focus(),Ca.select()}}if(ir(d,v))return!0;if(ot("⇧⌘U",v)){var qr=d.wysiwyg.popover.querySelector('[data-type="up"]');if(qr)return qr.click(),v.preventDefault(),!0}if(ot("⇧⌘D",v)){var qr=d.wysiwyg.popover.querySelector('[data-type="down"]');if(qr)return qr.click(),v.preventDefault(),!0}if(el(d,p,v))return!0;if(!(0,Te._0)(v)&&v.shiftKey&&!v.altKey&&v.key==="Enter"&&k.parentElement.tagName!=="LI"&&k.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(k.parentElement.tagName)?p.insertNode(document.createTextNode(`
`+ze.Y.ZWSP)):p.insertNode(document.createTextNode(`
`)),p.collapse(!1),(0,yt.jl)(p),fa(d),Po(d),v.preventDefault(),!0;if(v.key==="Backspace"&&!(0,Te._0)(v)&&!v.shiftKey&&!v.altKey&&p.toString()===""){if(In(d,p,v,Ke))return!0;if(N){if(N.previousElementSibling&&N.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&N.previousElementSibling.getAttribute("data-block")==="0"&&N.tagName!=="UL"&&N.tagName!=="OL"){var uo=(0,yt.ED)(N,d.wysiwyg.element,p).start;if(uo===0&&p.startOffset===0||uo===1&&N.innerText.startsWith(ze.Y.ZWSP))return Cr(N.previousElementSibling.lastElementChild,d,!1),N.innerHTML.trim().replace(ze.Y.ZWSP,"")===""&&(N.remove(),fa(d)),v.preventDefault(),!0}var Wa=p.startOffset;if(p.toString()===""&&k.nodeType===3&&k.textContent.charAt(Wa-2)===`
`&&k.textContent.charAt(Wa-1)!==ze.Y.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(k.parentElement.tagName))return k.textContent=k.textContent.substring(0,Wa-1)+ze.Y.ZWSP,p.setStart(k,Wa),p.collapse(!0),fa(d),v.preventDefault(),!0;k.textContent===ze.Y.ZWSP&&p.startOffset===1&&!k.previousSibling&&Eo(p)&&(k.textContent=""),N.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(gi){gi.firstElementChild.style.display="inline",gi.lastElementChild.style.display="none"}),N.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(gi){gi.firstElementChild.style.display="inline",gi.lastElementChild.style.display="none"})}}if((0,Te.gm)()&&p.startOffset===1&&k.textContent.indexOf(ze.Y.ZWSP)>-1&&k.previousSibling&&k.previousSibling.nodeType!==3&&k.previousSibling.tagName==="CODE"&&(v.key==="Backspace"||v.key==="ArrowLeft"))return p.selectNodeContents(k.previousSibling),p.collapse(!1),v.preventDefault(),!0;if(Rr(v,N,p))return v.preventDefault(),!0;if(ea(p,v.key),v.key==="ArrowDown"){var yo=k.nextSibling;yo&&yo.nodeType!==3&&yo.getAttribute("data-type")==="math-inline"&&p.setStartAfter(yo)}return N&&qt(N,d,v,p)?(v.preventDefault(),!0):!1},ir=function(d,v){if(ot("⇧⌘X",v)){var p=d.wysiwyg.popover.querySelector('[data-type="remove"]');return p&&p.click(),v.preventDefault(),!0}},Ur=function(d){clearTimeout(d.wysiwyg.hlToolbarTimeoutId),d.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(d.wysiwyg.element.getAttribute("contenteditable")!=="false"&&(0,yt.Co)(d.wysiwyg.element)){et(d.toolbar.elements,ze.Y.EDIT_TOOLBARS),$e(d.toolbar.elements,ze.Y.EDIT_TOOLBARS);var v=getSelection().getRangeAt(0),p=v.startContainer;v.startContainer.nodeType===3?p=v.startContainer.parentElement:p=p.childNodes[v.startOffset>=p.childNodes.length?p.childNodes.length-1:v.startOffset];var k=(0,Ue.Th)(p,"data-type","footnotes-block");if(k){d.wysiwyg.popover.innerHTML="",jn(k,d),Mr(d,k);return}var N=(0,Ue._Y)(p,"LI");N?(N.classList.contains("vditor-task")?Qe(d.toolbar.elements,["check"]):N.parentElement.tagName==="OL"?Qe(d.toolbar.elements,["ordered-list"]):N.parentElement.tagName==="UL"&&Qe(d.toolbar.elements,["list"]),$e(d.toolbar.elements,["outdent","indent"])):Ye(d.toolbar.elements,["outdent","indent"]),(0,Ue._Y)(p,"BLOCKQUOTE")&&Qe(d.toolbar.elements,["quote"]),((0,Ue._Y)(p,"B")||(0,Ue._Y)(p,"STRONG"))&&Qe(d.toolbar.elements,["bold"]),((0,Ue._Y)(p,"I")||(0,Ue._Y)(p,"EM"))&&Qe(d.toolbar.elements,["italic"]),((0,Ue._Y)(p,"STRIKE")||(0,Ue._Y)(p,"S"))&&Qe(d.toolbar.elements,["strike"]),d.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(Pa){Pa.classList.remove("vditor-comment--focus")});var Ke=(0,Ue.KJ)(p,"vditor-comment");if(Ke){var St=Ke.getAttribute("data-cmtids").split(" ");if(St.length>1&&Ke.nextSibling.isSameNode(Ke.nextElementSibling)){var Bt=Ke.nextElementSibling.getAttribute("data-cmtids").split(" ");St.find(function(Pa){if(Bt.includes(Pa))return St=[Pa],!0})}d.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(Pa){Pa.getAttribute("data-cmtids").indexOf(St[0])>-1&&Pa.classList.add("vditor-comment--focus")})}var en=(0,Ue._Y)(p,"A");en&&Qe(d.toolbar.elements,["link"]);var Vt=(0,Ue._Y)(p,"TABLE"),yn=(0,pt.c)(p);(0,Ue._Y)(p,"CODE")?(0,Ue._Y)(p,"PRE")?(Ye(d.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),Qe(d.toolbar.elements,["code"])):(Ye(d.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),Qe(d.toolbar.elements,["inline-code"])):yn?(Ye(d.toolbar.elements,["bold"]),Qe(d.toolbar.elements,["headings"])):Vt&&Ye(d.toolbar.elements,["table"]);var ur=(0,Ue.KJ)(p,"vditor-toc");if(ur){d.wysiwyg.popover.innerHTML="",jn(ur,d),Mr(d,ur);return}var da=(0,pt.f)(p,"BLOCKQUOTE");if(da&&(d.wysiwyg.popover.innerHTML="",hn(v,da,d),Qn(v,da,d),jn(da,d),Mr(d,da)),N&&(d.wysiwyg.popover.innerHTML="",hn(v,N,d),Qn(v,N,d),jn(N,d),Mr(d,N)),Vt){d.options.lang,d.options,d.wysiwyg.popover.innerHTML="";var ia=function(){var Pa=Vt.rows.length,Co=Vt.rows[0].cells.length,al=parseInt(vu.value,10)||Pa,oc=parseInt(fi.value,10)||Co;if(!(al===Pa&&Co===oc)){if(Co!==oc)for(var pu=oc-Co,Fl=0;Fl<Vt.rows.length;Fl++)if(pu>0)for(var $m=0;$m<pu;$m++)Fl===0?Vt.rows[Fl].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):Vt.rows[Fl].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var xi=Co-1;xi>=oc;xi--)Vt.rows[Fl].cells[xi].remove();if(Pa!==al){var Rd=al-Pa;if(Rd>0){for(var tt="<tr>",gt=0;gt<oc;gt++)tt+="<td> </td>";for(var Dt=0;Dt<Rd;Dt++)Vt.querySelector("tbody")?Vt.querySelector("tbody").insertAdjacentHTML("beforeend",tt):Vt.querySelector("thead").insertAdjacentHTML("afterend",tt+"</tr>")}else for(var gt=Pa-1;gt>=al;gt--)Vt.rows[gt].remove(),Vt.rows.length===1&&Vt.querySelector("tbody").remove()}typeof d.options.input=="function"&&d.options.input(at(d))}},na=function(Pa){Ci(Vt,Pa),Pa==="right"?(uo.classList.remove("vditor-icon--current"),Wa.classList.remove("vditor-icon--current"),yo.classList.add("vditor-icon--current")):Pa==="center"?(uo.classList.remove("vditor-icon--current"),yo.classList.remove("vditor-icon--current"),Wa.classList.add("vditor-icon--current")):(Wa.classList.remove("vditor-icon--current"),yo.classList.remove("vditor-icon--current"),uo.classList.add("vditor-icon--current")),(0,yt.jl)(v),fa(d)},Ta=(0,Ue._Y)(p,"TD"),Ca=(0,Ue._Y)(p,"TH"),qr="left";Ta?qr=Ta.getAttribute("align")||"left":Ca&&(qr=Ca.getAttribute("align")||"center");var uo=document.createElement("button");uo.setAttribute("type","button"),uo.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,Te.fG)("⇧⌘L")+">"),uo.setAttribute("data-type","left"),uo.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',uo.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(qr==="left"?" vditor-icon--current":""),uo.onclick=function(){na("left")};var Wa=document.createElement("button");Wa.setAttribute("type","button"),Wa.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,Te.fG)("⇧⌘C")+">"),Wa.setAttribute("data-type","center"),Wa.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',Wa.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(qr==="center"?" vditor-icon--current":""),Wa.onclick=function(){na("center")};var yo=document.createElement("button");yo.setAttribute("type","button"),yo.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,Te.fG)("⇧⌘R")+">"),yo.setAttribute("data-type","right"),yo.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',yo.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(qr==="right"?" vditor-icon--current":""),yo.onclick=function(){na("right")};var gi=document.createElement("button");gi.setAttribute("type","button"),gi.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,Te.fG)("⌘=")+">"),gi.setAttribute("data-type","insertRow"),gi.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',gi.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",gi.onclick=function(){var Pa=getSelection().getRangeAt(0).startContainer,Co=(0,Ue._Y)(Pa,"TD")||(0,Ue._Y)(Pa,"TH");Co&&ml(d,v,Co)};var ai=document.createElement("button");ai.setAttribute("type","button"),ai.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,Te.fG)("⇧⌘F")+">"),ai.setAttribute("data-type","insertRow"),ai.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',ai.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",ai.onclick=function(){var Pa=getSelection().getRangeAt(0).startContainer,Co=(0,Ue._Y)(Pa,"TD")||(0,Ue._Y)(Pa,"TH");Co&&Ll(d,v,Co)};var Ai=document.createElement("button");Ai.setAttribute("type","button"),Ai.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,Te.fG)("⇧⌘=")+">"),Ai.setAttribute("data-type","insertColumn"),Ai.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',Ai.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Ai.onclick=function(){var Pa=getSelection().getRangeAt(0).startContainer,Co=(0,Ue._Y)(Pa,"TD")||(0,Ue._Y)(Pa,"TH");Co&&Ju(d,Vt,Co)};var Da=document.createElement("button");Da.setAttribute("type","button"),Da.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,Te.fG)("⇧⌘G")+">"),Da.setAttribute("data-type","insertColumn"),Da.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',Da.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Da.onclick=function(){var Pa=getSelection().getRangeAt(0).startContainer,Co=(0,Ue._Y)(Pa,"TD")||(0,Ue._Y)(Pa,"TH");Co&&Ju(d,Vt,Co,"beforebegin")};var Ni=document.createElement("button");Ni.setAttribute("type","button"),Ni.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,Te.fG)("⌘-")+">"),Ni.setAttribute("data-type","deleteRow"),Ni.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',Ni.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Ni.onclick=function(){var Pa=getSelection().getRangeAt(0).startContainer,Co=(0,Ue._Y)(Pa,"TD")||(0,Ue._Y)(Pa,"TH");Co&&Zu(d,v,Co)};var Ku=document.createElement("button");Ku.setAttribute("type","button"),Ku.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,Te.fG)("⇧⌘-")+">"),Ku.setAttribute("data-type","deleteColumn"),Ku.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',Ku.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Ku.onclick=function(){var Pa=getSelection().getRangeAt(0).startContainer,Co=(0,Ue._Y)(Pa,"TD")||(0,Ue._Y)(Pa,"TH");Co&&Bl(d,v,Vt,Co)};var Ro=document.createElement("span");Ro.setAttribute("aria-label",window.VditorI18n.row),Ro.className="vditor-tooltipped vditor-tooltipped__n";var vu=document.createElement("input");Ro.appendChild(vu),vu.type="number",vu.min="1",vu.className="vditor-input",vu.style.width="42px",vu.style.textAlign="center",vu.setAttribute("placeholder",window.VditorI18n.row),vu.value=Vt.rows.length.toString(),vu.oninput=function(){ia()},vu.onkeydown=function(Pa){if(!Pa.isComposing){if(Pa.key==="Tab"){fi.focus(),fi.select(),Pa.preventDefault();return}ir(d,Pa)||_o(Pa,v)}};var Pl=document.createElement("span");Pl.setAttribute("aria-label",window.VditorI18n.column),Pl.className="vditor-tooltipped vditor-tooltipped__n";var fi=document.createElement("input");Pl.appendChild(fi),fi.type="number",fi.min="1",fi.className="vditor-input",fi.style.width="42px",fi.style.textAlign="center",fi.setAttribute("placeholder",window.VditorI18n.column),fi.value=Vt.rows[0].cells.length.toString(),fi.oninput=function(){ia()},fi.onkeydown=function(Pa){if(!Pa.isComposing){if(Pa.key==="Tab"){vu.focus(),vu.select(),Pa.preventDefault();return}ir(d,Pa)||_o(Pa,v)}},hn(v,Vt,d),Qn(v,Vt,d),jn(Vt,d),d.wysiwyg.popover.insertAdjacentElement("beforeend",uo),d.wysiwyg.popover.insertAdjacentElement("beforeend",Wa),d.wysiwyg.popover.insertAdjacentElement("beforeend",yo),d.wysiwyg.popover.insertAdjacentElement("beforeend",ai),d.wysiwyg.popover.insertAdjacentElement("beforeend",gi),d.wysiwyg.popover.insertAdjacentElement("beforeend",Da),d.wysiwyg.popover.insertAdjacentElement("beforeend",Ai),d.wysiwyg.popover.insertAdjacentElement("beforeend",Ni),d.wysiwyg.popover.insertAdjacentElement("beforeend",Ku),d.wysiwyg.popover.insertAdjacentElement("beforeend",Ro),d.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),d.wysiwyg.popover.insertAdjacentElement("beforeend",Pl),Mr(d,Vt)}var nu=(0,Ue.Th)(p,"data-type","link-ref");nu&&jr(d,nu,v);var Ps=(0,Ue.Th)(p,"data-type","footnotes-ref");if(Ps){d.options.lang,d.options,d.wysiwyg.popover.innerHTML="";var Ro=document.createElement("span");Ro.setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,Te.fG)("⌥Enter")+">"),Ro.className="vditor-tooltipped vditor-tooltipped__n";var mu=document.createElement("input");Ro.appendChild(mu),mu.className="vditor-input",mu.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,Te.fG)("⌥Enter")+">"),mu.style.width="120px",mu.value=Ps.getAttribute("data-footnotes-label"),mu.oninput=function(){mu.value.trim()!==""&&Ps.setAttribute("data-footnotes-label",mu.value),typeof d.options.input=="function"&&d.options.input(at(d))},mu.onkeydown=function(Co){Co.isComposing||ir(d,Co)||_o(Co,v)},jn(Ps,d),d.wysiwyg.popover.insertAdjacentElement("beforeend",Ro),Mr(d,Ps)}var Gr=(0,Ue.KJ)(p,"vditor-wysiwyg__block"),Oc=Gr?Gr.getAttribute("data-type").indexOf("block")>-1:!1;if(d.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(Pa){if(!Gr||Gr&&Oc&&!Gr.contains(Pa)){var Co=Pa.previousElementSibling;Co.style.display="none"}}),Gr&&Oc){if(d.wysiwyg.popover.innerHTML="",hn(v,Gr,d),Qn(v,Gr,d),jn(Gr,d),Gr.getAttribute("data-type")==="code-block"){var zf=document.createElement("span");zf.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,Te.fG)("⌥Enter")+">"),zf.className="vditor-tooltipped vditor-tooltipped__n";var Ga=document.createElement("input");zf.appendChild(Ga);var Qo=Gr.firstElementChild.firstElementChild;Ga.className="vditor-input",Ga.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,Te.fG)("⌥Enter")+">"),Ga.value=Qo.className.indexOf("language-")>-1?Qo.className.split("-")[1].split(" ")[0]:"",Ga.oninput=function(Pa){Ga.value.trim()!==""?Qo.className="language-".concat(Ga.value):(Qo.className="",d.hint.recentLanguage=""),Gr.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(Gr.lastElementChild.innerHTML=Gr.firstElementChild.innerHTML,cn(Gr.lastElementChild,d)),fa(d),Pa.detail===1&&(v.setStart(Qo.firstChild,0),v.collapse(!0),(0,yt.jl)(v))},Ga.onkeydown=function(Pa){if(!Pa.isComposing&&!ir(d,Pa)){if(Pa.key==="Escape"&&d.hint.element.style.display==="block"){d.hint.element.style.display="none",Pa.preventDefault();return}d.hint.select(Pa,d),_o(Pa,v)}},Ga.onkeyup=function(Pa){var Co,al;if(!(Pa.isComposing||Pa.key==="Enter"||Pa.key==="ArrowUp"||Pa.key==="Escape"||Pa.key==="ArrowDown")){var oc=[],pu=Ga.value.substring(0,Ga.selectionStart);(d.options.preview.hljs.langs||ze.Y.ALIAS_CODE_LANGUAGES.concat(((al=(Co=window.hljs)===null||Co===void 0?void 0:Co.listLanguages())!==null&&al!==void 0?al:[]).sort())).forEach(function(Fl){Fl.indexOf(pu.toLowerCase())>-1&&oc.push({html:Fl,value:Fl})}),d.hint.genHTML(oc,pu,d),Pa.preventDefault()}},d.wysiwyg.popover.insertAdjacentElement("beforeend",zf)}Mr(d,Gr)}else Gr=void 0;if(yn){d.wysiwyg.popover.innerHTML="";var Ro=document.createElement("span");Ro.setAttribute("aria-label","ID<"+(0,Te.fG)("⌥Enter")+">"),Ro.className="vditor-tooltipped vditor-tooltipped__n";var Il=document.createElement("input");Ro.appendChild(Il),Il.className="vditor-input",Il.setAttribute("placeholder","ID<"+(0,Te.fG)("⌥Enter")+">"),Il.style.width="120px",Il.value=yn.getAttribute("data-id")||"",Il.oninput=function(){yn.setAttribute("data-id",Il.value),typeof d.options.input=="function"&&d.options.input(at(d))},Il.onkeydown=function(Co){Co.isComposing||ir(d,Co)||_o(Co,v)},hn(v,yn,d),Qn(v,yn,d),jn(yn,d),d.wysiwyg.popover.insertAdjacentElement("beforeend",Ro),Mr(d,yn)}if(en&&sa(d,en,v),!da&&!N&&!Vt&&!Gr&&!en&&!nu&&!Ps&&!yn&&!ur){var ds=(0,Ue.Th)(p,"data-block","0");ds&&ds.parentElement.isEqualNode(d.wysiwyg.element)?(d.wysiwyg.popover.innerHTML="",hn(v,ds,d),Qn(v,ds,d),jn(ds,d),Mr(d,ds)):d.wysiwyg.popover.style.display="none"}d.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(Pa){Pa.style.display="none"});var Si=(0,Ue.Th)(v.startContainer,"data-type","backslash");Si&&(Si.querySelector("span").style.display="inline")}},200)},Mr=function(d,v){var p=v,k=(0,Ue._Y)(v,"TABLE");k&&(p=k),d.wysiwyg.popover.style.left="0",d.wysiwyg.popover.style.display="block",d.wysiwyg.popover.style.top=Math.max(-8,p.offsetTop-21-d.wysiwyg.element.scrollTop)+"px",d.wysiwyg.popover.style.left=Math.min(p.offsetLeft,d.wysiwyg.element.clientWidth-d.wysiwyg.popover.clientWidth)+"px",d.wysiwyg.popover.setAttribute("data-top",(p.offsetTop-21).toString())},jr=function(d,v,p){p===void 0&&(p=getSelection().getRangeAt(0)),d.wysiwyg.popover.innerHTML="";var k=function(){Ke.value.trim()!==""&&(v.tagName==="IMG"?v.setAttribute("alt",Ke.value):v.textContent=Ke.value),Bt.value.trim()!==""&&v.setAttribute("data-link-label",Bt.value),typeof d.options.input=="function"&&d.options.input(at(d))},N=document.createElement("span");N.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),N.className="vditor-tooltipped vditor-tooltipped__n";var Ke=document.createElement("input");N.appendChild(Ke),Ke.className="vditor-input",Ke.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),Ke.style.width="120px",Ke.value=v.getAttribute("alt")||v.textContent,Ke.oninput=function(){k()},Ke.onkeydown=function(en){ir(d,en)||_o(en,p)||gr(d,v,en,Bt)};var St=document.createElement("span");St.setAttribute("aria-label",window.VditorI18n.linkRef),St.className="vditor-tooltipped vditor-tooltipped__n";var Bt=document.createElement("input");St.appendChild(Bt),Bt.className="vditor-input",Bt.setAttribute("placeholder",window.VditorI18n.linkRef),Bt.value=v.getAttribute("data-link-label"),Bt.oninput=function(){k()},Bt.onkeydown=function(en){ir(d,en)||_o(en,p)||gr(d,v,en,Ke)},jn(v,d),d.wysiwyg.popover.insertAdjacentElement("beforeend",N),d.wysiwyg.popover.insertAdjacentElement("beforeend",St),Mr(d,v)},hn=function(d,v,p){var k=v.previousElementSibling;if(!(!k||!v.parentElement.isEqualNode(p.wysiwyg.element)&&v.tagName!=="LI")){var N=document.createElement("button");N.setAttribute("type","button"),N.setAttribute("data-type","up"),N.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,Te.fG)("⇧⌘U")+">"),N.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',N.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",N.onclick=function(){d.insertNode(document.createElement("wbr")),k.insertAdjacentElement("beforebegin",v),(0,yt.ir)(p.wysiwyg.element,d),fa(p),Ur(p),Po(p)},p.wysiwyg.popover.insertAdjacentElement("beforeend",N)}},Qn=function(d,v,p){var k=v.nextElementSibling;if(!(!k||!v.parentElement.isEqualNode(p.wysiwyg.element)&&v.tagName!=="LI")){var N=document.createElement("button");N.setAttribute("type","button"),N.setAttribute("data-type","down"),N.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,Te.fG)("⇧⌘D")+">"),N.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',N.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",N.onclick=function(){d.insertNode(document.createElement("wbr")),k.insertAdjacentElement("afterend",v),(0,yt.ir)(p.wysiwyg.element,d),fa(p),Ur(p),Po(p)},p.wysiwyg.popover.insertAdjacentElement("beforeend",N)}},jn=function(d,v){var p=document.createElement("button");p.setAttribute("type","button"),p.setAttribute("data-type","remove"),p.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,Te.fG)("⇧⌘X")+">"),p.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',p.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",p.onclick=function(){var k=(0,yt.RN)(v);k.setStartAfter(d),(0,yt.jl)(k),d.remove(),fa(v),Ur(v),["H1","H2","H3","H4","H5","H6"].includes(d.tagName)&&Mt(v)},v.wysiwyg.popover.insertAdjacentElement("beforeend",p)},gr=function(d,v,p,k){if(!p.isComposing){if(p.key==="Tab"){k.focus(),k.select(),p.preventDefault();return}if(!(0,Te._0)(p)&&!p.shiftKey&&p.altKey&&p.key==="Enter"){var N=(0,yt.RN)(d);v.insertAdjacentHTML("afterend",ze.Y.ZWSP),N.setStartAfter(v.nextSibling),N.collapse(!0),(0,yt.jl)(N),p.preventDefault()}}},sa=function(d,v,p){d.wysiwyg.popover.innerHTML="";var k=function(){Ke.value.trim()!==""&&(v.innerHTML=Ke.value),v.setAttribute("href",Bt.value),v.setAttribute("title",Vt.value),fa(d)};v.querySelectorAll("[data-marker]").forEach(function(yn){yn.removeAttribute("data-marker")});var N=document.createElement("span");N.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),N.className="vditor-tooltipped vditor-tooltipped__n";var Ke=document.createElement("input");N.appendChild(Ke),Ke.className="vditor-input",Ke.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),Ke.style.width="120px",Ke.value=v.innerHTML||"",Ke.oninput=function(){k()},Ke.onkeydown=function(yn){ir(d,yn)||_o(yn,p)||gr(d,v,yn,Bt)};var St=document.createElement("span");St.setAttribute("aria-label",window.VditorI18n.link),St.className="vditor-tooltipped vditor-tooltipped__n";var Bt=document.createElement("input");St.appendChild(Bt),Bt.className="vditor-input",Bt.setAttribute("placeholder",window.VditorI18n.link),Bt.value=v.getAttribute("href")||"",Bt.oninput=function(){k()},Bt.onkeydown=function(yn){ir(d,yn)||_o(yn,p)||gr(d,v,yn,Vt)};var en=document.createElement("span");en.setAttribute("aria-label",window.VditorI18n.tooltipText),en.className="vditor-tooltipped vditor-tooltipped__n";var Vt=document.createElement("input");en.appendChild(Vt),Vt.className="vditor-input",Vt.setAttribute("placeholder",window.VditorI18n.tooltipText),Vt.style.width="60px",Vt.value=v.getAttribute("title")||"",Vt.oninput=function(){k()},Vt.onkeydown=function(yn){ir(d,yn)||_o(yn,p)||gr(d,v,yn,Ke)},jn(v,d),d.wysiwyg.popover.insertAdjacentElement("beforeend",N),d.wysiwyg.popover.insertAdjacentElement("beforeend",St),d.wysiwyg.popover.insertAdjacentElement("beforeend",en),Mr(d,v)},Va=function(d,v){var p=d.target;v.wysiwyg.popover.innerHTML="";var k=function(){p.setAttribute("src",Ke.value),p.setAttribute("alt",Bt.value),p.setAttribute("title",Vt.value),typeof v.options.input=="function"&&v.options.input(at(v))},N=document.createElement("span");N.setAttribute("aria-label",window.VditorI18n.imageURL),N.className="vditor-tooltipped vditor-tooltipped__n";var Ke=document.createElement("input");N.appendChild(Ke),Ke.className="vditor-input",Ke.setAttribute("placeholder",window.VditorI18n.imageURL),Ke.value=p.getAttribute("src")||"",Ke.oninput=function(){k()},Ke.onkeydown=function(yn){ir(v,yn)};var St=document.createElement("span");St.setAttribute("aria-label",window.VditorI18n.alternateText),St.className="vditor-tooltipped vditor-tooltipped__n";var Bt=document.createElement("input");St.appendChild(Bt),Bt.className="vditor-input",Bt.setAttribute("placeholder",window.VditorI18n.alternateText),Bt.style.width="52px",Bt.value=p.getAttribute("alt")||"",Bt.oninput=function(){k()},Bt.onkeydown=function(yn){ir(v,yn)};var en=document.createElement("span");en.setAttribute("aria-label",window.VditorI18n.title),en.className="vditor-tooltipped vditor-tooltipped__n";var Vt=document.createElement("input");en.appendChild(Vt),Vt.className="vditor-input",Vt.setAttribute("placeholder",window.VditorI18n.title),Vt.value=p.getAttribute("title")||"",Vt.oninput=function(){k()},Vt.onkeydown=function(yn){ir(v,yn)},jn(p,v),v.wysiwyg.popover.insertAdjacentElement("beforeend",N),v.wysiwyg.popover.insertAdjacentElement("beforeend",St),v.wysiwyg.popover.insertAdjacentElement("beforeend",en),Mr(v,p)},_o=function(d,v){if(!(0,Te._0)(d)&&!d.shiftKey&&d.key==="Enter"||d.key==="Escape")return v&&(0,yt.jl)(v),d.preventDefault(),d.stopPropagation(),!0},Ka=function(d){d.currentMode==="wysiwyg"?Ur(d):d.currentMode==="ir"&&la(d)},Ya=function(d,v,p){p===void 0&&(p={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var k=d.wysiwyg.element;k.innerHTML=d.lute.Md2VditorDOM(v),k.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(N){cn(N,d),N.previousElementSibling.setAttribute("style","display:none")}),fa(d,p)},ni=function(d,v,p){for(var k=d.startContainer.parentElement,N=!1,Ke="",St="",Bt=Pn(d),en=Bt.beforeHTML,Vt=Bt.afterHTML;k&&!N;){var yn=k.tagName;if(yn==="STRIKE"&&(yn="S"),yn==="I"&&(yn="EM"),yn==="B"&&(yn="STRONG"),yn==="S"||yn==="STRONG"||yn==="EM"){var ur="",da="",ia="";k.parentElement.getAttribute("data-block")!=="0"&&(da=yr(k),ia=hr(k)),(en||da)&&(ur="".concat(da,"<").concat(yn,">").concat(en,"</").concat(yn,">"),en=ur),(p==="bold"&&yn==="STRONG"||p==="italic"&&yn==="EM"||p==="strikeThrough"&&yn==="S")&&(ur+="".concat(Ke).concat(ze.Y.ZWSP,"<wbr>").concat(St),N=!0),(Vt||ia)&&(Vt="<".concat(yn,">").concat(Vt,"</").concat(yn,">").concat(ia),ur+=Vt),k.parentElement.getAttribute("data-block")!=="0"?(k=k.parentElement,k.innerHTML=ur):(k.outerHTML=ur,k=k.parentElement),Ke="<".concat(yn,">")+Ke,St="</".concat(yn,">")+St}else N=!0}(0,yt.ir)(v.wysiwyg.element,d)},Zi=function(d,v,p){if(!(d.wysiwyg.composingLock&&p instanceof CustomEvent)){var k=!0,N=!0;d.wysiwyg.element.querySelector("wbr")&&d.wysiwyg.element.querySelector("wbr").remove();var Ke=(0,yt.RN)(d),St=v.getAttribute("data-type");if(v.classList.contains("vditor-menu--current"))if(St==="strike"&&(St="strikeThrough"),St==="quote"){var Bt=(0,Ue._Y)(Ke.startContainer,"BLOCKQUOTE");Bt||(Bt=Ke.startContainer.childNodes[Ke.startOffset]),Bt&&(k=!1,v.classList.remove("vditor-menu--current"),Ke.insertNode(document.createElement("wbr")),Bt.outerHTML=Bt.innerHTML.trim()===""?'<p data-block="0">'.concat(Bt.innerHTML,"</p>"):Bt.innerHTML,(0,yt.ir)(d.wysiwyg.element,Ke))}else if(St==="inline-code"){var en=(0,Ue._Y)(Ke.startContainer,"CODE");en||(en=Ke.startContainer.childNodes[Ke.startOffset]),en&&(en.outerHTML=en.innerHTML.replace(ze.Y.ZWSP,"")+"<wbr>",(0,yt.ir)(d.wysiwyg.element,Ke))}else St==="link"?(Ke.collapsed&&Ke.selectNode(Ke.startContainer.parentElement),document.execCommand("unlink",!1,"")):St==="check"||St==="list"||St==="ordered-list"?(du(d,Ke,St),(0,yt.ir)(d.wysiwyg.element,Ke),k=!1,v.classList.remove("vditor-menu--current")):(k=!1,v.classList.remove("vditor-menu--current"),Ke.toString()===""?ni(Ke,d,St):document.execCommand(St,!1,""));else{d.wysiwyg.element.childNodes.length===0&&(d.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,yt.ir)(d.wysiwyg.element,Ke));var Vt=(0,Ue.pt)(Ke.startContainer);if(St==="quote"){if(Vt||(Vt=Ke.startContainer.childNodes[Ke.startOffset]),Vt){k=!1,v.classList.add("vditor-menu--current"),Ke.insertNode(document.createElement("wbr"));var yn=(0,Ue._Y)(Ke.startContainer,"LI");yn&&Vt.contains(yn)?yn.innerHTML='<blockquote data-block="0">'.concat(yn.innerHTML,"</blockquote>"):Vt.outerHTML='<blockquote data-block="0">'.concat(Vt.outerHTML,"</blockquote>"),(0,yt.ir)(d.wysiwyg.element,Ke)}}else if(St==="check"||St==="list"||St==="ordered-list")du(d,Ke,St,!1),(0,yt.ir)(d.wysiwyg.element,Ke),k=!1,et(d.toolbar.elements,["check","list","ordered-list"]),v.classList.add("vditor-menu--current");else if(St==="inline-code"){if(Ke.toString()===""){var ur=document.createElement("code");ur.textContent=ze.Y.ZWSP,Ke.insertNode(ur),Ke.setStart(ur.firstChild,1),Ke.collapse(!0),(0,yt.jl)(Ke)}else if(Ke.startContainer.nodeType===3){var ur=document.createElement("code");Ke.surroundContents(ur),Ke.insertNode(ur),(0,yt.jl)(Ke)}v.classList.add("vditor-menu--current")}else if(St==="code"){var ur=document.createElement("div");ur.className="vditor-wysiwyg__block",ur.setAttribute("data-type","code-block"),ur.setAttribute("data-block","0"),ur.setAttribute("data-marker","```"),Ke.toString()===""?ur.innerHTML=`<pre><code><wbr>
</code></pre>`:(ur.innerHTML="<pre><code>".concat(Ke.toString(),"<wbr></code></pre>"),Ke.deleteContents()),Ke.insertNode(ur),Vt&&(Vt.outerHTML=d.lute.SpinVditorDOM(Vt.outerHTML)),(0,yt.ir)(d.wysiwyg.element,Ke),d.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(gi){cn(gi,d)}),v.classList.add("vditor-menu--disabled")}else if(St==="link"){if(Ke.toString()===""){var da=document.createElement("a");da.innerText=ze.Y.ZWSP,Ke.insertNode(da),Ke.setStart(da.firstChild,1),Ke.collapse(!0),sa(d,da,Ke);var ia=d.wysiwyg.popover.querySelector("input");ia.value="",ia.focus(),N=!1}else{var ur=document.createElement("a");ur.setAttribute("href",""),ur.innerHTML=Ke.toString(),Ke.surroundContents(ur),Ke.insertNode(ur),(0,yt.jl)(Ke),sa(d,ur,Ke);var na=d.wysiwyg.popover.querySelectorAll("input");na[0].value=ur.innerText,na[1].focus()}k=!1,v.classList.add("vditor-menu--current")}else if(St==="table"){var Ta='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(Ke.toString().trim()==="")Vt&&Vt.innerHTML.trim().replace(ze.Y.ZWSP,"")===""?Vt.outerHTML=Ta:document.execCommand("insertHTML",!1,Ta),Ke.selectNode(d.wysiwyg.element.querySelector("wbr").previousSibling),d.wysiwyg.element.querySelector("wbr").remove(),(0,yt.jl)(Ke);else{Ta='<table data-block="0"><thead><tr>';var Ca=Ke.toString().split(`
`),qr=Ca[0].split(",").length>Ca[0].split("	").length?",":"	";Ca.forEach(function(yo,gi){gi===0?(yo.split(qr).forEach(function(ai,Ai){Ai===0?Ta+="<th>".concat(ai,"<wbr></th>"):Ta+="<th>".concat(ai,"</th>")}),Ta+="</tr></thead>"):(gi===1?Ta+="<tbody><tr>":Ta+="<tr>",yo.split(qr).forEach(function(ai){Ta+="<td>".concat(ai,"</td>")}),Ta+="</tr>")}),Ta+="</tbody></table>",document.execCommand("insertHTML",!1,Ta),(0,yt.ir)(d.wysiwyg.element,Ke)}k=!1,v.classList.add("vditor-menu--disabled")}else if(St==="line"){if(Vt){var uo=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;Vt.innerHTML.trim()===""?Vt.outerHTML=uo:Vt.insertAdjacentHTML("afterend",uo),(0,yt.ir)(d.wysiwyg.element,Ke)}}else if(k=!1,v.classList.add("vditor-menu--current"),St==="strike"&&(St="strikeThrough"),Ke.toString()===""&&(St==="bold"||St==="italic"||St==="strikeThrough")){var Wa="strong";St==="italic"?Wa="em":St==="strikeThrough"&&(Wa="s");var ur=document.createElement(Wa);ur.textContent=ze.Y.ZWSP,Ke.insertNode(ur),ur.previousSibling&&ur.previousSibling.textContent===ze.Y.ZWSP&&(ur.previousSibling.textContent=""),Ke.setStart(ur.firstChild,1),Ke.collapse(!0),(0,yt.jl)(Ke)}else document.execCommand(St,!1,"")}k&&Ur(d),N&&fa(d)}},wo=function(){function d(v,p){var k,N=this;this.element=document.createElement("div"),p.className&&(k=this.element.classList).add.apply(k,p.className.split(" "));var Ke=p.hotkey?" <".concat((0,Te.fG)(p.hotkey),">"):"";p.level===2&&(Ke=p.hotkey?" &lt;".concat((0,Te.fG)(p.hotkey),"&gt;"):"");var St=p.tip?p.tip+Ke:"".concat(window.VditorI18n[p.name]).concat(Ke),Bt=p.name==="upload"?"div":"button";if(p.level===2)this.element.innerHTML="<".concat(Bt,' data-type="').concat(p.name,'">').concat(St,"</").concat(Bt,">");else{this.element.classList.add("vditor-toolbar__item");var en=document.createElement(Bt);en.setAttribute("data-type",p.name),en.className="vditor-tooltipped vditor-tooltipped__".concat(p.tipPosition),en.setAttribute("aria-label",St),en.innerHTML=p.icon,this.element.appendChild(en)}p.prefix&&this.element.children[0].addEventListener((0,Te.y3)(),function(Vt){Vt.preventDefault(),!N.element.firstElementChild.classList.contains(ze.Y.CLASS_MENU_DISABLED)&&(v.currentMode==="wysiwyg"?Zi(v,N.element.children[0],Vt):v.currentMode==="ir"?Bs(v,N.element.children[0],p.prefix||"",p.suffix||""):on(v,N.element.children[0],p.prefix||"",p.suffix||""))})}return d}(),mi=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),ii=function(d,v,p){var k;if(typeof p!="string"?(qe(d,["subToolbar","hint"]),p.preventDefault(),k=at(d)):k=p,!(d.currentMode===v&&typeof p!="string")){if(d.devtools&&d.devtools.renderEchart(d),d.options.preview.mode==="both"&&v==="sv"?d.preview.element.style.display="block":d.preview.element.style.display="none",$e(d.toolbar.elements,ze.Y.EDIT_TOOLBARS),et(d.toolbar.elements,ze.Y.EDIT_TOOLBARS),Ye(d.toolbar.elements,["outdent","indent"]),v==="ir")ut(d.toolbar.elements,["both"]),ct(d.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),d.sv.element.style.display="none",d.wysiwyg.element.parentElement.style.display="none",d.ir.element.parentElement.style.display="block",d.lute.SetVditorIR(!0),d.lute.SetVditorWYSIWYG(!1),d.lute.SetVditorSV(!1),d.currentMode="ir",d.ir.element.innerHTML=d.lute.Md2VditorIRDOM(k),Xa(d,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),Jt(d),d.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(Ke){cn(Ke,d)}),d.ir.element.querySelectorAll(".vditor-toc").forEach(function(Ke){(0,nn.T)(Ke,{cdn:d.options.cdn,math:d.options.preview.math})});else if(v==="wysiwyg")ut(d.toolbar.elements,["both"]),ct(d.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),d.sv.element.style.display="none",d.wysiwyg.element.parentElement.style.display="block",d.ir.element.parentElement.style.display="none",d.lute.SetVditorIR(!1),d.lute.SetVditorWYSIWYG(!0),d.lute.SetVditorSV(!1),d.currentMode="wysiwyg",Jt(d),Ya(d,k,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),d.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(Ke){(0,nn.T)(Ke,{cdn:d.options.cdn,math:d.options.preview.math})}),d.wysiwyg.popover.style.display="none";else if(v==="sv"){ct(d.toolbar.elements,["both"]),ut(d.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),d.wysiwyg.element.parentElement.style.display="none",d.ir.element.parentElement.style.display="none",(d.options.preview.mode==="both"||d.options.preview.mode==="editor")&&(d.sv.element.style.display="block"),d.lute.SetVditorIR(!1),d.lute.SetVditorWYSIWYG(!1),d.lute.SetVditorSV(!0),d.currentMode="sv";var N=ju(k,d);N==="<div data-block='0'></div>"&&(N=""),d.sv.element.innerHTML=N,Zt(d.sv.element),Gt(d,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),Jt(d)}d.undo.resetIcon(d),typeof p!="string"&&(d[d.currentMode].element.focus(),Ka(d)),Mt(d),Rn(d),d.toolbar.elements["edit-mode"]&&(d.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(Ke){Ke.classList.remove("vditor-menu--current")}),d.toolbar.elements["edit-mode"].querySelector('button[data-mode="'.concat(d.currentMode,'"]')).classList.add("vditor-menu--current")),d.outline.toggle(d,d.currentMode!=="sv"&&d.options.outline.enable,typeof p!="string")}},ou=function(d){mi(v,d);function v(p,k){var N=d.call(this,p,k)||this,Ke=document.createElement("div");return Ke.className="vditor-hint".concat(k.level===2?"":" vditor-panel--arrow"),Ke.innerHTML='<button data-mode="wysiwyg">'.concat(window.VditorI18n.wysiwyg," &lt;").concat((0,Te.fG)("⌥⌘7"),`></button>
<button data-mode="ir">`).concat(window.VditorI18n.instantRendering," &lt;").concat((0,Te.fG)("⌥⌘8"),`></button>
<button data-mode="sv">`).concat(window.VditorI18n.splitView," &lt;").concat((0,Te.fG)("⌥⌘9"),"></button>"),N.element.appendChild(Ke),N._bindEvent(p,Ke,k),N}return v.prototype._bindEvent=function(p,k,N){var Ke=this.element.children[0];lt(p,k,Ke,N.level),k.children.item(0).addEventListener((0,Te.y3)(),function(St){ii(p,"wysiwyg",St),St.preventDefault(),St.stopPropagation()}),k.children.item(1).addEventListener((0,Te.y3)(),function(St){ii(p,"ir",St),St.preventDefault(),St.stopPropagation()}),k.children.item(2).addEventListener((0,Te.y3)(),function(St){ii(p,"sv",St),St.preventDefault(),St.stopPropagation()})},v}(wo),pi=function(d,v){return(0,yt.Co)(d,v)?getSelection().toString():""},wi=function(d,v){v.addEventListener("focus",function(){d.options.focus&&d.options.focus(at(d)),qe(d,["subToolbar","hint"])})},$i=function(d,v){v.addEventListener("dblclick",function(p){p.target.tagName==="IMG"&&(d.options.image.preview?d.options.image.preview(p.target):d.options.image.isPreview&&(0,Ot.o)(p.target,d.options.lang,d.options.theme))})},fo=function(d,v){v.addEventListener("blur",function(p){if(d.currentMode==="ir"){var k=d.ir.element.querySelector(".vditor-ir__node--expand");k&&k.classList.remove("vditor-ir__node--expand")}else d.currentMode==="wysiwyg"&&!d.wysiwyg.selectPopover.contains(p.relatedTarget)&&d.wysiwyg.hideComment();d[d.currentMode].range=(0,yt.RN)(d),d.options.blur&&d.options.blur(at(d))})},Hi=function(d,v){v.addEventListener("dragstart",function(p){p.dataTransfer.setData(ze.Y.DROP_EDITOR,ze.Y.DROP_EDITOR)}),v.addEventListener("drop",function(p){p.dataTransfer.getData(ze.Y.DROP_EDITOR)?go(d):(p.dataTransfer.types.includes("Files")||p.dataTransfer.types.includes("text/html"))&&ba(d,p,{pasteCode:function(k){document.execCommand("insertHTML",!1,k)}})})},ga=function(d,v,p){v.addEventListener("copy",function(k){return p(k,d)})},Iu=function(d,v,p){v.addEventListener("cut",function(k){p(k,d),d.options.comment.enable&&d.currentMode==="wysiwyg"&&d.wysiwyg.getComments(d),document.execCommand("delete")})},Po=function(d){if(d.currentMode==="wysiwyg"&&d.options.comment.enable&&d.options.comment.adjustTop(d.wysiwyg.getComments(d,!0)),!!d.options.typewriterMode){var v=d[d.currentMode].element,p=(0,yt.Ey)(v).top;d.options.height==="auto"&&!d.element.classList.contains("vditor--fullscreen")&&window.scrollTo(window.scrollX,p+d.element.offsetTop+d.toolbar.element.offsetHeight-window.innerHeight/2+10),(d.options.height!=="auto"||d.element.classList.contains("vditor--fullscreen"))&&(v.scrollTop=p+v.scrollTop-v.clientHeight/2+10)}},eu=function(d,v){v.addEventListener("keydown",function(p){if(!p.isComposing&&d.options.keydown&&d.options.keydown(p),!((d.options.hint.extend.length>1||d.toolbar.elements.emoji)&&d.hint.select(p,d))){if(d.options.comment.enable&&d.currentMode==="wysiwyg"&&(p.key==="Backspace"||ot("⌘X",p))&&d.wysiwyg.getComments(d),d.currentMode==="sv"){if(ln(d,p))return}else if(d.currentMode==="wysiwyg"){if(Nn(d,p))return}else if(d.currentMode==="ir"&&vn(d,p))return;if(d.options.ctrlEnter&&ot("⌘Enter",p)){d.options.ctrlEnter(at(d)),p.preventDefault();return}if(ot("⌘Z",p)&&!d.toolbar.elements.undo){d.undo.undo(d),p.preventDefault();return}if(ot("⌘Y",p)&&!d.toolbar.elements.redo){d.undo.redo(d),p.preventDefault();return}if(p.key==="Escape"){d.hint.element.style.display==="block"?d.hint.element.style.display="none":d.options.esc&&!p.isComposing&&d.options.esc(at(d)),p.preventDefault();return}if((0,Te._0)(p)&&p.altKey&&!p.shiftKey&&/^Digit[1-6]$/.test(p.code)){if(d.currentMode==="wysiwyg"){var k=p.code.replace("Digit","H");(0,Ue._Y)(getSelection().getRangeAt(0).startContainer,k)?$r(d):kr(d,k),fa(d)}else d.currentMode==="sv"?Mn(d,"#".repeat(parseInt(p.code.replace("Digit",""),10))+" "):d.currentMode==="ir"&&Go(d,"#".repeat(parseInt(p.code.replace("Digit",""),10))+" ");return p.preventDefault(),!0}if((0,Te._0)(p)&&p.altKey&&!p.shiftKey&&/^Digit[7-9]$/.test(p.code))return p.code==="Digit7"?ii(d,"wysiwyg",p):p.code==="Digit8"?ii(d,"ir",p):p.code==="Digit9"&&ii(d,"sv",p),!0;d.options.toolbar.find(function(N){if(!N.hotkey||N.toolbar){if(N.toolbar){var Ke=N.toolbar.find(function(St){if(!St.hotkey)return!1;if(ot(St.hotkey,p))return d.toolbar.elements[St.name].children[0].dispatchEvent(new CustomEvent((0,Te.y3)())),p.preventDefault(),!0});return!!Ke}return!1}if(ot(N.hotkey,p))return d.toolbar.elements[N.name].children[0].dispatchEvent(new CustomEvent((0,Te.y3)())),p.preventDefault(),!0})}})},Fu=function(d,v){v.addEventListener("selectstart",function(p){v.onmouseup=function(){setTimeout(function(){var k=pi(d[d.currentMode].element);k.trim()?(d.currentMode==="wysiwyg"&&d.options.comment.enable&&(!(0,Ue.Th)(p.target,"data-type","footnotes-block")&&!(0,Ue.Th)(p.target,"data-type","link-ref-defs-block")?d.wysiwyg.showComment():d.wysiwyg.hideComment()),d.options.select&&d.options.select(k)):d.currentMode==="wysiwyg"&&d.options.comment.enable&&d.wysiwyg.hideComment()})}})},iu=function(d,v){var p=(0,yt.RN)(d);p.extractContents(),p.insertNode(document.createTextNode(Lute.Caret)),p.insertNode(document.createTextNode(v));var k=(0,Ue.Th)(p.startContainer,"data-block","0");k||(k=d.sv.element);var N=d.lute.SpinVditorSVDOM(k.textContent);N="<div data-block='0'>"+N.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",k.isEqualNode(d.sv.element)?k.innerHTML=N:k.outerHTML=N,Zt(d.sv.element),(0,yt.ir)(d.sv.element,p),Po(d)},Su=function(d,v,p){p===void 0&&(p=!0);var k=d;for(k.nodeType===3&&(k=k.parentElement);k;){if(k.getAttribute("data-type")===v)return k;p?k=k.previousElementSibling:k=k.nextElementSibling}return!1},ju=function(d,v){It("SpinVditorSVDOM",d,"argument",v.options.debugger);var p=v.lute.SpinVditorSVDOM(d);return d="<div data-block='0'>"+p.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",It("SpinVditorSVDOM",d,"result",v.options.debugger),d},ks=function(d){var v=d.getAttribute("data-type"),p=d.previousElementSibling,k=v&&v!=="text"&&v!=="table"&&v!=="heading-marker"&&v!=="newline"&&v!=="yaml-front-matter-open-marker"&&v!=="yaml-front-matter-close-marker"&&v!=="code-block-info"&&v!=="code-block-close-marker"&&v!=="code-block-open-marker"?d.textContent:"",N=!1;for(v==="newline"&&(N=!0);p&&!N;){var Ke=p.getAttribute("data-type");if(Ke==="li-marker"||Ke==="blockquote-marker"||Ke==="task-marker"||Ke==="padding"){var St=p.textContent;if(Ke==="li-marker"&&(v==="code-block-open-marker"||v==="code-block-info"))k=St.replace(/\S/g," ")+k;else if(v==="code-block-close-marker"&&p.nextElementSibling.isSameNode(d)){var Bt=Su(d,"code-block-open-marker");Bt&&Bt.previousElementSibling&&(p=Bt.previousElementSibling,k=St+k)}else k=St+k}else Ke==="newline"&&(N=!0);p=p.previousElementSibling}return k},Gt=function(d,v){v===void 0&&(v={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),v.enableHint&&d.hint.render(d),d.preview.render(d);var p=at(d);typeof d.options.input=="function"&&v.enableInput&&d.options.input(p),d.options.counter.enable&&d.counter.render(d,p),d.options.cache.enable&&(0,Te.D)()&&(localStorage.setItem(d.options.cache.id,p),d.options.cache.after&&d.options.cache.after(p)),d.devtools&&d.devtools.renderEchart(d),clearTimeout(d.sv.processTimeoutId),d.sv.processTimeoutId=window.setTimeout(function(){v.enableAddUndoStack&&!d.sv.composingLock&&d.undo.addToUndoStack(d)},d.options.undoDelay)},Mn=function(d,v){var p=(0,yt.RN)(d),k=(0,pt.f)(p.startContainer,"SPAN");k&&k.textContent.trim()!==""&&(v=`
`+v),p.collapse(!0),document.execCommand("insertHTML",!1,v)},on=function(d,v,p,k){var N=(0,yt.RN)(d),Ke=v.getAttribute("data-type");d.sv.element.childNodes.length===0&&(d.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,(0,yt.ir)(d.sv.element,N));var St=(0,Ue.pt)(N.startContainer),Bt=(0,pt.f)(N.startContainer,"SPAN");if(St){if(Ke==="link"){var en=void 0;N.toString()===""?en="".concat(p).concat(Lute.Caret).concat(k):en="".concat(p).concat(N.toString()).concat(k.replace(")",Lute.Caret+")")),document.execCommand("insertHTML",!1,en);return}else if(Ke==="italic"||Ke==="bold"||Ke==="strike"||Ke==="inline-code"||Ke==="code"||Ke==="table"||Ke==="line"){var en=void 0;N.toString()===""?en="".concat(p).concat(Lute.Caret).concat(Ke==="code"?"":k):en="".concat(p).concat(N.toString()).concat(Lute.Caret).concat(Ke==="code"?"":k),Ke==="table"||Ke==="code"&&Bt&&Bt.textContent!==""?en=`

`+en:Ke==="line"&&(en=`

`.concat(p,`
`).concat(Lute.Caret)),document.execCommand("insertHTML",!1,en);return}else if((Ke==="check"||Ke==="list"||Ke==="ordered-list"||Ke==="quote")&&Bt){var Vt="* ";Ke==="check"?Vt="* [ ] ":Ke==="ordered-list"?Vt="1. ":Ke==="quote"&&(Vt="> ");var yn=Su(Bt,"newline");yn?yn.insertAdjacentText("afterend",Vt):St.insertAdjacentText("afterbegin",Vt),mn(d);return}(0,yt.ir)(d.sv.element,N),Gt(d)}},Wn=function(d){switch(d.currentMode){case"ir":return d.ir.element;case"wysiwyg":return d.wysiwyg.element;case"sv":return d.sv.element}},zr=function(d,v){d.options.upload.setHeaders&&(d.options.upload.headers=d.options.upload.setHeaders()),d.options.upload.headers&&Object.keys(d.options.upload.headers).forEach(function(p){v.setRequestHeader(p,d.options.upload.headers[p])})},oa=function(d,v,p,k){function N(Ke){return Ke instanceof p?Ke:new p(function(St){St(Ke)})}return new(p||(p=Promise))(function(Ke,St){function Bt(yn){try{Vt(k.next(yn))}catch(ur){St(ur)}}function en(yn){try{Vt(k.throw(yn))}catch(ur){St(ur)}}function Vt(yn){yn.done?Ke(yn.value):N(yn.value).then(Bt,en)}Vt((k=k.apply(d,v||[])).next())})},Xt=function(d,v){var p={label:0,sent:function(){if(Ke[0]&1)throw Ke[1];return Ke[1]},trys:[],ops:[]},k,N,Ke,St;return St={next:Bt(0),throw:Bt(1),return:Bt(2)},typeof Symbol=="function"&&(St[Symbol.iterator]=function(){return this}),St;function Bt(Vt){return function(yn){return en([Vt,yn])}}function en(Vt){if(k)throw new TypeError("Generator is already executing.");for(;St&&(St=0,Vt[0]&&(p=0)),p;)try{if(k=1,N&&(Ke=Vt[0]&2?N.return:Vt[0]?N.throw||((Ke=N.return)&&Ke.call(N),0):N.next)&&!(Ke=Ke.call(N,Vt[1])).done)return Ke;switch(N=0,Ke&&(Vt=[Vt[0]&2,Ke.value]),Vt[0]){case 0:case 1:Ke=Vt;break;case 4:return p.label++,{value:Vt[1],done:!1};case 5:p.label++,N=Vt[1],Vt=[0];continue;case 7:Vt=p.ops.pop(),p.trys.pop();continue;default:if(Ke=p.trys,!(Ke=Ke.length>0&&Ke[Ke.length-1])&&(Vt[0]===6||Vt[0]===2)){p=0;continue}if(Vt[0]===3&&(!Ke||Vt[1]>Ke[0]&&Vt[1]<Ke[3])){p.label=Vt[1];break}if(Vt[0]===6&&p.label<Ke[1]){p.label=Ke[1],Ke=Vt;break}if(Ke&&p.label<Ke[2]){p.label=Ke[2],p.ops.push(Vt);break}Ke[2]&&p.ops.pop(),p.trys.pop();continue}Vt=v.call(d,p)}catch(yn){Vt=[6,yn],N=0}finally{k=Ke=0}if(Vt[0]&5)throw Vt[1];return{value:Vt[0]?Vt[1]:void 0,done:!0}}},dn=function(){function d(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"}return d}(),Yn=function(d,v){d.tip.hide();var p=[],k="",N="";d.options.lang,d.options;for(var Ke=function(en,Vt){var yn=v[Vt],ur=!0;yn.name||(k+="<li>".concat(window.VditorI18n.nameEmpty,"</li>"),ur=!1),yn.size>d.options.upload.max&&(k+="<li>".concat(yn.name," ").concat(window.VditorI18n.over," ").concat(d.options.upload.max/1024/1024,"M</li>"),ur=!1);var da=yn.name.lastIndexOf("."),ia=yn.name.substr(da),na=d.options.upload.filename(yn.name.substr(0,da))+ia;if(d.options.upload.accept){var Ta=d.options.upload.accept.split(",").some(function(Ca){var qr=Ca.trim();if(qr.indexOf(".")===0){if(ia.toLowerCase()===qr.toLowerCase())return!0}else if(yn.type.split("/")[0]===qr.split("/")[0])return!0;return!1});Ta||(k+="<li>".concat(yn.name," ").concat(window.VditorI18n.fileTypeError,"</li>"),ur=!1)}ur&&(p.push(yn),N+="<li>".concat(na," ").concat(window.VditorI18n.uploading,"</li>"))},St=v.length,Bt=0;Bt<St;Bt++)Ke(St,Bt);return d.tip.show("<ul>".concat(k).concat(N,"</ul>")),p},sr=function(d,v){var p=Wn(v);p.focus();var k=JSON.parse(d),N="";k.code===1&&(N="".concat(k.msg)),k.data.errFiles&&k.data.errFiles.length>0&&(N="<ul><li>".concat(N,"</li>"),k.data.errFiles.forEach(function(St){var Bt=St.lastIndexOf("."),en=v.options.upload.filename(St.substr(0,Bt))+St.substr(Bt);N+="<li>".concat(en," ").concat(window.VditorI18n.uploadError,"</li>")}),N+="</ul>"),N?v.tip.show(N):v.tip.hide();var Ke="";Object.keys(k.data.succMap).forEach(function(St){var Bt=k.data.succMap[St],en=St.lastIndexOf("."),Vt=St.substr(en),yn=v.options.upload.filename(St.substr(0,en))+Vt;Vt=Vt.toLowerCase(),Vt.indexOf(".wav")===0||Vt.indexOf(".mp3")===0||Vt.indexOf(".ogg")===0?v.currentMode==="wysiwyg"?Ke+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`.concat(Bt,'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="').concat(Bt,`"></audio></pre></div>
`):v.currentMode==="ir"?Ke+='<audio controls="controls" src="'.concat(Bt,`"></audio>
`):Ke+="[".concat(yn,"](").concat(Bt,`)
`):Vt.indexOf(".apng")===0||Vt.indexOf(".bmp")===0||Vt.indexOf(".gif")===0||Vt.indexOf(".ico")===0||Vt.indexOf(".cur")===0||Vt.indexOf(".jpg")===0||Vt.indexOf(".jpeg")===0||Vt.indexOf(".jfif")===0||Vt.indexOf(".pjp")===0||Vt.indexOf(".pjpeg")===0||Vt.indexOf(".png")===0||Vt.indexOf(".svg")===0||Vt.indexOf(".webp")===0?v.currentMode==="wysiwyg"?Ke+='<img alt="'.concat(yn,'" src="').concat(Bt,`">
`):Ke+="![".concat(yn,"](").concat(Bt,`)
`):v.currentMode==="wysiwyg"?Ke+='<a href="'.concat(Bt,'">').concat(yn,`</a>
`):Ke+="[".concat(yn,"](").concat(Bt,`)
`)}),(0,yt.jl)(v.upload.range),document.execCommand("insertHTML",!1,Ke),v.upload.range=getSelection().getRangeAt(0).cloneRange()},ht=function(d,v,p){return oa(void 0,void 0,void 0,function(){var k,N,na,Ke,St,St,Bt,en,Vt,yn,ur,da,ia,na,Ta,Ca;return Xt(this,function(qr){switch(qr.label){case 0:for(k=[],N=d.options.upload.multiple===!0?v.length:1,na=0;na<N;na++)Ke=v[na],Ke instanceof DataTransferItem&&(Ke=Ke.getAsFile()),k.push(Ke);return d.options.upload.handler?[4,d.options.upload.handler(k)]:[3,2];case 1:return St=qr.sent(),p&&(p.value=""),typeof St=="string"?(d.tip.show(St),[2]):[2];case 2:return!d.options.upload.url||!d.upload?(p&&(p.value=""),d.tip.show("please config: options.upload.url"),[2]):d.options.upload.file?[4,d.options.upload.file(k)]:[3,4];case 3:k=qr.sent(),qr.label=4;case 4:if(d.options.upload.validate&&(St=d.options.upload.validate(k),typeof St=="string"))return d.tip.show(St),[2];if(Bt=Wn(d),d.upload.range=(0,yt.RN)(d),en=Yn(d,k),en.length===0)return p&&(p.value=""),[2];for(Vt=new FormData,yn=d.options.upload.extraData,ur=0,da=Object.keys(yn);ur<da.length;ur++)ia=da[ur],Vt.append(ia,yn[ia]);for(na=0,Ta=en.length;na<Ta;na++)Vt.append(d.options.upload.fieldName,en[na]);return Ca=new XMLHttpRequest,Ca.open("POST",d.options.upload.url),d.options.upload.token&&Ca.setRequestHeader("X-Upload-Token",d.options.upload.token),d.options.upload.withCredentials&&(Ca.withCredentials=!0),zr(d,Ca),d.upload.isUploading=!0,Bt.setAttribute("contenteditable","false"),Ca.onreadystatechange=function(){if(Ca.readyState===XMLHttpRequest.DONE){if(d.upload.isUploading=!1,Bt.setAttribute("contenteditable","true"),Ca.status>=200&&Ca.status<300)if(d.options.upload.success)d.options.upload.success(Bt,Ca.responseText);else{var uo=Ca.responseText;d.options.upload.format&&(uo=d.options.upload.format(v,Ca.responseText)),sr(uo,d)}else d.options.upload.error?d.options.upload.error(Ca.responseText):d.tip.show(Ca.responseText);p&&(p.value=""),d.upload.element.style.display="none"}},Ca.upload.onprogress=function(uo){if(uo.lengthComputable){var Wa=uo.loaded/uo.total*100;d.upload.element.style.display="block";var yo=d.upload.element;yo.style.width=Wa+"%"}},Ca.send(Vt),[2]}})})},$t=function(d,v,p){var k,N=(0,Ue.pt)(v.startContainer);if(N||(N=d.wysiwyg.element),p&&p.inputType!=="formatItalic"&&p.inputType!=="deleteByDrag"&&p.inputType!=="insertFromDrop"&&p.inputType!=="formatBold"&&p.inputType!=="formatRemove"&&p.inputType!=="formatStrikeThrough"&&p.inputType!=="insertUnorderedList"&&p.inputType!=="insertOrderedList"&&p.inputType!=="formatOutdent"&&p.inputType!=="formatIndent"&&p.inputType!==""||!p){var Ke=co(v.startContainer);Ke&&Ke.remove(),d.wysiwyg.element.querySelectorAll("wbr").forEach(function(Wa){Wa.remove()}),v.insertNode(document.createElement("wbr")),N.querySelectorAll("[style]").forEach(function(Wa){Wa.removeAttribute("style")}),N.querySelectorAll(".vditor-comment").forEach(function(Wa){Wa.textContent.trim()===""&&(Wa.classList.remove("vditor-comment","vditor-comment--focus"),Wa.removeAttribute("data-cmtids"))}),(k=N.previousElementSibling)===null||k===void 0||k.querySelectorAll(".vditor-comment").forEach(function(Wa){Wa.textContent.trim()===""&&(Wa.classList.remove("vditor-comment","vditor-comment--focus"),Wa.removeAttribute("data-cmtids"))});var St="";N.getAttribute("data-type")==="link-ref-defs-block"&&(N=d.wysiwyg.element);var Bt=N.isEqualNode(d.wysiwyg.element),en=(0,Ue.Th)(N,"data-type","footnotes-block");if(Bt)St=N.innerHTML;else{var Vt=(0,Ue.KR)(v.startContainer);if(Vt&&!en){var yn=(0,pt.f)(v.startContainer,"BLOCKQUOTE");yn?N=(0,Ue.pt)(v.startContainer)||N:N=Vt}if(en&&(N=en),St=N.outerHTML,N.tagName==="UL"||N.tagName==="OL"){var ur=N.previousElementSibling,da=N.nextElementSibling;ur&&(ur.tagName==="UL"||ur.tagName==="OL")&&(St=ur.outerHTML+St,ur.remove()),da&&(da.tagName==="UL"||da.tagName==="OL")&&(St=St+da.outerHTML,da.remove()),St=St.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}N.innerText.startsWith("```")||(d.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(Wa){Wa&&!N.isEqualNode(Wa)&&(St+=Wa.outerHTML,Wa.remove())}),d.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(Wa){Wa&&!N.isEqualNode(Wa)&&(St+=Wa.outerHTML,Wa.remove())}))}if(St=St.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""),St==='<p data-block="0">```<wbr></p>'&&d.hint.recentLanguage&&(St='<p data-block="0">```<wbr></p>'.replace("```","```"+d.hint.recentLanguage)),It("SpinVditorDOM",St,"argument",d.options.debugger),St=d.lute.SpinVditorDOM(St),It("SpinVditorDOM",St,"result",d.options.debugger),Bt)N.innerHTML=St;else if(N.outerHTML=St,en){var ia=(0,Ue.Ab)(d.wysiwyg.element.querySelector("wbr"),"LI");if(ia){var na=d.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(ia.getAttribute("data-marker"),'"]'));na&&na.setAttribute("aria-label",ia.textContent.trim().substr(0,24))}}var Ta,Ca=d.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");Ca.forEach(function(Wa,yo){yo===0?Ta=Wa:(Ta.insertAdjacentHTML("beforeend",Wa.innerHTML),Wa.remove())}),Ca.length>0&&d.wysiwyg.element.insertAdjacentElement("beforeend",Ca[0]);var qr,uo=d.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");uo.forEach(function(Wa,yo){yo===0?qr=Wa:(qr.insertAdjacentHTML("beforeend",Wa.innerHTML),Wa.remove())}),uo.length>0&&d.wysiwyg.element.insertAdjacentElement("beforeend",uo[0]),(0,yt.ir)(d.wysiwyg.element,v),d.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(Wa){cn(Wa,d)}),p&&(p.inputType==="deleteContentBackward"||p.inputType==="deleteContentForward")&&d.options.comment.enable&&(d.wysiwyg.triggerRemoveComment(d),d.options.comment.adjustTop(d.wysiwyg.getComments(d,!0)))}Mt(d),fa(d,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},fn=function(d,v){return Object.defineProperty?Object.defineProperty(d,"raw",{value:v}):d.raw=v,d},Tn=function(d,v,p,k){function N(Ke){return Ke instanceof p?Ke:new p(function(St){St(Ke)})}return new(p||(p=Promise))(function(Ke,St){function Bt(yn){try{Vt(k.next(yn))}catch(ur){St(ur)}}function en(yn){try{Vt(k.throw(yn))}catch(ur){St(ur)}}function Vt(yn){yn.done?Ke(yn.value):N(yn.value).then(Bt,en)}Vt((k=k.apply(d,v||[])).next())})},Hn=function(d,v){var p={label:0,sent:function(){if(Ke[0]&1)throw Ke[1];return Ke[1]},trys:[],ops:[]},k,N,Ke,St;return St={next:Bt(0),throw:Bt(1),return:Bt(2)},typeof Symbol=="function"&&(St[Symbol.iterator]=function(){return this}),St;function Bt(Vt){return function(yn){return en([Vt,yn])}}function en(Vt){if(k)throw new TypeError("Generator is already executing.");for(;St&&(St=0,Vt[0]&&(p=0)),p;)try{if(k=1,N&&(Ke=Vt[0]&2?N.return:Vt[0]?N.throw||((Ke=N.return)&&Ke.call(N),0):N.next)&&!(Ke=Ke.call(N,Vt[1])).done)return Ke;switch(N=0,Ke&&(Vt=[Vt[0]&2,Ke.value]),Vt[0]){case 0:case 1:Ke=Vt;break;case 4:return p.label++,{value:Vt[1],done:!1};case 5:p.label++,N=Vt[1],Vt=[0];continue;case 7:Vt=p.ops.pop(),p.trys.pop();continue;default:if(Ke=p.trys,!(Ke=Ke.length>0&&Ke[Ke.length-1])&&(Vt[0]===6||Vt[0]===2)){p=0;continue}if(Vt[0]===3&&(!Ke||Vt[1]>Ke[0]&&Vt[1]<Ke[3])){p.label=Vt[1];break}if(Vt[0]===6&&p.label<Ke[1]){p.label=Ke[1],Ke=Vt;break}if(Ke&&p.label<Ke[2]){p.label=Ke[2],p.ops.push(Vt);break}Ke[2]&&p.ops.pop(),p.trys.pop();continue}Vt=v.call(d,p)}catch(yn){Vt=[6,yn],N=0}finally{k=Ke=0}if(Vt[0]&5)throw Vt[1];return{value:Vt[0]?Vt[1]:void 0,done:!0}}},Un=function(d,v,p){if(d.keyCode===229&&d.code===""&&d.key==="Unidentified"&&v.currentMode!=="sv"){var k=(0,Ue.pt)(p);if(k&&k.textContent.trim()==="")return v[v.currentMode].composingLock=!0,!1}return!0},Fr=function(d,v,p){if(!(p.key==="Enter"||p.key==="Tab"||p.key==="Backspace"||p.key.indexOf("Arrow")>-1||(0,Te._0)(p)||p.key==="Escape"||p.shiftKey||p.altKey)){var k=(0,Ue._Y)(d.startContainer,"P")||(0,Ue._Y)(d.startContainer,"LI");if(k&&(0,yt.ED)(k,v[v.currentMode].element,d).start===0){k.nodeValue&&(k.nodeValue=k.nodeValue.replace(/\u2006/g,""));var N=document.createTextNode(ze.Y.ZWSP);d.insertNode(N),d.setStartAfter(N)}}},ea=function(d,v){if(v==="ArrowDown"||v==="ArrowUp"){var p=(0,Ue.Th)(d.startContainer,"data-type","math-inline")||(0,Ue.Th)(d.startContainer,"data-type","html-entity")||(0,Ue.Th)(d.startContainer,"data-type","html-inline");p&&(v==="ArrowDown"&&d.setStartAfter(p.parentElement),v==="ArrowUp"&&d.setStartBefore(p.parentElement))}},Oa=function(d,v){var p=(0,yt.RN)(d),k=(0,Ue.pt)(p.startContainer);k&&(k.insertAdjacentHTML(v,'<p data-block="0">'.concat(ze.Y.ZWSP,`<wbr>
</p>`)),(0,yt.ir)(d[d.currentMode].element,p),Ka(d),go(d))},Ha=function(d){var v=(0,Ue._Y)(d,"TABLE");return v&&v.rows[0].cells[0].isSameNode(d)?v:!1},za=function(d){var v=(0,Ue._Y)(d,"TABLE");return v&&v.lastElementChild.lastElementChild.lastElementChild.isSameNode(d)?v:!1},Qa=function(d,v,p){p===void 0&&(p=!0);var k=d.previousElementSibling;return k||(d.parentElement.previousElementSibling?k=d.parentElement.previousElementSibling.lastElementChild:d.parentElement.parentElement.tagName==="TBODY"&&d.parentElement.parentElement.previousElementSibling?k=d.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:k=null),k&&(v.selectNodeContents(k),p||v.collapse(!1),(0,yt.jl)(v)),k},Do=function(d,v,p,k,N){var Ke=(0,yt.ED)(k,d[d.currentMode].element,p);if(v.key==="ArrowDown"&&k.textContent.trimRight().substr(Ke.start).indexOf(`
`)===-1||v.key==="ArrowRight"&&Ke.start>=k.textContent.trimRight().length){var St=N.nextElementSibling;return!St||St&&(St.tagName==="TABLE"||St.getAttribute("data-type"))?(N.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(ze.Y.ZWSP,"<wbr></p>")),(0,yt.ir)(d[d.currentMode].element,p)):(p.selectNodeContents(St),p.collapse(!0),(0,yt.jl)(p)),v.preventDefault(),!0}return!1},si=function(d,v,p,k,N){var Ke=(0,yt.ED)(k,d[d.currentMode].element,p);if(v.key==="ArrowUp"&&k.textContent.substr(0,Ke.start).indexOf(`
`)===-1||(v.key==="ArrowLeft"||v.key==="Backspace"&&p.toString()==="")&&Ke.start===0){var St=N.previousElementSibling;return!St||St&&(St.tagName==="TABLE"||St.getAttribute("data-type"))?(N.insertAdjacentHTML("beforebegin",'<p data-block="0">'.concat(ze.Y.ZWSP,"<wbr></p>")),(0,yt.ir)(d[d.currentMode].element,p)):(p.selectNodeContents(St),p.collapse(!1),(0,yt.jl)(p)),v.preventDefault(),!0}return!1},du=function(d,v,p,k){k===void 0&&(k=!0);var N=(0,Ue._Y)(v.startContainer,"LI");if(d[d.currentMode].element.querySelectorAll("wbr").forEach(function(yn){yn.remove()}),v.insertNode(document.createElement("wbr")),k&&N){for(var Ke="",St=0;St<N.parentElement.childElementCount;St++){var Bt=N.parentElement.children[St].querySelector("input");Bt&&Bt.remove(),Ke+='<p data-block="0">'.concat(N.parentElement.children[St].innerHTML.trimLeft(),"</p>")}N.parentElement.insertAdjacentHTML("beforebegin",Ke),N.parentElement.remove()}else if(N)if(p==="check")N.parentElement.querySelectorAll("li").forEach(function(yn){yn.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'.concat(yn.textContent.indexOf(" ")===0?"":" ")),yn.classList.add("vditor-task")});else{N.querySelector("input")&&N.parentElement.querySelectorAll("li").forEach(function(yn){yn.querySelector("input").remove(),yn.classList.remove("vditor-task")});var Vt=void 0;p==="list"?(Vt=document.createElement("ul"),Vt.setAttribute("data-marker","*")):(Vt=document.createElement("ol"),Vt.setAttribute("data-marker","1.")),Vt.setAttribute("data-block","0"),Vt.setAttribute("data-tight",N.parentElement.getAttribute("data-tight")),Vt.innerHTML=N.parentElement.innerHTML,N.parentElement.parentNode.replaceChild(Vt,N.parentElement)}else{var en=(0,Ue.Th)(v.startContainer,"data-block","0");en||(d[d.currentMode].element.querySelector("wbr").remove(),en=d[d.currentMode].element.querySelector("p"),en.innerHTML="<wbr>"),p==="check"?(en.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '.concat(en.innerHTML,"</li></ul>")),en.remove()):p==="list"?(en.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'.concat(en.innerHTML,"</li></ul>")),en.remove()):p==="ordered-list"&&(en.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'.concat(en.innerHTML,"</li></ol>")),en.remove())}},ls=function(d,v,p){var k=v.previousElementSibling;if(v&&k){var N=[v];Array.from(p.cloneContents().children).forEach(function(en,Vt){en.nodeType!==3&&v&&en.textContent.trim()!==""&&v.getAttribute("data-node-id")===en.getAttribute("data-node-id")&&(Vt!==0&&N.push(v),v=v.nextElementSibling)}),d[d.currentMode].element.querySelectorAll("wbr").forEach(function(en){en.remove()}),p.insertNode(document.createElement("wbr"));var Ke=k.parentElement,St="";N.forEach(function(en){var Vt=en.getAttribute("data-marker");Vt.length!==1&&(Vt="1".concat(Vt.slice(-1))),St+='<li data-node-id="'.concat(en.getAttribute("data-node-id"),'" data-marker="').concat(Vt,'">').concat(en.innerHTML,"</li>"),en.remove()}),k.insertAdjacentHTML("beforeend","<".concat(Ke.tagName,' data-block="0">').concat(St,"</").concat(Ke.tagName,">")),d.currentMode==="wysiwyg"?Ke.outerHTML=d.lute.SpinVditorDOM(Ke.outerHTML):Ke.outerHTML=d.lute.SpinVditorIRDOM(Ke.outerHTML),(0,yt.ir)(d[d.currentMode].element,p);var Bt=(0,Ue.KR)(p.startContainer);Bt&&Bt.querySelectorAll(".vditor-".concat(d.currentMode,"__preview[data-render='2']")).forEach(function(en){cn(en,d),d.currentMode==="wysiwyg"&&en.previousElementSibling.setAttribute("style","display:none")}),go(d),Ka(d)}else d[d.currentMode].element.focus()},Wu=function(d,v,p,k){var N=(0,Ue._Y)(v.parentElement,"LI");if(N){d[d.currentMode].element.querySelectorAll("wbr").forEach(function(ur){ur.remove()}),p.insertNode(document.createElement("wbr"));var Ke=v.parentElement,St=Ke.cloneNode(),Bt=[v];Array.from(p.cloneContents().children).forEach(function(ur,da){ur.nodeType!==3&&v&&ur.textContent.trim()!==""&&v.getAttribute("data-node-id")===ur.getAttribute("data-node-id")&&(da!==0&&Bt.push(v),v=v.nextElementSibling)});var en=!1,Vt="";Ke.querySelectorAll("li").forEach(function(ur){en&&(Vt+=ur.outerHTML,!ur.nextElementSibling&&!ur.previousElementSibling?ur.parentElement.remove():ur.remove()),ur.isSameNode(Bt[Bt.length-1])&&(en=!0)}),Bt.reverse().forEach(function(ur){N.insertAdjacentElement("afterend",ur)}),Vt&&(St.innerHTML=Vt,Bt[0].insertAdjacentElement("beforeend",St)),d.currentMode==="wysiwyg"?k.outerHTML=d.lute.SpinVditorDOM(k.outerHTML):k.outerHTML=d.lute.SpinVditorIRDOM(k.outerHTML),(0,yt.ir)(d[d.currentMode].element,p);var yn=(0,Ue.KR)(p.startContainer);yn&&yn.querySelectorAll(".vditor-".concat(d.currentMode,"__preview[data-render='2']")).forEach(function(ur){cn(ur,d),d.currentMode==="wysiwyg"&&ur.previousElementSibling.setAttribute("style","display:none")}),go(d),Ka(d)}else d[d.currentMode].element.focus()},Ci=function(d,v){for(var p=getSelection().getRangeAt(0).startContainer.parentElement,k=d.rows[0].cells.length,N=d.rows.length,Ke=0,St=0;St<N;St++)for(var Bt=0;Bt<k;Bt++)if(d.rows[St].cells[Bt].isSameNode(p)){Ke=Bt;break}for(var en=0;en<N;en++)d.rows[en].cells[Ke].setAttribute("align",v)},Zs=function(d){var v=d.trimRight().split(`
`).pop();return v===""?!1:(v.replace(/ |-/g,"")===""||v.replace(/ |_/g,"")===""||v.replace(/ |\*/g,"")==="")&&v.replace(/ /g,"").length>2?!(v.indexOf("-")>-1&&v.trimLeft().indexOf(" ")===-1&&d.trimRight().split(`
`).length>1||v.indexOf("    ")===0||v.indexOf("	")===0):!1},Ts=function(d){var v=d.trimRight().split(`
`);return d=v.pop(),d.indexOf("    ")===0||d.indexOf("	")===0||(d=d.trimLeft(),d===""||v.length===0)?!1:d.replace(/-/g,"")===""||d.replace(/=/g,"")===""},go=function(d,v){v===void 0&&(v={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),d.currentMode==="wysiwyg"?fa(d,v):d.currentMode==="ir"?Xa(d,v):d.currentMode==="sv"&&Gt(d,v)},Ki=function(d,v,p,k){var N,Ke=d.startContainer,St=(0,Ue._Y)(Ke,"LI");if(St){if(!(0,Te._0)(k)&&!k.altKey&&k.key==="Enter"&&!k.shiftKey&&p&&St.contains(p)&&p.nextElementSibling)return St&&!St.textContent.endsWith(`
`)&&St.insertAdjacentText("beforeend",`
`),d.insertNode(document.createTextNode(`

`)),d.collapse(!1),go(v),k.preventDefault(),!0;if(!(0,Te._0)(k)&&!k.shiftKey&&!k.altKey&&k.key==="Backspace"&&!St.previousElementSibling&&d.toString()===""&&(0,yt.ED)(St,v[v.currentMode].element,d).start===0)return St.nextElementSibling?(St.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(St.innerHTML,"</p>")),St.remove()):St.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(St.innerHTML,"</p>"),(0,yt.ir)(v[v.currentMode].element,d),go(v),k.preventDefault(),!0;if(!(0,Te._0)(k)&&!k.shiftKey&&!k.altKey&&k.key==="Backspace"&&St.textContent.trim().replace(ze.Y.ZWSP,"")===""&&d.toString()===""&&((N=St.previousElementSibling)===null||N===void 0?void 0:N.tagName)==="LI")return St.previousElementSibling.insertAdjacentText("beforeend",`

`),d.selectNodeContents(St.previousElementSibling),d.collapse(!1),St.remove(),(0,yt.ir)(v[v.currentMode].element,d),go(v),k.preventDefault(),!0;if(!(0,Te._0)(k)&&!k.altKey&&k.key==="Tab"){var Bt=!1;if((d.startOffset===0&&(Ke.nodeType===3&&!Ke.previousSibling||Ke.nodeType!==3&&Ke.nodeName==="LI")||St.classList.contains("vditor-task")&&d.startOffset===1&&Ke.previousSibling.nodeType!==3&&Ke.previousSibling.tagName==="INPUT")&&(Bt=!0),Bt||d.toString()!=="")return k.shiftKey?Wu(v,St,d,St.parentElement):ls(v,St,d),k.preventDefault(),!0}}return!1},el=function(d,v,p){if(d.options.tab&&p.key==="Tab")return p.shiftKey||(v.toString()===""?(v.insertNode(document.createTextNode(d.options.tab)),v.collapse(!1)):(v.extractContents(),v.insertNode(document.createTextNode(d.options.tab)),v.collapse(!1))),(0,yt.jl)(v),go(d),p.preventDefault(),!0},As=function(d,v,p,k){if(p){if(!(0,Te._0)(d)&&!d.altKey&&d.key==="Enter"){var N=String.raw(No||(No=fn(["",""],["",""])),p.textContent).replace(/\\\|/g,"").trim(),Ke=N.split("|");if(N.startsWith("|")&&N.endsWith("|")&&Ke.length>3){var St=Ke.map(function(){return"---"}).join("|");return St=p.textContent+`
`+St.substring(3,St.length-3)+`
|<wbr>`,p.outerHTML=v.lute.SpinVditorDOM(St),(0,yt.ir)(v[v.currentMode].element,k),go(v),Po(v),d.preventDefault(),!0}if(Zs(p.innerHTML)&&p.previousElementSibling){var Bt="",en=p.innerHTML.trimRight().split(`
`);return en.length>1&&(en.pop(),Bt='<p data-block="0">'.concat(en.join(`
`),"</p>")),p.insertAdjacentHTML("afterend","".concat(Bt,`<hr data-block="0"><p data-block="0"><wbr>
</p>`)),p.remove(),(0,yt.ir)(v[v.currentMode].element,k),go(v),Po(v),d.preventDefault(),!0}if(Ts(p.innerHTML))return v.currentMode==="wysiwyg"?p.outerHTML=v.lute.SpinVditorDOM(p.innerHTML+`<p data-block="0"><wbr>
</p>`):p.outerHTML=v.lute.SpinVditorIRDOM(p.innerHTML+`<p data-block="0"><wbr>
</p>`),(0,yt.ir)(v[v.currentMode].element,k),go(v),Po(v),d.preventDefault(),!0}if(k.collapsed&&p.previousElementSibling&&d.key==="Backspace"&&!(0,Te._0)(d)&&!d.altKey&&!d.shiftKey&&p.textContent.trimRight().split(`
`).length>1&&(0,yt.ED)(p,v[v.currentMode].element,k).start===0){var Vt=(0,Ue.Rp)(p.previousElementSibling);return Vt.textContent.endsWith(`
`)||(Vt.textContent=Vt.textContent+`
`),Vt.parentElement.insertAdjacentHTML("beforeend","<wbr>".concat(p.innerHTML)),p.remove(),(0,yt.ir)(v[v.currentMode].element,k),!1}return!1}},ml=function(d,v,p){for(var k="",N=0;N<p.parentElement.childElementCount;N++)k+='<td align="'.concat(p.parentElement.children[N].getAttribute("align"),'"> </td>');p.tagName==="TH"?p.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>".concat(k,"</tr></tbody>")):p.parentElement.insertAdjacentHTML("afterend","<tr>".concat(k,"</tr>")),go(d)},Ll=function(d,v,p){for(var k="",N=0;N<p.parentElement.childElementCount;N++)p.tagName==="TH"?k+='<th align="'.concat(p.parentElement.children[N].getAttribute("align"),'"> </th>'):k+='<td align="'.concat(p.parentElement.children[N].getAttribute("align"),'"> </td>');if(p.tagName==="TH"){p.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>".concat(k,"</tr></thead>")),v.insertNode(document.createElement("wbr"));var Ke=p.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");p.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",Ke),p.parentElement.parentElement.remove(),(0,yt.ir)(d.ir.element,v)}else p.parentElement.insertAdjacentHTML("beforebegin","<tr>".concat(k,"</tr>"));go(d)},Ju=function(d,v,p,k){k===void 0&&(k="afterend");for(var N=0,Ke=p.previousElementSibling;Ke;)N++,Ke=Ke.previousElementSibling;for(var St=0;St<v.rows.length;St++)St===0?v.rows[St].cells[N].insertAdjacentHTML(k,"<th> </th>"):v.rows[St].cells[N].insertAdjacentHTML(k,"<td> </td>");go(d)},Zu=function(d,v,p){if(p.tagName==="TD"){var k=p.parentElement.parentElement;p.parentElement.previousElementSibling?v.selectNodeContents(p.parentElement.previousElementSibling.lastElementChild):v.selectNodeContents(k.previousElementSibling.lastElementChild.lastElementChild),k.childElementCount===1?k.remove():p.parentElement.remove(),v.collapse(!1),(0,yt.jl)(v),go(d)}},Bl=function(d,v,p,k){for(var N=0,Ke=k.previousElementSibling;Ke;)N++,Ke=Ke.previousElementSibling;(k.previousElementSibling||k.nextElementSibling)&&(v.selectNodeContents(k.previousElementSibling||k.nextElementSibling),v.collapse(!0));for(var St=0;St<p.rows.length;St++){var Bt=p.rows[St].cells;if(Bt.length===1){p.remove(),Ka(d);break}Bt[N].remove()}(0,yt.jl)(v),go(d)},tl=function(d,v,p){var k=p.startContainer,N=(0,Ue._Y)(k,"TD")||(0,Ue._Y)(k,"TH");if(N){if(!(0,Te._0)(v)&&!v.altKey&&v.key==="Enter"){(!N.lastElementChild||N.lastElementChild&&(!N.lastElementChild.isSameNode(N.lastChild)||N.lastElementChild.tagName!=="BR"))&&N.insertAdjacentHTML("beforeend","<br>");var Ke=document.createElement("br");return p.insertNode(Ke),p.setStartAfter(Ke),go(d),Po(d),v.preventDefault(),!0}if(v.key==="Tab"){if(v.shiftKey)return Qa(N,p),v.preventDefault(),!0;var St=N.nextElementSibling;return St||(N.parentElement.nextElementSibling?St=N.parentElement.nextElementSibling.firstElementChild:N.parentElement.parentElement.tagName==="THEAD"&&N.parentElement.parentElement.nextElementSibling?St=N.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:St=null),St&&(p.selectNodeContents(St),(0,yt.jl)(p)),v.preventDefault(),!0}var Bt=N.parentElement.parentElement.parentElement;if(v.key==="ArrowUp"){if(v.preventDefault(),N.tagName==="TH")return Bt.previousElementSibling?(p.selectNodeContents(Bt.previousElementSibling),p.collapse(!1),(0,yt.jl)(p)):Oa(d,"beforebegin"),!0;for(var en=0,Vt=N.parentElement;en<Vt.cells.length&&!Vt.cells[en].isSameNode(N);en++);var yn=Vt.previousElementSibling;return yn||(yn=Vt.parentElement.previousElementSibling.firstChild),p.selectNodeContents(yn.cells[en]),p.collapse(!1),(0,yt.jl)(p),!0}if(v.key==="ArrowDown"){v.preventDefault();var Vt=N.parentElement;if(!Vt.nextElementSibling&&N.tagName==="TD")return Bt.nextElementSibling?(p.selectNodeContents(Bt.nextElementSibling),p.collapse(!0),(0,yt.jl)(p)):Oa(d,"afterend"),!0;for(var en=0;en<Vt.cells.length&&!Vt.cells[en].isSameNode(N);en++);var St=Vt.nextElementSibling;return St||(St=Vt.parentElement.nextElementSibling.firstChild),p.selectNodeContents(St.cells[en]),p.collapse(!0),(0,yt.jl)(p),!0}if(d.currentMode==="wysiwyg"&&!(0,Te._0)(v)&&v.key==="Enter"&&!v.shiftKey&&v.altKey){var ur=d.wysiwyg.popover.querySelector(".vditor-input");return ur.focus(),ur.select(),v.preventDefault(),!0}if(!(0,Te._0)(v)&&!v.shiftKey&&!v.altKey&&v.key==="Backspace"&&p.startOffset===0&&p.toString()===""){var da=Qa(N,p,!1);return!da&&Bt&&(Bt.textContent.trim()===""?(Bt.outerHTML=`<p data-block="0"><wbr>
</p>`,(0,yt.ir)(d[d.currentMode].element,p)):(p.setStartBefore(Bt),p.collapse(!0)),go(d)),v.preventDefault(),!0}if(ot("⇧⌘F",v))return Ll(d,p,N),v.preventDefault(),!0;if(ot("⌘=",v))return ml(d,p,N),v.preventDefault(),!0;if(ot("⇧⌘G",v))return Ju(d,Bt,N,"beforebegin"),v.preventDefault(),!0;if(ot("⇧⌘=",v))return Ju(d,Bt,N),v.preventDefault(),!0;if(ot("⌘-",v))return Zu(d,p,N),v.preventDefault(),!0;if(ot("⇧⌘-",v))return Bl(d,p,Bt,N),v.preventDefault(),!0;if(ot("⇧⌘L",v)){if(d.currentMode==="ir")return Ci(Bt,"left"),go(d),v.preventDefault(),!0;var ia=d.wysiwyg.popover.querySelector('[data-type="left"]');if(ia)return ia.click(),v.preventDefault(),!0}if(ot("⇧⌘C",v)){if(d.currentMode==="ir")return Ci(Bt,"center"),go(d),v.preventDefault(),!0;var ia=d.wysiwyg.popover.querySelector('[data-type="center"]');if(ia)return ia.click(),v.preventDefault(),!0}if(ot("⇧⌘R",v)){if(d.currentMode==="ir")return Ci(Bt,"right"),go(d),v.preventDefault(),!0;var ia=d.wysiwyg.popover.querySelector('[data-type="right"]');if(ia)return ia.click(),v.preventDefault(),!0}}return!1},pl=function(d,v,p,k){if(p.tagName==="PRE"&&ot("⌘A",v))return k.selectNodeContents(p.firstElementChild),v.preventDefault(),!0;if(d.options.tab&&v.key==="Tab"&&!v.shiftKey&&k.toString()==="")return k.insertNode(document.createTextNode(d.options.tab)),k.collapse(!1),go(d),v.preventDefault(),!0;if(v.key==="Backspace"&&!(0,Te._0)(v)&&!v.shiftKey&&!v.altKey){var N=(0,yt.ED)(p,d[d.currentMode].element,k);if((N.start===0||N.start===1&&p.innerText===`
`)&&k.toString()==="")return p.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(p.firstElementChild.innerHTML,"</p>"),(0,yt.ir)(d[d.currentMode].element,k),go(d),v.preventDefault(),!0}return!(0,Te._0)(v)&&!v.altKey&&v.key==="Enter"?(p.firstElementChild.textContent.endsWith(`
`)||p.firstElementChild.insertAdjacentText("beforeend",`
`),k.extractContents(),k.insertNode(document.createTextNode(`
`)),k.collapse(!1),(0,yt.jl)(k),(0,Te.gm)()||(d.currentMode==="wysiwyg"?$t(d,k):an(d,k)),Po(d),v.preventDefault(),!0):!1},Rt=function(d,v,p,k){var N=v.startContainer,Ke=(0,Ue._Y)(N,"BLOCKQUOTE");if(Ke&&v.toString()===""){if(p.key==="Backspace"&&!(0,Te._0)(p)&&!p.shiftKey&&!p.altKey&&(0,yt.ED)(Ke,d[d.currentMode].element,v).start===0)return v.insertNode(document.createElement("wbr")),Ke.outerHTML=Ke.innerHTML,(0,yt.ir)(d[d.currentMode].element,v),go(d),p.preventDefault(),!0;if(k&&p.key==="Enter"&&!(0,Te._0)(p)&&!p.shiftKey&&!p.altKey&&k.parentElement.tagName==="BLOCKQUOTE"){var St=!1;if(k.innerHTML.replace(ze.Y.ZWSP,"")===`
`||k.innerHTML.replace(ze.Y.ZWSP,"")===""?(St=!0,k.remove()):k.innerHTML.endsWith(`

`)&&(0,yt.ED)(k,d[d.currentMode].element,v).start===k.textContent.length-1&&(k.innerHTML=k.innerHTML.substr(0,k.innerHTML.length-2),St=!0),St)return Ke.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(ze.Y.ZWSP,`<wbr>
</p>`)),(0,yt.ir)(d[d.currentMode].element,v),go(d),p.preventDefault(),!0}var Bt=(0,Ue.pt)(N);if(d.currentMode==="wysiwyg"&&Bt&&ot("⇧⌘;",p))return v.insertNode(document.createElement("wbr")),Bt.outerHTML='<blockquote data-block="0">'.concat(Bt.outerHTML,"</blockquote>"),(0,yt.ir)(d.wysiwyg.element,v),fa(d),p.preventDefault(),!0;if(Do(d,p,v,Ke,Ke)||si(d,p,v,Ke,Ke))return!0}return!1},xn=function(d,v,p){var k=v.startContainer,N=(0,Ue.KJ)(k,"vditor-task");if(N){if(ot("⇧⌘J",p)){var Ke=N.firstElementChild;return Ke.checked?Ke.removeAttribute("checked"):Ke.setAttribute("checked","checked"),go(d),p.preventDefault(),!0}if(p.key==="Backspace"&&!(0,Te._0)(p)&&!p.shiftKey&&!p.altKey&&v.toString()===""&&v.startOffset===1&&(k.nodeType===3&&k.previousSibling&&k.previousSibling.tagName==="INPUT"||k.nodeType!==3)){var St=N.previousElementSibling;if(N.querySelector("input").remove(),St){var Bt=(0,Ue.Rp)(St);Bt.parentElement.insertAdjacentHTML("beforeend","<wbr>"+N.innerHTML.trim()),N.remove()}else N.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(N.innerHTML.trim()||`
`,"</p>")),N.nextElementSibling?N.remove():N.parentElement.remove();return(0,yt.ir)(d[d.currentMode].element,v),go(d),p.preventDefault(),!0}if(p.key==="Enter"&&!(0,Te._0)(p)&&!p.shiftKey&&!p.altKey){if(N.textContent.trim()==="")if((0,Ue.KJ)(N.parentElement,"vditor-task")){var en=(0,Ue.KR)(k);en&&Wu(d,N,v,en)}else if(N.nextElementSibling){var Vt="",yn="",ur=!1;Array.from(N.parentElement.children).forEach(function(Ta){N.isSameNode(Ta)?ur=!0:ur?Vt+=Ta.outerHTML:yn+=Ta.outerHTML});var da=N.parentElement.tagName,ia=N.parentElement.tagName==="OL"?"":' data-marker="'.concat(N.parentElement.getAttribute("data-marker"),'"'),na="";yn&&(na=N.parentElement.tagName==="UL"?"":' start="1"',yn="<".concat(da,' data-tight="true"').concat(ia,' data-block="0">').concat(yn,"</").concat(da,">")),N.parentElement.outerHTML="".concat(yn,`<p data-block="0"><wbr>
</p><`).concat(da,`
 data-tight="true"`).concat(ia,' data-block="0"').concat(na,">").concat(Vt,"</").concat(da,">")}else N.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),N.parentElement.querySelectorAll("li").length===1?N.parentElement.remove():N.remove();else k.nodeType!==3&&v.startOffset===0&&k.firstChild.tagName==="INPUT"?v.setStart(k.childNodes[1],1):(v.setEndAfter(N.lastChild),N.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'.concat(N.getAttribute("data-marker"),'"><input type="checkbox"> <wbr></li>')),document.querySelector("wbr").after(v.extractContents()));return(0,yt.ir)(d[d.currentMode].element,v),go(d),Po(d),p.preventDefault(),!0}}return!1},In=function(d,v,p,k){if(v.startContainer.nodeType!==3){var N=v.startContainer.children[v.startOffset];if(N&&N.tagName==="HR")return v.selectNodeContents(N.previousElementSibling),v.collapse(!1),p.preventDefault(),!0}if(k){var Ke=k.previousElementSibling;if(Ke&&(0,yt.ED)(k,d[d.currentMode].element,v).start===0&&((0,Te.gm)()&&Ke.tagName==="HR"||Ke.tagName==="TABLE")){if(Ke.tagName==="TABLE"){var St=Ke.lastElementChild.lastElementChild.lastElementChild;St.innerHTML=St.innerHTML.trimLeft()+"<wbr>"+k.textContent.trim(),k.remove()}else Ke.remove();return(0,yt.ir)(d[d.currentMode].element,v),go(d),p.preventDefault(),!0}}return!1},fr=function(d){(0,Te.gm)()&&d.startContainer.nodeType!==3&&d.startContainer.tagName==="HR"&&d.setStartBefore(d.startContainer)},Rr=function(d,v,p){var k,N;if(!(0,Te.gm)())return!1;if(d.key==="ArrowUp"&&v&&((k=v.previousElementSibling)===null||k===void 0?void 0:k.tagName)==="TABLE"){var Ke=v.previousElementSibling;return p.selectNodeContents(Ke.rows[Ke.rows.length-1].lastElementChild),p.collapse(!1),d.preventDefault(),!0}return d.key==="ArrowDown"&&v&&((N=v.nextElementSibling)===null||N===void 0?void 0:N.tagName)==="TABLE"?(p.selectNodeContents(v.nextElementSibling.rows[0].cells[0]),p.collapse(!0),d.preventDefault(),!0):!1},ba=function(d,v,p){return Tn(void 0,void 0,void 0,function(){var k,N,Ke,St,Bt,en,Vt,yn,ur,da,ia,na,Ta,qr,Ca,qr,uo;return Hn(this,function(Wa){switch(Wa.label){case 0:return d[d.currentMode].element.getAttribute("contenteditable")!=="true"?[2]:(v.stopPropagation(),v.preventDefault(),"clipboardData"in v?(k=v.clipboardData.getData("text/html"),N=v.clipboardData.getData("text/plain"),Ke=v.clipboardData.files):(k=v.dataTransfer.getData("text/html"),N=v.dataTransfer.getData("text/plain"),v.dataTransfer.types.includes("Files")&&(Ke=v.dataTransfer.items)),St={},Bt=function(yo,gi){if(!gi)return["",Lute.WalkContinue];if(d.options.upload.renderLinkDest)return d.options.upload.renderLinkDest(d,yo,gi);var ai=yo.TokensStr();if(yo.__internal_object__.Parent.Type===34&&ai&&ai.indexOf("file://")===-1&&d.options.upload.linkToImgUrl){var Ai=new XMLHttpRequest;Ai.open("POST",d.options.upload.linkToImgUrl),d.options.upload.token&&Ai.setRequestHeader("X-Upload-Token",d.options.upload.token),d.options.upload.withCredentials&&(Ai.withCredentials=!0),zr(d,Ai),Ai.setRequestHeader("Content-Type","application/json; charset=utf-8"),Ai.onreadystatechange=function(){if(Ai.readyState===XMLHttpRequest.DONE){if(Ai.status===200){var Da=Ai.responseText;d.options.upload.linkToImgFormat&&(Da=d.options.upload.linkToImgFormat(Ai.responseText));var Ni=JSON.parse(Da);if(Ni.code!==0){d.tip.show(Ni.msg);return}var Ku=Ni.data.originalURL;if(d.currentMode==="sv")d.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(vu){vu.textContent===Ku&&(vu.textContent=Ni.data.url)});else{var Ro=d[d.currentMode].element.querySelector('img[src="'.concat(Ku,'"]'));Ro.src=Ni.data.url,d.currentMode==="ir"&&(Ro.previousElementSibling.previousElementSibling.innerHTML=Ni.data.url)}go(d)}else d.tip.show(Ai.responseText);d.options.upload.linkToImgCallback&&d.options.upload.linkToImgCallback(Ai.responseText)}},Ai.send(JSON.stringify({url:ai}))}return d.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'.concat(Lute.EscapeHTMLStr(ai),"</span>"),Lute.WalkContinue]:d.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'.concat(Lute.EscapeHTMLStr(ai),"</span>"),Lute.WalkContinue]},(k.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/ig,"").trim()==='<a href="'.concat(N,'">').concat(N,"</a>")||k.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/ig,"").trim()==='<!--StartFragment--><a href="'.concat(N,'">').concat(N,"</a><!--EndFragment-->"))&&(k=""),en=new DOMParser().parseFromString(k,"text/html"),en.body&&(k=en.body.innerHTML),k=Lute.Sanitize(k),d.wysiwyg.getComments(d),Vt=d[d.currentMode].element.scrollHeight,yn=jt(k,N,d.currentMode),ur=d.currentMode==="sv"?(0,Ue.Th)(v.target,"data-type","code-block"):(0,Ue._Y)(v.target,"CODE"),ur?(d.currentMode==="sv"?document.execCommand("insertHTML",!1,N.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(da=(0,yt.ED)(v.target,d[d.currentMode].element),ur.parentElement.tagName!=="PRE"&&(N+=ze.Y.ZWSP),ur.textContent=ur.textContent.substring(0,da.start)+N+ur.textContent.substring(da.end),(0,yt.Fm)(da.start+N.length,da.start+N.length,ur.parentElement),!((uo=ur.parentElement)===null||uo===void 0)&&uo.nextElementSibling.classList.contains("vditor-".concat(d.currentMode,"__preview"))&&(ur.parentElement.nextElementSibling.innerHTML=ur.outerHTML,cn(ur.parentElement.nextElementSibling,d))),[3,8]):[3,1]);case 1:return yn?(p.pasteCode(yn),[3,8]):[3,2];case 2:return k.trim()===""?[3,3]:(ia=document.createElement("div"),ia.innerHTML=k,ia.querySelectorAll("[style]").forEach(function(yo){yo.removeAttribute("style")}),ia.querySelectorAll(".vditor-copy").forEach(function(yo){yo.remove()}),d.currentMode==="ir"?(St.HTML2VditorIRDOM={renderLinkDest:Bt},d.lute.SetJSRenderers({renderers:St}),(0,yt.Z2)(d.lute.HTML2VditorIRDOM(ia.innerHTML),d)):d.currentMode==="wysiwyg"?(St.HTML2VditorDOM={renderLinkDest:Bt},d.lute.SetJSRenderers({renderers:St}),(0,yt.Z2)(d.lute.HTML2VditorDOM(ia.innerHTML),d)):(St.Md2VditorSVDOM={renderLinkDest:Bt},d.lute.SetJSRenderers({renderers:St}),iu(d,d.lute.HTML2Md(ia.innerHTML).trimRight())),d.outline.render(d),[3,8]);case 3:return Ke.length>0?d.options.upload.url||d.options.upload.handler?[4,ht(d,Ke)]:[3,5]:[3,7];case 4:return Wa.sent(),[3,6];case 5:na=new FileReader,"clipboardData"in v?(Ke=v.clipboardData.files,Ta=Ke[0]):v.dataTransfer.types.includes("Files")&&(Ke=v.dataTransfer.items,Ta=Ke[0].getAsFile()),Ta&&Ta.type.startsWith("image")&&(na.readAsDataURL(Ta),na.onload=function(){var yo="";d.currentMode==="wysiwyg"?yo+='<img alt="'.concat(Ta.name,'" src="').concat(na.result.toString(),`">
`):yo+="![".concat(Ta.name,"](").concat(na.result.toString(),`)
`),document.execCommand("insertHTML",!1,yo)}),Wa.label=6;case 6:return[3,8];case 7:N.trim()!==""&&Ke.length===0&&(qr=(0,yt.RN)(d),qr.toString()!==""&&d.lute.IsValidLinkDest(N)&&(N="[".concat(qr.toString(),"](").concat(N,")")),d.currentMode==="ir"?(St.Md2VditorIRDOM={renderLinkDest:Bt},d.lute.SetJSRenderers({renderers:St}),(0,yt.Z2)(d.lute.Md2VditorIRDOM(N),d)):d.currentMode==="wysiwyg"?(St.Md2VditorDOM={renderLinkDest:Bt},d.lute.SetJSRenderers({renderers:St}),(0,yt.Z2)(d.lute.Md2VditorDOM(N),d)):(St.Md2VditorSVDOM={renderLinkDest:Bt},d.lute.SetJSRenderers({renderers:St}),iu(d,N)),d.outline.render(d)),Wa.label=8;case 8:return d.currentMode!=="sv"&&(Ca=(0,Ue.pt)((0,yt.RN)(d).startContainer),Ca&&(qr=(0,yt.RN)(d),d[d.currentMode].element.querySelectorAll("wbr").forEach(function(yo){yo.remove()}),qr.insertNode(document.createElement("wbr")),d.currentMode==="wysiwyg"?Ca.outerHTML=d.lute.SpinVditorDOM(Ca.outerHTML):Ca.outerHTML=d.lute.SpinVditorIRDOM(Ca.outerHTML),(0,yt.ir)(d[d.currentMode].element,qr)),d[d.currentMode].element.querySelectorAll(".vditor-".concat(d.currentMode,"__preview[data-render='2']")).forEach(function(yo){cn(yo,d)})),d.wysiwyg.triggerRemoveComment(d),go(d),d[d.currentMode].element.scrollHeight-Vt>Math.min(d[d.currentMode].element.clientHeight,window.innerHeight)/2&&Po(d),[2]}})})},No,jo=function(d){var v,p;d.hint.render(d);var k=(0,yt.RN)(d).startContainer,N=(0,Ue.Th)(k,"data-type","code-block-info");if(N)if(N.textContent.replace(ze.Y.ZWSP,"")===""&&d.hint.recentLanguage){N.textContent=ze.Y.ZWSP+d.hint.recentLanguage;var Ke=(0,yt.RN)(d);Ke.selectNodeContents(N)}else{var St=[],Bt=N.textContent.substring(0,(0,yt.ED)(N,d.ir.element).start).replace(ze.Y.ZWSP,"");(d.options.preview.hljs.langs||ze.Y.ALIAS_CODE_LANGUAGES.concat(((p=(v=window.hljs)===null||v===void 0?void 0:v.listLanguages())!==null&&p!==void 0?p:[]).sort())).forEach(function(en){en.indexOf(Bt.toLowerCase())>-1&&St.push({html:en,value:en})}),d.hint.genHTML(St,Bt,d)}},Xa=function(d,v){v===void 0&&(v={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),v.enableHint&&jo(d),clearTimeout(d.ir.processTimeoutId),d.ir.processTimeoutId=window.setTimeout(function(){if(!d.ir.composingLock){var p=at(d);typeof d.options.input=="function"&&v.enableInput&&d.options.input(p),d.options.counter.enable&&d.counter.render(d,p),d.options.cache.enable&&(0,Te.D)()&&(localStorage.setItem(d.options.cache.id,p),d.options.cache.after&&d.options.cache.after(p)),d.devtools&&d.devtools.renderEchart(d),v.enableAddUndoStack&&d.undo.addToUndoStack(d)}},d.options.undoDelay)},Go=function(d,v){var p=(0,yt.RN)(d),k=(0,Ue.pt)(p.startContainer)||p.startContainer;if(k){var N=k.querySelector(".vditor-ir__marker--heading");N?N.innerHTML=v:(k.insertAdjacentText("afterbegin",v),p.selectNodeContents(k),p.collapse(!1)),an(d,p.cloneRange()),la(d)}},li=function(d,v,p){var k=(0,Ue.Th)(d.startContainer,"data-type",p);if(k){k.firstElementChild.remove(),k.lastElementChild.remove(),d.insertNode(document.createElement("wbr"));var N=document.createElement("div");N.innerHTML=v.lute.SpinVditorIRDOM(k.outerHTML),k.outerHTML=N.firstElementChild.innerHTML.trim()}},Bs=function(d,v,p,k){var N=(0,yt.RN)(d),Ke=v.getAttribute("data-type"),St=N.startContainer;St.nodeType===3&&(St=St.parentElement);var Bt=!0;if(v.classList.contains("vditor-menu--current"))if(Ke==="quote"){var en=(0,Ue._Y)(St,"BLOCKQUOTE");en&&(N.insertNode(document.createElement("wbr")),en.outerHTML=en.innerHTML.trim()===""?'<p data-block="0">'.concat(en.innerHTML,"</p>"):en.innerHTML)}else if(Ke==="link"){var Vt=(0,Ue.Th)(N.startContainer,"data-type","a");if(Vt){var yn=(0,Ue.KJ)(N.startContainer,"vditor-ir__link");yn?(N.insertNode(document.createElement("wbr")),Vt.outerHTML=yn.innerHTML):Vt.outerHTML=Vt.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else Ke==="italic"?li(N,d,"em"):Ke==="bold"?li(N,d,"strong"):Ke==="strike"?li(N,d,"s"):Ke==="inline-code"?li(N,d,"code"):(Ke==="check"||Ke==="list"||Ke==="ordered-list")&&(du(d,N,Ke),Bt=!1,v.classList.remove("vditor-menu--current"));else{d.ir.element.childNodes.length===0&&(d.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,yt.ir)(d.ir.element,N));var ur=(0,Ue.pt)(N.startContainer);if(Ke==="line"){if(ur){var da=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;ur.innerHTML.trim()===""?ur.outerHTML=da:ur.insertAdjacentHTML("afterend",da)}}else if(Ke==="quote")ur&&(N.insertNode(document.createElement("wbr")),ur.outerHTML='<blockquote data-block="0">'.concat(ur.outerHTML,"</blockquote>"),Bt=!1,v.classList.add("vditor-menu--current"));else if(Ke==="link"){var ia=void 0;N.toString()===""?ia="".concat(p,"<wbr>").concat(k):ia="".concat(p).concat(N.toString()).concat(k.replace(")","<wbr>)")),document.execCommand("insertHTML",!1,ia),Bt=!1,v.classList.add("vditor-menu--current")}else if(Ke==="italic"||Ke==="bold"||Ke==="strike"||Ke==="inline-code"||Ke==="code"||Ke==="table"){var ia=void 0;N.toString()===""?ia="".concat(p,"<wbr>").concat(k):(Ke==="code"?ia="".concat(p,`
`).concat(N.toString(),"<wbr>").concat(k):Ke==="table"?ia="".concat(p).concat(N.toString(),"<wbr>").concat(k):ia="".concat(p).concat(N.toString()).concat(k,"<wbr>"),N.deleteContents()),(Ke==="table"||Ke==="code")&&(ia=`
`+ia+`

`);var na=document.createElement("span");na.innerHTML=ia,N.insertNode(na),an(d,N),Ke==="table"&&(N.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,yt.jl)(N))}else(Ke==="check"||Ke==="list"||Ke==="ordered-list")&&(du(d,N,Ke,!1),Bt=!1,et(d.toolbar.elements,["check","list","ordered-list"]),v.classList.add("vditor-menu--current"))}(0,yt.ir)(d.ir.element,N),Xa(d),Bt&&la(d)},Sc=function(d,v,p,k){function N(Ke){return Ke instanceof p?Ke:new p(function(St){St(Ke)})}return new(p||(p=Promise))(function(Ke,St){function Bt(yn){try{Vt(k.next(yn))}catch(ur){St(ur)}}function en(yn){try{Vt(k.throw(yn))}catch(ur){St(ur)}}function Vt(yn){yn.done?Ke(yn.value):N(yn.value).then(Bt,en)}Vt((k=k.apply(d,v||[])).next())})},xc=function(d,v){var p={label:0,sent:function(){if(Ke[0]&1)throw Ke[1];return Ke[1]},trys:[],ops:[]},k,N,Ke,St;return St={next:Bt(0),throw:Bt(1),return:Bt(2)},typeof Symbol=="function"&&(St[Symbol.iterator]=function(){return this}),St;function Bt(Vt){return function(yn){return en([Vt,yn])}}function en(Vt){if(k)throw new TypeError("Generator is already executing.");for(;St&&(St=0,Vt[0]&&(p=0)),p;)try{if(k=1,N&&(Ke=Vt[0]&2?N.return:Vt[0]?N.throw||((Ke=N.return)&&Ke.call(N),0):N.next)&&!(Ke=Ke.call(N,Vt[1])).done)return Ke;switch(N=0,Ke&&(Vt=[Vt[0]&2,Ke.value]),Vt[0]){case 0:case 1:Ke=Vt;break;case 4:return p.label++,{value:Vt[1],done:!1};case 5:p.label++,N=Vt[1],Vt=[0];continue;case 7:Vt=p.ops.pop(),p.trys.pop();continue;default:if(Ke=p.trys,!(Ke=Ke.length>0&&Ke[Ke.length-1])&&(Vt[0]===6||Vt[0]===2)){p=0;continue}if(Vt[0]===3&&(!Ke||Vt[1]>Ke[0]&&Vt[1]<Ke[3])){p.label=Vt[1];break}if(Vt[0]===6&&p.label<Ke[1]){p.label=Ke[1],Ke=Vt;break}if(Ke&&p.label<Ke[2]){p.label=Ke[2],p.ops.push(Vt);break}Ke[2]&&p.ops.pop(),p.trys.pop();continue}Vt=v.call(d,p)}catch(yn){Vt=[6,yn],N=0}finally{k=Ke=0}if(Vt[0]&5)throw Vt[1];return{value:Vt[0]?Vt[1]:void 0,done:!0}}},Na=function(){function d(v){var p=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(k,N){p.element.style.display="none";var Ke=decodeURIComponent(k.getAttribute("data-value")),St=window.getSelection().getRangeAt(0);if(N.currentMode==="ir"){var Bt=(0,Ue.Th)(St.startContainer,"data-type","code-block-info");if(Bt){Bt.textContent=ze.Y.ZWSP+Ke.trimRight(),St.selectNodeContents(Bt),St.collapse(!1),Xa(N),Bt.parentElement.querySelectorAll("code").forEach(function(ur){ur.className="language-"+Ke.trimRight()}),cn(Bt.parentElement.querySelector(".vditor-ir__preview"),N),p.recentLanguage=Ke.trimRight();return}}if(N.currentMode==="wysiwyg"&&St.startContainer.nodeType!==3){var en=St.startContainer,Vt=void 0;if(en.classList.contains("vditor-input")?Vt=en:Vt=en.firstElementChild,Vt&&Vt.classList.contains("vditor-input")){Vt.value=Ke.trimRight(),St.selectNodeContents(Vt),St.collapse(!1),Vt.dispatchEvent(new CustomEvent("input",{detail:1})),p.recentLanguage=Ke.trimRight();return}}if(St.setStart(St.startContainer,p.lastIndex),St.deleteContents(),N.options.hint.parse?N.currentMode==="sv"?(0,yt.Z2)(N.lute.SpinVditorSVDOM(Ke),N):N.currentMode==="wysiwyg"?(0,yt.Z2)(N.lute.SpinVditorDOM(Ke),N):(0,yt.Z2)(N.lute.SpinVditorIRDOM(Ke),N):(0,yt.Z2)(Ke,N),p.splitChar===":"&&Ke.indexOf(":")>-1&&N.currentMode!=="sv"&&St.insertNode(document.createTextNode(" ")),St.collapse(!1),(0,yt.jl)(St),N.currentMode==="wysiwyg"){var yn=(0,Ue.KJ)(St.startContainer,"vditor-wysiwyg__block");yn&&yn.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(yn.lastElementChild.innerHTML=yn.firstElementChild.innerHTML,cn(yn.lastElementChild,N))}else if(N.currentMode==="ir"){var yn=(0,Ue.KJ)(St.startContainer,"vditor-ir__marker--pre");yn&&yn.nextElementSibling.classList.contains("vditor-ir__preview")&&(yn.nextElementSibling.innerHTML=yn.innerHTML,cn(yn.nextElementSibling,N))}go(N)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",v.push({key:":"})}return d.prototype.render=function(v){var p=this;if(window.getSelection().focusNode){var k,N=getSelection().getRangeAt(0);k=N.startContainer.textContent.substring(0,N.startOffset)||"";var Ke=this.getKey(k,v.options.hint.extend);if(typeof Ke=="undefined")this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var St=Ke===""?v.options.hint.emoji:v.lute.GetEmojis(),Bt=[];Object.keys(St).forEach(function(en){en.indexOf(Ke.toLowerCase())===0&&(St[en].indexOf(".")>-1?Bt.push({html:'<img src="'.concat(St[en],'" title=":').concat(en,':"/> :').concat(en,":"),value:":".concat(en,":")}):Bt.push({html:'<span class="vditor-hint__emoji">'.concat(St[en],"</span>").concat(en),value:St[en]}))}),this.genHTML(Bt,Ke,v)}else v.options.hint.extend.forEach(function(en){en.key===p.splitChar&&(clearTimeout(p.timeId),p.timeId=window.setTimeout(function(){return Sc(p,void 0,void 0,function(){var Vt;return xc(this,function(yn){switch(yn.label){case 0:return Vt=this.genHTML,[4,en.hint(Ke)];case 1:return Vt.apply(this,[yn.sent(),Ke,v]),[2]}})})},v.options.hint.delay))})}},d.prototype.genHTML=function(v,p,k){var N=this;if(v.length===0){this.element.style.display="none";return}var Ke=k[k.currentMode].element,St=(0,yt.Ey)(Ke),Bt=St.left+(k.options.outline.position==="left"?k.outline.element.offsetWidth:0),en=St.top,Vt="";v.forEach(function(ur,da){if(!(da>7)){var ia=ur.html;if(p!==""){var na=ia.lastIndexOf(">")+1,Ta=ia.substr(na),Ca=Ta.toLowerCase().indexOf(p.toLowerCase());Ca>-1&&(Ta=Ta.substring(0,Ca)+"<b>"+Ta.substring(Ca,Ca+p.length)+"</b>"+Ta.substring(Ca+p.length),ia=ia.substr(0,na)+Ta)}Vt+='<button type="button" data-value="'.concat(encodeURIComponent(ur.value),` "
`).concat(da===0?"class='vditor-hint--current'":"","> ").concat(ia,"</button>")}}),this.element.innerHTML=Vt;var yn=parseInt(document.defaultView.getComputedStyle(Ke,null).getPropertyValue("line-height"),10);this.element.style.top="".concat(en+(yn||22),"px"),this.element.style.left="".concat(Bt,"px"),this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(ur){ur.addEventListener("click",function(da){N.fillEmoji(ur,k),da.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top="".concat(en-this.element.offsetHeight,"px")),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")},d.prototype.select=function(v,p){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var k=this.element.querySelector(".vditor-hint--current");if(v.key==="ArrowDown")return v.preventDefault(),v.stopPropagation(),k.removeAttribute("class"),k.nextElementSibling?k.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(v.key==="ArrowUp"){if(v.preventDefault(),v.stopPropagation(),k.removeAttribute("class"),k.previousElementSibling)k.previousElementSibling.className="vditor-hint--current";else{var N=this.element.children.length;this.element.children[N-1].className="vditor-hint--current"}return!0}else if(!(0,Te._0)(v)&&!v.shiftKey&&!v.altKey&&v.key==="Enter"&&!v.isComposing)return v.preventDefault(),v.stopPropagation(),this.fillEmoji(k,p),!0;return!1},d.prototype.getKey=function(v,p){var k=this;this.lastIndex=-1,this.splitChar="",p.forEach(function(Vt){var yn=v.lastIndexOf(Vt.key);k.lastIndex<yn&&(k.splitChar=Vt.key,k.lastIndex=yn)});var N;if(this.lastIndex===-1)return N;var Ke=v.split(this.splitChar),St=Ke[Ke.length-1],Bt=32;if(Ke.length>1&&St.trim()===St)if(Ke.length===2&&Ke[0]===""&&Ke[1].length<Bt)N=Ke[1];else{var en=Ke[Ke.length-2].slice(-1);(0,We.p)(en)===" "&&St.length<Bt&&(N=St)}return N},d}(),nl=function(){function d(v){this.composingLock=!1;var p=document.createElement("div");p.className="vditor-ir",p.innerHTML='<pre class="vditor-reset" placeholder="'.concat(v.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>`),this.element=p.firstElementChild,this.bindEvent(v),wi(v,this.element),$i(v,this.element),fo(v,this.element),eu(v,this.element),Fu(v,this.element),Hi(v,this.element),ga(v,this.element,this.copy),Iu(v,this.element,this.copy)}return d.prototype.copy=function(v,p){var k=getSelection().getRangeAt(0);if(k.toString()!==""){v.stopPropagation(),v.preventDefault();var N=document.createElement("div");N.appendChild(k.cloneContents()),v.clipboardData.setData("text/plain",p.lute.VditorIRDOM2Md(N.innerHTML).trim()),v.clipboardData.setData("text/html","")}},d.prototype.bindEvent=function(v){var p=this;this.element.addEventListener("paste",function(k){ba(v,k,{pasteCode:function(N){document.execCommand("insertHTML",!1,N)}})}),this.element.addEventListener("scroll",function(){qe(v,["hint"])}),this.element.addEventListener("compositionstart",function(k){p.composingLock=!0}),this.element.addEventListener("compositionend",function(k){(0,Te.gm)()||an(v,getSelection().getRangeAt(0).cloneRange()),p.composingLock=!1}),this.element.addEventListener("input",function(k){if(!(k.inputType==="deleteByDrag"||k.inputType==="insertFromDrop")){if(p.preventInput){p.preventInput=!1,Xa(v,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0});return}p.composingLock||k.data==="‘"||k.data==="“"||k.data==="《"||an(v,getSelection().getRangeAt(0).cloneRange(),!1,k)}}),this.element.addEventListener("click",function(k){if(k.target.tagName==="INPUT"){k.target.checked?k.target.setAttribute("checked","checked"):k.target.removeAttribute("checked"),p.preventInput=!0,Xa(v);return}var N=(0,yt.RN)(v),Ke=(0,Ue.KJ)(k.target,"vditor-ir__preview");if(Ke||(Ke=(0,Ue.KJ)(N.startContainer,"vditor-ir__preview")),Ke&&(Ke.previousElementSibling.firstElementChild?N.selectNodeContents(Ke.previousElementSibling.firstElementChild):N.selectNodeContents(Ke.previousElementSibling),N.collapse(!0),(0,yt.jl)(N),Po(v)),k.target.tagName==="IMG"){var St=k.target.parentElement.querySelector(".vditor-ir__marker--link");St&&(N.selectNode(St),(0,yt.jl)(N))}var Bt=(0,Ue.Th)(k.target,"data-type","a");if(Bt&&!Bt.classList.contains("vditor-ir__node--expand")){v.options.link.click?v.options.link.click(Bt.querySelector(":scope > .vditor-ir__marker--link")):v.options.link.isOpen&&window.open(Bt.querySelector(":scope > .vditor-ir__marker--link").textContent);return}if(k.target.isEqualNode(p.element)&&p.element.lastElementChild&&N.collapsed){var en=p.element.lastElementChild.getBoundingClientRect();k.y>en.top+en.height&&(p.element.lastElementChild.tagName==="P"&&p.element.lastElementChild.textContent.trim().replace(ze.Y.ZWSP,"")===""?(N.selectNodeContents(p.element.lastElementChild),N.collapse(!1)):(p.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(ze.Y.ZWSP,"<wbr></p>")),(0,yt.ir)(p.element,N)))}N.toString()===""?xt(N,v):setTimeout(function(){xt((0,yt.RN)(v),v)}),Lt(k,v),la(v)}),this.element.addEventListener("keyup",function(k){if(!(k.isComposing||(0,Te._0)(k))){if(k.key==="Enter"&&Po(v),la(v),(k.key==="Backspace"||k.key==="Delete")&&v.ir.element.innerHTML!==""&&v.ir.element.childNodes.length===1&&v.ir.element.firstElementChild&&v.ir.element.firstElementChild.tagName==="P"&&v.ir.element.firstElementChild.childElementCount===0&&(v.ir.element.textContent===""||v.ir.element.textContent===`
`)){v.ir.element.innerHTML="";return}var N=(0,yt.RN)(v);k.key==="Backspace"?((0,Te.gm)()&&N.startContainer.textContent===`
`&&N.startOffset===1&&(N.startContainer.textContent="",xt(N,v)),p.element.querySelectorAll(".language-math").forEach(function(St){var Bt=St.querySelector("br");Bt&&Bt.remove()})):k.key.indexOf("Arrow")>-1?((k.key==="ArrowLeft"||k.key==="ArrowRight")&&jo(v),xt(N,v)):k.keyCode===229&&k.code===""&&k.key==="Unidentified"&&xt(N,v);var Ke=(0,Ue.KJ)(N.startContainer,"vditor-ir__preview");if(Ke){if(k.key==="ArrowUp"||k.key==="ArrowLeft")return Ke.previousElementSibling.firstElementChild?N.selectNodeContents(Ke.previousElementSibling.firstElementChild):N.selectNodeContents(Ke.previousElementSibling),N.collapse(!1),k.preventDefault(),!0;if(Ke.tagName==="SPAN"&&(k.key==="ArrowDown"||k.key==="ArrowRight"))return Ke.parentElement.getAttribute("data-type")==="html-entity"?(Ke.parentElement.insertAdjacentText("afterend",ze.Y.ZWSP),N.setStart(Ke.parentElement.nextSibling,1)):N.selectNodeContents(Ke.parentElement.lastElementChild),N.collapse(!1),k.preventDefault(),!0}}})},d}(),Ec=function(d){if(d.currentMode==="sv")return d.lute.Md2HTML(at(d));if(d.currentMode==="wysiwyg")return d.lute.VditorDOM2HTML(d.wysiwyg.element.innerHTML);if(d.currentMode==="ir")return d.lute.VditorIRDOM2HTML(d.ir.element.innerHTML)},_s=He(796),kc=He(70),ld=function(){function d(v){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'.concat(v,`</div>
<div class="vditor-outline__content"></div>`)}return d.prototype.render=function(v){var p="";return v.preview.element.style.display==="block"?p=(0,kc.N)(v.preview.previewElement,this.element.lastElementChild,v):p=(0,kc.N)(v[v.currentMode].element,this.element.lastElementChild,v),p},d.prototype.toggle=function(v,p,k){var N;p===void 0&&(p=!0),k===void 0&&(k=!0);var Ke=(N=v.toolbar.elements.outline)===null||N===void 0?void 0:N.firstElementChild;if(p&&window.innerWidth>=ze.Y.MOBILE_WIDTH?(this.element.style.display="block",this.render(v),Ke==null||Ke.classList.add("vditor-menu--current")):(this.element.style.display="none",Ke==null||Ke.classList.remove("vditor-menu--current")),k&&getSelection().rangeCount>0){var St=getSelection().getRangeAt(0);v[v.currentMode].element.contains(St.startContainer)&&(0,yt.jl)(St)}Jt(v)},d}(),If=He(0),Ti=function(){function d(v){var p=this;this.element=document.createElement("div"),this.element.className="vditor-preview",this.previewElement=document.createElement("div"),this.previewElement.className="vditor-reset",v.options.classes.preview&&this.previewElement.classList.add(v.options.classes.preview),this.previewElement.style.maxWidth=v.options.preview.maxWidth+"px",this.previewElement.addEventListener("copy",function(en){if(en.target.tagName!=="TEXTAREA"){var Vt=document.createElement("div");Vt.className="vditor-reset",Vt.appendChild(getSelection().getRangeAt(0).cloneContents()),p.copyToX(v,Vt,"default"),en.preventDefault()}}),this.previewElement.addEventListener("click",function(en){var Vt=(0,Ue._Y)(en.target,"SPAN");if(Vt&&(0,Ue.KJ)(Vt,"vditor-toc")){var yn=p.previewElement.querySelector("#"+Vt.getAttribute("data-target-id"));yn&&(p.element.scrollTop=yn.offsetTop);return}if(en.target.tagName==="A"){v.options.link.click?v.options.link.click(en.target):v.options.link.isOpen&&window.open(en.target.getAttribute("href")),en.preventDefault();return}en.target.tagName==="IMG"&&(v.options.image.preview?v.options.image.preview(en.target):v.options.image.isPreview&&(0,Ot.o)(en.target,v.options.lang,v.options.theme))}),this.element.appendChild(this.previewElement);var k=v.options.preview.actions;if(k.length!==0){var N=document.createElement("div");N.className="vditor-preview__action";for(var Ke=[],St=0;St<k.length;St++){var Bt=k[St];if(typeof Bt=="object"){Ke.push('<button type="button" data-type="'.concat(Bt.key,'" class="').concat(Bt.className,'"').concat(Bt.tooltip?' aria-label="'.concat(Bt.tooltip,'"'):"",'">').concat(Bt.text,"</button>"));continue}switch(Bt){case"desktop":Ke.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":Ke.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":Ke.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":Ke.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到公众号"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":Ke.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到知乎"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>');break}}N.innerHTML=Ke.join(""),N.addEventListener((0,Te.y3)(),function(en){var Vt=(0,pt.f)(en.target,"BUTTON");if(Vt){var yn=Vt.getAttribute("data-type"),ur=k.find(function(da){return(da==null?void 0:da.key)===yn});if(ur){ur.click(yn);return}if(yn==="mp-wechat"||yn==="zhihu"){p.copyToX(v,p.previewElement.cloneNode(!0),yn);return}yn==="desktop"?p.previewElement.style.width="auto":yn==="tablet"?p.previewElement.style.width="780px":p.previewElement.style.width="360px",p.previewElement.scrollWidth>p.previewElement.parentElement.clientWidth&&(p.previewElement.style.width="auto"),p.render(v),N.querySelectorAll("button").forEach(function(da){da.classList.remove("vditor-preview__action--current")}),Vt.classList.add("vditor-preview__action--current")}}),this.element.insertBefore(N,this.previewElement)}}return d.prototype.render=function(v,p){var k=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display==="none"){this.element.getAttribute("data-type")==="renderPerformance"&&v.tip.hide();return}if(p){this.previewElement.innerHTML=p;return}if(at(v).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")===""){this.previewElement.innerHTML="";return}var N=new Date().getTime(),Ke=at(v);this.mdTimeoutId=window.setTimeout(function(){if(v.options.preview.url){var St=new XMLHttpRequest;St.open("POST",v.options.preview.url),St.setRequestHeader("Content-Type","application/json;charset=UTF-8"),St.onreadystatechange=function(){if(St.readyState===XMLHttpRequest.DONE)if(St.status===200){var en=JSON.parse(St.responseText);if(en.code!==0){v.tip.show(en.msg);return}v.options.preview.transform&&(en.data=v.options.preview.transform(en.data)),k.previewElement.innerHTML=en.data,k.afterRender(v,N)}else{var Vt=v.lute.Md2HTML(Ke);v.options.preview.transform&&(Vt=v.options.preview.transform(Vt)),k.previewElement.innerHTML=Vt,k.afterRender(v,N)}},St.send(JSON.stringify({markdownText:Ke}))}else{var Bt=v.lute.Md2HTML(Ke);v.options.preview.transform&&(Bt=v.options.preview.transform(Bt)),k.previewElement.innerHTML=Bt,k.afterRender(v,N)}},v.options.preview.delay)},d.prototype.afterRender=function(v,p){v.options.preview.parse&&v.options.preview.parse(this.element);var k=new Date().getTime()-p;new Date().getTime()-p>2600?(v.tip.show(window.VditorI18n.performanceTip.replace("${x}",k.toString())),v.preview.element.setAttribute("data-type","renderPerformance")):v.preview.element.getAttribute("data-type")==="renderPerformance"&&(v.tip.hide(),v.preview.element.removeAttribute("data-type"));var N=v.preview.element.querySelector(".vditor-comment--focus");N&&N.classList.remove("vditor-comment--focus"),(0,vt.o)(v.preview.previewElement,v.options.preview.hljs),(0,At.$)(v.options.preview.hljs,v.preview.previewElement,v.options.cdn),(0,wn.e)(v.preview.previewElement,v.options.cdn,v.options.theme),(0,Ht.K)(v.preview.previewElement,v.options.cdn),(0,Ve.Y)(v.preview.previewElement,v.options.cdn,v.options.theme),(0,Et.D)(v.preview.previewElement,v.options.cdn),(0,st.m)(v.preview.previewElement,v.options.cdn),(0,mt.v)(v.preview.previewElement,v.options.cdn,v.options.theme),(0,Sn.l)(v.preview.previewElement,v.options.cdn,v.options.theme),(0,lr.M)(v.preview.previewElement,v.options.cdn),(0,Tt.$)(v.preview.previewElement,v.options.cdn),v.options.preview.render.media.enable&&(0,If.l)(v.preview.previewElement),v.options.customRenders.forEach(function(Bt){Bt.render(v.preview.previewElement,v)});var Ke=v.preview.element,St=v.outline.render(v);St===""&&(St="[ToC]"),Ke.querySelectorAll('[data-type="toc-block"]').forEach(function(Bt){Bt.innerHTML=St,(0,nn.T)(Bt,{cdn:v.options.cdn,math:v.options.preview.math})}),(0,nn.T)(v.preview.previewElement,{cdn:v.options.cdn,math:v.options.preview.math})},d.prototype.copyToX=function(v,p,k){k===void 0&&(k="mp-wechat"),k!=="zhihu"?p.querySelectorAll(".katex-html .base").forEach(function(Ke){Ke.style.display="initial"}):p.querySelectorAll(".language-math").forEach(function(Ke){Ke.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'.concat(Ke.getAttribute("data-math"),'\\" style="display: block; margin: 0 auto; max-width: 100%;">')}),p.style.backgroundColor="#fff",p.querySelectorAll("code").forEach(function(Ke){Ke.style.backgroundImage="none"}),this.element.append(p);var N=p.ownerDocument.createRange();N.selectNode(p),(0,yt.jl)(N),document.execCommand("copy"),p.remove(),v.tip.show(["zhihu","mp-wechat"].includes(k)?"已复制，可到".concat(k==="zhihu"?"知乎":"微信公众号平台","进行粘贴"):"已复制到剪切板")},d}(),tc=function(){function d(v){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--".concat(v.options.resize.position),this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(v)}return d.prototype.bindEvent=function(v){var p=this;this.element.addEventListener("mousedown",function(k){var N=document,Ke=k.clientY,St=v.element.offsetHeight,Bt=63+v.element.querySelector(".vditor-toolbar").clientHeight;N.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),p.element.classList.add("vditor-resize--selected"),N.onmousemove=function(en){v.options.resize.position==="top"?v.element.style.height=Math.max(Bt,St+(Ke-en.clientY))+"px":v.element.style.height=Math.max(Bt,St+(en.clientY-Ke))+"px",v.options.typewriterMode&&(v.sv.element.style.paddingBottom=v.sv.element.parentElement.offsetHeight/2+"px")},N.onmouseup=function(){v.options.resize.after&&v.options.resize.after(v.element.offsetHeight-St),window.captureEvents&&window.captureEvents(),N.onmousemove=null,N.onmouseup=null,N.ondragstart=null,N.onselectstart=null,N.onselect=null,p.element.classList.remove("vditor-resize--selected")}})},d}(),cd=function(){function d(v){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",v.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(v),wi(v,this.element),fo(v,this.element),eu(v,this.element),Fu(v,this.element),Hi(v,this.element),ga(v,this.element,this.copy),Iu(v,this.element,this.copy)}return d.prototype.copy=function(v,p){v.stopPropagation(),v.preventDefault(),v.clipboardData.setData("text/plain",pi(p[p.currentMode].element))},d.prototype.bindEvent=function(v){var p=this;this.element.addEventListener("paste",function(k){ba(v,k,{pasteCode:function(N){document.execCommand("insertHTML",!1,N)}})}),this.element.addEventListener("scroll",function(){if(v.preview.element.style.display==="block"){var k=p.element.scrollTop,N=p.element.clientHeight,Ke=p.element.scrollHeight-parseFloat(p.element.style.paddingBottom||"0"),St=v.preview.element;k/N>.5?St.scrollTop=(k+N)*St.scrollHeight/Ke-N:St.scrollTop=k*St.scrollHeight/Ke}}),this.element.addEventListener("compositionstart",function(k){p.composingLock=!0}),this.element.addEventListener("compositionend",function(k){(0,Te.gm)()||mn(v,k),p.composingLock=!1}),this.element.addEventListener("input",function(k){if(!(k.inputType==="deleteByDrag"||k.inputType==="insertFromDrop")&&!(p.composingLock||k.data==="‘"||k.data==="“"||k.data==="《")){if(p.preventInput){p.preventInput=!1,Gt(v,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0});return}mn(v,k)}}),this.element.addEventListener("keyup",function(k){if(!(k.isComposing||(0,Te._0)(k))){if((k.key==="Backspace"||k.key==="Delete")&&v.sv.element.innerHTML!==""&&v.sv.element.childNodes.length===1&&v.sv.element.firstElementChild&&v.sv.element.firstElementChild.tagName==="DIV"&&v.sv.element.firstElementChild.childElementCount===2&&(v.sv.element.firstElementChild.textContent===""||v.sv.element.textContent===`
`)){v.sv.element.innerHTML="";return}k.key==="Enter"&&Po(v)}})},d}(),es=function(){function d(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return d.prototype.show=function(v,p){var k=this;p===void 0&&(p=6e3),this.element.className="vditor-tip vditor-tip--show",p===0?(this.element.innerHTML='<div class="vditor-tip__content">'.concat(v,`
<div class="vditor-tip__close">X</div></div>`),this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){k.hide()})):(this.element.innerHTML='<div class="vditor-tip__content">'.concat(v,"</div>"),setTimeout(function(){k.hide()},p)),this.element.removeAttribute("style"),setTimeout(function(){var N=k.element.getBoundingClientRect();N.top<46&&(k.element.style.position="fixed",k.element.style.top="46px")},150)},d.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},d}(),xu=function(d,v){if(v.options.preview.mode!==d){switch(v.options.preview.mode=d,d){case"both":v.sv.element.style.display="block",v.preview.element.style.display="block",v.preview.render(v),Qe(v.toolbar.elements,["both"]);break;case"editor":v.sv.element.style.display="block",v.preview.element.style.display="none",et(v.toolbar.elements,["both"]);break}v.devtools&&v.devtools.renderEchart(v)}},Tc=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),ar=function(d){Tc(v,d);function v(p,k){var N=d.call(this,p,k)||this;return p.options.preview.mode==="both"&&N.element.children[0].classList.add("vditor-menu--current"),N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){var St=N.element.firstElementChild;St.classList.contains(ze.Y.CLASS_MENU_DISABLED)||(Ke.preventDefault(),p.currentMode==="sv"&&(p.options.preview.mode==="both"?xu("editor",p):xu("both",p)))}),N}return v}(wo),nc=function(){function d(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"}return d}(),tu=He(13),Wc=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),hl=function(d){Wc(v,d);function v(p,k){var N=d.call(this,p,k)||this,Ke=N.element.children[0],St=document.createElement("div");St.className="vditor-hint".concat(k.level===2?"":" vditor-panel--arrow");var Bt="";return ze.Y.CODE_THEME.forEach(function(en){Bt+="<button>".concat(en,"</button>")}),St.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(Bt,"</div>"),St.addEventListener((0,Te.y3)(),function(en){en.target.tagName==="BUTTON"&&(qe(p,["subToolbar"]),p.options.preview.hljs.style=en.target.textContent,(0,tu.h)(en.target.textContent,p.options.cdn),en.preventDefault(),en.stopPropagation())}),N.element.appendChild(St),lt(p,St,Ke,k.level),N}return v}(wo),rc=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),ft=function(d){rc(v,d);function v(p,k){var N=d.call(this,p,k)||this,Ke=N.element.children[0],St=document.createElement("div");St.className="vditor-hint".concat(k.level===2?"":" vditor-panel--arrow");var Bt="";return Object.keys(p.options.preview.theme.list).forEach(function(en){Bt+='<button data-type="'.concat(en,'">').concat(p.options.preview.theme.list[en],"</button>")}),St.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(Bt,"</div>"),St.addEventListener((0,Te.y3)(),function(en){en.target.tagName==="BUTTON"&&(qe(p,["subToolbar"]),p.options.preview.theme.current=en.target.getAttribute("data-type"),(0,Ft.H)(p.options.preview.theme.current,p.options.preview.theme.path),en.preventDefault(),en.stopPropagation())}),N.element.appendChild(St),lt(p,St,Ke,k.level),N}return v}(wo),Ze=function(){function d(v){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(v,"")}return d.prototype.render=function(v,p){var k=p.endsWith(`
`)?p.length-1:p.length;if(v.options.counter.type==="text"&&v[v.currentMode]){var N=v[v.currentMode].element.cloneNode(!0);N.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(Ke){Ke.remove()}),k=N.textContent.length}typeof v.options.counter.max=="number"?(k>v.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML="".concat(k,"/").concat(v.options.counter.max)):this.element.innerHTML="".concat(k),this.element.setAttribute("aria-label",v.options.counter.type),v.options.counter.after&&v.options.counter.after(k,{enable:v.options.counter.enable,max:v.options.counter.max,type:v.options.counter.type})},d}(),wt=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),zt=function(d){wt(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N.element.children[0].innerHTML=k.icon,N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){Ke.preventDefault(),!Ke.currentTarget.classList.contains(ze.Y.CLASS_MENU_DISABLED)&&k.click(Ke,p)}),N}return v}(wo),gn=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),qn=function(d){gn(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N.element.firstElementChild.addEventListener((0,Te.y3)(),function(Ke){var St=N.element.firstElementChild;St.classList.contains(ze.Y.CLASS_MENU_DISABLED)||(Ke.preventDefault(),St.classList.contains("vditor-menu--current")?(St.classList.remove("vditor-menu--current"),p.devtools.element.style.display="none",Jt(p)):(St.classList.add("vditor-menu--current"),p.devtools.element.style.display="block",Jt(p),p.devtools.renderEchart(p)))}),N}return v}(wo),_r=function(){function d(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"}return d}(),xa=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),Ua=function(d){xa(v,d);function v(p,k){var N=d.call(this,p,k)||this,Ke=document.createElement("div");Ke.className="vditor-panel vditor-panel--arrow";var St="";return Object.keys(p.options.hint.emoji).forEach(function(Bt){var en=p.options.hint.emoji[Bt];en.indexOf(".")>-1?St+='<button data-value=":'.concat(Bt,': " data-key=":').concat(Bt,`:"><img
data-value=":`).concat(Bt,': " data-key=":').concat(Bt,':" class="vditor-emojis__icon" src="').concat(en,'"/></button>'):St+='<button data-value="'.concat(en,` "
 data-key="`).concat(Bt,'"><span class="vditor-emojis__icon">').concat(en,"</span></button>")}),Ke.innerHTML='<div class="vditor-emojis" style="max-height: '.concat(p.options.height==="auto"?"auto":p.options.height-80,'px">').concat(St,`</div><div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`).concat(p.options.hint.emojiTail||"",`</span>
</div>`),N.element.appendChild(Ke),lt(p,Ke,N.element.firstElementChild,k.level),N.bindEvent(p),N}return v.prototype.bindEvent=function(p){var k=this;this.element.lastElementChild.addEventListener((0,Te.y3)(),function(N){var Ke=(0,pt.f)(N.target,"BUTTON");if(Ke){N.preventDefault();var St=Ke.getAttribute("data-value"),Bt=(0,yt.RN)(p),en=St;if(p.currentMode==="wysiwyg"?en=p.lute.SpinVditorDOM(St):p.currentMode==="ir"&&(en=p.lute.SpinVditorIRDOM(St)),St.indexOf(":")>-1&&p.currentMode!=="sv"){var Vt=document.createElement("div");Vt.innerHTML=en,en=Vt.firstElementChild.firstElementChild.outerHTML+" ",(0,yt.Z2)(en,p)}else Bt.extractContents(),Bt.insertNode(document.createTextNode(St)),(0,Ue.pt)(Bt.startContainer)||zn(p,Bt);Bt.collapse(!1),(0,yt.jl)(Bt),k.element.lastElementChild.style.display="none",go(p)}}),this.element.lastElementChild.addEventListener("mouseover",function(N){var Ke=(0,pt.f)(N.target,"BUTTON");Ke&&(k.element.querySelector(".vditor-emojis__tip").innerHTML=Ke.getAttribute("data-key"))})},v}(wo),Qr=function(d,v,p){var k=document.createElement("a");"download"in k?(k.download=p,k.style.display="none",k.href=URL.createObjectURL(new Blob([v])),document.body.appendChild(k),k.click(),k.remove()):d.tip.show(window.VditorI18n.downloadTip,0)},wa=function(d){var v=at(d);Qr(d,v,v.substr(0,10)+".md")},ao=function(d){d.tip.show(window.VditorI18n.generate,3800);var v=document.querySelector("#vditorExportIframe");v.contentDocument.open(),v.contentDocument.write('<link rel="stylesheet" href="'.concat(d.options.cdn,`/dist/index.css"/>
<script src="`).concat(d.options.cdn,`/dist/method.min.js"><\/script>
<div id="preview" style="width: 800px"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    cdn: "`).concat(d.options.cdn,`",
    markdown: {
      theme: `).concat(JSON.stringify(d.options.preview.theme),`
    },
    hljs: {
      style: "`).concat(d.options.preview.hljs.style,`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
<\/script>`)),v.contentDocument.close(),setTimeout(function(){v.contentWindow.postMessage(at(d),"*")},200)},bo=function(d){var v=Ec(d),p='<html><head><link rel="stylesheet" type="text/css" href="'.concat(d.options.cdn,`/dist/index.css"/>
<script src="`).concat(d.options.cdn,"/dist/js/i18n/").concat(d.options.lang,`.js"><\/script>
<script src="`).concat(d.options.cdn,`/dist/method.min.js"><\/script></head>
<body><div class="vditor-reset" id="preview">`).concat(v,`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`).concat(d.options.preview.theme.current,"', '").concat(d.options.preview.theme.path,`');
    Vditor.codeRender(previewElement);
    Vditor.highlightRender(`).concat(JSON.stringify(d.options.preview.hljs),", previewElement, '").concat(d.options.cdn,`');
    Vditor.mathRender(previewElement, {
        cdn: '`).concat(d.options.cdn,`',
        math: `).concat(JSON.stringify(d.options.preview.math),`,
    });
    Vditor.mermaidRender(previewElement, '`).concat(d.options.cdn,"', '").concat(d.options.theme,`');
    Vditor.SMILESRender(previewElement, '`).concat(d.options.cdn,"', '").concat(d.options.theme,`');
    Vditor.markmapRender(previewElement, '`).concat(d.options.cdn,`');
    Vditor.flowchartRender(previewElement, '`).concat(d.options.cdn,`');
    Vditor.graphvizRender(previewElement, '`).concat(d.options.cdn,`');
    Vditor.chartRender(previewElement, '`).concat(d.options.cdn,"', '").concat(d.options.theme,`');
    Vditor.mindmapRender(previewElement, '`).concat(d.options.cdn,"', '").concat(d.options.theme,`');
    Vditor.abcRender(previewElement, '`).concat(d.options.cdn,`');
    `).concat(d.options.preview.render.media.enable?"Vditor.mediaRender(previewElement);":"",`
    Vditor.speechRender(previewElement);
<\/script>
<script src="`).concat(d.options.cdn,"/dist/js/icons/").concat(d.options.icon,'.js"><\/script></body></html>');Qr(d,p,v.substr(0,10)+".html")},ja=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),hi=function(d){ja(v,d);function v(p,k){var N=d.call(this,p,k)||this,Ke=N.element.children[0],St=document.createElement("div");return St.className="vditor-hint".concat(k.level===2?"":" vditor-panel--arrow"),St.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,St.addEventListener((0,Te.y3)(),function(Bt){var en=Bt.target;if(en.tagName==="BUTTON"){switch(en.getAttribute("data-type")){case"markdown":wa(p);break;case"pdf":ao(p);break;case"html":bo(p);break}qe(p,["subToolbar"]),Bt.preventDefault(),Bt.stopPropagation()}}),N.element.appendChild(St),lt(p,St,Ke,k.level),N}return v}(wo),Za=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),Zo=function(d){Za(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N._bindEvent(p,k),N}return v.prototype._bindEvent=function(p,k){this.element.children[0].addEventListener((0,Te.y3)(),function(N){N.preventDefault(),p.element.className.includes("vditor--fullscreen")?(k.level||(this.innerHTML=k.icon),p.element.style.zIndex="",document.body.style.overflow="",p.element.classList.remove("vditor--fullscreen"),Object.keys(p.toolbar.elements).forEach(function(Ke){var St=p.toolbar.elements[Ke].firstChild;St&&(St.className=St.className.replace("__s","__n"),p.options.toolbar.forEach(function(Bt){typeof Bt!="string"&&Bt.tipPosition&&Bt.name===St.dataset.type&&(St.className="vditor-tooltipped vditor-tooltipped__".concat(Bt.tipPosition))}))}),p.counter&&(p.counter.element.className=p.counter.element.className.replace("__s","__n"))):(k.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),p.element.style.zIndex=p.options.fullscreen.index.toString(),document.body.style.overflow="hidden",p.element.classList.add("vditor--fullscreen"),Object.keys(p.toolbar.elements).forEach(function(Ke){var St=p.toolbar.elements[Ke].firstChild;St&&(St.className=St.className.replace("__n","__s"))}),p.counter&&(p.counter.element.className=p.counter.element.className.replace("__n","__s"))),p.devtools&&p.devtools.renderEchart(p),k.click&&k.click(N,p),Jt(p),Rn(p)})},v}(wo),Xo=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),qu=function(d){Xo(v,d);function v(p,k){var N=d.call(this,p,k)||this,Ke=document.createElement("div");return Ke.className="vditor-hint vditor-panel--arrow",Ke.innerHTML='<button data-tag="h1" data-value="# ">'.concat(window.VditorI18n.heading1," ").concat((0,Te.fG)("&lt;⌥⌘1>"),`</button>
<button data-tag="h2" data-value="## ">`).concat(window.VditorI18n.heading2," &lt;").concat((0,Te.fG)("⌥⌘2"),`></button>
<button data-tag="h3" data-value="### ">`).concat(window.VditorI18n.heading3," &lt;").concat((0,Te.fG)("⌥⌘3"),`></button>
<button data-tag="h4" data-value="#### ">`).concat(window.VditorI18n.heading4," &lt;").concat((0,Te.fG)("⌥⌘4"),`></button>
<button data-tag="h5" data-value="##### ">`).concat(window.VditorI18n.heading5," &lt;").concat((0,Te.fG)("⌥⌘5"),`></button>
<button data-tag="h6" data-value="###### ">`).concat(window.VditorI18n.heading6," &lt;").concat((0,Te.fG)("⌥⌘6"),"></button>"),N.element.appendChild(Ke),N._bindEvent(p,Ke),N}return v.prototype._bindEvent=function(p,k){var N=this.element.children[0];N.addEventListener((0,Te.y3)(),function(St){St.preventDefault(),clearTimeout(p.wysiwyg.afterRenderTimeoutId),clearTimeout(p.ir.processTimeoutId),clearTimeout(p.sv.processTimeoutId),!N.classList.contains(ze.Y.CLASS_MENU_DISABLED)&&(N.blur(),N.classList.contains("vditor-menu--current")?(p.currentMode==="wysiwyg"?($r(p),fa(p)):p.currentMode==="ir"&&Go(p,""),N.classList.remove("vditor-menu--current")):(qe(p,["subToolbar"]),k.style.display="block"))});for(var Ke=0;Ke<6;Ke++)k.children.item(Ke).addEventListener((0,Te.y3)(),function(St){St.preventDefault(),p.currentMode==="wysiwyg"?(kr(p,St.target.getAttribute("data-tag")),fa(p),N.classList.add("vditor-menu--current")):p.currentMode==="ir"?(Go(p,St.target.getAttribute("data-value")),N.classList.add("vditor-menu--current")):Mn(p,St.target.getAttribute("data-value")),k.style.display="none"})},v}(wo),vo=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),Md=function(d){vo(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){Ke.preventDefault(),p.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown 使用指南</div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank">语法速查手册</a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank">基础语法</a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank">扩展语法</a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank">键盘快捷键</a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor 支持</div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank">官方讨论区</a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank">开发手册</a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank">演示地址</a></li>
    </ul>
</div></div>`,0)}),N}return v}(wo),Di=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),Yi=function(d){Di(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){if(Ke.preventDefault(),!(N.element.firstElementChild.classList.contains(ze.Y.CLASS_MENU_DISABLED)||p.currentMode==="sv")){var St=(0,yt.RN)(p),Bt=(0,Ue._Y)(St.startContainer,"LI");Bt&&ls(p,Bt,St)}}),N}return v}(wo),Im=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),Eu=function(d){Im(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){Ke.preventDefault(),p.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em>下一代的 Markdown 编辑器，为未来而构建</em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor 是一款浏览器端的 Markdown 编辑器，支持所见即所得、即时渲染（类似 Typora）和分屏预览模式。
        它使用 TypeScript 实现，支持原生 JavaScript 以及 Vue、React、Angular 和 Svelte 等框架。
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        项目地址：<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        开源协议：MIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        组件版本：Vditor v`.concat(ze.g," / Lute v").concat(Lute.Version,`
        </li>
        <li>
        赞助捐赠：<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`),0)}),N}return v}(wo),Lv=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),Dd=function(d){Lv(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){Ke.preventDefault(),!(N.element.firstElementChild.classList.contains(ze.Y.CLASS_MENU_DISABLED)||p.currentMode==="sv")&&Oa(p,"afterend")}),N}return v}(wo),Ja=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),ac=function(d){Ja(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){Ke.preventDefault(),!(N.element.firstElementChild.classList.contains(ze.Y.CLASS_MENU_DISABLED)||p.currentMode==="sv")&&Oa(p,"beforebegin")}),N}return v}(wo),Ac=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),Vi=function(d){Ac(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){if(Ke.preventDefault(),!(N.element.firstElementChild.classList.contains(ze.Y.CLASS_MENU_DISABLED)||p.currentMode==="sv")){var St=(0,yt.RN)(p),Bt=(0,Ue._Y)(St.startContainer,"LI");Bt&&Wu(p,Bt,St,Bt.parentElement)}}),N}return v}(wo),Fm=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),ku=function(d){Fm(v,d);function v(p,k){var N=d.call(this,p,k)||this;return p.options.outline&&N.element.firstElementChild.classList.add("vditor-menu--current"),N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){Ke.preventDefault();var St=p.toolbar.elements.outline.firstElementChild;St.classList.contains(ze.Y.CLASS_MENU_DISABLED)||(p.options.outline.enable=!N.element.firstElementChild.classList.contains("vditor-menu--current"),p.outline.toggle(p,p.options.outline.enable))}),N}return v}(wo),qc=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),Ff=function(d){qc(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N._bindEvent(p),N}return v.prototype._bindEvent=function(p){var k=this;this.element.children[0].addEventListener((0,Te.y3)(),function(N){N.preventDefault();var Ke=k.element.firstElementChild;if(!Ke.classList.contains(ze.Y.CLASS_MENU_DISABLED)){var St=ze.Y.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);Ke.classList.contains("vditor-menu--current")?(Ke.classList.remove("vditor-menu--current"),p.currentMode==="sv"?(p.sv.element.style.display="block",p.options.preview.mode==="both"?p.preview.element.style.display="block":p.preview.element.style.display="none"):(p[p.currentMode].element.parentElement.style.display="block",p.preview.element.style.display="none"),$e(p.toolbar.elements,St),p.outline.render(p)):(Ye(p.toolbar.elements,St),p.preview.element.style.display="block",p.currentMode==="sv"?p.sv.element.style.display="none":p[p.currentMode].element.parentElement.style.display="none",p.preview.render(p),Ke.classList.add("vditor-menu--current"),qe(p,["subToolbar","hint","popover"]),setTimeout(function(){p.outline.render(p)},p.options.preview.delay+10)),Jt(p)}})},v}(wo),ri=function(){function d(v){this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0;var p;if(typeof AudioContext!="undefined")p=new AudioContext;else if(webkitAudioContext)p=new webkitAudioContext;else return;this.DEFAULT_SAMPLE_RATE=p.sampleRate;var k=p.createGain(),N=p.createMediaStreamSource(v);N.connect(k),this.recorder=p.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,k.connect(this.recorder),this.recorder.connect(p.destination),this.readyFlag=!0}return d.prototype.cloneChannelData=function(v,p){this.leftChannel.push(new Float32Array(v)),this.rightChannel.push(new Float32Array(p)),this.recordingLength+=2048},d.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},d.prototype.stopRecording=function(){this.isRecording=!1},d.prototype.buildWavFileBlob=function(){for(var v=this.mergeBuffers(this.leftChannel),p=this.mergeBuffers(this.rightChannel),k=new Float32Array(v.length),N=0;N<v.length;++N)k[N]=.5*(v[N]+p[N]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(k=this.downSampleBuffer(k,this.SAMPLE_RATE));var Ke=44+k.length*2,St=new ArrayBuffer(Ke),Bt=new DataView(St);this.writeUTFBytes(Bt,0,"RIFF"),Bt.setUint32(4,Ke,!0),this.writeUTFBytes(Bt,8,"WAVE"),this.writeUTFBytes(Bt,12,"fmt "),Bt.setUint32(16,16,!0),Bt.setUint16(20,1,!0),Bt.setUint16(22,1,!0),Bt.setUint32(24,this.SAMPLE_RATE,!0),Bt.setUint32(28,this.SAMPLE_RATE*2,!0),Bt.setUint16(32,2,!0),Bt.setUint16(34,16,!0);var en=k.length*2;this.writeUTFBytes(Bt,36,"data"),Bt.setUint32(40,en,!0);for(var Vt=k.length,yn=44,ur=1,da=0;da<Vt;da++)Bt.setInt16(yn,k[da]*(32767*ur),!0),yn+=2;return new Blob([Bt],{type:"audio/wav"})},d.prototype.downSampleBuffer=function(v,p){if(p===this.DEFAULT_SAMPLE_RATE||p>this.DEFAULT_SAMPLE_RATE)return v;for(var k=this.DEFAULT_SAMPLE_RATE/p,N=Math.round(v.length/k),Ke=new Float32Array(N),St=0,Bt=0;St<Ke.length;){for(var en=Math.round((St+1)*k),Vt=0,yn=0,ur=Bt;ur<en&&ur<v.length;ur++)Vt+=v[ur],yn++;Ke[St]=Vt/yn,St++,Bt=en}return Ke},d.prototype.mergeBuffers=function(v){for(var p=new Float32Array(this.recordingLength),k=0,N=v.length,Ke=0;Ke<N;++Ke){var St=v[Ke];p.set(St,k),k+=St.length}return p},d.prototype.writeUTFBytes=function(v,p,k){for(var N=k.length,Ke=0;Ke<N;Ke++)v.setUint8(p+Ke,k.charCodeAt(Ke))},d}(),Kc=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),cs=function(d){Kc(v,d);function v(p,k){var N=d.call(this,p,k)||this;return N._bindEvent(p),N}return v.prototype._bindEvent=function(p){var k=this,N;this.element.children[0].addEventListener((0,Te.y3)(),function(Ke){if(Ke.preventDefault(),!k.element.firstElementChild.classList.contains(ze.Y.CLASS_MENU_DISABLED)){var St=p[p.currentMode].element;if(!N){navigator.mediaDevices.getUserMedia({audio:!0}).then(function(en){N=new ri(en),N.recorder.onaudioprocess=function(Vt){if(N.isRecording){var yn=Vt.inputBuffer.getChannelData(0),ur=Vt.inputBuffer.getChannelData(1);N.cloneChannelData(yn,ur)}},N.startRecordingNewWavFile(),p.tip.show(window.VditorI18n.recording),St.setAttribute("contenteditable","false"),k.element.children[0].classList.add("vditor-menu--current")}).catch(function(){p.tip.show(window.VditorI18n["record-tip"])});return}if(N.isRecording){N.stopRecording(),p.tip.hide();var Bt=new File([N.buildWavFileBlob()],"record".concat(new Date().getTime(),".wav"),{type:"video/webm"});ht(p,[Bt]),k.element.children[0].classList.remove("vditor-menu--current")}else p.tip.show(window.VditorI18n.recording),St.setAttribute("contenteditable","false"),N.startRecordingNewWavFile(),k.element.children[0].classList.add("vditor-menu--current")}})},v}(wo),Yc=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),uu=function(d){Yc(v,d);function v(p,k){var N=d.call(this,p,k)||this;return Ye({redo:N.element},["redo"]),N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){Ke.preventDefault(),!N.element.firstElementChild.classList.contains(ze.Y.CLASS_MENU_DISABLED)&&p.undo.redo(p)}),N}return v}(wo),rl=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),Hm=function(d){rl(v,d);function v(p,k){var N=d.call(this,p,k)||this;return Ye({undo:N.element},["undo"]),N.element.children[0].addEventListener((0,Te.y3)(),function(Ke){Ke.preventDefault(),!N.element.firstElementChild.classList.contains(ze.Y.CLASS_MENU_DISABLED)&&p.undo.undo(p)}),N}return v}(wo),Gc=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),ci=function(d){Gc(v,d);function v(p,k){var N=d.call(this,p,k)||this,Ke='<input type="file"';return p.options.upload.multiple&&(Ke+=' multiple="multiple"'),p.options.upload.accept&&(Ke+=' accept="'.concat(p.options.upload.accept,'"')),N.element.children[0].innerHTML="".concat(k.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>').concat(Ke,">"),N._bindEvent(p),N}return v.prototype._bindEvent=function(p){var k=this;this.element.children[0].addEventListener((0,Te.y3)(),function(N){if(k.element.firstElementChild.classList.contains(ze.Y.CLASS_MENU_DISABLED)){N.stopPropagation(),N.preventDefault();return}}),this.element.querySelector("input").addEventListener("change",function(N){if(k.element.firstElementChild.classList.contains(ze.Y.CLASS_MENU_DISABLED)){N.stopPropagation(),N.preventDefault();return}N.target.files.length!==0&&ht(p,N.target.files,N.target)})},v}(wo),Hf=function(){function d(v){var p=this,k=v.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",k.toolbar.forEach(function(N,Ke){var St=p.genItem(v,N,Ke);if(p.element.appendChild(St),N.toolbar){var Bt=document.createElement("div");Bt.className="vditor-hint vditor-panel--arrow",Bt.addEventListener((0,Te.y3)(),function(en){Bt.style.display="none"}),N.toolbar.forEach(function(en,Vt){en.level=2,Bt.appendChild(p.genItem(v,en,Ke+Vt))}),St.appendChild(Bt),lt(v,Bt,St.children[0])}}),v.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),v.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),v.options.counter.enable&&(v.counter=new Ze(v),this.element.appendChild(v.counter.element))}return d.prototype.updateConfig=function(v,p){v.options.toolbarConfig=Object.assign({hide:!1,pin:!1},p),v.options.toolbarConfig.hide?this.element.classList.add("vditor-toolbar--hide"):this.element.classList.remove("vditor-toolbar--hide"),v.options.toolbarConfig.pin?this.element.classList.add("vditor-toolbar--pin"):this.element.classList.remove("vditor-toolbar--pin")},d.prototype.genItem=function(v,p,k){var N;switch(p.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":N=new wo(v,p);break;case"emoji":N=new Ua(v,p);break;case"headings":N=new qu(v,p);break;case"|":N=new _r;break;case"br":N=new nc;break;case"undo":N=new Hm(v,p);break;case"redo":N=new uu(v,p);break;case"help":N=new Md(v,p);break;case"both":N=new ar(v,p);break;case"preview":N=new Ff(v,p);break;case"fullscreen":N=new Zo(v,p);break;case"upload":N=new ci(v,p);break;case"record":N=new cs(v,p);break;case"info":N=new Eu(v,p);break;case"edit-mode":N=new ou(v,p);break;case"devtools":N=new qn(v,p);break;case"outdent":N=new Vi(v,p);break;case"indent":N=new Yi(v,p);break;case"outline":N=new ku(v,p);break;case"insert-after":N=new Dd(v,p);break;case"insert-before":N=new ac(v,p);break;case"code-theme":N=new hl(v,p);break;case"content-theme":N=new ft(v,p);break;case"export":N=new hi(v,p);break;default:N=new zt(v,p);break}if(N){var Ke=p.name;return(Ke==="br"||Ke==="|")&&(Ke=Ke+k),this.elements[Ke]=N.element,N.element}},d}(),Xc=He(192),fs=function(){function d(){this.stackSize=50,this.resetStack(),this.dmp=new Xc}return d.prototype.clearStack=function(v){this.resetStack(),this.resetIcon(v)},d.prototype.resetIcon=function(v){v.toolbar&&(this[v.currentMode].undoStack.length>1?$e(v.toolbar.elements,["undo"]):Ye(v.toolbar.elements,["undo"]),this[v.currentMode].redoStack.length!==0?$e(v.toolbar.elements,["redo"]):Ye(v.toolbar.elements,["redo"]))},d.prototype.undo=function(v){if(v[v.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[v.currentMode].undoStack.length<2)){var p=this[v.currentMode].undoStack.pop();p&&(this[v.currentMode].redoStack.push(p),this.renderDiff(p,v),this[v.currentMode].hasUndo=!0,qe(v,["hint"]))}},d.prototype.redo=function(v){if(v[v.currentMode].element.getAttribute("contenteditable")!=="false"){var p=this[v.currentMode].redoStack.pop();p&&(this[v.currentMode].undoStack.push(p),this.renderDiff(p,v,!0))}},d.prototype.recordFirstPosition=function(v,p){if(getSelection().rangeCount!==0&&!(this[v.currentMode].undoStack.length!==1||this[v.currentMode].undoStack[0].length===0||this[v.currentMode].redoStack.length>0)&&!((0,Te.gm)()&&p.key==="Backspace")&&!(0,Te.nr)()){var k=this.addCaret(v);k.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[v.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[v.currentMode].undoStack[0][0].diffs[0][1]=k,this[v.currentMode].lastText=k)}},d.prototype.addToUndoStack=function(v){var p=this.addCaret(v,!0),k=this.dmp.diff_main(p,this[v.currentMode].lastText,!0),N=this.dmp.patch_make(p,this[v.currentMode].lastText,k);N.length===0&&this[v.currentMode].undoStack.length>0||(this[v.currentMode].lastText=p,this[v.currentMode].undoStack.push(N),this[v.currentMode].undoStack.length>this.stackSize&&this[v.currentMode].undoStack.shift(),this[v.currentMode].hasUndo&&(this[v.currentMode].redoStack=[],this[v.currentMode].hasUndo=!1,Ye(v.toolbar.elements,["redo"])),this[v.currentMode].undoStack.length>1&&$e(v.toolbar.elements,["undo"]))},d.prototype.renderDiff=function(v,p,k){k===void 0&&(k=!1);var N;if(k){var Ke=this.dmp.patch_deepCopy(v).reverse();Ke.forEach(function(Bt){Bt.diffs.forEach(function(en){en[0]=-en[0]})}),N=this.dmp.patch_apply(Ke,this[p.currentMode].lastText)[0]}else N=this.dmp.patch_apply(v,this[p.currentMode].lastText)[0];if(this[p.currentMode].lastText=N,p[p.currentMode].element.innerHTML=N,p.currentMode!=="sv"&&(p[p.currentMode].element.querySelectorAll(".vditor-".concat(p.currentMode,"__preview")).forEach(function(Bt){Bt.parentElement.querySelector(".language-echarts")&&(Bt.outerHTML=p.lute.SpinVditorDOM(Bt.parentElement.outerHTML))}),p[p.currentMode].element.querySelectorAll(".vditor-".concat(p.currentMode,"__preview[data-render='2']")).forEach(function(Bt){cn(Bt,p)})),p[p.currentMode].element.querySelector("wbr"))(0,yt.ir)(p[p.currentMode].element,p[p.currentMode].element.ownerDocument.createRange()),Po(p);else{var St=getSelection().getRangeAt(0);St.setEndBefore(p[p.currentMode].element),St.collapse(!1)}Mt(p),go(p,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),Ka(p),p[p.currentMode].element.querySelectorAll(".vditor-".concat(p.currentMode,"__preview[data-render='2']")).forEach(function(Bt){cn(Bt,p)}),this[p.currentMode].undoStack.length>1?$e(p.toolbar.elements,["undo"]):Ye(p.toolbar.elements,["undo"]),this[p.currentMode].redoStack.length!==0?$e(p.toolbar.elements,["redo"]):Ye(p.toolbar.elements,["redo"])},d.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},d.prototype.addCaret=function(v,p){p===void 0&&(p=!1);var k;if(getSelection().rangeCount!==0&&!v[v.currentMode].element.querySelector("wbr")){var N=getSelection().getRangeAt(0);if(v[v.currentMode].element.contains(N.startContainer)){k=N.cloneRange();var Ke=document.createElement("span");Ke.className="vditor-wbr",N.insertNode(Ke)}}var St=v.ir.element.cloneNode(!0);St.querySelectorAll(".vditor-".concat(v.currentMode,"__preview[data-render='1']")).forEach(function(en){en.firstElementChild&&(en.firstElementChild.classList.contains("language-echarts")||en.firstElementChild.classList.contains("language-plantuml")||en.firstElementChild.classList.contains("language-mindmap")?(en.firstElementChild.removeAttribute("_echarts_instance_"),en.firstElementChild.removeAttribute("data-processed"),en.firstElementChild.innerHTML=en.previousElementSibling.firstElementChild.innerHTML,en.setAttribute("data-render","2")):en.firstElementChild.classList.contains("language-math")&&(en.setAttribute("data-render","2"),en.firstElementChild.textContent=en.firstElementChild.getAttribute("data-math"),en.firstElementChild.removeAttribute("data-math")))});var Bt=v[v.currentMode].element.innerHTML;return v[v.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(en){en.remove()}),p&&k&&(0,yt.jl)(k),Bt.replace('<span class="vditor-wbr"></span>',"<wbr>")},d}(),Qc=He(905),Nd=function(){function d(v){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:ze.Y.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},customRenders:[],debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"👍","-1":"👎",confused:"😕",eyes:"👀️",heart:"❤️",rocket:"🚀️",smile:"😄",tada:"🎉️"},emojiPath:"".concat(ze.Y.CDN,"/dist/images/emoji"),extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:ze.Y.HLJS_OPTIONS,markdown:ze.Y.MARKDOWN_OPTIONS,math:ze.Y.MATH_OPTIONS,maxWidth:800,mode:"both",theme:ze.Y.THEME_OPTIONS,render:{media:{enable:!0}}},link:{isOpen:!0},image:{isPreview:!0},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(p){return p.replace(/\W/g,"")},linkToImgUrl:"",max:10*1024*1024,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=v}return d.prototype.merge=function(){var v,p,k,N,Ke,St,Bt,en,Vt;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),!((p=(v=this.options.preview)===null||v===void 0?void 0:v.theme)===null||p===void 0)&&p.list&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),!((Ke=(N=(k=this.options.preview)===null||k===void 0?void 0:k.render)===null||N===void 0?void 0:N.media)===null||Ke===void 0)&&Ke.enable&&(this.defaultOptions.preview.render.media.enable=this.options.preview.render.media.enable),!((St=this.options.hint)===null||St===void 0)&&St.emoji&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment),this.options.cdn&&(!((en=(Bt=this.options.preview)===null||Bt===void 0?void 0:Bt.theme)===null||en===void 0)&&en.path||(this.defaultOptions.preview.theme.path="".concat(this.options.cdn,"/dist/css/content-theme")),!((Vt=this.options.hint)===null||Vt===void 0)&&Vt.emojiPath||(this.defaultOptions.hint.emojiPath="".concat(this.options.cdn,"/dist/images/emoji"))));var yn=(0,Qc.h)(this.defaultOptions,this.options);if(yn.cache.enable&&!yn.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return yn},d.prototype.mergeToolbar=function(v){var p=this,k=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"⌘E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"⌘H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"⌘B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"⌘I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"⌘D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"⌘K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"⌘L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"⌘O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"⌘J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"⇧⌘I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"⇧⌘O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"⌘;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"⇧⌘H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"⌘U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"⌘G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"⇧⌘B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"⇧⌘E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"⌘M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"⌘Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"⌘Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"⌘'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"⌘P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],N=[];return v.forEach(function(Ke){var St=Ke;k.forEach(function(Bt){typeof Ke=="string"&&Bt.name===Ke&&(St=Bt),typeof Ke=="object"&&Bt.name===Ke.name&&(St=Object.assign({},Bt,Ke))}),Ke.toolbar&&(St.toolbar=p.mergeToolbar(Ke.toolbar)),N.push(St)}),N},d}(),zm=function(){function d(v){var p=this;this.composingLock=!1,this.commentIds=[];var k=document.createElement("div");k.className="vditor-wysiwyg",k.innerHTML='<pre class="vditor-reset" placeholder="'.concat(v.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`).concat(window.VditorI18n.comment,`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`),this.element=k.firstElementChild,this.popover=k.firstElementChild.nextElementSibling,this.selectPopover=k.lastElementChild,this.bindEvent(v),wi(v,this.element),$i(v,this.element),fo(v,this.element),eu(v,this.element),Fu(v,this.element),Hi(v,this.element),ga(v,this.element,this.copy),Iu(v,this.element,this.copy),v.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var N=Lute.NewNodeID(),Ke=getSelection().getRangeAt(0),St=Ke.cloneRange(),Bt=Ke.extractContents(),en,Vt,yn=!1,ur=!1;Bt.childNodes.forEach(function(na,Ta){var Ca=!1;if(na.nodeType===3?Ca=!0:na.classList.contains("vditor-comment")?na.classList.contains("vditor-comment")&&na.setAttribute("data-cmtids",na.getAttribute("data-cmtids")+" "+N):Ca=!0,Ca)if(na.nodeType!==3&&na.getAttribute("data-block")==="0"&&Ta===0&&St.startOffset>0)na.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(N,'">').concat(na.innerHTML,"</span>"),en=na;else if(na.nodeType!==3&&na.getAttribute("data-block")==="0"&&Ta===Bt.childNodes.length-1&&St.endOffset<St.endContainer.textContent.length)na.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(N,'">').concat(na.innerHTML,"</span>"),Vt=na;else if(na.nodeType!==3&&na.getAttribute("data-block")==="0")Ta===0?yn=!0:Ta===Bt.childNodes.length-1&&(ur=!0),na.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(N,'">').concat(na.innerHTML,"</span>");else{var qr=document.createElement("span");qr.classList.add("vditor-comment"),qr.setAttribute("data-cmtids",N),na.parentNode.insertBefore(qr,na),qr.appendChild(na)}});var da=(0,Ue.pt)(St.startContainer);da&&(en?(da.insertAdjacentHTML("beforeend",en.innerHTML),en.remove()):da.textContent.trim().replace(ze.Y.ZWSP,"")===""&&yn&&da.remove());var ia=(0,Ue.pt)(St.endContainer);ia&&(Vt?(ia.insertAdjacentHTML("afterbegin",Vt.innerHTML),Vt.remove()):ia.textContent.trim().replace(ze.Y.ZWSP,"")===""&&ur&&ia.remove()),Ke.insertNode(Bt),v.options.comment.add(N,Ke.toString(),p.getComments(v,!0)),fa(v,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),p.hideComment()})}return d.prototype.getComments=function(v,p){var k=this;if(p===void 0&&(p=!1),v.currentMode==="wysiwyg"&&v.options.comment.enable){this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(Ke){k.commentIds=k.commentIds.concat(Ke.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var N=[];if(p)return this.commentIds.forEach(function(Ke){N.push({id:Ke,top:k.element.querySelector('.vditor-comment[data-cmtids="'.concat(Ke,'"]')).offsetTop})}),N}else return[]},d.prototype.triggerRemoveComment=function(v){var p=function(Ke,St){var Bt=new Set(St);return Ke.filter(function(en){return!Bt.has(en)})};if(v.currentMode==="wysiwyg"&&v.options.comment.enable&&v.wysiwyg.commentIds.length>0){var k=JSON.parse(JSON.stringify(this.commentIds));this.getComments(v);var N=p(k,this.commentIds);N.length>0&&v.options.comment.remove(N)}},d.prototype.showComment=function(){var v=(0,yt.Ey)(this.element);this.selectPopover.setAttribute("style","left:".concat(v.left,"px;display:block;top:").concat(Math.max(-8,v.top-21),"px"))},d.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},d.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},d.prototype.copy=function(v,p){var k=getSelection().getRangeAt(0);if(k.toString()!==""){v.stopPropagation(),v.preventDefault();var N=(0,Ue._Y)(k.startContainer,"CODE"),Ke=(0,Ue._Y)(k.endContainer,"CODE");if(N&&Ke&&Ke.isSameNode(N)){var St="";N.parentElement.tagName==="PRE"?St=k.toString():St="`"+k.toString()+"`",v.clipboardData.setData("text/plain",St),v.clipboardData.setData("text/html","");return}var Bt=(0,Ue._Y)(k.startContainer,"A"),en=(0,Ue._Y)(k.endContainer,"A");if(Bt&&en&&en.isSameNode(Bt)){var Vt=Bt.getAttribute("title")||"";Vt&&(Vt=' "'.concat(Vt,'"')),v.clipboardData.setData("text/plain","[".concat(k.toString(),"](").concat(Bt.getAttribute("href")).concat(Vt,")")),v.clipboardData.setData("text/html","");return}var yn=document.createElement("div");yn.appendChild(k.cloneContents()),v.clipboardData.setData("text/plain",p.lute.VditorDOM2Md(yn.innerHTML).trim()),v.clipboardData.setData("text/html","")}},d.prototype.bindEvent=function(v){var p=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(qe(v,["hint"]),!(p.popover.style.display!=="block"||p.selectPopover.style.display!=="block")){var k=parseInt(p.popover.getAttribute("data-top"),10);if(v.options.height!=="auto"){if(v.options.toolbarConfig.pin&&v.toolbar.element.getBoundingClientRect().top===0){var N=Math.max(window.scrollY-v.element.offsetTop-8,Math.min(k-v.wysiwyg.element.scrollTop,p.element.clientHeight-21))+"px";p.popover.style.display==="block"&&(p.popover.style.top=N),p.selectPopover.style.display==="block"&&(p.selectPopover.style.top=N)}return}else if(!v.options.toolbarConfig.pin)return;var Ke=Math.max(k,window.scrollY-v.element.offsetTop-8)+"px";p.popover.style.display==="block"&&(p.popover.style.top=Ke),p.selectPopover.style.display==="block"&&(p.selectPopover.style.top=Ke)}}),this.element.addEventListener("scroll",function(){if(qe(v,["hint"]),v.options.comment&&v.options.comment.enable&&v.options.comment.scroll&&v.options.comment.scroll(v.wysiwyg.element.scrollTop),p.popover.style.display==="block"){var k=parseInt(p.popover.getAttribute("data-top"),10)-v.wysiwyg.element.scrollTop,N=-8;v.options.toolbarConfig.pin&&v.toolbar.element.getBoundingClientRect().top===0&&(N=window.scrollY-v.element.offsetTop+N);var Ke=Math.max(N,Math.min(k,p.element.clientHeight-21))+"px";p.popover.style.top=Ke,p.selectPopover.style.top=Ke}}),this.element.addEventListener("paste",function(k){ba(v,k,{pasteCode:function(N){var Ke=(0,yt.RN)(v),St=document.createElement("template");St.innerHTML=N,Ke.insertNode(St.content.cloneNode(!0));var Bt=(0,Ue.Th)(Ke.startContainer,"data-block","0");Bt?Bt.outerHTML=v.lute.SpinVditorDOM(Bt.outerHTML):v.wysiwyg.element.innerHTML=v.lute.SpinVditorDOM(v.wysiwyg.element.innerHTML),(0,yt.ir)(v.wysiwyg.element,Ke)}})}),this.element.addEventListener("compositionstart",function(){p.composingLock=!0}),this.element.addEventListener("compositionend",function(k){var N=(0,pt.c)(getSelection().getRangeAt(0).startContainer);if(N&&N.textContent===""){Mt(v);return}(0,Te.gm)()||$t(v,getSelection().getRangeAt(0).cloneRange(),k),p.composingLock=!1}),this.element.addEventListener("input",function(k){if(!(k.inputType==="deleteByDrag"||k.inputType==="insertFromDrop")){if(p.preventInput){p.preventInput=!1,fa(v);return}if(p.composingLock||k.data==="‘"||k.data==="“"||k.data==="《"){fa(v);return}var N=getSelection().getRangeAt(0),Ke=(0,Ue.pt)(N.startContainer);if(Ke||(zn(v,N),Ke=(0,Ue.pt)(N.startContainer)),!!Ke){for(var St=(0,yt.ED)(Ke,v.wysiwyg.element,N).start,Bt=!0,en=St-1;en>Ke.textContent.substr(0,St).lastIndexOf(`
`);en--)if(Ke.textContent.charAt(en)!==" "&&Ke.textContent.charAt(en)!=="	"){Bt=!1;break}St===0&&(Bt=!1);for(var Vt=!0,en=St-1;en<Ke.textContent.length;en++)if(Ke.textContent.charAt(en)!==" "&&Ke.textContent.charAt(en)!==`
`){Vt=!1;break}Vt&&/^#{1,6} $/.test(Ke.textContent)&&(Vt=!1);var yn=(0,pt.c)(getSelection().getRangeAt(0).startContainer);if(yn&&yn.textContent===""&&(Mt(v),yn.remove()),Bt&&Ke.getAttribute("data-type")!=="code-block"||Vt||Ts(Ke.innerHTML)||Zs(Ke.innerHTML)&&Ke.previousElementSibling){typeof v.options.input=="function"&&v.options.input(at(v));return}k.inputType==="insertParagraph"&&p.element.innerHTML==="<p><br></p><p><br></p>"&&Ke.previousElementSibling.remove(),$t(v,N,k)}}}),this.element.addEventListener("click",function(k){if(k.target.tagName==="INPUT"){var N=k.target;N.checked?N.setAttribute("checked","checked"):N.removeAttribute("checked"),p.preventInput=!0,getSelection().rangeCount>0&&(0,yt.jl)(getSelection().getRangeAt(0)),fa(v);return}if(k.target.tagName==="IMG"&&!k.target.parentElement.classList.contains("vditor-wysiwyg__preview")){k.target.getAttribute("data-type")==="link-ref"?jr(v,k.target):Va(k,v);return}var Ke=(0,Ue._Y)(k.target,"A");if(Ke){v.options.link.click?v.options.link.click(Ke):v.options.link.isOpen&&window.open(Ke.getAttribute("href")),k.preventDefault();return}var St=(0,yt.RN)(v);if(k.target.isEqualNode(p.element)&&p.element.lastElementChild&&St.collapsed){var Bt=p.element.lastElementChild.getBoundingClientRect();k.y>Bt.top+Bt.height&&(p.element.lastElementChild.tagName==="P"&&p.element.lastElementChild.textContent.trim().replace(ze.Y.ZWSP,"")===""?(St.selectNodeContents(p.element.lastElementChild),St.collapse(!1)):(p.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(ze.Y.ZWSP,"<wbr></p>")),(0,yt.ir)(p.element,St)))}Ur(v);var en=(0,Ue.KJ)(k.target,"vditor-wysiwyg__preview");en||(en=(0,Ue.KJ)((0,yt.RN)(v).startContainer,"vditor-wysiwyg__preview")),en&&Cr(en,v),Lt(k,v)}),this.element.addEventListener("keyup",function(k){if(!(k.isComposing||(0,Te._0)(k))){k.key==="Enter"&&Po(v),(k.key==="Backspace"||k.key==="Delete")&&v.wysiwyg.element.innerHTML!==""&&v.wysiwyg.element.childNodes.length===1&&v.wysiwyg.element.firstElementChild&&v.wysiwyg.element.firstElementChild.tagName==="P"&&v.wysiwyg.element.firstElementChild.childElementCount===0&&(v.wysiwyg.element.textContent===""||v.wysiwyg.element.textContent===`
`)&&(v.wysiwyg.element.innerHTML="");var N=(0,yt.RN)(v);if(k.key==="Backspace"&&(0,Te.gm)()&&N.startContainer.textContent===`
`&&N.startOffset===1&&(N.startContainer.textContent=""),zn(v,N),Ur(v),!(k.key!=="ArrowDown"&&k.key!=="ArrowRight"&&k.key!=="Backspace"&&k.key!=="ArrowLeft"&&k.key!=="ArrowUp")){(k.key==="ArrowLeft"||k.key==="ArrowRight")&&v.hint.render(v);var Ke=(0,Ue.KJ)(N.startContainer,"vditor-wysiwyg__preview");if(!Ke&&N.startContainer.nodeType!==3&&N.startOffset>0){var St=N.startContainer;St.classList.contains("vditor-wysiwyg__block")&&(Ke=St.lastElementChild)}if(Ke){var Bt=Ke.previousElementSibling;if(Bt.style.display==="none"){k.key==="ArrowDown"||k.key==="ArrowRight"?Cr(Ke,v):Cr(Ke,v,!1);return}var en=Ke.previousElementSibling;if(en.tagName==="PRE"&&(en=en.firstElementChild),k.key==="ArrowDown"||k.key==="ArrowRight"){var St=Ke.parentElement,Vt=mr(St);if(Vt&&Vt.nodeType!==3){var yn=Vt.querySelector(".vditor-wysiwyg__preview");if(yn){Cr(yn,v);return}}if(Vt.nodeType===3){for(;Vt.textContent.length===0&&Vt.nextSibling;)Vt=Vt.nextSibling;N.setStart(Vt,1)}else N.setStart(Vt.firstChild,0)}else N.selectNodeContents(en),N.collapse(!1)}}}})},d}(),ts=function(){var d=function(v,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var Ke in N)Object.prototype.hasOwnProperty.call(N,Ke)&&(k[Ke]=N[Ke])},d(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(v,p);function k(){this.constructor=v}v.prototype=p===null?Object.create(p):(k.prototype=p.prototype,new k)}}(),_c=function(d){ts(v,d);function v(p,k){var N=d.call(this)||this;if(N.version=ze.g,typeof p=="string"){if(k?k.cache?k.cache.id||(k.cache.id="vditor".concat(p)):k.cache={id:"vditor".concat(p)}:k={cache:{id:"vditor".concat(p)}},!document.getElementById(p))return N.showErrorTip("Failed to get element by id: ".concat(p)),N;p=document.getElementById(p)}var Ke=new Nd(k),St=Ke.merge();if(St.i18n)window.VditorI18n=St.i18n,N.init(p,St);else if(["en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(St.lang)){var Bt="vditorI18nScript",en=Bt+St.lang;document.querySelectorAll('head script[id^="'.concat(Bt,'"]')).forEach(function(Vt){Vt.id!==en&&document.head.removeChild(Vt)}),(0,nt.Z)("".concat(St.cdn,"/dist/js/i18n/").concat(St.lang,".js"),en).then(function(){N.init(p,St)}).catch(function(Vt){N.showErrorTip("GET ".concat(St.cdn,"/dist/js/i18n/").concat(St.lang,".js net::ERR_ABORTED 404 (Not Found)"))})}else throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");return N}return v.prototype.showErrorTip=function(p){var k=new es;document.body.appendChild(k.element),k.show(p,0)},v.prototype.updateToolbarConfig=function(p){this.vditor.toolbar.updateConfig(this.vditor,p)},v.prototype.setTheme=function(p,k,N,Ke){this.vditor.options.theme=p,bn(this.vditor),k&&(this.vditor.options.preview.theme.current=k,(0,Ft.H)(k,Ke||this.vditor.options.preview.theme.path)),N&&(this.vditor.options.preview.hljs.style=N,(0,tu.h)(N,this.vditor.options.cdn))},v.prototype.getValue=function(){return at(this.vditor)},v.prototype.getCurrentMode=function(){return this.vditor.currentMode},v.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},v.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},v.prototype.disabled=function(){qe(this.vditor,["subToolbar","hint","popover"]),Ye(this.vditor.toolbar.elements,ze.Y.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},v.prototype.enable=function(){$e(this.vditor.toolbar.elements,ze.Y.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},v.prototype.getSelection=function(){if(this.vditor.currentMode==="wysiwyg")return pi(this.vditor.wysiwyg.element);if(this.vditor.currentMode==="sv")return pi(this.vditor.sv.element);if(this.vditor.currentMode==="ir")return pi(this.vditor.ir.element)},v.prototype.renderPreview=function(p){this.vditor.preview.render(this.vditor,p)},v.prototype.getCursorPosition=function(){return(0,yt.Ey)(this.vditor[this.vditor.currentMode].element)},v.prototype.isUploading=function(){return this.vditor.upload.isUploading},v.prototype.clearCache=function(){this.vditor.options.cache.enable&&(0,Te.D)()&&localStorage.removeItem(this.vditor.options.cache.id)},v.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},v.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},v.prototype.html2md=function(p){return this.vditor.lute.HTML2Md(p)},v.prototype.exportJSON=function(p){return this.vditor.lute.RenderJSON(p)},v.prototype.getHTML=function(){return Ec(this.vditor)},v.prototype.tip=function(p,k){this.vditor.tip.show(p,k)},v.prototype.setPreviewMode=function(p){xu(p,this.vditor)},v.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},v.prototype.updateValue=function(p){document.execCommand("insertHTML",!1,p)},v.prototype.insertValue=function(p,k){k===void 0&&(k=!0);var N=(0,yt.RN)(this.vditor);N.collapse(!0);var Ke=document.createElement("template");Ke.innerHTML=p,N.insertNode(Ke.content.cloneNode(!0)),N.collapse(!1),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,k&&mn(this.vditor)):this.vditor.currentMode==="wysiwyg"?k&&$t(this.vditor,getSelection().getRangeAt(0)):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,k&&an(this.vditor,getSelection().getRangeAt(0),!0))},v.prototype.insertMD=function(p){this.vditor.currentMode==="ir"?(0,yt.Z2)(this.vditor.lute.Md2VditorIRDOM(p),this.vditor):this.vditor.currentMode==="wysiwyg"?(0,yt.Z2)(this.vditor.lute.Md2VditorDOM(p),this.vditor):iu(this.vditor,p),this.vditor.outline.render(this.vditor),go(this.vditor)},v.prototype.setValue=function(p,k){var N=this;k===void 0&&(k=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML="<div data-block='0'>".concat(this.vditor.lute.SpinVditorSVDOM(p),"</div>"),Gt(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?Ya(this.vditor,p,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(p),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(Ke){cn(Ke,N.vditor)}),Xa(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),p||(qe(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),k&&this.clearStack()},v.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},v.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var p=document.getElementById("vditorIconScript");p&&p.remove(),this.clearCache(),Vn(),this.vditor.wysiwyg.unbindListener()},v.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},v.prototype.hlCommentIds=function(p){if(this.vditor.currentMode==="wysiwyg"){var k=function(N){N.classList.remove("vditor-comment--hover"),p.forEach(function(Ke){N.getAttribute("data-cmtids").indexOf(Ke)>-1&&N.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(N){k(N)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(N){k(N)})}},v.prototype.unHlCommentIds=function(p){if(this.vditor.currentMode==="wysiwyg"){var k=function(N){p.forEach(function(Ke){N.getAttribute("data-cmtids").indexOf(Ke)>-1&&N.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(N){k(N)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(N){k(N)})}},v.prototype.removeCommentIds=function(p){var k=this;if(this.vditor.currentMode==="wysiwyg"){var N=function(Ke,St){var Bt=Ke.getAttribute("data-cmtids").split(" ");Bt.find(function(en,Vt){if(en===St)return Bt.splice(Vt,1),!0}),Bt.length===0?(Ke.outerHTML=Ke.innerHTML,(0,yt.RN)(k.vditor).collapse(!0)):Ke.setAttribute("data-cmtids",Bt.join(" "))};p.forEach(function(Ke){k.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(St){N(St,Ke)}),k.vditor.preview.element.style.display!=="none"&&k.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(St){N(St,Ke)})}),fa(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},v.prototype.init=function(p,k){var N=this;this.vditor={currentMode:k.mode,element:p,hint:new Na(k.hint.extend),lute:void 0,options:k,originalInnerHTML:p.innerHTML,outline:new ld(window.VditorI18n.outline),tip:new es},this.vditor.sv=new cd(this.vditor),this.vditor.undo=new fs,this.vditor.wysiwyg=new zm(this.vditor),this.vditor.ir=new nl(this.vditor),this.vditor.toolbar=new Hf(this.vditor),k.resize.enable&&(this.vditor.resize=new tc(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new A),(k.upload.url||k.upload.handler)&&(this.vditor.upload=new dn),(0,nt.Z)(k._lutePath||"".concat(k.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){N.vditor.lute=(0,_s.X)({autoSpace:N.vditor.options.preview.markdown.autoSpace,gfmAutoLink:N.vditor.options.preview.markdown.gfmAutoLink,codeBlockPreview:N.vditor.options.preview.markdown.codeBlockPreview,emojiSite:N.vditor.options.hint.emojiPath,emojis:N.vditor.options.hint.emoji,fixTermTypo:N.vditor.options.preview.markdown.fixTermTypo,footnotes:N.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:N.vditor.options.preview.math.inlineDigit,linkBase:N.vditor.options.preview.markdown.linkBase,linkPrefix:N.vditor.options.preview.markdown.linkPrefix,listStyle:N.vditor.options.preview.markdown.listStyle,mark:N.vditor.options.preview.markdown.mark,mathBlockPreview:N.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:N.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:N.vditor.options.preview.markdown.sanitize,toc:N.vditor.options.preview.markdown.toc}),N.vditor.preview=new Ti(N.vditor),Kn(N.vditor),k.after&&k.after(),k.icon&&(0,nt.U)("".concat(k.cdn,"/dist/js/icons/").concat(k.icon,".js"),"vditorIconScript")})},v}(Xe.default);const gl=_c})(),Ge=Ge.default,Ge})())})(dist);var distExports=dist.exports;const Vditor=getDefaultExportFromCjs(distExports),_sfc_main$5=defineComponent({inheritAttrs:!1,__name:"Markdown",props:{height:{type:Number,default:360},value:{type:String,default:""}},emits:["change","get","update:value"],setup(g,{emit:w}){const C=g,x=w,He=useAttrs$1(),Ge=ref(null),Xe=ref(null),ze=ref(!1),We=useModalContext(),{getLocale:at}=useLocale(),{getDarkMode:nt}=useRootSetting(),A=ref(C.value||"");watch([()=>nt.value,()=>ze.value],([Ye,ut])=>{var ct;ut&&((ct=Qe.getVditor())==null||ct.setTheme(getTheme(Ye),getTheme(Ye,"content"),getTheme(Ye,"code")))},{immediate:!0,flush:"post"}),watch(()=>C.value,Ye=>{var ut;Ye!==A.value&&((ut=Qe.getVditor())==null||ut.setValue(Ye)),A.value=Ye});const Te=computed(()=>{let Ye;switch(unref(at)){case"en":Ye="en_US";break;case"ja":Ye="ja_JP";break;case"ko":Ye="ko_KR";break;default:Ye="zh_CN"}return Ye});function et(){const Ye=unref(Ge);if(!Ye)return;const ut=ca(ca({},He),C),ct=getToken(),{apiUrl:qe}=useGlobSetting(),lt=new Vditor(Ye,Pu(ca({theme:getTheme(nt.value),lang:unref(Te),mode:"sv",fullscreen:{index:520},preview:{theme:{current:getTheme(nt.value,"content")},hljs:{style:getTheme(nt.value,"code")},actions:[]},input:Ue=>{A.value=Ue,x("update:value",Ue),x("change",Ue)},after:()=>{nextTick(()=>{var Ue;(Ue=We==null?void 0:We.redoModalHeight)==null||Ue.call(We),lt.setValue(A.value),Xe.value=lt,ze.value=!0,x("get",Qe)})},blur:()=>{}},ut),{cache:{enable:!1},upload:{url:`${qe}${Api.upload}`,multiple:!1,fieldName:"file",headers:{"anno-token":ct},format(Ue,pt){var It=JSON.parse(pt);const Tt={};return Tt[`${Ue[0].name}`]=`${It.data}`,JSON.stringify({msg:"",code:0,data:{succMap:Tt}})}}}))}const Qe={getVditor:()=>Xe.value};function $e(){var ut;const Ye=unref(Xe);if(Ye){try{(ut=Ye==null?void 0:Ye.destroy)==null||ut.call(Ye)}catch(ct){}Xe.value=null,ze.value=!1}}return onMountedOrActivated(et),onBeforeUnmount($e),onDeactivated($e),(Ye,ut)=>(openBlock(),createElementBlock("div",{ref_key:"wrapRef",ref:Ge},null,512))}}),MarkDown=withInstall(_sfc_main$5);withInstall(_sfc_main$r);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function ownKeys(g,w){var C=Object.keys(g);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);w&&(x=x.filter(function(He){return Object.getOwnPropertyDescriptor(g,He).enumerable})),C.push.apply(C,x)}return C}function _objectSpread2(g){for(var w=1;w<arguments.length;w++){var C=arguments[w]!=null?arguments[w]:{};w%2?ownKeys(Object(C),!0).forEach(function(x){_defineProperty(g,x,C[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(C)):ownKeys(Object(C)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(C,x))})}return g}function _toPrimitive(g,w){if(typeof g!="object"||!g)return g;var C=g[Symbol.toPrimitive];if(C!==void 0){var x=C.call(g,w||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(g)}function _toPropertyKey(g){var w=_toPrimitive(g,"string");return typeof w=="symbol"?w:w+""}function _typeof(g){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},_typeof(g)}function _classCallCheck(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function _defineProperties(g,w){for(var C=0;C<w.length;C++){var x=w[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,_toPropertyKey(x.key),x)}}function _createClass(g,w,C){return _defineProperties(g.prototype,w),_defineProperties(g,C),Object.defineProperty(g,"prototype",{writable:!1}),g}function _defineProperty(g,w,C){return w=_toPropertyKey(w),w in g?Object.defineProperty(g,w,{value:C,enumerable:!0,configurable:!0,writable:!0}):g[w]=C,g}function _toConsumableArray(g){return _arrayWithoutHoles(g)||_iterableToArray(g)||_unsupportedIterableToArray(g)||_nonIterableSpread()}function _arrayWithoutHoles(g){if(Array.isArray(g))return _arrayLikeToArray(g)}function _iterableToArray(g){if(typeof Symbol!="undefined"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function _unsupportedIterableToArray(g,w){if(g){if(typeof g=="string")return _arrayLikeToArray(g,w);var C=Object.prototype.toString.call(g).slice(8,-1);if(C==="Object"&&g.constructor&&(C=g.constructor.name),C==="Map"||C==="Set")return Array.from(g);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return _arrayLikeToArray(g,w)}}function _arrayLikeToArray(g,w){(w==null||w>g.length)&&(w=g.length);for(var C=0,x=new Array(w);C<w;C++)x[C]=g[C];return x}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var IS_BROWSER=typeof window!="undefined"&&typeof window.document!="undefined",WINDOW=IS_BROWSER?window:{},IS_TOUCH_DEVICE=IS_BROWSER&&WINDOW.document.documentElement?"ontouchstart"in WINDOW.document.documentElement:!1,HAS_POINTER_EVENT=IS_BROWSER?"PointerEvent"in WINDOW:!1,NAMESPACE="cropper",ACTION_ALL="all",ACTION_CROP="crop",ACTION_MOVE="move",ACTION_ZOOM="zoom",ACTION_EAST="e",ACTION_WEST="w",ACTION_SOUTH="s",ACTION_NORTH="n",ACTION_NORTH_EAST="ne",ACTION_NORTH_WEST="nw",ACTION_SOUTH_EAST="se",ACTION_SOUTH_WEST="sw",CLASS_CROP="".concat(NAMESPACE,"-crop"),CLASS_DISABLED="".concat(NAMESPACE,"-disabled"),CLASS_HIDDEN="".concat(NAMESPACE,"-hidden"),CLASS_HIDE="".concat(NAMESPACE,"-hide"),CLASS_INVISIBLE="".concat(NAMESPACE,"-invisible"),CLASS_MODAL="".concat(NAMESPACE,"-modal"),CLASS_MOVE="".concat(NAMESPACE,"-move"),DATA_ACTION="".concat(NAMESPACE,"Action"),DATA_PREVIEW="".concat(NAMESPACE,"Preview"),DRAG_MODE_CROP="crop",DRAG_MODE_MOVE="move",DRAG_MODE_NONE="none",EVENT_CROP="crop",EVENT_CROP_END="cropend",EVENT_CROP_MOVE="cropmove",EVENT_CROP_START="cropstart",EVENT_DBLCLICK="dblclick",EVENT_TOUCH_START=IS_TOUCH_DEVICE?"touchstart":"mousedown",EVENT_TOUCH_MOVE=IS_TOUCH_DEVICE?"touchmove":"mousemove",EVENT_TOUCH_END=IS_TOUCH_DEVICE?"touchend touchcancel":"mouseup",EVENT_POINTER_DOWN=HAS_POINTER_EVENT?"pointerdown":EVENT_TOUCH_START,EVENT_POINTER_MOVE=HAS_POINTER_EVENT?"pointermove":EVENT_TOUCH_MOVE,EVENT_POINTER_UP=HAS_POINTER_EVENT?"pointerup pointercancel":EVENT_TOUCH_END,EVENT_READY="ready",EVENT_RESIZE="resize",EVENT_WHEEL="wheel",EVENT_ZOOM="zoom",MIME_TYPE_JPEG="image/jpeg",REGEXP_ACTIONS=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,REGEXP_DATA_URL=/^data:/,REGEXP_DATA_URL_JPEG=/^data:image\/jpeg;base64,/,REGEXP_TAG_NAME=/^img|canvas$/i,MIN_CONTAINER_WIDTH=200,MIN_CONTAINER_HEIGHT=100,DEFAULTS={viewMode:0,dragMode:DRAG_MODE_CROP,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:MIN_CONTAINER_WIDTH,minContainerHeight:MIN_CONTAINER_HEIGHT,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},TEMPLATE='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',isNaN$1=Number.isNaN||WINDOW.isNaN;function isNumber(g){return typeof g=="number"&&!isNaN$1(g)}var isPositiveNumber=function g(w){return w>0&&w<1/0};function isUndefined(g){return typeof g=="undefined"}function isObject(g){return _typeof(g)==="object"&&g!==null}var hasOwnProperty=Object.prototype.hasOwnProperty;function isPlainObject(g){if(!isObject(g))return!1;try{var w=g.constructor,C=w.prototype;return w&&C&&hasOwnProperty.call(C,"isPrototypeOf")}catch(x){return!1}}function isFunction(g){return typeof g=="function"}var slice=Array.prototype.slice;function toArray(g){return Array.from?Array.from(g):slice.call(g)}function forEach(g,w){return g&&isFunction(w)&&(Array.isArray(g)||isNumber(g.length)?toArray(g).forEach(function(C,x){w.call(g,C,x,g)}):isObject(g)&&Object.keys(g).forEach(function(C){w.call(g,g[C],C,g)})),g}var assign=Object.assign||function g(w){for(var C=arguments.length,x=new Array(C>1?C-1:0),He=1;He<C;He++)x[He-1]=arguments[He];return isObject(w)&&x.length>0&&x.forEach(function(Ge){isObject(Ge)&&Object.keys(Ge).forEach(function(Xe){w[Xe]=Ge[Xe]})}),w},REGEXP_DECIMALS=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return REGEXP_DECIMALS.test(g)?Math.round(g*w)/w:g}var REGEXP_SUFFIX=/^width|height|left|top|marginLeft|marginTop$/;function setStyle(g,w){var C=g.style;forEach(w,function(x,He){REGEXP_SUFFIX.test(He)&&isNumber(x)&&(x="".concat(x,"px")),C[He]=x})}function hasClass(g,w){return g.classList?g.classList.contains(w):g.className.indexOf(w)>-1}function addClass(g,w){if(w){if(isNumber(g.length)){forEach(g,function(x){addClass(x,w)});return}if(g.classList){g.classList.add(w);return}var C=g.className.trim();C?C.indexOf(w)<0&&(g.className="".concat(C," ").concat(w)):g.className=w}}function removeClass(g,w){if(w){if(isNumber(g.length)){forEach(g,function(C){removeClass(C,w)});return}if(g.classList){g.classList.remove(w);return}g.className.indexOf(w)>=0&&(g.className=g.className.replace(w,""))}}function toggleClass(g,w,C){if(w){if(isNumber(g.length)){forEach(g,function(x){toggleClass(x,w,C)});return}C?addClass(g,w):removeClass(g,w)}}var REGEXP_CAMEL_CASE=/([a-z\d])([A-Z])/g;function toParamCase(g){return g.replace(REGEXP_CAMEL_CASE,"$1-$2").toLowerCase()}function getData(g,w){return isObject(g[w])?g[w]:g.dataset?g.dataset[w]:g.getAttribute("data-".concat(toParamCase(w)))}function setData(g,w,C){isObject(C)?g[w]=C:g.dataset?g.dataset[w]=C:g.setAttribute("data-".concat(toParamCase(w)),C)}function removeData(g,w){if(isObject(g[w]))try{delete g[w]}catch(C){g[w]=void 0}else if(g.dataset)try{delete g.dataset[w]}catch(C){g.dataset[w]=void 0}else g.removeAttribute("data-".concat(toParamCase(w)))}var REGEXP_SPACES=/\s\s*/,onceSupported=function(){var g=!1;if(IS_BROWSER){var w=!1,C=function(){},x=Object.defineProperty({},"once",{get:function(){return g=!0,w},set:function(Ge){w=Ge}});WINDOW.addEventListener("test",C,x),WINDOW.removeEventListener("test",C,x)}return g}();function removeListener(g,w,C){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},He=C;w.trim().split(REGEXP_SPACES).forEach(function(Ge){if(!onceSupported){var Xe=g.listeners;Xe&&Xe[Ge]&&Xe[Ge][C]&&(He=Xe[Ge][C],delete Xe[Ge][C],Object.keys(Xe[Ge]).length===0&&delete Xe[Ge],Object.keys(Xe).length===0&&delete g.listeners)}g.removeEventListener(Ge,He,x)})}function addListener(g,w,C){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},He=C;w.trim().split(REGEXP_SPACES).forEach(function(Ge){if(x.once&&!onceSupported){var Xe=g.listeners,ze=Xe===void 0?{}:Xe;He=function(){delete ze[Ge][C],g.removeEventListener(Ge,He,x);for(var at=arguments.length,nt=new Array(at),A=0;A<at;A++)nt[A]=arguments[A];C.apply(g,nt)},ze[Ge]||(ze[Ge]={}),ze[Ge][C]&&g.removeEventListener(Ge,ze[Ge][C],x),ze[Ge][C]=He,g.listeners=ze}g.addEventListener(Ge,He,x)})}function dispatchEvent(g,w,C){var x;return isFunction(Event)&&isFunction(CustomEvent)?x=new CustomEvent(w,{detail:C,bubbles:!0,cancelable:!0}):(x=document.createEvent("CustomEvent"),x.initCustomEvent(w,!0,!0,C)),g.dispatchEvent(x)}function getOffset(g){var w=g.getBoundingClientRect();return{left:w.left+(window.pageXOffset-document.documentElement.clientLeft),top:w.top+(window.pageYOffset-document.documentElement.clientTop)}}var location=WINDOW.location,REGEXP_ORIGINS=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function isCrossOriginURL(g){var w=g.match(REGEXP_ORIGINS);return w!==null&&(w[1]!==location.protocol||w[2]!==location.hostname||w[3]!==location.port)}function addTimestamp(g){var w="timestamp=".concat(new Date().getTime());return g+(g.indexOf("?")===-1?"?":"&")+w}function getTransforms(g){var w=g.rotate,C=g.scaleX,x=g.scaleY,He=g.translateX,Ge=g.translateY,Xe=[];isNumber(He)&&He!==0&&Xe.push("translateX(".concat(He,"px)")),isNumber(Ge)&&Ge!==0&&Xe.push("translateY(".concat(Ge,"px)")),isNumber(w)&&w!==0&&Xe.push("rotate(".concat(w,"deg)")),isNumber(C)&&C!==1&&Xe.push("scaleX(".concat(C,")")),isNumber(x)&&x!==1&&Xe.push("scaleY(".concat(x,")"));var ze=Xe.length?Xe.join(" "):"none";return{WebkitTransform:ze,msTransform:ze,transform:ze}}function getMaxZoomRatio(g){var w=_objectSpread2({},g),C=0;return forEach(g,function(x,He){delete w[He],forEach(w,function(Ge){var Xe=Math.abs(x.startX-Ge.startX),ze=Math.abs(x.startY-Ge.startY),We=Math.abs(x.endX-Ge.endX),at=Math.abs(x.endY-Ge.endY),nt=Math.sqrt(Xe*Xe+ze*ze),A=Math.sqrt(We*We+at*at),Te=(A-nt)/nt;Math.abs(Te)>Math.abs(C)&&(C=Te)})}),C}function getPointer(g,w){var C=g.pageX,x=g.pageY,He={endX:C,endY:x};return w?He:_objectSpread2({startX:C,startY:x},He)}function getPointersCenter(g){var w=0,C=0,x=0;return forEach(g,function(He){var Ge=He.startX,Xe=He.startY;w+=Ge,C+=Xe,x+=1}),w/=x,C/=x,{pageX:w,pageY:C}}function getAdjustedSizes(g){var w=g.aspectRatio,C=g.height,x=g.width,He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",Ge=isPositiveNumber(x),Xe=isPositiveNumber(C);if(Ge&&Xe){var ze=C*w;He==="contain"&&ze>x||He==="cover"&&ze<x?C=x/w:x=C*w}else Ge?C=x/w:Xe&&(x=C*w);return{width:x,height:C}}function getRotatedSizes(g){var w=g.width,C=g.height,x=g.degree;if(x=Math.abs(x)%180,x===90)return{width:C,height:w};var He=x%90*Math.PI/180,Ge=Math.sin(He),Xe=Math.cos(He),ze=w*Xe+C*Ge,We=w*Ge+C*Xe;return x>90?{width:We,height:ze}:{width:ze,height:We}}function getSourceCanvas(g,w,C,x){var He=w.aspectRatio,Ge=w.naturalWidth,Xe=w.naturalHeight,ze=w.rotate,We=ze===void 0?0:ze,at=w.scaleX,nt=at===void 0?1:at,A=w.scaleY,Te=A===void 0?1:A,et=C.aspectRatio,Qe=C.naturalWidth,$e=C.naturalHeight,Ye=x.fillColor,ut=Ye===void 0?"transparent":Ye,ct=x.imageSmoothingEnabled,qe=ct===void 0?!0:ct,lt=x.imageSmoothingQuality,Ue=lt===void 0?"low":lt,pt=x.maxWidth,It=pt===void 0?1/0:pt,Tt=x.maxHeight,mt=Tt===void 0?1/0:Tt,vt=x.minWidth,Et=vt===void 0?0:vt,st=x.minHeight,At=st===void 0?0:st,nn=document.createElement("canvas"),wn=nn.getContext("2d"),Ht=getAdjustedSizes({aspectRatio:et,width:It,height:mt}),Sn=getAdjustedSizes({aspectRatio:et,width:Et,height:At},"cover"),lr=Math.min(Ht.width,Math.max(Sn.width,Qe)),Ve=Math.min(Ht.height,Math.max(Sn.height,$e)),jt=getAdjustedSizes({aspectRatio:He,width:It,height:mt}),cn=getAdjustedSizes({aspectRatio:He,width:Et,height:At},"cover"),yt=Math.min(jt.width,Math.max(cn.width,Ge)),Mt=Math.min(jt.height,Math.max(cn.height,Xe)),Lt=[-yt/2,-Mt/2,yt,Mt];return nn.width=normalizeDecimalNumber(lr),nn.height=normalizeDecimalNumber(Ve),wn.fillStyle=ut,wn.fillRect(0,0,lr,Ve),wn.save(),wn.translate(lr/2,Ve/2),wn.rotate(We*Math.PI/180),wn.scale(nt,Te),wn.imageSmoothingEnabled=qe,wn.imageSmoothingQuality=Ue,wn.drawImage.apply(wn,[g].concat(_toConsumableArray(Lt.map(function(qt){return Math.floor(normalizeDecimalNumber(qt))})))),wn.restore(),nn}var fromCharCode=String.fromCharCode;function getStringFromCharCode(g,w,C){var x="";C+=w;for(var He=w;He<C;He+=1)x+=fromCharCode(g.getUint8(He));return x}var REGEXP_DATA_URL_HEAD=/^data:.*,/;function dataURLToArrayBuffer(g){var w=g.replace(REGEXP_DATA_URL_HEAD,""),C=atob(w),x=new ArrayBuffer(C.length),He=new Uint8Array(x);return forEach(He,function(Ge,Xe){He[Xe]=C.charCodeAt(Xe)}),x}function arrayBufferToDataURL(g,w){for(var C=[],x=8192,He=new Uint8Array(g);He.length>0;)C.push(fromCharCode.apply(null,toArray(He.subarray(0,x)))),He=He.subarray(x);return"data:".concat(w,";base64,").concat(btoa(C.join("")))}function resetAndGetOrientation(g){var w=new DataView(g),C;try{var x,He,Ge;if(w.getUint8(0)===255&&w.getUint8(1)===216)for(var Xe=w.byteLength,ze=2;ze+1<Xe;){if(w.getUint8(ze)===255&&w.getUint8(ze+1)===225){He=ze;break}ze+=1}if(He){var We=He+4,at=He+10;if(getStringFromCharCode(w,We,4)==="Exif"){var nt=w.getUint16(at);if(x=nt===18761,(x||nt===19789)&&w.getUint16(at+2,x)===42){var A=w.getUint32(at+4,x);A>=8&&(Ge=at+A)}}}if(Ge){var Te=w.getUint16(Ge,x),et,Qe;for(Qe=0;Qe<Te;Qe+=1)if(et=Ge+Qe*12+2,w.getUint16(et,x)===274){et+=8,C=w.getUint16(et,x),w.setUint16(et,1,x);break}}}catch($e){C=1}return C}function parseOrientation(g){var w=0,C=1,x=1;switch(g){case 2:C=-1;break;case 3:w=-180;break;case 4:x=-1;break;case 5:w=90,x=-1;break;case 6:w=90;break;case 7:w=90,C=-1;break;case 8:w=-90;break}return{rotate:w,scaleX:C,scaleY:x}}var render={render:function g(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function g(){var w=this.element,C=this.options,x=this.container,He=this.cropper,Ge=Number(C.minContainerWidth),Xe=Number(C.minContainerHeight);addClass(He,CLASS_HIDDEN),removeClass(w,CLASS_HIDDEN);var ze={width:Math.max(x.offsetWidth,Ge>=0?Ge:MIN_CONTAINER_WIDTH),height:Math.max(x.offsetHeight,Xe>=0?Xe:MIN_CONTAINER_HEIGHT)};this.containerData=ze,setStyle(He,{width:ze.width,height:ze.height}),addClass(w,CLASS_HIDDEN),removeClass(He,CLASS_HIDDEN)},initCanvas:function g(){var w=this.containerData,C=this.imageData,x=this.options.viewMode,He=Math.abs(C.rotate)%180===90,Ge=He?C.naturalHeight:C.naturalWidth,Xe=He?C.naturalWidth:C.naturalHeight,ze=Ge/Xe,We=w.width,at=w.height;w.height*ze>w.width?x===3?We=w.height*ze:at=w.width/ze:x===3?at=w.width/ze:We=w.height*ze;var nt={aspectRatio:ze,naturalWidth:Ge,naturalHeight:Xe,width:We,height:at};this.canvasData=nt,this.limited=x===1||x===2,this.limitCanvas(!0,!0),nt.width=Math.min(Math.max(nt.width,nt.minWidth),nt.maxWidth),nt.height=Math.min(Math.max(nt.height,nt.minHeight),nt.maxHeight),nt.left=(w.width-nt.width)/2,nt.top=(w.height-nt.height)/2,nt.oldLeft=nt.left,nt.oldTop=nt.top,this.initialCanvasData=assign({},nt)},limitCanvas:function g(w,C){var x=this.options,He=this.containerData,Ge=this.canvasData,Xe=this.cropBoxData,ze=x.viewMode,We=Ge.aspectRatio,at=this.cropped&&Xe;if(w){var nt=Number(x.minCanvasWidth)||0,A=Number(x.minCanvasHeight)||0;ze>1?(nt=Math.max(nt,He.width),A=Math.max(A,He.height),ze===3&&(A*We>nt?nt=A*We:A=nt/We)):ze>0&&(nt?nt=Math.max(nt,at?Xe.width:0):A?A=Math.max(A,at?Xe.height:0):at&&(nt=Xe.width,A=Xe.height,A*We>nt?nt=A*We:A=nt/We));var Te=getAdjustedSizes({aspectRatio:We,width:nt,height:A});nt=Te.width,A=Te.height,Ge.minWidth=nt,Ge.minHeight=A,Ge.maxWidth=1/0,Ge.maxHeight=1/0}if(C)if(ze>(at?0:1)){var et=He.width-Ge.width,Qe=He.height-Ge.height;Ge.minLeft=Math.min(0,et),Ge.minTop=Math.min(0,Qe),Ge.maxLeft=Math.max(0,et),Ge.maxTop=Math.max(0,Qe),at&&this.limited&&(Ge.minLeft=Math.min(Xe.left,Xe.left+(Xe.width-Ge.width)),Ge.minTop=Math.min(Xe.top,Xe.top+(Xe.height-Ge.height)),Ge.maxLeft=Xe.left,Ge.maxTop=Xe.top,ze===2&&(Ge.width>=He.width&&(Ge.minLeft=Math.min(0,et),Ge.maxLeft=Math.max(0,et)),Ge.height>=He.height&&(Ge.minTop=Math.min(0,Qe),Ge.maxTop=Math.max(0,Qe))))}else Ge.minLeft=-Ge.width,Ge.minTop=-Ge.height,Ge.maxLeft=He.width,Ge.maxTop=He.height},renderCanvas:function g(w,C){var x=this.canvasData,He=this.imageData;if(C){var Ge=getRotatedSizes({width:He.naturalWidth*Math.abs(He.scaleX||1),height:He.naturalHeight*Math.abs(He.scaleY||1),degree:He.rotate||0}),Xe=Ge.width,ze=Ge.height,We=x.width*(Xe/x.naturalWidth),at=x.height*(ze/x.naturalHeight);x.left-=(We-x.width)/2,x.top-=(at-x.height)/2,x.width=We,x.height=at,x.aspectRatio=Xe/ze,x.naturalWidth=Xe,x.naturalHeight=ze,this.limitCanvas(!0,!1)}(x.width>x.maxWidth||x.width<x.minWidth)&&(x.left=x.oldLeft),(x.height>x.maxHeight||x.height<x.minHeight)&&(x.top=x.oldTop),x.width=Math.min(Math.max(x.width,x.minWidth),x.maxWidth),x.height=Math.min(Math.max(x.height,x.minHeight),x.maxHeight),this.limitCanvas(!1,!0),x.left=Math.min(Math.max(x.left,x.minLeft),x.maxLeft),x.top=Math.min(Math.max(x.top,x.minTop),x.maxTop),x.oldLeft=x.left,x.oldTop=x.top,setStyle(this.canvas,assign({width:x.width,height:x.height},getTransforms({translateX:x.left,translateY:x.top}))),this.renderImage(w),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function g(w){var C=this.canvasData,x=this.imageData,He=x.naturalWidth*(C.width/C.naturalWidth),Ge=x.naturalHeight*(C.height/C.naturalHeight);assign(x,{width:He,height:Ge,left:(C.width-He)/2,top:(C.height-Ge)/2}),setStyle(this.image,assign({width:x.width,height:x.height},getTransforms(assign({translateX:x.left,translateY:x.top},x)))),w&&this.output()},initCropBox:function g(){var w=this.options,C=this.canvasData,x=w.aspectRatio||w.initialAspectRatio,He=Number(w.autoCropArea)||.8,Ge={width:C.width,height:C.height};x&&(C.height*x>C.width?Ge.height=Ge.width/x:Ge.width=Ge.height*x),this.cropBoxData=Ge,this.limitCropBox(!0,!0),Ge.width=Math.min(Math.max(Ge.width,Ge.minWidth),Ge.maxWidth),Ge.height=Math.min(Math.max(Ge.height,Ge.minHeight),Ge.maxHeight),Ge.width=Math.max(Ge.minWidth,Ge.width*He),Ge.height=Math.max(Ge.minHeight,Ge.height*He),Ge.left=C.left+(C.width-Ge.width)/2,Ge.top=C.top+(C.height-Ge.height)/2,Ge.oldLeft=Ge.left,Ge.oldTop=Ge.top,this.initialCropBoxData=assign({},Ge)},limitCropBox:function g(w,C){var x=this.options,He=this.containerData,Ge=this.canvasData,Xe=this.cropBoxData,ze=this.limited,We=x.aspectRatio;if(w){var at=Number(x.minCropBoxWidth)||0,nt=Number(x.minCropBoxHeight)||0,A=ze?Math.min(He.width,Ge.width,Ge.width+Ge.left,He.width-Ge.left):He.width,Te=ze?Math.min(He.height,Ge.height,Ge.height+Ge.top,He.height-Ge.top):He.height;at=Math.min(at,He.width),nt=Math.min(nt,He.height),We&&(at&&nt?nt*We>at?nt=at/We:at=nt*We:at?nt=at/We:nt&&(at=nt*We),Te*We>A?Te=A/We:A=Te*We),Xe.minWidth=Math.min(at,A),Xe.minHeight=Math.min(nt,Te),Xe.maxWidth=A,Xe.maxHeight=Te}C&&(ze?(Xe.minLeft=Math.max(0,Ge.left),Xe.minTop=Math.max(0,Ge.top),Xe.maxLeft=Math.min(He.width,Ge.left+Ge.width)-Xe.width,Xe.maxTop=Math.min(He.height,Ge.top+Ge.height)-Xe.height):(Xe.minLeft=0,Xe.minTop=0,Xe.maxLeft=He.width-Xe.width,Xe.maxTop=He.height-Xe.height))},renderCropBox:function g(){var w=this.options,C=this.containerData,x=this.cropBoxData;(x.width>x.maxWidth||x.width<x.minWidth)&&(x.left=x.oldLeft),(x.height>x.maxHeight||x.height<x.minHeight)&&(x.top=x.oldTop),x.width=Math.min(Math.max(x.width,x.minWidth),x.maxWidth),x.height=Math.min(Math.max(x.height,x.minHeight),x.maxHeight),this.limitCropBox(!1,!0),x.left=Math.min(Math.max(x.left,x.minLeft),x.maxLeft),x.top=Math.min(Math.max(x.top,x.minTop),x.maxTop),x.oldLeft=x.left,x.oldTop=x.top,w.movable&&w.cropBoxMovable&&setData(this.face,DATA_ACTION,x.width>=C.width&&x.height>=C.height?ACTION_MOVE:ACTION_ALL),setStyle(this.cropBox,assign({width:x.width,height:x.height},getTransforms({translateX:x.left,translateY:x.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function g(){this.preview(),dispatchEvent(this.element,EVENT_CROP,this.getData())}},preview={initPreview:function g(){var w=this.element,C=this.crossOrigin,x=this.options.preview,He=C?this.crossOriginUrl:this.url,Ge=w.alt||"The image to preview",Xe=document.createElement("img");if(C&&(Xe.crossOrigin=C),Xe.src=He,Xe.alt=Ge,this.viewBox.appendChild(Xe),this.viewBoxImage=Xe,!!x){var ze=x;typeof x=="string"?ze=w.ownerDocument.querySelectorAll(x):x.querySelector&&(ze=[x]),this.previews=ze,forEach(ze,function(We){var at=document.createElement("img");setData(We,DATA_PREVIEW,{width:We.offsetWidth,height:We.offsetHeight,html:We.innerHTML}),C&&(at.crossOrigin=C),at.src=He,at.alt=Ge,at.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',We.innerHTML="",We.appendChild(at)})}},resetPreview:function g(){forEach(this.previews,function(w){var C=getData(w,DATA_PREVIEW);setStyle(w,{width:C.width,height:C.height}),w.innerHTML=C.html,removeData(w,DATA_PREVIEW)})},preview:function g(){var w=this.imageData,C=this.canvasData,x=this.cropBoxData,He=x.width,Ge=x.height,Xe=w.width,ze=w.height,We=x.left-C.left-w.left,at=x.top-C.top-w.top;!this.cropped||this.disabled||(setStyle(this.viewBoxImage,assign({width:Xe,height:ze},getTransforms(assign({translateX:-We,translateY:-at},w)))),forEach(this.previews,function(nt){var A=getData(nt,DATA_PREVIEW),Te=A.width,et=A.height,Qe=Te,$e=et,Ye=1;He&&(Ye=Te/He,$e=Ge*Ye),Ge&&$e>et&&(Ye=et/Ge,Qe=He*Ye,$e=et),setStyle(nt,{width:Qe,height:$e}),setStyle(nt.getElementsByTagName("img")[0],assign({width:Xe*Ye,height:ze*Ye},getTransforms(assign({translateX:-We*Ye,translateY:-at*Ye},w))))}))}},events={bind:function g(){var w=this.element,C=this.options,x=this.cropper;isFunction(C.cropstart)&&addListener(w,EVENT_CROP_START,C.cropstart),isFunction(C.cropmove)&&addListener(w,EVENT_CROP_MOVE,C.cropmove),isFunction(C.cropend)&&addListener(w,EVENT_CROP_END,C.cropend),isFunction(C.crop)&&addListener(w,EVENT_CROP,C.crop),isFunction(C.zoom)&&addListener(w,EVENT_ZOOM,C.zoom),addListener(x,EVENT_POINTER_DOWN,this.onCropStart=this.cropStart.bind(this)),C.zoomable&&C.zoomOnWheel&&addListener(x,EVENT_WHEEL,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),C.toggleDragModeOnDblclick&&addListener(x,EVENT_DBLCLICK,this.onDblclick=this.dblclick.bind(this)),addListener(w.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove=this.cropMove.bind(this)),addListener(w.ownerDocument,EVENT_POINTER_UP,this.onCropEnd=this.cropEnd.bind(this)),C.responsive&&addListener(window,EVENT_RESIZE,this.onResize=this.resize.bind(this))},unbind:function g(){var w=this.element,C=this.options,x=this.cropper;isFunction(C.cropstart)&&removeListener(w,EVENT_CROP_START,C.cropstart),isFunction(C.cropmove)&&removeListener(w,EVENT_CROP_MOVE,C.cropmove),isFunction(C.cropend)&&removeListener(w,EVENT_CROP_END,C.cropend),isFunction(C.crop)&&removeListener(w,EVENT_CROP,C.crop),isFunction(C.zoom)&&removeListener(w,EVENT_ZOOM,C.zoom),removeListener(x,EVENT_POINTER_DOWN,this.onCropStart),C.zoomable&&C.zoomOnWheel&&removeListener(x,EVENT_WHEEL,this.onWheel,{passive:!1,capture:!0}),C.toggleDragModeOnDblclick&&removeListener(x,EVENT_DBLCLICK,this.onDblclick),removeListener(w.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove),removeListener(w.ownerDocument,EVENT_POINTER_UP,this.onCropEnd),C.responsive&&removeListener(window,EVENT_RESIZE,this.onResize)}},handlers={resize:function g(){if(!this.disabled){var w=this.options,C=this.container,x=this.containerData,He=C.offsetWidth/x.width,Ge=C.offsetHeight/x.height,Xe=Math.abs(He-1)>Math.abs(Ge-1)?He:Ge;if(Xe!==1){var ze,We;w.restore&&(ze=this.getCanvasData(),We=this.getCropBoxData()),this.render(),w.restore&&(this.setCanvasData(forEach(ze,function(at,nt){ze[nt]=at*Xe})),this.setCropBoxData(forEach(We,function(at,nt){We[nt]=at*Xe})))}}},dblclick:function g(){this.disabled||this.options.dragMode===DRAG_MODE_NONE||this.setDragMode(hasClass(this.dragBox,CLASS_CROP)?DRAG_MODE_MOVE:DRAG_MODE_CROP)},wheel:function g(w){var C=this,x=Number(this.options.wheelZoomRatio)||.1,He=1;this.disabled||(w.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){C.wheeling=!1},50),w.deltaY?He=w.deltaY>0?1:-1:w.wheelDelta?He=-w.wheelDelta/120:w.detail&&(He=w.detail>0?1:-1),this.zoom(-He*x,w)))},cropStart:function g(w){var C=w.buttons,x=w.button;if(!(this.disabled||(w.type==="mousedown"||w.type==="pointerdown"&&w.pointerType==="mouse")&&(isNumber(C)&&C!==1||isNumber(x)&&x!==0||w.ctrlKey))){var He=this.options,Ge=this.pointers,Xe;w.changedTouches?forEach(w.changedTouches,function(ze){Ge[ze.identifier]=getPointer(ze)}):Ge[w.pointerId||0]=getPointer(w),Object.keys(Ge).length>1&&He.zoomable&&He.zoomOnTouch?Xe=ACTION_ZOOM:Xe=getData(w.target,DATA_ACTION),REGEXP_ACTIONS.test(Xe)&&dispatchEvent(this.element,EVENT_CROP_START,{originalEvent:w,action:Xe})!==!1&&(w.preventDefault(),this.action=Xe,this.cropping=!1,Xe===ACTION_CROP&&(this.cropping=!0,addClass(this.dragBox,CLASS_MODAL)))}},cropMove:function g(w){var C=this.action;if(!(this.disabled||!C)){var x=this.pointers;w.preventDefault(),dispatchEvent(this.element,EVENT_CROP_MOVE,{originalEvent:w,action:C})!==!1&&(w.changedTouches?forEach(w.changedTouches,function(He){assign(x[He.identifier]||{},getPointer(He,!0))}):assign(x[w.pointerId||0]||{},getPointer(w,!0)),this.change(w))}},cropEnd:function g(w){if(!this.disabled){var C=this.action,x=this.pointers;w.changedTouches?forEach(w.changedTouches,function(He){delete x[He.identifier]}):delete x[w.pointerId||0],C&&(w.preventDefault(),Object.keys(x).length||(this.action=""),this.cropping&&(this.cropping=!1,toggleClass(this.dragBox,CLASS_MODAL,this.cropped&&this.options.modal)),dispatchEvent(this.element,EVENT_CROP_END,{originalEvent:w,action:C}))}}},change={change:function g(w){var C=this.options,x=this.canvasData,He=this.containerData,Ge=this.cropBoxData,Xe=this.pointers,ze=this.action,We=C.aspectRatio,at=Ge.left,nt=Ge.top,A=Ge.width,Te=Ge.height,et=at+A,Qe=nt+Te,$e=0,Ye=0,ut=He.width,ct=He.height,qe=!0,lt;!We&&w.shiftKey&&(We=A&&Te?A/Te:1),this.limited&&($e=Ge.minLeft,Ye=Ge.minTop,ut=$e+Math.min(He.width,x.width,x.left+x.width),ct=Ye+Math.min(He.height,x.height,x.top+x.height));var Ue=Xe[Object.keys(Xe)[0]],pt={x:Ue.endX-Ue.startX,y:Ue.endY-Ue.startY},It=function(mt){switch(mt){case ACTION_EAST:et+pt.x>ut&&(pt.x=ut-et);break;case ACTION_WEST:at+pt.x<$e&&(pt.x=$e-at);break;case ACTION_NORTH:nt+pt.y<Ye&&(pt.y=Ye-nt);break;case ACTION_SOUTH:Qe+pt.y>ct&&(pt.y=ct-Qe);break}};switch(ze){case ACTION_ALL:at+=pt.x,nt+=pt.y;break;case ACTION_EAST:if(pt.x>=0&&(et>=ut||We&&(nt<=Ye||Qe>=ct))){qe=!1;break}It(ACTION_EAST),A+=pt.x,A<0&&(ze=ACTION_WEST,A=-A,at-=A),We&&(Te=A/We,nt+=(Ge.height-Te)/2);break;case ACTION_NORTH:if(pt.y<=0&&(nt<=Ye||We&&(at<=$e||et>=ut))){qe=!1;break}It(ACTION_NORTH),Te-=pt.y,nt+=pt.y,Te<0&&(ze=ACTION_SOUTH,Te=-Te,nt-=Te),We&&(A=Te*We,at+=(Ge.width-A)/2);break;case ACTION_WEST:if(pt.x<=0&&(at<=$e||We&&(nt<=Ye||Qe>=ct))){qe=!1;break}It(ACTION_WEST),A-=pt.x,at+=pt.x,A<0&&(ze=ACTION_EAST,A=-A,at-=A),We&&(Te=A/We,nt+=(Ge.height-Te)/2);break;case ACTION_SOUTH:if(pt.y>=0&&(Qe>=ct||We&&(at<=$e||et>=ut))){qe=!1;break}It(ACTION_SOUTH),Te+=pt.y,Te<0&&(ze=ACTION_NORTH,Te=-Te,nt-=Te),We&&(A=Te*We,at+=(Ge.width-A)/2);break;case ACTION_NORTH_EAST:if(We){if(pt.y<=0&&(nt<=Ye||et>=ut)){qe=!1;break}It(ACTION_NORTH),Te-=pt.y,nt+=pt.y,A=Te*We}else It(ACTION_NORTH),It(ACTION_EAST),pt.x>=0?et<ut?A+=pt.x:pt.y<=0&&nt<=Ye&&(qe=!1):A+=pt.x,pt.y<=0?nt>Ye&&(Te-=pt.y,nt+=pt.y):(Te-=pt.y,nt+=pt.y);A<0&&Te<0?(ze=ACTION_SOUTH_WEST,Te=-Te,A=-A,nt-=Te,at-=A):A<0?(ze=ACTION_NORTH_WEST,A=-A,at-=A):Te<0&&(ze=ACTION_SOUTH_EAST,Te=-Te,nt-=Te);break;case ACTION_NORTH_WEST:if(We){if(pt.y<=0&&(nt<=Ye||at<=$e)){qe=!1;break}It(ACTION_NORTH),Te-=pt.y,nt+=pt.y,A=Te*We,at+=Ge.width-A}else It(ACTION_NORTH),It(ACTION_WEST),pt.x<=0?at>$e?(A-=pt.x,at+=pt.x):pt.y<=0&&nt<=Ye&&(qe=!1):(A-=pt.x,at+=pt.x),pt.y<=0?nt>Ye&&(Te-=pt.y,nt+=pt.y):(Te-=pt.y,nt+=pt.y);A<0&&Te<0?(ze=ACTION_SOUTH_EAST,Te=-Te,A=-A,nt-=Te,at-=A):A<0?(ze=ACTION_NORTH_EAST,A=-A,at-=A):Te<0&&(ze=ACTION_SOUTH_WEST,Te=-Te,nt-=Te);break;case ACTION_SOUTH_WEST:if(We){if(pt.x<=0&&(at<=$e||Qe>=ct)){qe=!1;break}It(ACTION_WEST),A-=pt.x,at+=pt.x,Te=A/We}else It(ACTION_SOUTH),It(ACTION_WEST),pt.x<=0?at>$e?(A-=pt.x,at+=pt.x):pt.y>=0&&Qe>=ct&&(qe=!1):(A-=pt.x,at+=pt.x),pt.y>=0?Qe<ct&&(Te+=pt.y):Te+=pt.y;A<0&&Te<0?(ze=ACTION_NORTH_EAST,Te=-Te,A=-A,nt-=Te,at-=A):A<0?(ze=ACTION_SOUTH_EAST,A=-A,at-=A):Te<0&&(ze=ACTION_NORTH_WEST,Te=-Te,nt-=Te);break;case ACTION_SOUTH_EAST:if(We){if(pt.x>=0&&(et>=ut||Qe>=ct)){qe=!1;break}It(ACTION_EAST),A+=pt.x,Te=A/We}else It(ACTION_SOUTH),It(ACTION_EAST),pt.x>=0?et<ut?A+=pt.x:pt.y>=0&&Qe>=ct&&(qe=!1):A+=pt.x,pt.y>=0?Qe<ct&&(Te+=pt.y):Te+=pt.y;A<0&&Te<0?(ze=ACTION_NORTH_WEST,Te=-Te,A=-A,nt-=Te,at-=A):A<0?(ze=ACTION_SOUTH_WEST,A=-A,at-=A):Te<0&&(ze=ACTION_NORTH_EAST,Te=-Te,nt-=Te);break;case ACTION_MOVE:this.move(pt.x,pt.y),qe=!1;break;case ACTION_ZOOM:this.zoom(getMaxZoomRatio(Xe),w),qe=!1;break;case ACTION_CROP:if(!pt.x||!pt.y){qe=!1;break}lt=getOffset(this.cropper),at=Ue.startX-lt.left,nt=Ue.startY-lt.top,A=Ge.minWidth,Te=Ge.minHeight,pt.x>0?ze=pt.y>0?ACTION_SOUTH_EAST:ACTION_NORTH_EAST:pt.x<0&&(at-=A,ze=pt.y>0?ACTION_SOUTH_WEST:ACTION_NORTH_WEST),pt.y<0&&(nt-=Te),this.cropped||(removeClass(this.cropBox,CLASS_HIDDEN),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}qe&&(Ge.width=A,Ge.height=Te,Ge.left=at,Ge.top=nt,this.action=ze,this.renderCropBox()),forEach(Xe,function(Tt){Tt.startX=Tt.endX,Tt.startY=Tt.endY})}},methods={crop:function g(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&addClass(this.dragBox,CLASS_MODAL),removeClass(this.cropBox,CLASS_HIDDEN),this.setCropBoxData(this.initialCropBoxData)),this},reset:function g(){return this.ready&&!this.disabled&&(this.imageData=assign({},this.initialImageData),this.canvasData=assign({},this.initialCanvasData),this.cropBoxData=assign({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function g(){return this.cropped&&!this.disabled&&(assign(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),removeClass(this.dragBox,CLASS_MODAL),addClass(this.cropBox,CLASS_HIDDEN)),this},replace:function g(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&w&&(this.isImg&&(this.element.src=w),C?(this.url=w,this.image.src=w,this.ready&&(this.viewBoxImage.src=w,forEach(this.previews,function(x){x.getElementsByTagName("img")[0].src=w}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(w))),this},enable:function g(){return this.ready&&this.disabled&&(this.disabled=!1,removeClass(this.cropper,CLASS_DISABLED)),this},disable:function g(){return this.ready&&!this.disabled&&(this.disabled=!0,addClass(this.cropper,CLASS_DISABLED)),this},destroy:function g(){var w=this.element;return w[NAMESPACE]?(w[NAMESPACE]=void 0,this.isImg&&this.replaced&&(w.src=this.originalUrl),this.uncreate(),this):this},move:function g(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,x=this.canvasData,He=x.left,Ge=x.top;return this.moveTo(isUndefined(w)?w:He+Number(w),isUndefined(C)?C:Ge+Number(C))},moveTo:function g(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,x=this.canvasData,He=!1;return w=Number(w),C=Number(C),this.ready&&!this.disabled&&this.options.movable&&(isNumber(w)&&(x.left=w,He=!0),isNumber(C)&&(x.top=C,He=!0),He&&this.renderCanvas(!0)),this},zoom:function g(w,C){var x=this.canvasData;return w=Number(w),w<0?w=1/(1-w):w=1+w,this.zoomTo(x.width*w/x.naturalWidth,null,C)},zoomTo:function g(w,C,x){var He=this.options,Ge=this.canvasData,Xe=Ge.width,ze=Ge.height,We=Ge.naturalWidth,at=Ge.naturalHeight;if(w=Number(w),w>=0&&this.ready&&!this.disabled&&He.zoomable){var nt=We*w,A=at*w;if(dispatchEvent(this.element,EVENT_ZOOM,{ratio:w,oldRatio:Xe/We,originalEvent:x})===!1)return this;if(x){var Te=this.pointers,et=getOffset(this.cropper),Qe=Te&&Object.keys(Te).length?getPointersCenter(Te):{pageX:x.pageX,pageY:x.pageY};Ge.left-=(nt-Xe)*((Qe.pageX-et.left-Ge.left)/Xe),Ge.top-=(A-ze)*((Qe.pageY-et.top-Ge.top)/ze)}else isPlainObject(C)&&isNumber(C.x)&&isNumber(C.y)?(Ge.left-=(nt-Xe)*((C.x-Ge.left)/Xe),Ge.top-=(A-ze)*((C.y-Ge.top)/ze)):(Ge.left-=(nt-Xe)/2,Ge.top-=(A-ze)/2);Ge.width=nt,Ge.height=A,this.renderCanvas(!0)}return this},rotate:function g(w){return this.rotateTo((this.imageData.rotate||0)+Number(w))},rotateTo:function g(w){return w=Number(w),isNumber(w)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=w%360,this.renderCanvas(!0,!0)),this},scaleX:function g(w){var C=this.imageData.scaleY;return this.scale(w,isNumber(C)?C:1)},scaleY:function g(w){var C=this.imageData.scaleX;return this.scale(isNumber(C)?C:1,w)},scale:function g(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,x=this.imageData,He=!1;return w=Number(w),C=Number(C),this.ready&&!this.disabled&&this.options.scalable&&(isNumber(w)&&(x.scaleX=w,He=!0),isNumber(C)&&(x.scaleY=C,He=!0),He&&this.renderCanvas(!0,!0)),this},getData:function g(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,C=this.options,x=this.imageData,He=this.canvasData,Ge=this.cropBoxData,Xe;if(this.ready&&this.cropped){Xe={x:Ge.left-He.left,y:Ge.top-He.top,width:Ge.width,height:Ge.height};var ze=x.width/x.naturalWidth;if(forEach(Xe,function(nt,A){Xe[A]=nt/ze}),w){var We=Math.round(Xe.y+Xe.height),at=Math.round(Xe.x+Xe.width);Xe.x=Math.round(Xe.x),Xe.y=Math.round(Xe.y),Xe.width=at-Xe.x,Xe.height=We-Xe.y}}else Xe={x:0,y:0,width:0,height:0};return C.rotatable&&(Xe.rotate=x.rotate||0),C.scalable&&(Xe.scaleX=x.scaleX||1,Xe.scaleY=x.scaleY||1),Xe},setData:function g(w){var C=this.options,x=this.imageData,He=this.canvasData,Ge={};if(this.ready&&!this.disabled&&isPlainObject(w)){var Xe=!1;C.rotatable&&isNumber(w.rotate)&&w.rotate!==x.rotate&&(x.rotate=w.rotate,Xe=!0),C.scalable&&(isNumber(w.scaleX)&&w.scaleX!==x.scaleX&&(x.scaleX=w.scaleX,Xe=!0),isNumber(w.scaleY)&&w.scaleY!==x.scaleY&&(x.scaleY=w.scaleY,Xe=!0)),Xe&&this.renderCanvas(!0,!0);var ze=x.width/x.naturalWidth;isNumber(w.x)&&(Ge.left=w.x*ze+He.left),isNumber(w.y)&&(Ge.top=w.y*ze+He.top),isNumber(w.width)&&(Ge.width=w.width*ze),isNumber(w.height)&&(Ge.height=w.height*ze),this.setCropBoxData(Ge)}return this},getContainerData:function g(){return this.ready?assign({},this.containerData):{}},getImageData:function g(){return this.sized?assign({},this.imageData):{}},getCanvasData:function g(){var w=this.canvasData,C={};return this.ready&&forEach(["left","top","width","height","naturalWidth","naturalHeight"],function(x){C[x]=w[x]}),C},setCanvasData:function g(w){var C=this.canvasData,x=C.aspectRatio;return this.ready&&!this.disabled&&isPlainObject(w)&&(isNumber(w.left)&&(C.left=w.left),isNumber(w.top)&&(C.top=w.top),isNumber(w.width)?(C.width=w.width,C.height=w.width/x):isNumber(w.height)&&(C.height=w.height,C.width=w.height*x),this.renderCanvas(!0)),this},getCropBoxData:function g(){var w=this.cropBoxData,C;return this.ready&&this.cropped&&(C={left:w.left,top:w.top,width:w.width,height:w.height}),C||{}},setCropBoxData:function g(w){var C=this.cropBoxData,x=this.options.aspectRatio,He,Ge;return this.ready&&this.cropped&&!this.disabled&&isPlainObject(w)&&(isNumber(w.left)&&(C.left=w.left),isNumber(w.top)&&(C.top=w.top),isNumber(w.width)&&w.width!==C.width&&(He=!0,C.width=w.width),isNumber(w.height)&&w.height!==C.height&&(Ge=!0,C.height=w.height),x&&(He?C.height=C.width/x:Ge&&(C.width=C.height*x)),this.renderCropBox()),this},getCroppedCanvas:function g(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var C=this.canvasData,x=getSourceCanvas(this.image,this.imageData,C,w);if(!this.cropped)return x;var He=this.getData(w.rounded),Ge=He.x,Xe=He.y,ze=He.width,We=He.height,at=x.width/Math.floor(C.naturalWidth);at!==1&&(Ge*=at,Xe*=at,ze*=at,We*=at);var nt=ze/We,A=getAdjustedSizes({aspectRatio:nt,width:w.maxWidth||1/0,height:w.maxHeight||1/0}),Te=getAdjustedSizes({aspectRatio:nt,width:w.minWidth||0,height:w.minHeight||0},"cover"),et=getAdjustedSizes({aspectRatio:nt,width:w.width||(at!==1?x.width:ze),height:w.height||(at!==1?x.height:We)}),Qe=et.width,$e=et.height;Qe=Math.min(A.width,Math.max(Te.width,Qe)),$e=Math.min(A.height,Math.max(Te.height,$e));var Ye=document.createElement("canvas"),ut=Ye.getContext("2d");Ye.width=normalizeDecimalNumber(Qe),Ye.height=normalizeDecimalNumber($e),ut.fillStyle=w.fillColor||"transparent",ut.fillRect(0,0,Qe,$e);var ct=w.imageSmoothingEnabled,qe=ct===void 0?!0:ct,lt=w.imageSmoothingQuality;ut.imageSmoothingEnabled=qe,lt&&(ut.imageSmoothingQuality=lt);var Ue=x.width,pt=x.height,It=Ge,Tt=Xe,mt,vt,Et,st,At,nn;It<=-ze||It>Ue?(It=0,mt=0,Et=0,At=0):It<=0?(Et=-It,It=0,mt=Math.min(Ue,ze+It),At=mt):It<=Ue&&(Et=0,mt=Math.min(ze,Ue-It),At=mt),mt<=0||Tt<=-We||Tt>pt?(Tt=0,vt=0,st=0,nn=0):Tt<=0?(st=-Tt,Tt=0,vt=Math.min(pt,We+Tt),nn=vt):Tt<=pt&&(st=0,vt=Math.min(We,pt-Tt),nn=vt);var wn=[It,Tt,mt,vt];if(At>0&&nn>0){var Ht=Qe/ze;wn.push(Et*Ht,st*Ht,At*Ht,nn*Ht)}return ut.drawImage.apply(ut,[x].concat(_toConsumableArray(wn.map(function(Sn){return Math.floor(normalizeDecimalNumber(Sn))})))),Ye},setAspectRatio:function g(w){var C=this.options;return!this.disabled&&!isUndefined(w)&&(C.aspectRatio=Math.max(0,w)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function g(w){var C=this.options,x=this.dragBox,He=this.face;if(this.ready&&!this.disabled){var Ge=w===DRAG_MODE_CROP,Xe=C.movable&&w===DRAG_MODE_MOVE;w=Ge||Xe?w:DRAG_MODE_NONE,C.dragMode=w,setData(x,DATA_ACTION,w),toggleClass(x,CLASS_CROP,Ge),toggleClass(x,CLASS_MOVE,Xe),C.cropBoxMovable||(setData(He,DATA_ACTION,w),toggleClass(He,CLASS_CROP,Ge),toggleClass(He,CLASS_MOVE,Xe))}return this}},AnotherCropper=WINDOW.Cropper,Cropper=function(){function g(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_classCallCheck(this,g),!w||!REGEXP_TAG_NAME.test(w.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=w,this.options=assign({},DEFAULTS,isPlainObject(C)&&C),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return _createClass(g,[{key:"init",value:function(){var C=this.element,x=C.tagName.toLowerCase(),He;if(!C[NAMESPACE]){if(C[NAMESPACE]=this,x==="img"){if(this.isImg=!0,He=C.getAttribute("src")||"",this.originalUrl=He,!He)return;He=C.src}else x==="canvas"&&window.HTMLCanvasElement&&(He=C.toDataURL());this.load(He)}}},{key:"load",value:function(C){var x=this;if(C){this.url=C,this.imageData={};var He=this.element,Ge=this.options;if(!Ge.rotatable&&!Ge.scalable&&(Ge.checkOrientation=!1),!Ge.checkOrientation||!window.ArrayBuffer){this.clone();return}if(REGEXP_DATA_URL.test(C)){REGEXP_DATA_URL_JPEG.test(C)?this.read(dataURLToArrayBuffer(C)):this.clone();return}var Xe=new XMLHttpRequest,ze=this.clone.bind(this);this.reloading=!0,this.xhr=Xe,Xe.onabort=ze,Xe.onerror=ze,Xe.ontimeout=ze,Xe.onprogress=function(){Xe.getResponseHeader("content-type")!==MIME_TYPE_JPEG&&Xe.abort()},Xe.onload=function(){x.read(Xe.response)},Xe.onloadend=function(){x.reloading=!1,x.xhr=null},Ge.checkCrossOrigin&&isCrossOriginURL(C)&&He.crossOrigin&&(C=addTimestamp(C)),Xe.open("GET",C,!0),Xe.responseType="arraybuffer",Xe.withCredentials=He.crossOrigin==="use-credentials",Xe.send()}}},{key:"read",value:function(C){var x=this.options,He=this.imageData,Ge=resetAndGetOrientation(C),Xe=0,ze=1,We=1;if(Ge>1){this.url=arrayBufferToDataURL(C,MIME_TYPE_JPEG);var at=parseOrientation(Ge);Xe=at.rotate,ze=at.scaleX,We=at.scaleY}x.rotatable&&(He.rotate=Xe),x.scalable&&(He.scaleX=ze,He.scaleY=We),this.clone()}},{key:"clone",value:function(){var C=this.element,x=this.url,He=C.crossOrigin,Ge=x;this.options.checkCrossOrigin&&isCrossOriginURL(x)&&(He||(He="anonymous"),Ge=addTimestamp(x)),this.crossOrigin=He,this.crossOriginUrl=Ge;var Xe=document.createElement("img");He&&(Xe.crossOrigin=He),Xe.src=Ge||x,Xe.alt=C.alt||"The image to crop",this.image=Xe,Xe.onload=this.start.bind(this),Xe.onerror=this.stop.bind(this),addClass(Xe,CLASS_HIDE),C.parentNode.insertBefore(Xe,C.nextSibling)}},{key:"start",value:function(){var C=this,x=this.image;x.onload=null,x.onerror=null,this.sizing=!0;var He=WINDOW.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent),Ge=function(at,nt){assign(C.imageData,{naturalWidth:at,naturalHeight:nt,aspectRatio:at/nt}),C.initialImageData=assign({},C.imageData),C.sizing=!1,C.sized=!0,C.build()};if(x.naturalWidth&&!He){Ge(x.naturalWidth,x.naturalHeight);return}var Xe=document.createElement("img"),ze=document.body||document.documentElement;this.sizingImage=Xe,Xe.onload=function(){Ge(Xe.width,Xe.height),He||ze.removeChild(Xe)},Xe.src=x.src,He||(Xe.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",ze.appendChild(Xe))}},{key:"stop",value:function(){var C=this.image;C.onload=null,C.onerror=null,C.parentNode.removeChild(C),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var C=this.element,x=this.options,He=this.image,Ge=C.parentNode,Xe=document.createElement("div");Xe.innerHTML=TEMPLATE;var ze=Xe.querySelector(".".concat(NAMESPACE,"-container")),We=ze.querySelector(".".concat(NAMESPACE,"-canvas")),at=ze.querySelector(".".concat(NAMESPACE,"-drag-box")),nt=ze.querySelector(".".concat(NAMESPACE,"-crop-box")),A=nt.querySelector(".".concat(NAMESPACE,"-face"));this.container=Ge,this.cropper=ze,this.canvas=We,this.dragBox=at,this.cropBox=nt,this.viewBox=ze.querySelector(".".concat(NAMESPACE,"-view-box")),this.face=A,We.appendChild(He),addClass(C,CLASS_HIDDEN),Ge.insertBefore(ze,C.nextSibling),removeClass(He,CLASS_HIDE),this.initPreview(),this.bind(),x.initialAspectRatio=Math.max(0,x.initialAspectRatio)||NaN,x.aspectRatio=Math.max(0,x.aspectRatio)||NaN,x.viewMode=Math.max(0,Math.min(3,Math.round(x.viewMode)))||0,addClass(nt,CLASS_HIDDEN),x.guides||addClass(nt.getElementsByClassName("".concat(NAMESPACE,"-dashed")),CLASS_HIDDEN),x.center||addClass(nt.getElementsByClassName("".concat(NAMESPACE,"-center")),CLASS_HIDDEN),x.background&&addClass(ze,"".concat(NAMESPACE,"-bg")),x.highlight||addClass(A,CLASS_INVISIBLE),x.cropBoxMovable&&(addClass(A,CLASS_MOVE),setData(A,DATA_ACTION,ACTION_ALL)),x.cropBoxResizable||(addClass(nt.getElementsByClassName("".concat(NAMESPACE,"-line")),CLASS_HIDDEN),addClass(nt.getElementsByClassName("".concat(NAMESPACE,"-point")),CLASS_HIDDEN)),this.render(),this.ready=!0,this.setDragMode(x.dragMode),x.autoCrop&&this.crop(),this.setData(x.data),isFunction(x.ready)&&addListener(C,EVENT_READY,x.ready,{once:!0}),dispatchEvent(C,EVENT_READY)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var C=this.cropper.parentNode;C&&C.removeChild(this.cropper),removeClass(this.element,CLASS_HIDDEN)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=AnotherCropper,g}},{key:"setDefaults",value:function(C){assign(DEFAULTS,isPlainObject(C)&&C)}}])}();assign(Cropper.prototype,render,preview,events,handlers,change,methods);const _hoisted_1$2=["src","alt","crossorigin"],_sfc_main$4=defineComponent({name:"CropperImage",__name:"Cropper",props:{src:{type:String,required:!0},alt:{type:String},circled:{type:Boolean,default:!1},realTimePreview:{type:Boolean,default:!0},height:{type:[String,Number],default:"360px"},crossorigin:{type:String,default:void 0},imageStyle:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})}},emits:["cropend","ready","cropendError"],setup(g,{emit:w}){const C={aspectRatio:1,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,autoCrop:!0,background:!0,highlight:!0,center:!0,responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,scalable:!0,modal:!0,guides:!0,movable:!0,rotatable:!0},x=g,He=w,Ge=useAttrs(),Xe=ref(),ze=ref(),We=ref(!1),{prefixCls:at}=useDesign("cropper-image"),nt=useDebounceFn($e,80),A=computed(()=>ca({height:x.height,maxWidth:"100%"},x.imageStyle)),Te=computed(()=>[at,Ge.class,{[`${at}--circled`]:x.circled}]),et=computed(()=>({height:`${x.height}`.replace(/px/,"")+"px"}));onMounted(Qe),onUnmounted(()=>{var ct;(ct=ze.value)==null||ct.destroy()});function Qe(){return ro(this,null,function*(){const ct=unref(Xe);ct&&(ze.value=new Cropper(ct,ca(Pu(ca({},C),{ready:()=>{We.value=!0,$e(),He("ready",ze.value)},crop(){nt()},zoom(){nt()},cropmove(){nt()}}),x.options)))})}function $e(){x.realTimePreview&&Ye()}function Ye(){if(!ze.value)return;let ct=ze.value.getData();(x.circled?ut():ze.value.getCroppedCanvas()).toBlob(lt=>{if(!lt)return;let Ue=new FileReader;Ue.readAsDataURL(lt),Ue.onloadend=pt=>{var It,Tt;He("cropend",{imgBase64:(Tt=(It=pt.target)==null?void 0:It.result)!=null?Tt:"",imgInfo:ct})},Ue.onerror=()=>{He("cropendError")}},"image/png")}function ut(){const ct=ze.value.getCroppedCanvas(),qe=document.createElement("canvas"),lt=qe.getContext("2d"),Ue=ct.width,pt=ct.height;return qe.width=Ue,qe.height=pt,lt.imageSmoothingEnabled=!0,lt.drawImage(ct,0,0,Ue,pt),lt.globalCompositeOperation="destination-in",lt.beginPath(),lt.arc(Ue/2,pt/2,Math.min(Ue,pt)/2,0,2*Math.PI,!0),lt.fill(),qe}return(ct,qe)=>(openBlock(),createElementBlock("div",{class:normalizeClass(Te.value),style:normalizeStyle(et.value)},[withDirectives(createBaseVNode("img",{ref_key:"imgElRef",ref:Xe,src:g.src,alt:g.alt,crossorigin:g.crossorigin,style:normalizeStyle(A.value)},null,12,_hoisted_1$2),[[vShow,We.value]])],6))}}),_hoisted_1$1=["src","alt"],_sfc_main$3=defineComponent({name:"CropperModal",__name:"CropperModal",props:{circled:{type:Boolean,default:!0},uploadApi:{type:Function},src:{type:String},size:{type:Number}},emits:["uploadSuccess","uploadError","register"],setup(g,{emit:w}){const C=g,x=w;let He="";const Ge=ref(C.src||""),Xe=ref(""),ze=ref();let We=1,at=1;const{prefixCls:nt}=useDesign("cropper-am"),[A,{closeModal:Te,setModalProps:et}]=useModalInner(),{t:Qe}=useI18n();function $e(lt){if(C.size&&lt.size>1024*1024*C.size){x("uploadError",{msg:Qe("component.cropper.imageTooBig")});return}const Ue=new FileReader;return Ue.readAsDataURL(lt),Ge.value="",Xe.value="",Ue.onload=function(pt){var It,Tt;Ge.value=(Tt=(It=pt.target)==null?void 0:It.result)!=null?Tt:"",He=lt.name},!1}function Ye({imgBase64:lt}){Xe.value=lt}function ut(lt){ze.value=lt}function ct(lt,Ue){var pt,It;lt==="scaleX"&&(We=Ue=We===-1?1:-1),lt==="scaleY"&&(at=Ue=at===-1?1:-1),(It=(pt=ze==null?void 0:ze.value)==null?void 0:pt[lt])==null||It.call(pt,Ue)}function qe(){return ro(this,null,function*(){const lt=C.uploadApi;if(lt&&isFunction$1(lt)){const Ue=dataURLtoBlob(Xe.value);try{et({confirmLoading:!0});const pt=yield lt({name:"file",file:Ue,filename:He});x("uploadSuccess",{source:Xe.value,data:pt}),Te()}finally{et({confirmLoading:!1})}}})}return(lt,Ue)=>{const pt=resolveComponent("a-button");return openBlock(),createBlock(unref(BasicModal),mergeProps(lt.$attrs,{onRegister:unref(A),title:unref(Qe)("component.cropper.modalTitle"),width:"800px",canFullscreen:!1,onOk:qe,okText:unref(Qe)("component.cropper.okText")}),{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(nt))},[createBaseVNode("div",{class:normalizeClass(`${unref(nt)}-left`)},[createBaseVNode("div",{class:normalizeClass(`${unref(nt)}-cropper`)},[Ge.value?(openBlock(),createBlock(_sfc_main$4,{key:0,src:Ge.value,height:"300px",circled:g.circled,onCropend:Ye,onReady:ut},null,8,["src","circled"])):createCommentVNode("",!0)],2),createBaseVNode("div",{class:normalizeClass(`${unref(nt)}-toolbar`)},[createVNode(unref(Upload),{fileList:[],accept:"image/*",beforeUpload:$e},{default:withCtx(()=>[createVNode(unref(Tooltip),{title:unref(Qe)("component.cropper.selectImage"),placement:"bottom"},{default:withCtx(()=>[createVNode(pt,{size:"small",preIcon:"ant-design:upload-outlined",type:"primary"})]),_:1},8,["title"])]),_:1}),createVNode(unref(Space),null,{default:withCtx(()=>[createVNode(unref(Tooltip),{title:unref(Qe)("component.cropper.btn_reset"),placement:"bottom"},{default:withCtx(()=>[createVNode(pt,{type:"primary",preIcon:"ant-design:reload-outlined",size:"small",disabled:!Ge.value,onClick:Ue[0]||(Ue[0]=It=>ct("reset"))},null,8,["disabled"])]),_:1},8,["title"]),createVNode(unref(Tooltip),{title:unref(Qe)("component.cropper.btn_rotate_left"),placement:"bottom"},{default:withCtx(()=>[createVNode(pt,{type:"primary",preIcon:"ant-design:rotate-left-outlined",size:"small",disabled:!Ge.value,onClick:Ue[1]||(Ue[1]=It=>ct("rotate",-45))},null,8,["disabled"])]),_:1},8,["title"]),createVNode(unref(Tooltip),{title:unref(Qe)("component.cropper.btn_rotate_right"),placement:"bottom"},{default:withCtx(()=>[createVNode(pt,{type:"primary",preIcon:"ant-design:rotate-right-outlined",size:"small",disabled:!Ge.value,onClick:Ue[2]||(Ue[2]=It=>ct("rotate",45))},null,8,["disabled"])]),_:1},8,["title"]),createVNode(unref(Tooltip),{title:unref(Qe)("component.cropper.btn_scale_x"),placement:"bottom"},{default:withCtx(()=>[createVNode(pt,{type:"primary",preIcon:"vaadin:arrows-long-h",size:"small",disabled:!Ge.value,onClick:Ue[3]||(Ue[3]=It=>ct("scaleX"))},null,8,["disabled"])]),_:1},8,["title"]),createVNode(unref(Tooltip),{title:unref(Qe)("component.cropper.btn_scale_y"),placement:"bottom"},{default:withCtx(()=>[createVNode(pt,{type:"primary",preIcon:"vaadin:arrows-long-v",size:"small",disabled:!Ge.value,onClick:Ue[4]||(Ue[4]=It=>ct("scaleY"))},null,8,["disabled"])]),_:1},8,["title"]),createVNode(unref(Tooltip),{title:unref(Qe)("component.cropper.btn_zoom_in"),placement:"bottom"},{default:withCtx(()=>[createVNode(pt,{type:"primary",preIcon:"ant-design:zoom-in-outlined",size:"small",disabled:!Ge.value,onClick:Ue[5]||(Ue[5]=It=>ct("zoom",.1))},null,8,["disabled"])]),_:1},8,["title"]),createVNode(unref(Tooltip),{title:unref(Qe)("component.cropper.btn_zoom_out"),placement:"bottom"},{default:withCtx(()=>[createVNode(pt,{type:"primary",preIcon:"ant-design:zoom-out-outlined",size:"small",disabled:!Ge.value,onClick:Ue[6]||(Ue[6]=It=>ct("zoom",-.1))},null,8,["disabled"])]),_:1},8,["title"])]),_:1})],2)],2),createBaseVNode("div",{class:normalizeClass(`${unref(nt)}-right`)},[createBaseVNode("div",{class:normalizeClass(`${unref(nt)}-preview`)},[Xe.value?(openBlock(),createElementBlock("img",{key:0,src:Xe.value,alt:unref(Qe)("component.cropper.preview")},null,8,_hoisted_1$1)):createCommentVNode("",!0)],2),Xe.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`${unref(nt)}-group`)},[createVNode(unref(Avatar),{src:Xe.value,size:"large"},null,8,["src"]),createVNode(unref(Avatar),{src:Xe.value,size:48},null,8,["src"]),createVNode(unref(Avatar),{src:Xe.value,size:64},null,8,["src"]),createVNode(unref(Avatar),{src:Xe.value,size:80},null,8,["src"])],2)):createCommentVNode("",!0)],2)],2)]),_:1},16,["onRegister","title","okText"])}}}),_hoisted_1=["src"],_sfc_main$2=defineComponent({name:"CropperAvatar",__name:"CropperAvatar",props:{width:{type:[String,Number],default:"200px"},value:{type:String},showBtn:{type:Boolean,default:!0},btnProps:{type:Object},btnText:{type:String,default:""},uploadApi:{type:Function},size:{type:Number,default:5}},emits:["update:value","change"],setup(g,{expose:w,emit:C}){const x=g,He=C,Ge=ref(x.value||""),{prefixCls:Xe}=useDesign("cropper-avatar"),[ze,{openModal:We,closeModal:at}]=useModal(),{createMessage:nt}=useMessage(),{t:A}=useI18n(),Te=computed(()=>[Xe]),et=computed(()=>`${x.width}`.replace(/px/,"")+"px"),Qe=computed(()=>parseInt(`${x.width}`.replace(/px/,""))/2+"px"),$e=computed(()=>({width:unref(et)})),Ye=computed(()=>({width:unref(et),height:unref(et)}));watchEffect(()=>{Ge.value=x.value||""}),watch(()=>Ge.value,ct=>{He("update:value",ct)});function ut({source:ct,data:qe}){Ge.value=ct,He("change",qe),nt.success(A("component.cropper.uploadSuccess"))}return w({openModal:We.bind(null,!0),closeModal:at}),(ct,qe)=>{const lt=resolveComponent("a-button");return openBlock(),createElementBlock("div",{class:normalizeClass(Te.value),style:normalizeStyle($e.value)},[createBaseVNode("div",{class:normalizeClass(`${unref(Xe)}-image-wrapper`),style:normalizeStyle(Ye.value),onClick:qe[0]||(qe[0]=Ue=>unref(We)())},[createBaseVNode("div",{class:normalizeClass(`${unref(Xe)}-image-mask`),style:normalizeStyle(Ye.value)},[createVNode(_sfc_main$G,{icon:"ant-design:cloud-upload-outlined",size:Qe.value,style:normalizeStyle(Ye.value),color:"#d6d6d6"},null,8,["size","style"])],6),Ge.value?(openBlock(),createElementBlock("img",{key:0,src:Ge.value,alt:"avatar"},null,8,_hoisted_1)):createCommentVNode("",!0)],6),g.showBtn?(openBlock(),createBlock(lt,mergeProps({key:0,class:`${unref(Xe)}-upload-btn`,onClick:unref(We)},g.btnProps),{default:withCtx(()=>[createTextVNode(toDisplayString(g.btnText?g.btnText:unref(A)("component.cropper.selectImage")),1)]),_:1},16,["class","onClick"])):createCommentVNode("",!0),createVNode(_sfc_main$3,{onRegister:unref(ze),onUploadSuccess:ut,uploadApi:g.uploadApi,src:Ge.value,size:g.size},null,8,["onRegister","uploadApi","src","size"])],6)}}}),avatarCropper=_export_sfc(_sfc_main$2,[["__scopeId","data-v-9c36557a"]]);withInstall(_sfc_main$4);const CropperAvatar=withInstall(avatarCropper),componentMap=new Map;componentMap.set("ExpertInput",_sfc_main$8);componentMap.set("CodeEditor",CodeEditor);componentMap.set("Tinymce",Tinymce);componentMap.set("ColorPicker",Re);componentMap.set("MarkDown",MarkDown);componentMap.set("CropperAvatar",CropperAvatar);componentMap.set("Input",Input);componentMap.set("InputGroup",Input.Group);componentMap.set("InputPassword",Input.Password);componentMap.set("InputSearch",Input.Search);componentMap.set("InputTextArea",Input.TextArea);componentMap.set("InputNumber",InputNumber);componentMap.set("AutoComplete",AutoComplete);componentMap.set("ImageUpload",ImageUpload);componentMap.set("Select",Select);componentMap.set("ApiSelect",_sfc_main$D);componentMap.set("ApiTree",_sfc_main$C);componentMap.set("TreeSelect",TreeSelect);componentMap.set("ApiTreeSelect",_sfc_main$B);componentMap.set("ApiRadioGroup",_sfc_main$E);componentMap.set("Switch",Switch);componentMap.set("RadioButtonGroup",_sfc_main$J);componentMap.set("RadioGroup",Radio.Group);componentMap.set("Checkbox",Checkbox);componentMap.set("CheckboxGroup",Checkbox.Group);componentMap.set("ApiCascader",_sfc_main$A);componentMap.set("Cascader",Cascader);componentMap.set("Slider",Slider);componentMap.set("Rate",Rate);componentMap.set("ApiTransfer",_sfc_main$z);componentMap.set("DatePicker",DatePicker);componentMap.set("MonthPicker",DatePicker.MonthPicker);componentMap.set("RangePicker",DatePicker.RangePicker);componentMap.set("WeekPicker",DatePicker.WeekPicker);componentMap.set("TimePicker",TimePicker);componentMap.set("TimeRangePicker",TimePicker.TimeRangePicker);componentMap.set("StrengthMeter",StrengthMeter);componentMap.set("IconPicker",_sfc_main$F);componentMap.set("InputCountDown",CountdownInput);componentMap.set("Upload",BasicUpload);componentMap.set("Divider",Divider);function add(g,w){componentMap.set(g,w)}const{t}=useI18n();function createPlaceholderMessage(g){return g.includes("Input")||g.includes("Complete")?t("common.inputText"):g.includes("Picker")||g.includes("Select")||g.includes("Cascader")||g.includes("Checkbox")||g.includes("Radio")||g.includes("Switch")?t("common.chooseText"):""}const DATE_TYPE=["DatePicker","MonthPicker","WeekPicker","TimePicker"];function genType(){return[...DATE_TYPE,"RangePicker"]}function setComponentRuleType(g,w,C){Reflect.has(g,"type")||(["DatePicker","MonthPicker","WeekPicker","TimePicker"].includes(w)?g.type=C?"string":"object":["RangePicker","Upload","CheckboxGroup","TimePicker"].includes(w)?g.type="array":["InputNumber"].includes(w)&&(g.type="number"))}const defaultValueComponents=["Input","InputPassword","InputNumber","InputSearch","InputTextArea"];function handleInputNumberValue(g,w){return g&&defaultValueComponents.includes(g)&&w&&isNumber$1(w)?`${w}`:w}const dateItemType=genType(),NO_AUTO_LINK_COMPONENTS=["Upload","ApiTransfer","ApiTree","ApiTreeSelect","ApiRadioGroup","ApiCascader","AutoComplete","RadioButtonGroup","ImageUpload","ApiSelect"];function useItemLabelWidth(g,w){return computed(()=>{const C=unref(g),{labelCol:x={},wrapperCol:He={}}=C.itemProps||{},{labelWidth:Ge,disabledLabelWidth:Xe}=C,{labelWidth:ze,labelCol:We,wrapperCol:at,layout:nt}=unref(w);if(!ze&&!Ge&&!We||Xe)return x.style={textAlign:"left"},{labelCol:x,wrapperCol:He};let A=Ge||ze;const Te=ca(ca({},We),x),et=ca(ca({},at),He);return A&&(A=isNumber$1(A)?`${A}px`:A),{labelCol:ca({style:{width:A}},Te),wrapperCol:ca({style:{width:nt==="vertical"?"100%":`calc(100% - ${A})`}},et)}})}function _isSlot(g){return typeof g=="function"||Object.prototype.toString.call(g)==="[object Object]"&&!isVNode(g)}const _sfc_main$1=defineComponent({name:"BasicFormItem",inheritAttrs:!1,props:{schema:{type:Object,default:()=>({})},formProps:{type:Object,default:()=>({})},allDefaultValues:{type:Object,default:()=>({})},formModel:{type:Object,default:()=>({})},setFormModel:{type:Function,default:null},tableAction:{type:Object},formActionType:{type:Object},isAdvanced:{type:Boolean}},setup(g,{slots:w}){const{t:C}=useI18n(),{schema:x,formProps:He}=toRefs(g),Ge=useItemLabelWidth(x,He),Xe=computed(()=>{const{allDefaultValues:$e,formModel:Ye,schema:ut}=g,{mergeDynamicData:ct}=g.formProps;return{field:ut.field,model:Ye,values:ca(ca(ca({},ct),$e),Ye),schema:ut}}),ze=computed(()=>{var lt;const{schema:$e,tableAction:Ye,formModel:ut,formActionType:ct}=g;let{componentProps:qe={}}=$e;return isFunction$1(qe)&&(qe=(lt=qe({schema:$e,tableAction:Ye,formModel:ut,formActionType:ct}))!=null?lt:{}),$e.component==="Divider"&&(qe=Object.assign({type:"horizontal"},{orientation:"left",plain:!0},qe)),qe}),We=computed(()=>{const{disabled:$e}=g.formProps,{dynamicDisabled:Ye}=g.schema,{disabled:ut=!1}=unref(ze);let ct=!!$e||ut;return isBoolean(Ye)&&(ct=Ye),isFunction$1(Ye)&&(ct=Ye(unref(Xe))),ct}),at=computed(()=>{const{readonly:$e}=g.formProps,{dynamicReadonly:Ye}=g.schema,{readonly:ut=!1}=unref(ze);let ct=$e||ut;return isBoolean(Ye)&&(ct=Ye),isFunction$1(Ye)&&(ct=Ye(unref(Xe))),ct});function nt(){const{show:$e,ifShow:Ye}=g.schema,{showAdvancedButton:ut}=g.formProps,ct=ut&&isBoolean(g.isAdvanced)?g.isAdvanced:!0;let qe=!0,lt=!0;return isBoolean($e)&&(qe=$e),isBoolean(Ye)&&(lt=Ye),isFunction$1($e)&&(qe=$e(unref(Xe))),isFunction$1(Ye)&&(lt=Ye(unref(Xe))),qe=qe&&ct,{isShow:qe,isIfShow:lt}}function A(){var nn;const{rules:$e=[],component:Ye,rulesMessageJoinLabel:ut,label:ct,dynamicRules:qe,required:lt}=g.schema;if(isFunction$1(qe))return qe(unref(Xe));let Ue=cloneDeep($e);const{rulesMessageJoinLabel:pt}=g.formProps,Tt=(Reflect.has(g.schema,"rulesMessageJoinLabel")?ut:pt)?ct:"",mt=Ye?createPlaceholderMessage(Ye)+Tt:Tt;function vt(wn,Ht){const Sn=wn.message||mt;return Ht===void 0||isNull(Ht)||Array.isArray(Ht)&&Ht.length===0||typeof Ht=="string"&&Ht.trim()===""||typeof Ht=="object"&&Reflect.has(Ht,"checked")&&Reflect.has(Ht,"halfChecked")&&Array.isArray(Ht.checked)&&Array.isArray(Ht.halfChecked)&&Ht.checked.length===0&&Ht.halfChecked.length===0?Promise.reject(Sn):Promise.resolve()}const Et=isFunction$1(lt)?lt(unref(Xe)):lt;Et&&(!Ue||Ue.length===0?Ue=[{required:Et,validator:vt}]:Ue.findIndex(Ht=>Reflect.has(Ht,"required"))===-1&&Ue.push({required:Et,validator:vt}));const st=Ue.findIndex(wn=>Reflect.has(wn,"required")&&!Reflect.has(wn,"validator"));if(st!==-1){const wn=Ue[st],{isShow:Ht}=nt();if(Ht||(wn.required=!1),Ye){wn.message=wn.message||mt,(Ye.includes("Input")||Ye.includes("Textarea"))&&(wn.whitespace=!0);const Sn=(nn=unref(ze))==null?void 0:nn.valueFormat;setComponentRuleType(wn,Ye,Sn)}}const At=Ue.findIndex(wn=>wn.max);return At!==-1&&!Ue[At].validator&&(Ue[At].message=Ue[At].message||C("component.form.maxTip",[Ue[At].max])),Ue}function Te(){var wn;if(!isComponentFormSchema(g.schema))return null;const{renderComponentContent:$e,component:Ye,field:ut,changeEvent:ct="change",valueField:qe}=g.schema,lt=Ye&&["Switch","Checkbox"].includes(Ye),Ue=`on${upperFirst(ct)}`,pt={[Ue]:(...Ht)=>{const[Sn]=Ht;vt[Ue]&&vt[Ue](...Ht);const lr=Sn?Sn.target:null,Ve=lr?lt?lr.checked:lr.value:Sn;g.setFormModel(ut,Ve,g.schema)}},It=componentMap.get(Ye),{autoSetPlaceHolder:Tt,size:mt}=g.formProps,vt=Pu(ca({allowClear:!0,size:mt},unref(ze)),{disabled:unref(We),readonly:unref(at)});!vt.disabled&&Tt&&Ye!=="RangePicker"&&Ye&&(vt.placeholder=((wn=unref(ze))==null?void 0:wn.placeholder)||createPlaceholderMessage(Ye)),vt.codeField=ut,vt.formValues=unref(Xe);const st={[qe||(lt?"checked":"value")]:g.formModel[ut]},At=ca(ca(ca({},vt),pt),st);if(!$e)return createVNode(It,At,null);const nn=isFunction$1($e)?ca({},$e(unref(Xe),{disabled:unref(We),readonly:unref(at)})):{default:()=>$e};return createVNode(It,At,_isSlot(nn)?nn:{default:()=>[nn]})}function et(){const{label:$e,helpMessage:Ye,helpComponentProps:ut,subLabel:ct}=g.schema,qe=ct?createVNode("span",null,[$e,createTextVNode(" "),createVNode("span",{class:"text-secondary"},[ct])]):$e,lt=isFunction$1(Ye)?Ye(unref(Xe)):Ye;return!lt||Array.isArray(lt)&&lt.length===0?qe:createVNode("span",null,[qe,createVNode(BasicHelp,mergeProps({placement:"top",class:"mx-1",text:lt},ut),null)])}function Qe(){const{itemProps:$e,slot:Ye,render:ut,field:ct,suffix:qe,component:lt}=g.schema,{labelCol:Ue,wrapperCol:pt}=unref(Ge),{colon:It}=g.formProps,Tt={disabled:unref(We),readonly:unref(at)};if(lt==="Divider"){let mt;return createVNode(Col,{span:24},{default:()=>[createVNode(Divider,unref(ze),_isSlot(mt=et())?mt:{default:()=>[mt]})]})}else{const mt=()=>Ye?getSlot(w,Ye,unref(Xe),Tt):ut?ut(unref(Xe),Tt):Te(),vt=!!qe,Et=isFunction$1(qe)?qe(unref(Xe)):qe;return lt&&NO_AUTO_LINK_COMPONENTS.includes(lt)&&g.schema&&(g.schema.itemProps=ca({autoLink:!1},g.schema.itemProps)),createVNode(Form.Item,mergeProps({name:ct,colon:It,class:{"suffix-item":vt}},$e,{label:et(),rules:A(),labelCol:Ue,wrapperCol:pt}),{default:()=>[createVNode("div",{style:"display:flex"},[createVNode("div",{style:"flex:1;"},[mt()]),vt&&createVNode("span",{class:"suffix"},[Et])])]})}}return()=>{let $e;const{colProps:Ye={},colSlot:ut,renderColContent:ct,component:qe,slot:lt}=g.schema;if(!qe||!componentMap.has(qe)&&!lt)return null;const{baseColProps:Ue={}}=g.formProps,pt=ca(ca({},Ue),Ye),{isIfShow:It,isShow:Tt}=nt(),mt=unref(Xe),vt={disabled:unref(We),readonly:unref(at)};return It&&withDirectives(createVNode(Col,pt,_isSlot($e=ut?getSlot(w,ut,mt,vt):ct?ct(mt,vt):Qe())?$e:{default:()=>[$e]}),[[vShow,Tt]])}}});function tryDeconstructArray(g,w,C){const x=/^\[(.+)\]$/;if(x.test(g)){const He=g.match(x);if(He&&He[1]){const Ge=He[1].split(",");return w=Array.isArray(w)?w:[w],Ge.forEach((Xe,ze)=>{set(C,Xe.trim(),w[ze])}),!0}}}function tryDeconstructObject(g,w,C){const x=/^\{(.+)\}$/;if(x.test(g)){const He=g.match(x);if(He&&He[1]){const Ge=He[1].split(",");return w=isObject$1(w)?w:{},Ge.forEach(Xe=>{set(C,Xe.trim(),w[Xe.trim()])}),!0}}}function useFormValues({defaultValueRef:g,getSchema:w,formModel:C,getProps:x}){function He(We){var nt,A;if(!isObject$1(We))return{};const at={};for(const Te of Object.entries(We)){let[,et]=Te;const[Qe]=Te;if(!Qe||isArray(et)&&et.length===0||isFunction$1(et))continue;const $e=unref(x).transformDateFunc;isObject$1(et)&&(et=$e==null?void 0:$e(et)),isArray(et)&&((nt=et[0])!=null&&nt.format)&&((A=et[1])!=null&&A.format)&&(et=et.map(Ye=>$e==null?void 0:$e(Ye))),isString(et)&&(et===""?et=void 0:et=et.trim()),!tryDeconstructArray(Qe,et,at)&&!tryDeconstructObject(Qe,et,at)&&set(at,Qe,et)}return Ge(at)}function Ge(We){const at=unref(x).fieldMapToTime;if(!at||!Array.isArray(at))return We;for(const[nt,[A,Te],et="YYYY-MM-DD"]of at){if(!nt||!A||!Te)continue;if(!get(We,nt)){unset(We,nt);continue}const[Qe,$e]=get(We,nt),[Ye,ut]=Array.isArray(et)?et:[et,et];!isNil(Qe)&&!isEmpty(Qe)&&set(We,A,Xe(Qe,Ye)),!isNil($e)&&!isEmpty($e)&&set(We,Te,Xe($e,ut)),unset(We,nt)}return We}function Xe(We,at){return at==="timestamp"?dateUtil(We).unix():at==="timestampStartDay"?dateUtil(We).startOf("day").unix():dateUtil(We).format(at)}function ze(){const We=unref(w),at={};We.forEach(nt=>{const{defaultValue:A,defaultValueObj:Te}=nt,et=Object.keys(Te||{});et.length&&et.map(Qe=>{at[Qe]=Te[Qe],C[Qe]===void 0&&(C[Qe]=Te[Qe])}),isNil(A)||(at[nt.field]=A,C[nt.field]===void 0&&(C[nt.field]=A))}),g.value=cloneDeep(at)}return{handleFormValues:He,initDefault:ze}}const BASIC_COL_LEN=24;function useAdvanced({advanceState:g,emit:w,getProps:C,getSchema:x,formModel:He,defaultValueRef:Ge}){const Xe=getCurrentInstance(),{realWidthRef:ze,screenEnum:We,screenRef:at}=useBreakpoint(),nt=computed(()=>{if(!g.isAdvanced)return 0;const Ye=unref(C).emptySpan||0;if(isNumber$1(Ye))return Ye;if(isObject$1(Ye)){const{span:ut=0}=Ye,ct=unref(at);return Ye[ct.toLowerCase()]||ut||0}return 0}),A=useDebounceFn(Qe,30);watch([()=>unref(x),()=>g.isAdvanced,()=>unref(ze)],()=>{const{showAdvancedButton:Ye}=unref(C);Ye&&A()},{immediate:!0});function Te(Ye,ut=0,ct=!1){const qe=unref(ze),lt=parseInt(Ye.md)||parseInt(Ye.xs)||parseInt(Ye.sm)||Ye.span||BASIC_COL_LEN,Ue=parseInt(Ye.lg)||lt,pt=parseInt(Ye.xl)||Ue,It=parseInt(Ye.xxl)||pt;return qe<=We.LG?ut+=lt:qe<We.XL?ut+=Ue:qe<We.XXL?ut+=pt:ut+=It,ct?(g.hideAdvanceBtn=!1,ut<=BASIC_COL_LEN*2?(g.hideAdvanceBtn=!0,g.isAdvanced=!0):ut>BASIC_COL_LEN*2&&ut<=BASIC_COL_LEN*(unref(C).autoAdvancedLine||3)?g.hideAdvanceBtn=!1:g.isLoad||(g.isLoad=!0,g.isAdvanced=!g.isAdvanced),{isAdvanced:g.isAdvanced,itemColSum:ut}):ut>BASIC_COL_LEN*(unref(C).alwaysShowLines||1)?{isAdvanced:g.isAdvanced,itemColSum:ut}:{isAdvanced:!0,itemColSum:ut}}const et=shallowReactive({});function Qe(){var qe;let Ye=0,ut=0;const{baseColProps:ct={}}=unref(C);for(const lt of unref(x)){const{show:Ue,colProps:pt}=lt;let It=!0;if(isBoolean(Ue)&&(It=Ue),isFunction$1(Ue)&&(It=Ue({schema:lt,model:He,field:lt.field,values:ca(ca({},unref(Ge)),He)})),It&&(pt||ct)){const{itemColSum:Tt,isAdvanced:mt}=Te(ca(ca({},ct),pt),Ye);Ye=Tt||0,mt&&(ut=Ye),et[lt.field]=mt}}(qe=Xe==null?void 0:Xe.proxy)==null||qe.$forceUpdate(),g.actionSpan=ut%BASIC_COL_LEN+unref(nt),Te(unref(C).actionColOptions||{span:BASIC_COL_LEN},Ye,!0),w("advanced-change")}function $e(){g.isAdvanced=!g.isAdvanced}return{handleToggleAdvanced:$e,fieldsIsAdvancedMap:et}}function tryConstructArray(g,w={}){const C=/^\[(.+)\]$/;if(C.test(g)){const x=g.match(C);if(x&&x[1]){const He=x[1].split(",");if(!He.length)return;const Ge=[];return He.forEach((Xe,ze)=>{set(Ge,ze,w[Xe.trim()])}),Ge.filter(Boolean).length?Ge:void 0}}}function tryConstructObject(g,w={}){const C=/^\{(.+)\}$/;if(C.test(g)){const x=g.match(C);if(x&&x[1]){const He=x[1].split(",");if(!He.length)return;const Ge={};return He.forEach(Xe=>{set(Ge,Xe.trim(),w[Xe.trim()])}),Object.values(Ge).filter(Boolean).length?Ge:void 0}}}function useFormEvents({emit:g,getProps:w,formModel:C,getSchema:x,defaultValueRef:He,formElRef:Ge,schemaRef:Xe,handleFormValues:ze}){function We(){return ro(this,null,function*(){const{resetFunc:vt,submitOnReset:Et}=unref(w);vt&&isFunction$1(vt)&&(yield vt()),unref(Ge)&&(Object.keys(C).forEach(At=>{const nn=unref(x).find(Sn=>Sn.field===At),wn=nn==null?void 0:nn.defaultValueObj,Ht=Object.keys(wn||{});Ht.length&&Ht.map(Sn=>{C[Sn]=wn[Sn]}),C[At]=getDefaultValue(nn,He,At)}),nextTick(()=>pt()),g("reset",toRaw(C)),Et&&Tt())})}const at=()=>unref(x).map(vt=>[...vt.fields||[],vt.field]).flat(1).filter(Boolean);function nt(vt){return ro(this,null,function*(){if(Object.keys(vt).length===0)return;const Et=at(),st=".",At=Et.filter(wn=>String(wn).indexOf(st)>=0),nn=[];Et.forEach(wn=>{const Ht=unref(x).find(yt=>yt.field===wn);let Sn=get(vt,wn);const lr=Reflect.has(vt,wn);Sn=handleInputNumberValue(Ht==null?void 0:Ht.component,Sn);const{componentProps:Ve}=Ht||{};let jt=Ve;typeof Ve=="function"&&(jt=jt({formModel:unref(C),formActionType:mt}));const cn=tryConstructArray(wn,vt)||tryConstructObject(wn,vt);if(lr||cn){const yt=cn||Sn;if(ct(wn))if(Array.isArray(yt)){const Mt=[];for(const Lt of yt)Mt.push(Lt?dateUtil(Lt):null);unref(C)[wn]=Mt}else unref(C)[wn]=yt?jt!=null&&jt.valueFormat?yt:dateUtil(yt):null;else unref(C)[wn]=yt;jt!=null&&jt.onChange&&(jt==null||jt.onChange(yt)),nn.push(wn)}else At.forEach(yt=>{try{const Mt=yt.split(".").reduce((Lt,qt)=>Lt[qt],vt);isDef(Mt)&&(unref(C)[yt]=unref(Mt),nn.push(yt))}catch(Mt){isDef(He.value[yt])&&(unref(C)[yt]=cloneDeep(unref(He.value[yt])))}})}),qe(nn).catch(wn=>{})})}function A(vt){return ro(this,null,function*(){const Et=cloneDeep(unref(x));if(!vt)return;let st=isString(vt)?[vt]:vt;isString(vt)&&(st=[vt]);for(const At of st)Te(At,Et);Xe.value=Et})}function Te(vt,Et){if(isString(vt)){const st=Et.findIndex(At=>At.field===vt);st!==-1&&(delete C[vt],Et.splice(st,1))}}function et(vt,Et,st=!1){return ro(this,null,function*(){const At=cloneDeep(unref(x)),nn=Array.isArray(vt)?vt.map(Sn=>Sn.field):[vt.field];if(At.find(Sn=>nn.includes(Sn.field))){error("There are schemas that have already been added");return}const wn=At.findIndex(Sn=>Sn.field===Et),Ht=isObject$1(vt)?[vt]:vt;!Et||wn===-1||st?st?At.unshift(...Ht):At.push(...Ht):wn!==-1&&At.splice(wn+1,0,...Ht),Xe.value=At,Ye(vt)})}function Qe(vt){return ro(this,null,function*(){let Et=[];if(isObject$1(vt)&&Et.push(vt),isArray(vt)&&(Et=[...vt]),!Et.every(At=>At.component==="Divider"||Reflect.has(At,"field")&&At.field)){error("All children of the form Schema array that need to be updated must contain the `field` field");return}Xe.value=Et})}function $e(vt){return ro(this,null,function*(){let Et=[];if(isObject$1(vt)&&Et.push(vt),isArray(vt)&&(Et=[...vt]),!Et.every(nn=>nn.component==="Divider"||Reflect.has(nn,"field")&&nn.field)){error("All children of the form Schema array that need to be updated must contain the `field` field");return}const At=[];unref(x).forEach(nn=>{let wn;if(Et.forEach(Ht=>{nn.field===Ht.field&&(wn=Ht)}),wn!==void 0&&nn.field===wn.field){const Ht=deepMerge(nn,wn);At.push(Ht)}else At.push(nn)}),Ye(At),Xe.value=uniqBy(At,"field")})}function Ye(vt){let Et=[];isObject$1(vt)&&Et.push(vt),isArray(vt)&&(Et=[...vt]);const st={},At=ut();Et.forEach(nn=>{nn.component!="Divider"&&Reflect.has(nn,"field")&&nn.field&&!isNil(nn.defaultValue)&&(!(nn.field in At)||isNil(At[nn.field]))&&(st[nn.field]=nn.defaultValue)}),nt(st)}function ut(){return unref(Ge)?ze(toRaw(unref(C))):{}}function ct(vt){return unref(x).some(Et=>Et.field===vt&&Et.component?dateItemType.includes(Et.component):!1)}function qe(vt){return ro(this,null,function*(){var st;const Et=yield(st=unref(Ge))==null?void 0:st.validateFields(vt);return ze(Et)})}function lt(vt){return ro(this,null,function*(){var Et;yield(Et=unref(Ge))==null?void 0:Et.setProps(vt)})}function Ue(vt){return ro(this,null,function*(){var At;let Et;vt===void 0?Et=at():Et=vt===Array.isArray(vt)?vt:void 0;const st=yield(At=unref(Ge))==null?void 0:At.validate(Et);return ze(st)})}function pt(vt){return ro(this,null,function*(){var Et;yield(Et=unref(Ge))==null?void 0:Et.clearValidate(vt)})}function It(vt,Et){return ro(this,null,function*(){var st;yield(st=unref(Ge))==null?void 0:st.scrollToField(vt,Et)})}function Tt(vt){return ro(this,null,function*(){vt&&vt.preventDefault();const{submitFunc:Et}=unref(w);if(Et&&isFunction$1(Et)){yield Et();return}if(unref(Ge))try{const At=yield Ue();g("submit",At)}catch(At){if((At==null?void 0:At.outOfDate)===!1&&(At!=null&&At.errorFields))return;throw new Error(At)}})}const mt={getFieldsValue:ut,setFieldsValue:nt,resetFields:We,updateSchema:$e,resetSchema:Qe,setProps:lt,removeSchemaByField:A,appendSchemaByField:et,clearValidate:pt,validateFields:qe,validate:Ue,submit:Tt,scrollToField:It};return{handleSubmit:Tt,clearValidate:pt,validate:Ue,validateFields:qe,getFieldsValue:ut,updateSchema:$e,resetSchema:Qe,appendSchemaByField:et,removeSchemaByField:A,resetFields:We,setFieldsValue:nt,scrollToField:It}}function getDefaultValue(g,w,C){let x=cloneDeep(w.value[C]);return checkIsInput(g)?x||"":(!x&&g&&checkIsRangeSlider(g)&&(x=[0,0]),!x&&g&&g.component==="ApiTree"&&(x=[]),x)}function checkIsRangeSlider(g){if(g.component==="Slider"&&g.componentProps&&"range"in g.componentProps)return!0}function checkIsInput(g){return(g==null?void 0:g.component)&&defaultValueComponents.includes(g.component)}const key=Symbol();function createFormContext(g){return createContext(g,key)}function useAutoFocus(He){return ro(this,arguments,function*({getSchema:g,getProps:w,formElRef:C,isInitedDefault:x}){watchEffect(()=>ro(this,null,function*(){if(unref(x)||!unref(w).autoFocusFirstItem)return;yield nextTick();const Ge=unref(g),Xe=unref(C),ze=Xe==null?void 0:Xe.$el;if(!Xe||!ze||!Ge||Ge.length===0)return;const We=Ge[0];if(!We.component||!We.component.includes("Input"))return;const at=ze.querySelector(".ant-row:first-child input");at&&(at==null||at.focus())}))})}const basicProps={model:{type:Object,default:()=>({})},labelWidth:{type:[Number,String],default:0},fieldMapToTime:{type:Array,default:()=>[]},compact:propTypes.bool,schemas:{type:Array,default:()=>[]},mergeDynamicData:{type:Object,default:null},baseRowStyle:{type:Object},baseColProps:{type:Object},autoSetPlaceHolder:propTypes.bool.def(!0),autoSubmitOnEnter:propTypes.bool.def(!1),submitOnReset:propTypes.bool,submitOnChange:propTypes.bool,size:propTypes.oneOf(["default","small","large"]).def("default"),disabled:propTypes.bool,emptySpan:{type:[Number,Object],default:0},showAdvancedButton:propTypes.bool,transformDateFunc:{type:Function,default:g=>{var w,C;return(C=(w=g==null?void 0:g.format)==null?void 0:w.call(g,"YYYY-MM-DD HH:mm:ss"))!=null?C:g}},rulesMessageJoinLabel:propTypes.bool.def(!0),autoAdvancedLine:propTypes.number.def(3),alwaysShowLines:propTypes.number.def(1),showActionButtonGroup:propTypes.bool.def(!0),actionColOptions:Object,showResetButton:propTypes.bool.def(!0),autoFocusFirstItem:propTypes.bool,resetButtonOptions:Object,showSubmitButton:propTypes.bool.def(!0),submitButtonOptions:Object,resetFunc:Function,submitFunc:Function,hideRequiredMark:propTypes.bool,labelCol:Object,layout:propTypes.oneOf(["horizontal","vertical","inline"]).def("horizontal"),tableAction:{type:Object},wrapperCol:Object,colon:propTypes.bool,labelAlign:propTypes.string,rowProps:Object},_sfc_main=defineComponent({name:"BasicForm",__name:"BasicForm",props:basicProps,emits:["advanced-change","reset","submit","register","field-value-change"],setup(g,{expose:w,emit:C}){const x=g,He=C,Ge=useAttrs$1(),Xe=reactive({}),ze=useModalContext(),We=reactive({isAdvanced:!0,hideAdvanceBtn:!1,isLoad:!1,actionSpan:6}),at=ref({}),nt=ref(!1),A=ref(),Te=ref(null),et=ref(null),{prefixCls:Qe}=useDesign("basic-form"),$e=computed(()=>ca(ca({},x),unref(A))),Ye=computed(()=>[Qe,{[`${Qe}--compact`]:unref($e).compact}]),ut=computed(()=>{const{baseRowStyle:Mt={},rowProps:Lt}=unref($e);return ca({style:Mt},Lt)}),ct=computed(()=>ca(ca(ca({},Ge),x),unref($e))),qe=computed(()=>{const Mt=unref(Te)||unref($e).schemas;for(const Lt of Mt){const{defaultValue:qt,component:an,componentProps:ot,isHandleDateDefaultValue:En=!0}=Lt;if(En&&qt&&an&&dateItemType.includes(an)){const Pt=ot?ot.valueFormat:null;if(!Array.isArray(qt))Lt.defaultValue=Pt?dateUtil(qt).format(Pt):dateUtil(qt);else{const xt=[];qt.forEach(vn=>{xt.push(Pt?dateUtil(vn).format(Pt):dateUtil(vn))}),Lt.defaultValue=xt}}}return unref($e).showAdvancedButton?cloneDeep(Mt.filter(Lt=>Lt.component!=="Divider")):cloneDeep(Mt)}),{fieldsIsAdvancedMap:lt}=useAdvanced({advanceState:We,emit:He,getProps:$e,getSchema:qe,formModel:Xe,defaultValueRef:at}),{handleFormValues:Ue,initDefault:pt}=useFormValues({getProps:$e,defaultValueRef:at,getSchema:qe,formModel:Xe});useAutoFocus({getSchema:qe,getProps:$e,isInitedDefault:nt,formElRef:et});const{handleSubmit:It,setFieldsValue:Tt,clearValidate:mt,validate:vt,validateFields:Et,getFieldsValue:st,updateSchema:At,resetSchema:nn,appendSchemaByField:wn,removeSchemaByField:Ht,resetFields:Sn,scrollToField:lr}=useFormEvents({emit:He,getProps:$e,formModel:Xe,getSchema:qe,defaultValueRef:at,formElRef:et,schemaRef:Te,handleFormValues:Ue});createFormContext({resetAction:Sn,submitAction:It}),watch(()=>unref($e).model,()=>{const{model:Mt}=unref($e);Mt&&Tt(Mt)},{immediate:!0}),watch(()=>x.schemas,Mt=>{nn(Mt!=null?Mt:[])}),watch(()=>qe.value,Mt=>{nextTick(()=>{var Lt;(Lt=ze==null?void 0:ze.redoModalHeight)==null||Lt.call(ze)}),!unref(nt)&&Mt!=null&&Mt.length&&(pt(),nt.value=!0)}),watch(()=>Xe,useDebounceFn(()=>{unref($e).submitOnChange&&It()},300),{deep:!0});function Ve(Mt){return ro(this,null,function*(){A.value=deepMerge(unref(A)||{},Mt)})}function jt(Mt,Lt,qt){Xe[Mt]=Lt,He("field-value-change",Mt,Lt),qt&&qt.itemProps&&!qt.itemProps.autoLink&&Et([Mt]).catch(an=>{})}function cn(Mt){const{autoSubmitOnEnter:Lt}=unref($e);if(Lt&&Mt.key==="Enter"&&Mt.target&&Mt.target instanceof HTMLElement){const qt=Mt.target;qt&&qt.tagName&&qt.tagName.toUpperCase()=="INPUT"&&It()}}const yt={getFieldsValue:st,setFieldsValue:Tt,resetFields:Sn,updateSchema:At,resetSchema:nn,setProps:Ve,removeSchemaByField:Ht,appendSchemaByField:wn,clearValidate:mt,validateFields:Et,validate:vt,submit:It,scrollToField:lr};return w(ca({},yt)),onMounted(()=>{pt(),He("register",yt)}),(Mt,Lt)=>(openBlock(),createBlock(unref(Form),mergeProps(ct.value,{class:Ye.value,ref_key:"formElRef",ref:et,model:Xe,onKeypress:withKeys(cn,["enter"])}),{default:withCtx(()=>[createVNode(unref(Row),normalizeProps(guardReactiveProps(ut.value)),{default:withCtx(()=>[renderSlot(Mt.$slots,"formHeader"),(openBlock(!0),createElementBlock(Fragment,null,renderList(qe.value,qt=>(openBlock(),createBlock(_sfc_main$1,{key:qt.field,isAdvanced:unref(lt)[qt.field],tableAction:Mt.tableAction,formActionType:yt,schema:qt,formProps:$e.value,allDefaultValues:at.value,formModel:Xe,setFormModel:jt},createSlots({_:2},[renderList(Object.keys(Mt.$slots),an=>({name:an,fn:withCtx(ot=>[renderSlot(Mt.$slots,an,mergeProps({ref_for:!0},ot||{}))])}))]),1032,["isAdvanced","tableAction","schema","formProps","allDefaultValues","formModel"]))),128)),renderSlot(Mt.$slots,"formFooter")]),_:3},16),createVNode(unref(Space),{class:"m-2 w-full justify-end p-r-5"},{default:withCtx(()=>[$e.value.showSubmitButton?(openBlock(),createBlock(unref(Button),{key:0,type:"primary",onClick:unref(It)},{default:withCtx(()=>{var qt;return[createTextVNode(toDisplayString(((qt=$e.value.submitButtonOptions)==null?void 0:qt.text)||"查询"),1)]}),_:1},8,["onClick"])):createCommentVNode("",!0),$e.value.showResetButton?(openBlock(),createBlock(unref(Button),{key:1,onClick:unref(Sn)},{default:withCtx(()=>{var qt;return[createTextVNode(toDisplayString(((qt=$e.value.resetButtonOptions)==null?void 0:qt.text)||"重置"),1)]}),_:1},8,["onClick"])):createCommentVNode("",!0)]),_:1})]),_:3},16,["class","model"]))}});function useForm(g){const w=ref(null),C=ref(!1);function x(){return ro(this,null,function*(){const Xe=unref(w);return Xe||error("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),yield nextTick(),Xe})}function He(Xe){onUnmounted(()=>{w.value=null,C.value=null}),!(unref(C)&&isProdMode()&&Xe===unref(w))&&(w.value=Xe,C.value=!0,watch(()=>g,()=>{g&&Xe.setProps(getDynamicProps(g))},{immediate:!0,deep:!0}))}return[He,{scrollToField:(Xe,ze)=>ro(this,null,function*(){(yield x()).scrollToField(Xe,ze)}),setProps:Xe=>ro(this,null,function*(){(yield x()).setProps(Xe)}),updateSchema:Xe=>ro(this,null,function*(){(yield x()).updateSchema(Xe)}),resetSchema:Xe=>ro(this,null,function*(){(yield x()).resetSchema(Xe)}),clearValidate:Xe=>ro(this,null,function*(){(yield x()).clearValidate(Xe)}),resetFields:()=>ro(this,null,function*(){x().then(Xe=>ro(this,null,function*(){yield Xe.resetFields()}))}),removeSchemaByField:Xe=>ro(this,null,function*(){var ze;(ze=unref(w))==null||ze.removeSchemaByField(Xe)}),getFieldsValue:()=>{var Xe;return(Xe=unref(w))==null?void 0:Xe.getFieldsValue()},setFieldsValue:Xe=>ro(this,null,function*(){(yield x()).setFieldsValue(Xe)}),appendSchemaByField:(Xe,ze,We)=>ro(this,null,function*(){(yield x()).appendSchemaByField(Xe,ze,We)}),submit:()=>ro(this,null,function*(){return(yield x()).submit()}),validate:Xe=>ro(this,null,function*(){return(yield x()).validate(Xe)}),validateFields:Xe=>ro(this,null,function*(){return(yield x()).validateFields(Xe)})}]}export{_sfc_main as _,useTable as a,_sfc_main$y as b,_sfc_main$c as c,getAnnoAddForm as d,getAnnoEditForm as e,getAnnoDescriptionForm as f,getAnnoSearchForm as g,getColumns as h,_sfc_main$q as i,_sfc_main$F as j,componentMap as k,add as l,_sfc_main$1 as m,useForm as u};
