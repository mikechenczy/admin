var b=Object.defineProperty,J=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var u=(e,o,t)=>o in e?b(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,m=(e,o)=>{for(var t in o||(o={}))k.call(o,t)&&u(e,t,o[t]);if(p)for(var t of p(o))h.call(o,t)&&u(e,t,o[t]);return e},f=(e,o)=>J(e,x(o));import{C as $}from"./index-CIFLoaXD.js";import{c as g}from"./copyTextToClipboard-C3IjWpoG.js";import{ay as w,_ as M}from"./index.js";import{M as B}from"./typing-BOKmFwfh.js";import{d as D,r as F,I as N,a7 as C,Z as A,_ as I,$ as v,k as r,a6 as y,G as _}from"./vue-C-fXn5x4.js";import"./antd-Dxxf6MN8.js";const O=D({name:"PreviewCode",components:{CodeEditor:$},props:{fileFormat:{type:String,default:"json"},editorJson:{type:String,default:""}},setup(e){const o=F({visible:!1}),t=(a,n=`file.${e.fileFormat}`)=>{let l="data:text/csv;charset=utf-8,";l+=a;const E=encodeURI(l),s=document.createElement("a");s.setAttribute("href",E),s.setAttribute("download",n),s.click()},d=()=>{t(e.editorJson)},{createMessage:i}=w(),c=()=>{const a=e.editorJson;if(!a){i.warning("代码为空！");return}g(a)};return f(m({},N(o)),{exportData:t,handleCopyJson:c,handleExportJson:d,MODE:B})}}),S={class:"v-json-box"},V={class:"copy-btn-box"};function j(e,o,t,d,i,c){const a=C("CodeEditor"),n=C("a-button");return A(),I("div",null,[v("div",S,[r(a,{value:e.editorJson,ref:"myEditor",mode:e.MODE.JSON},null,8,["value","mode"])]),v("div",V,[r(n,{onClick:e.handleCopyJson,type:"primary",class:"copy-btn","data-clipboard-action":"copy","data-clipboard-text":e.editorJson},{default:y(()=>o[0]||(o[0]=[_(" 复制数据 ")])),_:1},8,["onClick","data-clipboard-text"]),r(n,{onClick:e.handleExportJson,type:"primary"},{default:y(()=>o[1]||(o[1]=[_("导出代码")])),_:1},8,["onClick"])])])}const z=M(O,[["render",j],["__scopeId","data-v-a69efe87"]]);export{z as default};
